var TheliaBlocks = (() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
  var __esm = (fn4, res) => function __init() {
    return fn4 && (res = (0, fn4[__getOwnPropNames(fn4)[0]])(fn4 = 0)), res;
  };
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };
  var __export = (target, all) => {
    for (var name in all)
      __defProp(target, name, { get: all[name], enumerable: true });
  };
  var __reExport = (target, module, copyDefault, desc) => {
    if (module && typeof module === "object" || typeof module === "function") {
      for (let key of __getOwnPropNames(module))
        if (!__hasOwnProp.call(target, key) && (copyDefault || key !== "default"))
          __defProp(target, key, { get: () => module[key], enumerable: !(desc = __getOwnPropDesc(module, key)) || desc.enumerable });
    }
    return target;
  };
  var __toESM = (module, isNodeMode) => {
    return __reExport(__markAsModule(__defProp(module != null ? __create(__getProtoOf(module)) : {}, "default", !isNodeMode && module && module.__esModule ? { get: () => module.default, enumerable: true } : { value: module, enumerable: true })), module);
  };
  var __toCommonJS = /* @__PURE__ */ ((cache) => {
    return (module, temp) => {
      return cache && cache.get(module) || (temp = __reExport(__markAsModule({}), module, 1), cache && cache.set(module, temp), temp);
    };
  })(typeof WeakMap !== "undefined" ? /* @__PURE__ */ new WeakMap() : 0);
  var __publicField = (obj, key, value) => {
    __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
    return value;
  };

  // external-global:react-dom
  var require_react_dom = __commonJS({
    "external-global:react-dom"(exports, module) {
      module.exports = ReactDOM;
    }
  });

  // external-global:react
  var require_react = __commonJS({
    "external-global:react"(exports, module) {
      module.exports = React;
    }
  });

  // ../../node_modules/axios/lib/helpers/bind.js
  var require_bind = __commonJS({
    "../../node_modules/axios/lib/helpers/bind.js"(exports, module) {
      "use strict";
      module.exports = function bind(fn4, thisArg) {
        return function wrap() {
          var args = new Array(arguments.length);
          for (var i3 = 0; i3 < args.length; i3++) {
            args[i3] = arguments[i3];
          }
          return fn4.apply(thisArg, args);
        };
      };
    }
  });

  // ../../node_modules/axios/lib/utils.js
  var require_utils = __commonJS({
    "../../node_modules/axios/lib/utils.js"(exports, module) {
      "use strict";
      var bind = require_bind();
      var toString2 = Object.prototype.toString;
      function isArray(val) {
        return Array.isArray(val);
      }
      function isUndefined(val) {
        return typeof val === "undefined";
      }
      function isBuffer(val) {
        return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor) && typeof val.constructor.isBuffer === "function" && val.constructor.isBuffer(val);
      }
      function isArrayBuffer(val) {
        return toString2.call(val) === "[object ArrayBuffer]";
      }
      function isFormData(val) {
        return toString2.call(val) === "[object FormData]";
      }
      function isArrayBufferView(val) {
        var result;
        if (typeof ArrayBuffer !== "undefined" && ArrayBuffer.isView) {
          result = ArrayBuffer.isView(val);
        } else {
          result = val && val.buffer && isArrayBuffer(val.buffer);
        }
        return result;
      }
      function isString(val) {
        return typeof val === "string";
      }
      function isNumber(val) {
        return typeof val === "number";
      }
      function isObject(val) {
        return val !== null && typeof val === "object";
      }
      function isPlainObject4(val) {
        if (toString2.call(val) !== "[object Object]") {
          return false;
        }
        var prototype = Object.getPrototypeOf(val);
        return prototype === null || prototype === Object.prototype;
      }
      function isDate2(val) {
        return toString2.call(val) === "[object Date]";
      }
      function isFile(val) {
        return toString2.call(val) === "[object File]";
      }
      function isBlob(val) {
        return toString2.call(val) === "[object Blob]";
      }
      function isFunction3(val) {
        return toString2.call(val) === "[object Function]";
      }
      function isStream(val) {
        return isObject(val) && isFunction3(val.pipe);
      }
      function isURLSearchParams(val) {
        return toString2.call(val) === "[object URLSearchParams]";
      }
      function trim(str) {
        return str.trim ? str.trim() : str.replace(/^\s+|\s+$/g, "");
      }
      function isStandardBrowserEnv() {
        if (typeof navigator !== "undefined" && (navigator.product === "ReactNative" || navigator.product === "NativeScript" || navigator.product === "NS")) {
          return false;
        }
        return typeof window !== "undefined" && typeof document !== "undefined";
      }
      function forEach(obj, fn4) {
        if (obj === null || typeof obj === "undefined") {
          return;
        }
        if (typeof obj !== "object") {
          obj = [obj];
        }
        if (isArray(obj)) {
          for (var i3 = 0, l3 = obj.length; i3 < l3; i3++) {
            fn4.call(null, obj[i3], i3, obj);
          }
        } else {
          for (var key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              fn4.call(null, obj[key], key, obj);
            }
          }
        }
      }
      function merge() {
        var result = {};
        function assignValue(val, key) {
          if (isPlainObject4(result[key]) && isPlainObject4(val)) {
            result[key] = merge(result[key], val);
          } else if (isPlainObject4(val)) {
            result[key] = merge({}, val);
          } else if (isArray(val)) {
            result[key] = val.slice();
          } else {
            result[key] = val;
          }
        }
        for (var i3 = 0, l3 = arguments.length; i3 < l3; i3++) {
          forEach(arguments[i3], assignValue);
        }
        return result;
      }
      function extend(a3, b3, thisArg) {
        forEach(b3, function assignValue(val, key) {
          if (thisArg && typeof val === "function") {
            a3[key] = bind(val, thisArg);
          } else {
            a3[key] = val;
          }
        });
        return a3;
      }
      function stripBOM(content) {
        if (content.charCodeAt(0) === 65279) {
          content = content.slice(1);
        }
        return content;
      }
      module.exports = {
        isArray,
        isArrayBuffer,
        isBuffer,
        isFormData,
        isArrayBufferView,
        isString,
        isNumber,
        isObject,
        isPlainObject: isPlainObject4,
        isUndefined,
        isDate: isDate2,
        isFile,
        isBlob,
        isFunction: isFunction3,
        isStream,
        isURLSearchParams,
        isStandardBrowserEnv,
        forEach,
        merge,
        extend,
        trim,
        stripBOM
      };
    }
  });

  // ../../node_modules/axios/lib/helpers/buildURL.js
  var require_buildURL = __commonJS({
    "../../node_modules/axios/lib/helpers/buildURL.js"(exports, module) {
      "use strict";
      var utils = require_utils();
      function encode(val) {
        return encodeURIComponent(val).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]");
      }
      module.exports = function buildURL(url, params, paramsSerializer) {
        if (!params) {
          return url;
        }
        var serializedParams;
        if (paramsSerializer) {
          serializedParams = paramsSerializer(params);
        } else if (utils.isURLSearchParams(params)) {
          serializedParams = params.toString();
        } else {
          var parts = [];
          utils.forEach(params, function serialize(val, key) {
            if (val === null || typeof val === "undefined") {
              return;
            }
            if (utils.isArray(val)) {
              key = key + "[]";
            } else {
              val = [val];
            }
            utils.forEach(val, function parseValue(v2) {
              if (utils.isDate(v2)) {
                v2 = v2.toISOString();
              } else if (utils.isObject(v2)) {
                v2 = JSON.stringify(v2);
              }
              parts.push(encode(key) + "=" + encode(v2));
            });
          });
          serializedParams = parts.join("&");
        }
        if (serializedParams) {
          var hashmarkIndex = url.indexOf("#");
          if (hashmarkIndex !== -1) {
            url = url.slice(0, hashmarkIndex);
          }
          url += (url.indexOf("?") === -1 ? "?" : "&") + serializedParams;
        }
        return url;
      };
    }
  });

  // ../../node_modules/axios/lib/core/InterceptorManager.js
  var require_InterceptorManager = __commonJS({
    "../../node_modules/axios/lib/core/InterceptorManager.js"(exports, module) {
      "use strict";
      var utils = require_utils();
      function InterceptorManager() {
        this.handlers = [];
      }
      InterceptorManager.prototype.use = function use(fulfilled, rejected, options) {
        this.handlers.push({
          fulfilled,
          rejected,
          synchronous: options ? options.synchronous : false,
          runWhen: options ? options.runWhen : null
        });
        return this.handlers.length - 1;
      };
      InterceptorManager.prototype.eject = function eject(id) {
        if (this.handlers[id]) {
          this.handlers[id] = null;
        }
      };
      InterceptorManager.prototype.forEach = function forEach(fn4) {
        utils.forEach(this.handlers, function forEachHandler(h3) {
          if (h3 !== null) {
            fn4(h3);
          }
        });
      };
      module.exports = InterceptorManager;
    }
  });

  // ../../node_modules/axios/lib/helpers/normalizeHeaderName.js
  var require_normalizeHeaderName = __commonJS({
    "../../node_modules/axios/lib/helpers/normalizeHeaderName.js"(exports, module) {
      "use strict";
      var utils = require_utils();
      module.exports = function normalizeHeaderName(headers, normalizedName) {
        utils.forEach(headers, function processHeader(value, name) {
          if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {
            headers[normalizedName] = value;
            delete headers[name];
          }
        });
      };
    }
  });

  // ../../node_modules/axios/lib/core/enhanceError.js
  var require_enhanceError = __commonJS({
    "../../node_modules/axios/lib/core/enhanceError.js"(exports, module) {
      "use strict";
      module.exports = function enhanceError(error2, config2, code, request, response) {
        error2.config = config2;
        if (code) {
          error2.code = code;
        }
        error2.request = request;
        error2.response = response;
        error2.isAxiosError = true;
        error2.toJSON = function toJSON() {
          return {
            message: this.message,
            name: this.name,
            description: this.description,
            number: this.number,
            fileName: this.fileName,
            lineNumber: this.lineNumber,
            columnNumber: this.columnNumber,
            stack: this.stack,
            config: this.config,
            code: this.code,
            status: this.response && this.response.status ? this.response.status : null
          };
        };
        return error2;
      };
    }
  });

  // ../../node_modules/axios/lib/core/createError.js
  var require_createError = __commonJS({
    "../../node_modules/axios/lib/core/createError.js"(exports, module) {
      "use strict";
      var enhanceError = require_enhanceError();
      module.exports = function createError(message, config2, code, request, response) {
        var error2 = new Error(message);
        return enhanceError(error2, config2, code, request, response);
      };
    }
  });

  // ../../node_modules/axios/lib/core/settle.js
  var require_settle = __commonJS({
    "../../node_modules/axios/lib/core/settle.js"(exports, module) {
      "use strict";
      var createError = require_createError();
      module.exports = function settle(resolve, reject, response) {
        var validateStatus = response.config.validateStatus;
        if (!response.status || !validateStatus || validateStatus(response.status)) {
          resolve(response);
        } else {
          reject(createError("Request failed with status code " + response.status, response.config, null, response.request, response));
        }
      };
    }
  });

  // ../../node_modules/axios/lib/helpers/cookies.js
  var require_cookies = __commonJS({
    "../../node_modules/axios/lib/helpers/cookies.js"(exports, module) {
      "use strict";
      var utils = require_utils();
      module.exports = utils.isStandardBrowserEnv() ? function standardBrowserEnv() {
        return {
          write: function write2(name, value, expires, path, domain, secure) {
            var cookie = [];
            cookie.push(name + "=" + encodeURIComponent(value));
            if (utils.isNumber(expires)) {
              cookie.push("expires=" + new Date(expires).toGMTString());
            }
            if (utils.isString(path)) {
              cookie.push("path=" + path);
            }
            if (utils.isString(domain)) {
              cookie.push("domain=" + domain);
            }
            if (secure === true) {
              cookie.push("secure");
            }
            document.cookie = cookie.join("; ");
          },
          read: function read2(name) {
            var match2 = document.cookie.match(new RegExp("(^|;\\s*)(" + name + ")=([^;]*)"));
            return match2 ? decodeURIComponent(match2[3]) : null;
          },
          remove: function remove(name) {
            this.write(name, "", Date.now() - 864e5);
          }
        };
      }() : function nonStandardBrowserEnv() {
        return {
          write: function write2() {
          },
          read: function read2() {
            return null;
          },
          remove: function remove() {
          }
        };
      }();
    }
  });

  // ../../node_modules/axios/lib/helpers/isAbsoluteURL.js
  var require_isAbsoluteURL = __commonJS({
    "../../node_modules/axios/lib/helpers/isAbsoluteURL.js"(exports, module) {
      "use strict";
      module.exports = function isAbsoluteURL(url) {
        return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(url);
      };
    }
  });

  // ../../node_modules/axios/lib/helpers/combineURLs.js
  var require_combineURLs = __commonJS({
    "../../node_modules/axios/lib/helpers/combineURLs.js"(exports, module) {
      "use strict";
      module.exports = function combineURLs(baseURL, relativeURL) {
        return relativeURL ? baseURL.replace(/\/+$/, "") + "/" + relativeURL.replace(/^\/+/, "") : baseURL;
      };
    }
  });

  // ../../node_modules/axios/lib/core/buildFullPath.js
  var require_buildFullPath = __commonJS({
    "../../node_modules/axios/lib/core/buildFullPath.js"(exports, module) {
      "use strict";
      var isAbsoluteURL = require_isAbsoluteURL();
      var combineURLs = require_combineURLs();
      module.exports = function buildFullPath(baseURL, requestedURL) {
        if (baseURL && !isAbsoluteURL(requestedURL)) {
          return combineURLs(baseURL, requestedURL);
        }
        return requestedURL;
      };
    }
  });

  // ../../node_modules/axios/lib/helpers/parseHeaders.js
  var require_parseHeaders = __commonJS({
    "../../node_modules/axios/lib/helpers/parseHeaders.js"(exports, module) {
      "use strict";
      var utils = require_utils();
      var ignoreDuplicateOf = [
        "age",
        "authorization",
        "content-length",
        "content-type",
        "etag",
        "expires",
        "from",
        "host",
        "if-modified-since",
        "if-unmodified-since",
        "last-modified",
        "location",
        "max-forwards",
        "proxy-authorization",
        "referer",
        "retry-after",
        "user-agent"
      ];
      module.exports = function parseHeaders(headers) {
        var parsed = {};
        var key;
        var val;
        var i3;
        if (!headers) {
          return parsed;
        }
        utils.forEach(headers.split("\n"), function parser(line) {
          i3 = line.indexOf(":");
          key = utils.trim(line.substr(0, i3)).toLowerCase();
          val = utils.trim(line.substr(i3 + 1));
          if (key) {
            if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {
              return;
            }
            if (key === "set-cookie") {
              parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);
            } else {
              parsed[key] = parsed[key] ? parsed[key] + ", " + val : val;
            }
          }
        });
        return parsed;
      };
    }
  });

  // ../../node_modules/axios/lib/helpers/isURLSameOrigin.js
  var require_isURLSameOrigin = __commonJS({
    "../../node_modules/axios/lib/helpers/isURLSameOrigin.js"(exports, module) {
      "use strict";
      var utils = require_utils();
      module.exports = utils.isStandardBrowserEnv() ? function standardBrowserEnv() {
        var msie = /(msie|trident)/i.test(navigator.userAgent);
        var urlParsingNode = document.createElement("a");
        var originURL;
        function resolveURL(url) {
          var href = url;
          if (msie) {
            urlParsingNode.setAttribute("href", href);
            href = urlParsingNode.href;
          }
          urlParsingNode.setAttribute("href", href);
          return {
            href: urlParsingNode.href,
            protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, "") : "",
            host: urlParsingNode.host,
            search: urlParsingNode.search ? urlParsingNode.search.replace(/^\?/, "") : "",
            hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, "") : "",
            hostname: urlParsingNode.hostname,
            port: urlParsingNode.port,
            pathname: urlParsingNode.pathname.charAt(0) === "/" ? urlParsingNode.pathname : "/" + urlParsingNode.pathname
          };
        }
        originURL = resolveURL(window.location.href);
        return function isURLSameOrigin(requestURL) {
          var parsed = utils.isString(requestURL) ? resolveURL(requestURL) : requestURL;
          return parsed.protocol === originURL.protocol && parsed.host === originURL.host;
        };
      }() : function nonStandardBrowserEnv() {
        return function isURLSameOrigin() {
          return true;
        };
      }();
    }
  });

  // ../../node_modules/axios/lib/cancel/Cancel.js
  var require_Cancel = __commonJS({
    "../../node_modules/axios/lib/cancel/Cancel.js"(exports, module) {
      "use strict";
      function Cancel(message) {
        this.message = message;
      }
      Cancel.prototype.toString = function toString2() {
        return "Cancel" + (this.message ? ": " + this.message : "");
      };
      Cancel.prototype.__CANCEL__ = true;
      module.exports = Cancel;
    }
  });

  // ../../node_modules/axios/lib/adapters/xhr.js
  var require_xhr = __commonJS({
    "../../node_modules/axios/lib/adapters/xhr.js"(exports, module) {
      "use strict";
      var utils = require_utils();
      var settle = require_settle();
      var cookies = require_cookies();
      var buildURL = require_buildURL();
      var buildFullPath = require_buildFullPath();
      var parseHeaders = require_parseHeaders();
      var isURLSameOrigin = require_isURLSameOrigin();
      var createError = require_createError();
      var defaults2 = require_defaults();
      var Cancel = require_Cancel();
      module.exports = function xhrAdapter(config2) {
        return new Promise(function dispatchXhrRequest(resolve, reject) {
          var requestData = config2.data;
          var requestHeaders = config2.headers;
          var responseType = config2.responseType;
          var onCanceled;
          function done() {
            if (config2.cancelToken) {
              config2.cancelToken.unsubscribe(onCanceled);
            }
            if (config2.signal) {
              config2.signal.removeEventListener("abort", onCanceled);
            }
          }
          if (utils.isFormData(requestData)) {
            delete requestHeaders["Content-Type"];
          }
          var request = new XMLHttpRequest();
          if (config2.auth) {
            var username = config2.auth.username || "";
            var password = config2.auth.password ? unescape(encodeURIComponent(config2.auth.password)) : "";
            requestHeaders.Authorization = "Basic " + btoa(username + ":" + password);
          }
          var fullPath = buildFullPath(config2.baseURL, config2.url);
          request.open(config2.method.toUpperCase(), buildURL(fullPath, config2.params, config2.paramsSerializer), true);
          request.timeout = config2.timeout;
          function onloadend() {
            if (!request) {
              return;
            }
            var responseHeaders = "getAllResponseHeaders" in request ? parseHeaders(request.getAllResponseHeaders()) : null;
            var responseData = !responseType || responseType === "text" || responseType === "json" ? request.responseText : request.response;
            var response = {
              data: responseData,
              status: request.status,
              statusText: request.statusText,
              headers: responseHeaders,
              config: config2,
              request
            };
            settle(function _resolve(value) {
              resolve(value);
              done();
            }, function _reject(err) {
              reject(err);
              done();
            }, response);
            request = null;
          }
          if ("onloadend" in request) {
            request.onloadend = onloadend;
          } else {
            request.onreadystatechange = function handleLoad() {
              if (!request || request.readyState !== 4) {
                return;
              }
              if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf("file:") === 0)) {
                return;
              }
              setTimeout(onloadend);
            };
          }
          request.onabort = function handleAbort() {
            if (!request) {
              return;
            }
            reject(createError("Request aborted", config2, "ECONNABORTED", request));
            request = null;
          };
          request.onerror = function handleError() {
            reject(createError("Network Error", config2, null, request));
            request = null;
          };
          request.ontimeout = function handleTimeout() {
            var timeoutErrorMessage = config2.timeout ? "timeout of " + config2.timeout + "ms exceeded" : "timeout exceeded";
            var transitional = config2.transitional || defaults2.transitional;
            if (config2.timeoutErrorMessage) {
              timeoutErrorMessage = config2.timeoutErrorMessage;
            }
            reject(createError(timeoutErrorMessage, config2, transitional.clarifyTimeoutError ? "ETIMEDOUT" : "ECONNABORTED", request));
            request = null;
          };
          if (utils.isStandardBrowserEnv()) {
            var xsrfValue = (config2.withCredentials || isURLSameOrigin(fullPath)) && config2.xsrfCookieName ? cookies.read(config2.xsrfCookieName) : void 0;
            if (xsrfValue) {
              requestHeaders[config2.xsrfHeaderName] = xsrfValue;
            }
          }
          if ("setRequestHeader" in request) {
            utils.forEach(requestHeaders, function setRequestHeader(val, key) {
              if (typeof requestData === "undefined" && key.toLowerCase() === "content-type") {
                delete requestHeaders[key];
              } else {
                request.setRequestHeader(key, val);
              }
            });
          }
          if (!utils.isUndefined(config2.withCredentials)) {
            request.withCredentials = !!config2.withCredentials;
          }
          if (responseType && responseType !== "json") {
            request.responseType = config2.responseType;
          }
          if (typeof config2.onDownloadProgress === "function") {
            request.addEventListener("progress", config2.onDownloadProgress);
          }
          if (typeof config2.onUploadProgress === "function" && request.upload) {
            request.upload.addEventListener("progress", config2.onUploadProgress);
          }
          if (config2.cancelToken || config2.signal) {
            onCanceled = function(cancel) {
              if (!request) {
                return;
              }
              reject(!cancel || cancel && cancel.type ? new Cancel("canceled") : cancel);
              request.abort();
              request = null;
            };
            config2.cancelToken && config2.cancelToken.subscribe(onCanceled);
            if (config2.signal) {
              config2.signal.aborted ? onCanceled() : config2.signal.addEventListener("abort", onCanceled);
            }
          }
          if (!requestData) {
            requestData = null;
          }
          request.send(requestData);
        });
      };
    }
  });

  // ../../node_modules/axios/lib/defaults.js
  var require_defaults = __commonJS({
    "../../node_modules/axios/lib/defaults.js"(exports, module) {
      "use strict";
      var utils = require_utils();
      var normalizeHeaderName = require_normalizeHeaderName();
      var enhanceError = require_enhanceError();
      var DEFAULT_CONTENT_TYPE = {
        "Content-Type": "application/x-www-form-urlencoded"
      };
      function setContentTypeIfUnset(headers, value) {
        if (!utils.isUndefined(headers) && utils.isUndefined(headers["Content-Type"])) {
          headers["Content-Type"] = value;
        }
      }
      function getDefaultAdapter() {
        var adapter;
        if (typeof XMLHttpRequest !== "undefined") {
          adapter = require_xhr();
        } else if (typeof process !== "undefined" && Object.prototype.toString.call(process) === "[object process]") {
          adapter = require_xhr();
        }
        return adapter;
      }
      function stringifySafely(rawValue, parser, encoder) {
        if (utils.isString(rawValue)) {
          try {
            (parser || JSON.parse)(rawValue);
            return utils.trim(rawValue);
          } catch (e2) {
            if (e2.name !== "SyntaxError") {
              throw e2;
            }
          }
        }
        return (encoder || JSON.stringify)(rawValue);
      }
      var defaults2 = {
        transitional: {
          silentJSONParsing: true,
          forcedJSONParsing: true,
          clarifyTimeoutError: false
        },
        adapter: getDefaultAdapter(),
        transformRequest: [function transformRequest(data, headers) {
          normalizeHeaderName(headers, "Accept");
          normalizeHeaderName(headers, "Content-Type");
          if (utils.isFormData(data) || utils.isArrayBuffer(data) || utils.isBuffer(data) || utils.isStream(data) || utils.isFile(data) || utils.isBlob(data)) {
            return data;
          }
          if (utils.isArrayBufferView(data)) {
            return data.buffer;
          }
          if (utils.isURLSearchParams(data)) {
            setContentTypeIfUnset(headers, "application/x-www-form-urlencoded;charset=utf-8");
            return data.toString();
          }
          if (utils.isObject(data) || headers && headers["Content-Type"] === "application/json") {
            setContentTypeIfUnset(headers, "application/json");
            return stringifySafely(data);
          }
          return data;
        }],
        transformResponse: [function transformResponse(data) {
          var transitional = this.transitional || defaults2.transitional;
          var silentJSONParsing = transitional && transitional.silentJSONParsing;
          var forcedJSONParsing = transitional && transitional.forcedJSONParsing;
          var strictJSONParsing = !silentJSONParsing && this.responseType === "json";
          if (strictJSONParsing || forcedJSONParsing && utils.isString(data) && data.length) {
            try {
              return JSON.parse(data);
            } catch (e2) {
              if (strictJSONParsing) {
                if (e2.name === "SyntaxError") {
                  throw enhanceError(e2, this, "E_JSON_PARSE");
                }
                throw e2;
              }
            }
          }
          return data;
        }],
        timeout: 0,
        xsrfCookieName: "XSRF-TOKEN",
        xsrfHeaderName: "X-XSRF-TOKEN",
        maxContentLength: -1,
        maxBodyLength: -1,
        validateStatus: function validateStatus(status) {
          return status >= 200 && status < 300;
        },
        headers: {
          common: {
            "Accept": "application/json, text/plain, */*"
          }
        }
      };
      utils.forEach(["delete", "get", "head"], function forEachMethodNoData(method) {
        defaults2.headers[method] = {};
      });
      utils.forEach(["post", "put", "patch"], function forEachMethodWithData(method) {
        defaults2.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);
      });
      module.exports = defaults2;
    }
  });

  // ../../node_modules/axios/lib/core/transformData.js
  var require_transformData = __commonJS({
    "../../node_modules/axios/lib/core/transformData.js"(exports, module) {
      "use strict";
      var utils = require_utils();
      var defaults2 = require_defaults();
      module.exports = function transformData(data, headers, fns) {
        var context = this || defaults2;
        utils.forEach(fns, function transform(fn4) {
          data = fn4.call(context, data, headers);
        });
        return data;
      };
    }
  });

  // ../../node_modules/axios/lib/cancel/isCancel.js
  var require_isCancel = __commonJS({
    "../../node_modules/axios/lib/cancel/isCancel.js"(exports, module) {
      "use strict";
      module.exports = function isCancel(value) {
        return !!(value && value.__CANCEL__);
      };
    }
  });

  // ../../node_modules/axios/lib/core/dispatchRequest.js
  var require_dispatchRequest = __commonJS({
    "../../node_modules/axios/lib/core/dispatchRequest.js"(exports, module) {
      "use strict";
      var utils = require_utils();
      var transformData = require_transformData();
      var isCancel = require_isCancel();
      var defaults2 = require_defaults();
      var Cancel = require_Cancel();
      function throwIfCancellationRequested(config2) {
        if (config2.cancelToken) {
          config2.cancelToken.throwIfRequested();
        }
        if (config2.signal && config2.signal.aborted) {
          throw new Cancel("canceled");
        }
      }
      module.exports = function dispatchRequest(config2) {
        throwIfCancellationRequested(config2);
        config2.headers = config2.headers || {};
        config2.data = transformData.call(config2, config2.data, config2.headers, config2.transformRequest);
        config2.headers = utils.merge(config2.headers.common || {}, config2.headers[config2.method] || {}, config2.headers);
        utils.forEach(["delete", "get", "head", "post", "put", "patch", "common"], function cleanHeaderConfig(method) {
          delete config2.headers[method];
        });
        var adapter = config2.adapter || defaults2.adapter;
        return adapter(config2).then(function onAdapterResolution(response) {
          throwIfCancellationRequested(config2);
          response.data = transformData.call(config2, response.data, response.headers, config2.transformResponse);
          return response;
        }, function onAdapterRejection(reason) {
          if (!isCancel(reason)) {
            throwIfCancellationRequested(config2);
            if (reason && reason.response) {
              reason.response.data = transformData.call(config2, reason.response.data, reason.response.headers, config2.transformResponse);
            }
          }
          return Promise.reject(reason);
        });
      };
    }
  });

  // ../../node_modules/axios/lib/core/mergeConfig.js
  var require_mergeConfig = __commonJS({
    "../../node_modules/axios/lib/core/mergeConfig.js"(exports, module) {
      "use strict";
      var utils = require_utils();
      module.exports = function mergeConfig(config1, config2) {
        config2 = config2 || {};
        var config3 = {};
        function getMergedValue(target, source) {
          if (utils.isPlainObject(target) && utils.isPlainObject(source)) {
            return utils.merge(target, source);
          } else if (utils.isPlainObject(source)) {
            return utils.merge({}, source);
          } else if (utils.isArray(source)) {
            return source.slice();
          }
          return source;
        }
        function mergeDeepProperties(prop) {
          if (!utils.isUndefined(config2[prop])) {
            return getMergedValue(config1[prop], config2[prop]);
          } else if (!utils.isUndefined(config1[prop])) {
            return getMergedValue(void 0, config1[prop]);
          }
        }
        function valueFromConfig2(prop) {
          if (!utils.isUndefined(config2[prop])) {
            return getMergedValue(void 0, config2[prop]);
          }
        }
        function defaultToConfig2(prop) {
          if (!utils.isUndefined(config2[prop])) {
            return getMergedValue(void 0, config2[prop]);
          } else if (!utils.isUndefined(config1[prop])) {
            return getMergedValue(void 0, config1[prop]);
          }
        }
        function mergeDirectKeys(prop) {
          if (prop in config2) {
            return getMergedValue(config1[prop], config2[prop]);
          } else if (prop in config1) {
            return getMergedValue(void 0, config1[prop]);
          }
        }
        var mergeMap = {
          "url": valueFromConfig2,
          "method": valueFromConfig2,
          "data": valueFromConfig2,
          "baseURL": defaultToConfig2,
          "transformRequest": defaultToConfig2,
          "transformResponse": defaultToConfig2,
          "paramsSerializer": defaultToConfig2,
          "timeout": defaultToConfig2,
          "timeoutMessage": defaultToConfig2,
          "withCredentials": defaultToConfig2,
          "adapter": defaultToConfig2,
          "responseType": defaultToConfig2,
          "xsrfCookieName": defaultToConfig2,
          "xsrfHeaderName": defaultToConfig2,
          "onUploadProgress": defaultToConfig2,
          "onDownloadProgress": defaultToConfig2,
          "decompress": defaultToConfig2,
          "maxContentLength": defaultToConfig2,
          "maxBodyLength": defaultToConfig2,
          "transport": defaultToConfig2,
          "httpAgent": defaultToConfig2,
          "httpsAgent": defaultToConfig2,
          "cancelToken": defaultToConfig2,
          "socketPath": defaultToConfig2,
          "responseEncoding": defaultToConfig2,
          "validateStatus": mergeDirectKeys
        };
        utils.forEach(Object.keys(config1).concat(Object.keys(config2)), function computeConfigValue(prop) {
          var merge = mergeMap[prop] || mergeDeepProperties;
          var configValue = merge(prop);
          utils.isUndefined(configValue) && merge !== mergeDirectKeys || (config3[prop] = configValue);
        });
        return config3;
      };
    }
  });

  // ../../node_modules/axios/lib/env/data.js
  var require_data = __commonJS({
    "../../node_modules/axios/lib/env/data.js"(exports, module) {
      module.exports = {
        "version": "0.25.0"
      };
    }
  });

  // ../../node_modules/axios/lib/helpers/validator.js
  var require_validator = __commonJS({
    "../../node_modules/axios/lib/helpers/validator.js"(exports, module) {
      "use strict";
      var VERSION = require_data().version;
      var validators = {};
      ["object", "boolean", "number", "function", "string", "symbol"].forEach(function(type, i3) {
        validators[type] = function validator(thing) {
          return typeof thing === type || "a" + (i3 < 1 ? "n " : " ") + type;
        };
      });
      var deprecatedWarnings = {};
      validators.transitional = function transitional(validator, version, message) {
        function formatMessage(opt, desc) {
          return "[Axios v" + VERSION + "] Transitional option '" + opt + "'" + desc + (message ? ". " + message : "");
        }
        return function(value, opt, opts) {
          if (validator === false) {
            throw new Error(formatMessage(opt, " has been removed" + (version ? " in " + version : "")));
          }
          if (version && !deprecatedWarnings[opt]) {
            deprecatedWarnings[opt] = true;
            console.warn(formatMessage(opt, " has been deprecated since v" + version + " and will be removed in the near future"));
          }
          return validator ? validator(value, opt, opts) : true;
        };
      };
      function assertOptions(options, schema, allowUnknown) {
        if (typeof options !== "object") {
          throw new TypeError("options must be an object");
        }
        var keys = Object.keys(options);
        var i3 = keys.length;
        while (i3-- > 0) {
          var opt = keys[i3];
          var validator = schema[opt];
          if (validator) {
            var value = options[opt];
            var result = value === void 0 || validator(value, opt, options);
            if (result !== true) {
              throw new TypeError("option " + opt + " must be " + result);
            }
            continue;
          }
          if (allowUnknown !== true) {
            throw Error("Unknown option " + opt);
          }
        }
      }
      module.exports = {
        assertOptions,
        validators
      };
    }
  });

  // ../../node_modules/axios/lib/core/Axios.js
  var require_Axios = __commonJS({
    "../../node_modules/axios/lib/core/Axios.js"(exports, module) {
      "use strict";
      var utils = require_utils();
      var buildURL = require_buildURL();
      var InterceptorManager = require_InterceptorManager();
      var dispatchRequest = require_dispatchRequest();
      var mergeConfig = require_mergeConfig();
      var validator = require_validator();
      var validators = validator.validators;
      function Axios(instanceConfig) {
        this.defaults = instanceConfig;
        this.interceptors = {
          request: new InterceptorManager(),
          response: new InterceptorManager()
        };
      }
      Axios.prototype.request = function request(configOrUrl, config2) {
        if (typeof configOrUrl === "string") {
          config2 = config2 || {};
          config2.url = configOrUrl;
        } else {
          config2 = configOrUrl || {};
        }
        if (!config2.url) {
          throw new Error("Provided config url is not valid");
        }
        config2 = mergeConfig(this.defaults, config2);
        if (config2.method) {
          config2.method = config2.method.toLowerCase();
        } else if (this.defaults.method) {
          config2.method = this.defaults.method.toLowerCase();
        } else {
          config2.method = "get";
        }
        var transitional = config2.transitional;
        if (transitional !== void 0) {
          validator.assertOptions(transitional, {
            silentJSONParsing: validators.transitional(validators.boolean),
            forcedJSONParsing: validators.transitional(validators.boolean),
            clarifyTimeoutError: validators.transitional(validators.boolean)
          }, false);
        }
        var requestInterceptorChain = [];
        var synchronousRequestInterceptors = true;
        this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {
          if (typeof interceptor.runWhen === "function" && interceptor.runWhen(config2) === false) {
            return;
          }
          synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;
          requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);
        });
        var responseInterceptorChain = [];
        this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {
          responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);
        });
        var promise;
        if (!synchronousRequestInterceptors) {
          var chain = [dispatchRequest, void 0];
          Array.prototype.unshift.apply(chain, requestInterceptorChain);
          chain = chain.concat(responseInterceptorChain);
          promise = Promise.resolve(config2);
          while (chain.length) {
            promise = promise.then(chain.shift(), chain.shift());
          }
          return promise;
        }
        var newConfig = config2;
        while (requestInterceptorChain.length) {
          var onFulfilled = requestInterceptorChain.shift();
          var onRejected = requestInterceptorChain.shift();
          try {
            newConfig = onFulfilled(newConfig);
          } catch (error2) {
            onRejected(error2);
            break;
          }
        }
        try {
          promise = dispatchRequest(newConfig);
        } catch (error2) {
          return Promise.reject(error2);
        }
        while (responseInterceptorChain.length) {
          promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());
        }
        return promise;
      };
      Axios.prototype.getUri = function getUri(config2) {
        if (!config2.url) {
          throw new Error("Provided config url is not valid");
        }
        config2 = mergeConfig(this.defaults, config2);
        return buildURL(config2.url, config2.params, config2.paramsSerializer).replace(/^\?/, "");
      };
      utils.forEach(["delete", "get", "head", "options"], function forEachMethodNoData(method) {
        Axios.prototype[method] = function(url, config2) {
          return this.request(mergeConfig(config2 || {}, {
            method,
            url,
            data: (config2 || {}).data
          }));
        };
      });
      utils.forEach(["post", "put", "patch"], function forEachMethodWithData(method) {
        Axios.prototype[method] = function(url, data, config2) {
          return this.request(mergeConfig(config2 || {}, {
            method,
            url,
            data
          }));
        };
      });
      module.exports = Axios;
    }
  });

  // ../../node_modules/axios/lib/cancel/CancelToken.js
  var require_CancelToken = __commonJS({
    "../../node_modules/axios/lib/cancel/CancelToken.js"(exports, module) {
      "use strict";
      var Cancel = require_Cancel();
      function CancelToken(executor) {
        if (typeof executor !== "function") {
          throw new TypeError("executor must be a function.");
        }
        var resolvePromise;
        this.promise = new Promise(function promiseExecutor(resolve) {
          resolvePromise = resolve;
        });
        var token = this;
        this.promise.then(function(cancel) {
          if (!token._listeners)
            return;
          var i3;
          var l3 = token._listeners.length;
          for (i3 = 0; i3 < l3; i3++) {
            token._listeners[i3](cancel);
          }
          token._listeners = null;
        });
        this.promise.then = function(onfulfilled) {
          var _resolve;
          var promise = new Promise(function(resolve) {
            token.subscribe(resolve);
            _resolve = resolve;
          }).then(onfulfilled);
          promise.cancel = function reject() {
            token.unsubscribe(_resolve);
          };
          return promise;
        };
        executor(function cancel(message) {
          if (token.reason) {
            return;
          }
          token.reason = new Cancel(message);
          resolvePromise(token.reason);
        });
      }
      CancelToken.prototype.throwIfRequested = function throwIfRequested() {
        if (this.reason) {
          throw this.reason;
        }
      };
      CancelToken.prototype.subscribe = function subscribe(listener) {
        if (this.reason) {
          listener(this.reason);
          return;
        }
        if (this._listeners) {
          this._listeners.push(listener);
        } else {
          this._listeners = [listener];
        }
      };
      CancelToken.prototype.unsubscribe = function unsubscribe(listener) {
        if (!this._listeners) {
          return;
        }
        var index2 = this._listeners.indexOf(listener);
        if (index2 !== -1) {
          this._listeners.splice(index2, 1);
        }
      };
      CancelToken.source = function source() {
        var cancel;
        var token = new CancelToken(function executor(c3) {
          cancel = c3;
        });
        return {
          token,
          cancel
        };
      };
      module.exports = CancelToken;
    }
  });

  // ../../node_modules/axios/lib/helpers/spread.js
  var require_spread = __commonJS({
    "../../node_modules/axios/lib/helpers/spread.js"(exports, module) {
      "use strict";
      module.exports = function spread(callback) {
        return function wrap(arr) {
          return callback.apply(null, arr);
        };
      };
    }
  });

  // ../../node_modules/axios/lib/helpers/isAxiosError.js
  var require_isAxiosError = __commonJS({
    "../../node_modules/axios/lib/helpers/isAxiosError.js"(exports, module) {
      "use strict";
      var utils = require_utils();
      module.exports = function isAxiosError(payload) {
        return utils.isObject(payload) && payload.isAxiosError === true;
      };
    }
  });

  // ../../node_modules/axios/lib/axios.js
  var require_axios = __commonJS({
    "../../node_modules/axios/lib/axios.js"(exports, module) {
      "use strict";
      var utils = require_utils();
      var bind = require_bind();
      var Axios = require_Axios();
      var mergeConfig = require_mergeConfig();
      var defaults2 = require_defaults();
      function createInstance(defaultConfig) {
        var context = new Axios(defaultConfig);
        var instance2 = bind(Axios.prototype.request, context);
        utils.extend(instance2, Axios.prototype, context);
        utils.extend(instance2, context);
        instance2.create = function create2(instanceConfig) {
          return createInstance(mergeConfig(defaultConfig, instanceConfig));
        };
        return instance2;
      }
      var axios2 = createInstance(defaults2);
      axios2.Axios = Axios;
      axios2.Cancel = require_Cancel();
      axios2.CancelToken = require_CancelToken();
      axios2.isCancel = require_isCancel();
      axios2.VERSION = require_data().version;
      axios2.all = function all(promises) {
        return Promise.all(promises);
      };
      axios2.spread = require_spread();
      axios2.isAxiosError = require_isAxiosError();
      module.exports = axios2;
      module.exports.default = axios2;
    }
  });

  // ../../node_modules/axios/index.js
  var require_axios2 = __commonJS({
    "../../node_modules/axios/index.js"(exports, module) {
      module.exports = require_axios();
    }
  });

  // ../../node_modules/prop-types/node_modules/react-is/cjs/react-is.development.js
  var require_react_is_development = __commonJS({
    "../../node_modules/prop-types/node_modules/react-is/cjs/react-is.development.js"(exports) {
      "use strict";
      if (true) {
        (function() {
          "use strict";
          var hasSymbol = typeof Symbol === "function" && Symbol.for;
          var REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for("react.element") : 60103;
          var REACT_PORTAL_TYPE = hasSymbol ? Symbol.for("react.portal") : 60106;
          var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for("react.fragment") : 60107;
          var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for("react.strict_mode") : 60108;
          var REACT_PROFILER_TYPE = hasSymbol ? Symbol.for("react.profiler") : 60114;
          var REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for("react.provider") : 60109;
          var REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for("react.context") : 60110;
          var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for("react.async_mode") : 60111;
          var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for("react.concurrent_mode") : 60111;
          var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for("react.forward_ref") : 60112;
          var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for("react.suspense") : 60113;
          var REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for("react.suspense_list") : 60120;
          var REACT_MEMO_TYPE = hasSymbol ? Symbol.for("react.memo") : 60115;
          var REACT_LAZY_TYPE = hasSymbol ? Symbol.for("react.lazy") : 60116;
          var REACT_BLOCK_TYPE = hasSymbol ? Symbol.for("react.block") : 60121;
          var REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for("react.fundamental") : 60117;
          var REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for("react.responder") : 60118;
          var REACT_SCOPE_TYPE = hasSymbol ? Symbol.for("react.scope") : 60119;
          function isValidElementType2(type) {
            return typeof type === "string" || typeof type === "function" || type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === "object" && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);
          }
          function typeOf(object) {
            if (typeof object === "object" && object !== null) {
              var $$typeof = object.$$typeof;
              switch ($$typeof) {
                case REACT_ELEMENT_TYPE:
                  var type = object.type;
                  switch (type) {
                    case REACT_ASYNC_MODE_TYPE:
                    case REACT_CONCURRENT_MODE_TYPE:
                    case REACT_FRAGMENT_TYPE:
                    case REACT_PROFILER_TYPE:
                    case REACT_STRICT_MODE_TYPE:
                    case REACT_SUSPENSE_TYPE:
                      return type;
                    default:
                      var $$typeofType = type && type.$$typeof;
                      switch ($$typeofType) {
                        case REACT_CONTEXT_TYPE:
                        case REACT_FORWARD_REF_TYPE:
                        case REACT_LAZY_TYPE:
                        case REACT_MEMO_TYPE:
                        case REACT_PROVIDER_TYPE:
                          return $$typeofType;
                        default:
                          return $$typeof;
                      }
                  }
                case REACT_PORTAL_TYPE:
                  return $$typeof;
              }
            }
            return void 0;
          }
          var AsyncMode = REACT_ASYNC_MODE_TYPE;
          var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;
          var ContextConsumer = REACT_CONTEXT_TYPE;
          var ContextProvider = REACT_PROVIDER_TYPE;
          var Element2 = REACT_ELEMENT_TYPE;
          var ForwardRef = REACT_FORWARD_REF_TYPE;
          var Fragment3 = REACT_FRAGMENT_TYPE;
          var Lazy = REACT_LAZY_TYPE;
          var Memo = REACT_MEMO_TYPE;
          var Portal = REACT_PORTAL_TYPE;
          var Profiler = REACT_PROFILER_TYPE;
          var StrictMode = REACT_STRICT_MODE_TYPE;
          var Suspense6 = REACT_SUSPENSE_TYPE;
          var hasWarnedAboutDeprecatedIsAsyncMode = false;
          function isAsyncMode(object) {
            {
              if (!hasWarnedAboutDeprecatedIsAsyncMode) {
                hasWarnedAboutDeprecatedIsAsyncMode = true;
                console["warn"]("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.");
              }
            }
            return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;
          }
          function isConcurrentMode(object) {
            return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;
          }
          function isContextConsumer2(object) {
            return typeOf(object) === REACT_CONTEXT_TYPE;
          }
          function isContextProvider(object) {
            return typeOf(object) === REACT_PROVIDER_TYPE;
          }
          function isElement4(object) {
            return typeof object === "object" && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
          }
          function isForwardRef(object) {
            return typeOf(object) === REACT_FORWARD_REF_TYPE;
          }
          function isFragment(object) {
            return typeOf(object) === REACT_FRAGMENT_TYPE;
          }
          function isLazy(object) {
            return typeOf(object) === REACT_LAZY_TYPE;
          }
          function isMemo(object) {
            return typeOf(object) === REACT_MEMO_TYPE;
          }
          function isPortal(object) {
            return typeOf(object) === REACT_PORTAL_TYPE;
          }
          function isProfiler(object) {
            return typeOf(object) === REACT_PROFILER_TYPE;
          }
          function isStrictMode(object) {
            return typeOf(object) === REACT_STRICT_MODE_TYPE;
          }
          function isSuspense(object) {
            return typeOf(object) === REACT_SUSPENSE_TYPE;
          }
          exports.AsyncMode = AsyncMode;
          exports.ConcurrentMode = ConcurrentMode;
          exports.ContextConsumer = ContextConsumer;
          exports.ContextProvider = ContextProvider;
          exports.Element = Element2;
          exports.ForwardRef = ForwardRef;
          exports.Fragment = Fragment3;
          exports.Lazy = Lazy;
          exports.Memo = Memo;
          exports.Portal = Portal;
          exports.Profiler = Profiler;
          exports.StrictMode = StrictMode;
          exports.Suspense = Suspense6;
          exports.isAsyncMode = isAsyncMode;
          exports.isConcurrentMode = isConcurrentMode;
          exports.isContextConsumer = isContextConsumer2;
          exports.isContextProvider = isContextProvider;
          exports.isElement = isElement4;
          exports.isForwardRef = isForwardRef;
          exports.isFragment = isFragment;
          exports.isLazy = isLazy;
          exports.isMemo = isMemo;
          exports.isPortal = isPortal;
          exports.isProfiler = isProfiler;
          exports.isStrictMode = isStrictMode;
          exports.isSuspense = isSuspense;
          exports.isValidElementType = isValidElementType2;
          exports.typeOf = typeOf;
        })();
      }
    }
  });

  // ../../node_modules/prop-types/node_modules/react-is/index.js
  var require_react_is = __commonJS({
    "../../node_modules/prop-types/node_modules/react-is/index.js"(exports, module) {
      "use strict";
      if (false) {
        module.exports = null;
      } else {
        module.exports = require_react_is_development();
      }
    }
  });

  // ../../node_modules/object-assign/index.js
  var require_object_assign = __commonJS({
    "../../node_modules/object-assign/index.js"(exports, module) {
      "use strict";
      var getOwnPropertySymbols = Object.getOwnPropertySymbols;
      var hasOwnProperty2 = Object.prototype.hasOwnProperty;
      var propIsEnumerable = Object.prototype.propertyIsEnumerable;
      function toObject(val) {
        if (val === null || val === void 0) {
          throw new TypeError("Object.assign cannot be called with null or undefined");
        }
        return Object(val);
      }
      function shouldUseNative() {
        try {
          if (!Object.assign) {
            return false;
          }
          var test1 = new String("abc");
          test1[5] = "de";
          if (Object.getOwnPropertyNames(test1)[0] === "5") {
            return false;
          }
          var test2 = {};
          for (var i3 = 0; i3 < 10; i3++) {
            test2["_" + String.fromCharCode(i3)] = i3;
          }
          var order2 = Object.getOwnPropertyNames(test2).map(function(n3) {
            return test2[n3];
          });
          if (order2.join("") !== "0123456789") {
            return false;
          }
          var test3 = {};
          "abcdefghijklmnopqrst".split("").forEach(function(letter) {
            test3[letter] = letter;
          });
          if (Object.keys(Object.assign({}, test3)).join("") !== "abcdefghijklmnopqrst") {
            return false;
          }
          return true;
        } catch (err) {
          return false;
        }
      }
      module.exports = shouldUseNative() ? Object.assign : function(target, source) {
        var from;
        var to = toObject(target);
        var symbols;
        for (var s3 = 1; s3 < arguments.length; s3++) {
          from = Object(arguments[s3]);
          for (var key in from) {
            if (hasOwnProperty2.call(from, key)) {
              to[key] = from[key];
            }
          }
          if (getOwnPropertySymbols) {
            symbols = getOwnPropertySymbols(from);
            for (var i3 = 0; i3 < symbols.length; i3++) {
              if (propIsEnumerable.call(from, symbols[i3])) {
                to[symbols[i3]] = from[symbols[i3]];
              }
            }
          }
        }
        return to;
      };
    }
  });

  // ../../node_modules/prop-types/lib/ReactPropTypesSecret.js
  var require_ReactPropTypesSecret = __commonJS({
    "../../node_modules/prop-types/lib/ReactPropTypesSecret.js"(exports, module) {
      "use strict";
      var ReactPropTypesSecret = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
      module.exports = ReactPropTypesSecret;
    }
  });

  // ../../node_modules/prop-types/lib/has.js
  var require_has = __commonJS({
    "../../node_modules/prop-types/lib/has.js"(exports, module) {
      module.exports = Function.call.bind(Object.prototype.hasOwnProperty);
    }
  });

  // ../../node_modules/prop-types/checkPropTypes.js
  var require_checkPropTypes = __commonJS({
    "../../node_modules/prop-types/checkPropTypes.js"(exports, module) {
      "use strict";
      var printWarning = function() {
      };
      if (true) {
        ReactPropTypesSecret = require_ReactPropTypesSecret();
        loggedTypeFailures = {};
        has = require_has();
        printWarning = function(text) {
          var message = "Warning: " + text;
          if (typeof console !== "undefined") {
            console.error(message);
          }
          try {
            throw new Error(message);
          } catch (x2) {
          }
        };
      }
      var ReactPropTypesSecret;
      var loggedTypeFailures;
      var has;
      function checkPropTypes(typeSpecs, values2, location, componentName, getStack) {
        if (true) {
          for (var typeSpecName in typeSpecs) {
            if (has(typeSpecs, typeSpecName)) {
              var error2;
              try {
                if (typeof typeSpecs[typeSpecName] !== "function") {
                  var err = Error((componentName || "React class") + ": " + location + " type `" + typeSpecName + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + typeof typeSpecs[typeSpecName] + "`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");
                  err.name = "Invariant Violation";
                  throw err;
                }
                error2 = typeSpecs[typeSpecName](values2, typeSpecName, componentName, location, null, ReactPropTypesSecret);
              } catch (ex) {
                error2 = ex;
              }
              if (error2 && !(error2 instanceof Error)) {
                printWarning((componentName || "React class") + ": type specification of " + location + " `" + typeSpecName + "` is invalid; the type checker function must return `null` or an `Error` but returned a " + typeof error2 + ". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).");
              }
              if (error2 instanceof Error && !(error2.message in loggedTypeFailures)) {
                loggedTypeFailures[error2.message] = true;
                var stack = getStack ? getStack() : "";
                printWarning("Failed " + location + " type: " + error2.message + (stack != null ? stack : ""));
              }
            }
          }
        }
      }
      checkPropTypes.resetWarningCache = function() {
        if (true) {
          loggedTypeFailures = {};
        }
      };
      module.exports = checkPropTypes;
    }
  });

  // ../../node_modules/prop-types/factoryWithTypeCheckers.js
  var require_factoryWithTypeCheckers = __commonJS({
    "../../node_modules/prop-types/factoryWithTypeCheckers.js"(exports, module) {
      "use strict";
      var ReactIs = require_react_is();
      var assign = require_object_assign();
      var ReactPropTypesSecret = require_ReactPropTypesSecret();
      var has = require_has();
      var checkPropTypes = require_checkPropTypes();
      var printWarning = function() {
      };
      if (true) {
        printWarning = function(text) {
          var message = "Warning: " + text;
          if (typeof console !== "undefined") {
            console.error(message);
          }
          try {
            throw new Error(message);
          } catch (x2) {
          }
        };
      }
      function emptyFunctionThatReturnsNull() {
        return null;
      }
      module.exports = function(isValidElement, throwOnDirectAccess) {
        var ITERATOR_SYMBOL = typeof Symbol === "function" && Symbol.iterator;
        var FAUX_ITERATOR_SYMBOL = "@@iterator";
        function getIteratorFn(maybeIterable) {
          var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);
          if (typeof iteratorFn === "function") {
            return iteratorFn;
          }
        }
        var ANONYMOUS = "<<anonymous>>";
        var ReactPropTypes = {
          array: createPrimitiveTypeChecker("array"),
          bigint: createPrimitiveTypeChecker("bigint"),
          bool: createPrimitiveTypeChecker("boolean"),
          func: createPrimitiveTypeChecker("function"),
          number: createPrimitiveTypeChecker("number"),
          object: createPrimitiveTypeChecker("object"),
          string: createPrimitiveTypeChecker("string"),
          symbol: createPrimitiveTypeChecker("symbol"),
          any: createAnyTypeChecker(),
          arrayOf: createArrayOfTypeChecker,
          element: createElementTypeChecker(),
          elementType: createElementTypeTypeChecker(),
          instanceOf: createInstanceTypeChecker,
          node: createNodeChecker(),
          objectOf: createObjectOfTypeChecker,
          oneOf: createEnumTypeChecker,
          oneOfType: createUnionTypeChecker,
          shape: createShapeTypeChecker,
          exact: createStrictShapeTypeChecker
        };
        function is2(x2, y2) {
          if (x2 === y2) {
            return x2 !== 0 || 1 / x2 === 1 / y2;
          } else {
            return x2 !== x2 && y2 !== y2;
          }
        }
        function PropTypeError(message, data) {
          this.message = message;
          this.data = data && typeof data === "object" ? data : {};
          this.stack = "";
        }
        PropTypeError.prototype = Error.prototype;
        function createChainableTypeChecker(validate) {
          if (true) {
            var manualPropTypeCallCache = {};
            var manualPropTypeWarningCount = 0;
          }
          function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {
            componentName = componentName || ANONYMOUS;
            propFullName = propFullName || propName;
            if (secret !== ReactPropTypesSecret) {
              if (throwOnDirectAccess) {
                var err = new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");
                err.name = "Invariant Violation";
                throw err;
              } else if (typeof console !== "undefined") {
                var cacheKey = componentName + ":" + propName;
                if (!manualPropTypeCallCache[cacheKey] && manualPropTypeWarningCount < 3) {
                  printWarning("You are manually calling a React.PropTypes validation function for the `" + propFullName + "` prop on `" + componentName + "`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.");
                  manualPropTypeCallCache[cacheKey] = true;
                  manualPropTypeWarningCount++;
                }
              }
            }
            if (props[propName] == null) {
              if (isRequired) {
                if (props[propName] === null) {
                  return new PropTypeError("The " + location + " `" + propFullName + "` is marked as required " + ("in `" + componentName + "`, but its value is `null`."));
                }
                return new PropTypeError("The " + location + " `" + propFullName + "` is marked as required in " + ("`" + componentName + "`, but its value is `undefined`."));
              }
              return null;
            } else {
              return validate(props, propName, componentName, location, propFullName);
            }
          }
          var chainedCheckType = checkType.bind(null, false);
          chainedCheckType.isRequired = checkType.bind(null, true);
          return chainedCheckType;
        }
        function createPrimitiveTypeChecker(expectedType) {
          function validate(props, propName, componentName, location, propFullName, secret) {
            var propValue = props[propName];
            var propType = getPropType(propValue);
            if (propType !== expectedType) {
              var preciseType = getPreciseType(propValue);
              return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + preciseType + "` supplied to `" + componentName + "`, expected ") + ("`" + expectedType + "`."), { expectedType });
            }
            return null;
          }
          return createChainableTypeChecker(validate);
        }
        function createAnyTypeChecker() {
          return createChainableTypeChecker(emptyFunctionThatReturnsNull);
        }
        function createArrayOfTypeChecker(typeChecker) {
          function validate(props, propName, componentName, location, propFullName) {
            if (typeof typeChecker !== "function") {
              return new PropTypeError("Property `" + propFullName + "` of component `" + componentName + "` has invalid PropType notation inside arrayOf.");
            }
            var propValue = props[propName];
            if (!Array.isArray(propValue)) {
              var propType = getPropType(propValue);
              return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + propType + "` supplied to `" + componentName + "`, expected an array."));
            }
            for (var i3 = 0; i3 < propValue.length; i3++) {
              var error2 = typeChecker(propValue, i3, componentName, location, propFullName + "[" + i3 + "]", ReactPropTypesSecret);
              if (error2 instanceof Error) {
                return error2;
              }
            }
            return null;
          }
          return createChainableTypeChecker(validate);
        }
        function createElementTypeChecker() {
          function validate(props, propName, componentName, location, propFullName) {
            var propValue = props[propName];
            if (!isValidElement(propValue)) {
              var propType = getPropType(propValue);
              return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + propType + "` supplied to `" + componentName + "`, expected a single ReactElement."));
            }
            return null;
          }
          return createChainableTypeChecker(validate);
        }
        function createElementTypeTypeChecker() {
          function validate(props, propName, componentName, location, propFullName) {
            var propValue = props[propName];
            if (!ReactIs.isValidElementType(propValue)) {
              var propType = getPropType(propValue);
              return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + propType + "` supplied to `" + componentName + "`, expected a single ReactElement type."));
            }
            return null;
          }
          return createChainableTypeChecker(validate);
        }
        function createInstanceTypeChecker(expectedClass) {
          function validate(props, propName, componentName, location, propFullName) {
            if (!(props[propName] instanceof expectedClass)) {
              var expectedClassName = expectedClass.name || ANONYMOUS;
              var actualClassName = getClassName(props[propName]);
              return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + actualClassName + "` supplied to `" + componentName + "`, expected ") + ("instance of `" + expectedClassName + "`."));
            }
            return null;
          }
          return createChainableTypeChecker(validate);
        }
        function createEnumTypeChecker(expectedValues) {
          if (!Array.isArray(expectedValues)) {
            if (true) {
              if (arguments.length > 1) {
                printWarning("Invalid arguments supplied to oneOf, expected an array, got " + arguments.length + " arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).");
              } else {
                printWarning("Invalid argument supplied to oneOf, expected an array.");
              }
            }
            return emptyFunctionThatReturnsNull;
          }
          function validate(props, propName, componentName, location, propFullName) {
            var propValue = props[propName];
            for (var i3 = 0; i3 < expectedValues.length; i3++) {
              if (is2(propValue, expectedValues[i3])) {
                return null;
              }
            }
            var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {
              var type = getPreciseType(value);
              if (type === "symbol") {
                return String(value);
              }
              return value;
            });
            return new PropTypeError("Invalid " + location + " `" + propFullName + "` of value `" + String(propValue) + "` " + ("supplied to `" + componentName + "`, expected one of " + valuesString + "."));
          }
          return createChainableTypeChecker(validate);
        }
        function createObjectOfTypeChecker(typeChecker) {
          function validate(props, propName, componentName, location, propFullName) {
            if (typeof typeChecker !== "function") {
              return new PropTypeError("Property `" + propFullName + "` of component `" + componentName + "` has invalid PropType notation inside objectOf.");
            }
            var propValue = props[propName];
            var propType = getPropType(propValue);
            if (propType !== "object") {
              return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + propType + "` supplied to `" + componentName + "`, expected an object."));
            }
            for (var key in propValue) {
              if (has(propValue, key)) {
                var error2 = typeChecker(propValue, key, componentName, location, propFullName + "." + key, ReactPropTypesSecret);
                if (error2 instanceof Error) {
                  return error2;
                }
              }
            }
            return null;
          }
          return createChainableTypeChecker(validate);
        }
        function createUnionTypeChecker(arrayOfTypeCheckers) {
          if (!Array.isArray(arrayOfTypeCheckers)) {
            true ? printWarning("Invalid argument supplied to oneOfType, expected an instance of array.") : void 0;
            return emptyFunctionThatReturnsNull;
          }
          for (var i3 = 0; i3 < arrayOfTypeCheckers.length; i3++) {
            var checker = arrayOfTypeCheckers[i3];
            if (typeof checker !== "function") {
              printWarning("Invalid argument supplied to oneOfType. Expected an array of check functions, but received " + getPostfixForTypeWarning(checker) + " at index " + i3 + ".");
              return emptyFunctionThatReturnsNull;
            }
          }
          function validate(props, propName, componentName, location, propFullName) {
            var expectedTypes = [];
            for (var i4 = 0; i4 < arrayOfTypeCheckers.length; i4++) {
              var checker2 = arrayOfTypeCheckers[i4];
              var checkerResult = checker2(props, propName, componentName, location, propFullName, ReactPropTypesSecret);
              if (checkerResult == null) {
                return null;
              }
              if (checkerResult.data && has(checkerResult.data, "expectedType")) {
                expectedTypes.push(checkerResult.data.expectedType);
              }
            }
            var expectedTypesMessage = expectedTypes.length > 0 ? ", expected one of type [" + expectedTypes.join(", ") + "]" : "";
            return new PropTypeError("Invalid " + location + " `" + propFullName + "` supplied to " + ("`" + componentName + "`" + expectedTypesMessage + "."));
          }
          return createChainableTypeChecker(validate);
        }
        function createNodeChecker() {
          function validate(props, propName, componentName, location, propFullName) {
            if (!isNode(props[propName])) {
              return new PropTypeError("Invalid " + location + " `" + propFullName + "` supplied to " + ("`" + componentName + "`, expected a ReactNode."));
            }
            return null;
          }
          return createChainableTypeChecker(validate);
        }
        function invalidValidatorError(componentName, location, propFullName, key, type) {
          return new PropTypeError((componentName || "React class") + ": " + location + " type `" + propFullName + "." + key + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + type + "`.");
        }
        function createShapeTypeChecker(shapeTypes) {
          function validate(props, propName, componentName, location, propFullName) {
            var propValue = props[propName];
            var propType = getPropType(propValue);
            if (propType !== "object") {
              return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type `" + propType + "` " + ("supplied to `" + componentName + "`, expected `object`."));
            }
            for (var key in shapeTypes) {
              var checker = shapeTypes[key];
              if (typeof checker !== "function") {
                return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));
              }
              var error2 = checker(propValue, key, componentName, location, propFullName + "." + key, ReactPropTypesSecret);
              if (error2) {
                return error2;
              }
            }
            return null;
          }
          return createChainableTypeChecker(validate);
        }
        function createStrictShapeTypeChecker(shapeTypes) {
          function validate(props, propName, componentName, location, propFullName) {
            var propValue = props[propName];
            var propType = getPropType(propValue);
            if (propType !== "object") {
              return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type `" + propType + "` " + ("supplied to `" + componentName + "`, expected `object`."));
            }
            var allKeys = assign({}, props[propName], shapeTypes);
            for (var key in allKeys) {
              var checker = shapeTypes[key];
              if (has(shapeTypes, key) && typeof checker !== "function") {
                return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));
              }
              if (!checker) {
                return new PropTypeError("Invalid " + location + " `" + propFullName + "` key `" + key + "` supplied to `" + componentName + "`.\nBad object: " + JSON.stringify(props[propName], null, "  ") + "\nValid keys: " + JSON.stringify(Object.keys(shapeTypes), null, "  "));
              }
              var error2 = checker(propValue, key, componentName, location, propFullName + "." + key, ReactPropTypesSecret);
              if (error2) {
                return error2;
              }
            }
            return null;
          }
          return createChainableTypeChecker(validate);
        }
        function isNode(propValue) {
          switch (typeof propValue) {
            case "number":
            case "string":
            case "undefined":
              return true;
            case "boolean":
              return !propValue;
            case "object":
              if (Array.isArray(propValue)) {
                return propValue.every(isNode);
              }
              if (propValue === null || isValidElement(propValue)) {
                return true;
              }
              var iteratorFn = getIteratorFn(propValue);
              if (iteratorFn) {
                var iterator = iteratorFn.call(propValue);
                var step;
                if (iteratorFn !== propValue.entries) {
                  while (!(step = iterator.next()).done) {
                    if (!isNode(step.value)) {
                      return false;
                    }
                  }
                } else {
                  while (!(step = iterator.next()).done) {
                    var entry = step.value;
                    if (entry) {
                      if (!isNode(entry[1])) {
                        return false;
                      }
                    }
                  }
                }
              } else {
                return false;
              }
              return true;
            default:
              return false;
          }
        }
        function isSymbol(propType, propValue) {
          if (propType === "symbol") {
            return true;
          }
          if (!propValue) {
            return false;
          }
          if (propValue["@@toStringTag"] === "Symbol") {
            return true;
          }
          if (typeof Symbol === "function" && propValue instanceof Symbol) {
            return true;
          }
          return false;
        }
        function getPropType(propValue) {
          var propType = typeof propValue;
          if (Array.isArray(propValue)) {
            return "array";
          }
          if (propValue instanceof RegExp) {
            return "object";
          }
          if (isSymbol(propType, propValue)) {
            return "symbol";
          }
          return propType;
        }
        function getPreciseType(propValue) {
          if (typeof propValue === "undefined" || propValue === null) {
            return "" + propValue;
          }
          var propType = getPropType(propValue);
          if (propType === "object") {
            if (propValue instanceof Date) {
              return "date";
            } else if (propValue instanceof RegExp) {
              return "regexp";
            }
          }
          return propType;
        }
        function getPostfixForTypeWarning(value) {
          var type = getPreciseType(value);
          switch (type) {
            case "array":
            case "object":
              return "an " + type;
            case "boolean":
            case "date":
            case "regexp":
              return "a " + type;
            default:
              return type;
          }
        }
        function getClassName(propValue) {
          if (!propValue.constructor || !propValue.constructor.name) {
            return ANONYMOUS;
          }
          return propValue.constructor.name;
        }
        ReactPropTypes.checkPropTypes = checkPropTypes;
        ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;
        ReactPropTypes.PropTypes = ReactPropTypes;
        return ReactPropTypes;
      };
    }
  });

  // ../../node_modules/prop-types/index.js
  var require_prop_types = __commonJS({
    "../../node_modules/prop-types/index.js"(exports, module) {
      if (true) {
        ReactIs = require_react_is();
        throwOnDirectAccess = true;
        module.exports = require_factoryWithTypeCheckers()(ReactIs.isElement, throwOnDirectAccess);
      } else {
        module.exports = null();
      }
      var ReactIs;
      var throwOnDirectAccess;
    }
  });

  // ../../node_modules/react-modal/lib/helpers/tabbable.js
  var require_tabbable = __commonJS({
    "../../node_modules/react-modal/lib/helpers/tabbable.js"(exports, module) {
      "use strict";
      Object.defineProperty(exports, "__esModule", {
        value: true
      });
      exports.default = findTabbableDescendants;
      var tabbableNode = /input|select|textarea|button|object|iframe/;
      function hidesContents(element) {
        var zeroSize = element.offsetWidth <= 0 && element.offsetHeight <= 0;
        if (zeroSize && !element.innerHTML)
          return true;
        try {
          var style2 = window.getComputedStyle(element);
          return zeroSize ? style2.getPropertyValue("overflow") !== "visible" || element.scrollWidth <= 0 && element.scrollHeight <= 0 : style2.getPropertyValue("display") == "none";
        } catch (exception) {
          console.warn("Failed to inspect element style");
          return false;
        }
      }
      function visible(element) {
        var parentElement = element;
        var rootNode = element.getRootNode && element.getRootNode();
        while (parentElement) {
          if (parentElement === document.body)
            break;
          if (rootNode && parentElement === rootNode)
            parentElement = rootNode.host.parentNode;
          if (hidesContents(parentElement))
            return false;
          parentElement = parentElement.parentNode;
        }
        return true;
      }
      function focusable(element, isTabIndexNotNaN) {
        var nodeName = element.nodeName.toLowerCase();
        var res = tabbableNode.test(nodeName) && !element.disabled || (nodeName === "a" ? element.href || isTabIndexNotNaN : isTabIndexNotNaN);
        return res && visible(element);
      }
      function tabbable(element) {
        var tabIndex = element.getAttribute("tabindex");
        if (tabIndex === null)
          tabIndex = void 0;
        var isTabIndexNaN = isNaN(tabIndex);
        return (isTabIndexNaN || tabIndex >= 0) && focusable(element, !isTabIndexNaN);
      }
      function findTabbableDescendants(element) {
        var descendants = [].slice.call(element.querySelectorAll("*"), 0).reduce(function(finished, el) {
          return finished.concat(!el.shadowRoot ? [el] : findTabbableDescendants(el.shadowRoot));
        }, []);
        return descendants.filter(tabbable);
      }
      module.exports = exports["default"];
    }
  });

  // ../../node_modules/react-modal/lib/helpers/focusManager.js
  var require_focusManager = __commonJS({
    "../../node_modules/react-modal/lib/helpers/focusManager.js"(exports) {
      "use strict";
      Object.defineProperty(exports, "__esModule", {
        value: true
      });
      exports.resetState = resetState;
      exports.log = log2;
      exports.handleBlur = handleBlur;
      exports.handleFocus = handleFocus;
      exports.markForFocusLater = markForFocusLater;
      exports.returnFocus = returnFocus;
      exports.popWithoutFocus = popWithoutFocus;
      exports.setupScopedFocus = setupScopedFocus;
      exports.teardownScopedFocus = teardownScopedFocus;
      var _tabbable = require_tabbable();
      var _tabbable2 = _interopRequireDefault(_tabbable);
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : { default: obj };
      }
      var focusLaterElements = [];
      var modalElement = null;
      var needToFocus = false;
      function resetState() {
        focusLaterElements = [];
      }
      function log2() {
        if (true) {
          console.log("focusManager ----------");
          focusLaterElements.forEach(function(f3) {
            var check = f3 || {};
            console.log(check.nodeName, check.className, check.id);
          });
          console.log("end focusManager ----------");
        }
      }
      function handleBlur() {
        needToFocus = true;
      }
      function handleFocus() {
        if (needToFocus) {
          needToFocus = false;
          if (!modalElement) {
            return;
          }
          setTimeout(function() {
            if (modalElement.contains(document.activeElement)) {
              return;
            }
            var el = (0, _tabbable2.default)(modalElement)[0] || modalElement;
            el.focus();
          }, 0);
        }
      }
      function markForFocusLater() {
        focusLaterElements.push(document.activeElement);
      }
      function returnFocus() {
        var preventScroll = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;
        var toFocus = null;
        try {
          if (focusLaterElements.length !== 0) {
            toFocus = focusLaterElements.pop();
            toFocus.focus({ preventScroll });
          }
          return;
        } catch (e2) {
          console.warn(["You tried to return focus to", toFocus, "but it is not in the DOM anymore"].join(" "));
        }
      }
      function popWithoutFocus() {
        focusLaterElements.length > 0 && focusLaterElements.pop();
      }
      function setupScopedFocus(element) {
        modalElement = element;
        if (window.addEventListener) {
          window.addEventListener("blur", handleBlur, false);
          document.addEventListener("focus", handleFocus, true);
        } else {
          window.attachEvent("onBlur", handleBlur);
          document.attachEvent("onFocus", handleFocus);
        }
      }
      function teardownScopedFocus() {
        modalElement = null;
        if (window.addEventListener) {
          window.removeEventListener("blur", handleBlur);
          document.removeEventListener("focus", handleFocus);
        } else {
          window.detachEvent("onBlur", handleBlur);
          document.detachEvent("onFocus", handleFocus);
        }
      }
    }
  });

  // ../../node_modules/react-modal/lib/helpers/scopeTab.js
  var require_scopeTab = __commonJS({
    "../../node_modules/react-modal/lib/helpers/scopeTab.js"(exports, module) {
      "use strict";
      Object.defineProperty(exports, "__esModule", {
        value: true
      });
      exports.default = scopeTab;
      var _tabbable = require_tabbable();
      var _tabbable2 = _interopRequireDefault(_tabbable);
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : { default: obj };
      }
      function getActiveElement() {
        var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : document;
        return el.activeElement.shadowRoot ? getActiveElement(el.activeElement.shadowRoot) : el.activeElement;
      }
      function scopeTab(node, event) {
        var tabbable = (0, _tabbable2.default)(node);
        if (!tabbable.length) {
          event.preventDefault();
          return;
        }
        var target = void 0;
        var shiftKey = event.shiftKey;
        var head = tabbable[0];
        var tail = tabbable[tabbable.length - 1];
        var activeElement = getActiveElement();
        if (node === activeElement) {
          if (!shiftKey)
            return;
          target = tail;
        }
        if (tail === activeElement && !shiftKey) {
          target = head;
        }
        if (head === activeElement && shiftKey) {
          target = tail;
        }
        if (target) {
          event.preventDefault();
          target.focus();
          return;
        }
        var checkSafari = /(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);
        var isSafariDesktop = checkSafari != null && checkSafari[1] != "Chrome" && /\biPod\b|\biPad\b/g.exec(navigator.userAgent) == null;
        if (!isSafariDesktop)
          return;
        var x2 = tabbable.indexOf(activeElement);
        if (x2 > -1) {
          x2 += shiftKey ? -1 : 1;
        }
        target = tabbable[x2];
        if (typeof target === "undefined") {
          event.preventDefault();
          target = shiftKey ? tail : head;
          target.focus();
          return;
        }
        event.preventDefault();
        target.focus();
      }
      module.exports = exports["default"];
    }
  });

  // ../../node_modules/warning/warning.js
  var require_warning = __commonJS({
    "../../node_modules/warning/warning.js"(exports, module) {
      "use strict";
      var __DEV__ = true;
      var warning4 = function() {
      };
      if (__DEV__) {
        printWarning = function printWarning2(format2, args) {
          var len = arguments.length;
          args = new Array(len > 1 ? len - 1 : 0);
          for (var key = 1; key < len; key++) {
            args[key - 1] = arguments[key];
          }
          var argIndex = 0;
          var message = "Warning: " + format2.replace(/%s/g, function() {
            return args[argIndex++];
          });
          if (typeof console !== "undefined") {
            console.error(message);
          }
          try {
            throw new Error(message);
          } catch (x2) {
          }
        };
        warning4 = function(condition, format2, args) {
          var len = arguments.length;
          args = new Array(len > 2 ? len - 2 : 0);
          for (var key = 2; key < len; key++) {
            args[key - 2] = arguments[key];
          }
          if (format2 === void 0) {
            throw new Error("`warning(condition, format, ...args)` requires a warning message argument");
          }
          if (!condition) {
            printWarning.apply(null, [format2].concat(args));
          }
        };
      }
      var printWarning;
      module.exports = warning4;
    }
  });

  // ../../node_modules/exenv/index.js
  var require_exenv = __commonJS({
    "../../node_modules/exenv/index.js"(exports, module) {
      (function() {
        "use strict";
        var canUseDOM = !!(typeof window !== "undefined" && window.document && window.document.createElement);
        var ExecutionEnvironment = {
          canUseDOM,
          canUseWorkers: typeof Worker !== "undefined",
          canUseEventListeners: canUseDOM && !!(window.addEventListener || window.attachEvent),
          canUseViewport: canUseDOM && !!window.screen
        };
        if (typeof define === "function" && typeof define.amd === "object" && define.amd) {
          define(function() {
            return ExecutionEnvironment;
          });
        } else if (typeof module !== "undefined" && module.exports) {
          module.exports = ExecutionEnvironment;
        } else {
          window.ExecutionEnvironment = ExecutionEnvironment;
        }
      })();
    }
  });

  // ../../node_modules/react-modal/lib/helpers/safeHTMLElement.js
  var require_safeHTMLElement = __commonJS({
    "../../node_modules/react-modal/lib/helpers/safeHTMLElement.js"(exports) {
      "use strict";
      Object.defineProperty(exports, "__esModule", {
        value: true
      });
      exports.canUseDOM = exports.SafeNodeList = exports.SafeHTMLCollection = void 0;
      var _exenv = require_exenv();
      var _exenv2 = _interopRequireDefault(_exenv);
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : { default: obj };
      }
      var EE = _exenv2.default;
      var SafeHTMLElement = EE.canUseDOM ? window.HTMLElement : {};
      var SafeHTMLCollection = exports.SafeHTMLCollection = EE.canUseDOM ? window.HTMLCollection : {};
      var SafeNodeList = exports.SafeNodeList = EE.canUseDOM ? window.NodeList : {};
      var canUseDOM = exports.canUseDOM = EE.canUseDOM;
      exports.default = SafeHTMLElement;
    }
  });

  // ../../node_modules/react-modal/lib/helpers/ariaAppHider.js
  var require_ariaAppHider = __commonJS({
    "../../node_modules/react-modal/lib/helpers/ariaAppHider.js"(exports) {
      "use strict";
      Object.defineProperty(exports, "__esModule", {
        value: true
      });
      exports.resetState = resetState;
      exports.log = log2;
      exports.assertNodeList = assertNodeList;
      exports.setElement = setElement;
      exports.validateElement = validateElement;
      exports.hide = hide2;
      exports.show = show;
      exports.documentNotReadyOrSSRTesting = documentNotReadyOrSSRTesting;
      var _warning = require_warning();
      var _warning2 = _interopRequireDefault(_warning);
      var _safeHTMLElement = require_safeHTMLElement();
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : { default: obj };
      }
      var globalElement = null;
      function resetState() {
        if (globalElement) {
          if (globalElement.removeAttribute) {
            globalElement.removeAttribute("aria-hidden");
          } else if (globalElement.length != null) {
            globalElement.forEach(function(element) {
              return element.removeAttribute("aria-hidden");
            });
          } else {
            document.querySelectorAll(globalElement).forEach(function(element) {
              return element.removeAttribute("aria-hidden");
            });
          }
        }
        globalElement = null;
      }
      function log2() {
        if (true) {
          var check = globalElement || {};
          console.log("ariaAppHider ----------");
          console.log(check.nodeName, check.className, check.id);
          console.log("end ariaAppHider ----------");
        }
      }
      function assertNodeList(nodeList, selector) {
        if (!nodeList || !nodeList.length) {
          throw new Error("react-modal: No elements were found for selector " + selector + ".");
        }
      }
      function setElement(element) {
        var useElement = element;
        if (typeof useElement === "string" && _safeHTMLElement.canUseDOM) {
          var el = document.querySelectorAll(useElement);
          assertNodeList(el, useElement);
          useElement = el;
        }
        globalElement = useElement || globalElement;
        return globalElement;
      }
      function validateElement(appElement) {
        var el = appElement || globalElement;
        if (el) {
          return Array.isArray(el) || el instanceof HTMLCollection || el instanceof NodeList ? el : [el];
        } else {
          (0, _warning2.default)(false, ["react-modal: App element is not defined.", "Please use `Modal.setAppElement(el)` or set `appElement={el}`.", "This is needed so screen readers don't see main content", "when modal is opened. It is not recommended, but you can opt-out", "by setting `ariaHideApp={false}`."].join(" "));
          return [];
        }
      }
      function hide2(appElement) {
        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = void 0;
        try {
          for (var _iterator = validateElement(appElement)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var el = _step.value;
            el.setAttribute("aria-hidden", "true");
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
      }
      function show(appElement) {
        var _iteratorNormalCompletion2 = true;
        var _didIteratorError2 = false;
        var _iteratorError2 = void 0;
        try {
          for (var _iterator2 = validateElement(appElement)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
            var el = _step2.value;
            el.removeAttribute("aria-hidden");
          }
        } catch (err) {
          _didIteratorError2 = true;
          _iteratorError2 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion2 && _iterator2.return) {
              _iterator2.return();
            }
          } finally {
            if (_didIteratorError2) {
              throw _iteratorError2;
            }
          }
        }
      }
      function documentNotReadyOrSSRTesting() {
        globalElement = null;
      }
    }
  });

  // ../../node_modules/react-modal/lib/helpers/classList.js
  var require_classList = __commonJS({
    "../../node_modules/react-modal/lib/helpers/classList.js"(exports) {
      "use strict";
      Object.defineProperty(exports, "__esModule", {
        value: true
      });
      exports.resetState = resetState;
      exports.log = log2;
      var htmlClassList = {};
      var docBodyClassList = {};
      function removeClass(at, cls) {
        at.classList.remove(cls);
      }
      function resetState() {
        var htmlElement = document.getElementsByTagName("html")[0];
        for (var cls in htmlClassList) {
          removeClass(htmlElement, htmlClassList[cls]);
        }
        var body = document.body;
        for (var _cls in docBodyClassList) {
          removeClass(body, docBodyClassList[_cls]);
        }
        htmlClassList = {};
        docBodyClassList = {};
      }
      function log2() {
        if (true) {
          var classes = document.getElementsByTagName("html")[0].className;
          var buffer = "Show tracked classes:\n\n";
          buffer += "<html /> (" + classes + "):\n  ";
          for (var x2 in htmlClassList) {
            buffer += "  " + x2 + " " + htmlClassList[x2] + "\n  ";
          }
          classes = document.body.className;
          buffer += "\n\ndoc.body (" + classes + "):\n  ";
          for (var _x in docBodyClassList) {
            buffer += "  " + _x + " " + docBodyClassList[_x] + "\n  ";
          }
          buffer += "\n";
          console.log(buffer);
        }
      }
      var incrementReference = function incrementReference2(poll, className) {
        if (!poll[className]) {
          poll[className] = 0;
        }
        poll[className] += 1;
        return className;
      };
      var decrementReference = function decrementReference2(poll, className) {
        if (poll[className]) {
          poll[className] -= 1;
        }
        return className;
      };
      var trackClass = function trackClass2(classListRef, poll, classes) {
        classes.forEach(function(className) {
          incrementReference(poll, className);
          classListRef.add(className);
        });
      };
      var untrackClass = function untrackClass2(classListRef, poll, classes) {
        classes.forEach(function(className) {
          decrementReference(poll, className);
          poll[className] === 0 && classListRef.remove(className);
        });
      };
      var add3 = exports.add = function add4(element, classString) {
        return trackClass(element.classList, element.nodeName.toLowerCase() == "html" ? htmlClassList : docBodyClassList, classString.split(" "));
      };
      var remove = exports.remove = function remove2(element, classString) {
        return untrackClass(element.classList, element.nodeName.toLowerCase() == "html" ? htmlClassList : docBodyClassList, classString.split(" "));
      };
    }
  });

  // ../../node_modules/react-modal/lib/helpers/portalOpenInstances.js
  var require_portalOpenInstances = __commonJS({
    "../../node_modules/react-modal/lib/helpers/portalOpenInstances.js"(exports) {
      "use strict";
      Object.defineProperty(exports, "__esModule", {
        value: true
      });
      exports.log = log2;
      exports.resetState = resetState;
      function _classCallCheck(instance2, Constructor) {
        if (!(instance2 instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      var PortalOpenInstances = function PortalOpenInstances2() {
        var _this = this;
        _classCallCheck(this, PortalOpenInstances2);
        this.register = function(openInstance) {
          if (_this.openInstances.indexOf(openInstance) !== -1) {
            if (true) {
              console.warn("React-Modal: Cannot register modal instance that's already open");
            }
            return;
          }
          _this.openInstances.push(openInstance);
          _this.emit("register");
        };
        this.deregister = function(openInstance) {
          var index2 = _this.openInstances.indexOf(openInstance);
          if (index2 === -1) {
            if (true) {
              console.warn("React-Modal: Unable to deregister " + openInstance + " as it was never registered");
            }
            return;
          }
          _this.openInstances.splice(index2, 1);
          _this.emit("deregister");
        };
        this.subscribe = function(callback) {
          _this.subscribers.push(callback);
        };
        this.emit = function(eventType) {
          _this.subscribers.forEach(function(subscriber) {
            return subscriber(eventType, _this.openInstances.slice());
          });
        };
        this.openInstances = [];
        this.subscribers = [];
      };
      var portalOpenInstances = new PortalOpenInstances();
      function log2() {
        console.log("portalOpenInstances ----------");
        console.log(portalOpenInstances.openInstances.length);
        portalOpenInstances.openInstances.forEach(function(p3) {
          return console.log(p3);
        });
        console.log("end portalOpenInstances ----------");
      }
      function resetState() {
        portalOpenInstances = new PortalOpenInstances();
      }
      exports.default = portalOpenInstances;
    }
  });

  // ../../node_modules/react-modal/lib/helpers/bodyTrap.js
  var require_bodyTrap = __commonJS({
    "../../node_modules/react-modal/lib/helpers/bodyTrap.js"(exports) {
      "use strict";
      Object.defineProperty(exports, "__esModule", {
        value: true
      });
      exports.resetState = resetState;
      exports.log = log2;
      var _portalOpenInstances = require_portalOpenInstances();
      var _portalOpenInstances2 = _interopRequireDefault(_portalOpenInstances);
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : { default: obj };
      }
      var before = void 0;
      var after = void 0;
      var instances = [];
      function resetState() {
        var _arr = [before, after];
        for (var _i = 0; _i < _arr.length; _i++) {
          var item = _arr[_i];
          if (!item)
            continue;
          item.parentNode && item.parentNode.removeChild(item);
        }
        before = after = null;
        instances = [];
      }
      function log2() {
        console.log("bodyTrap ----------");
        console.log(instances.length);
        var _arr2 = [before, after];
        for (var _i2 = 0; _i2 < _arr2.length; _i2++) {
          var item = _arr2[_i2];
          var check = item || {};
          console.log(check.nodeName, check.className, check.id);
        }
        console.log("edn bodyTrap ----------");
      }
      function focusContent() {
        if (instances.length === 0) {
          if (true) {
            console.warn("React-Modal: Open instances > 0 expected");
          }
          return;
        }
        instances[instances.length - 1].focusContent();
      }
      function bodyTrap(eventType, openInstances) {
        if (!before && !after) {
          before = document.createElement("div");
          before.setAttribute("data-react-modal-body-trap", "");
          before.style.position = "absolute";
          before.style.opacity = "0";
          before.setAttribute("tabindex", "0");
          before.addEventListener("focus", focusContent);
          after = before.cloneNode();
          after.addEventListener("focus", focusContent);
        }
        instances = openInstances;
        if (instances.length > 0) {
          if (document.body.firstChild !== before) {
            document.body.insertBefore(before, document.body.firstChild);
          }
          if (document.body.lastChild !== after) {
            document.body.appendChild(after);
          }
        } else {
          if (before.parentElement) {
            before.parentElement.removeChild(before);
          }
          if (after.parentElement) {
            after.parentElement.removeChild(after);
          }
        }
      }
      _portalOpenInstances2.default.subscribe(bodyTrap);
    }
  });

  // ../../node_modules/react-modal/lib/components/ModalPortal.js
  var require_ModalPortal = __commonJS({
    "../../node_modules/react-modal/lib/components/ModalPortal.js"(exports, module) {
      "use strict";
      Object.defineProperty(exports, "__esModule", {
        value: true
      });
      var _extends3 = Object.assign || function(target) {
        for (var i3 = 1; i3 < arguments.length; i3++) {
          var source = arguments[i3];
          for (var key in source) {
            if (Object.prototype.hasOwnProperty.call(source, key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      };
      var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
        return typeof obj;
      } : function(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
      var _createClass = function() {
        function defineProperties(target, props) {
          for (var i3 = 0; i3 < props.length; i3++) {
            var descriptor = props[i3];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        return function(Constructor, protoProps, staticProps) {
          if (protoProps)
            defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            defineProperties(Constructor, staticProps);
          return Constructor;
        };
      }();
      var _react = require_react();
      var _propTypes = require_prop_types();
      var _propTypes2 = _interopRequireDefault(_propTypes);
      var _focusManager = require_focusManager();
      var focusManager2 = _interopRequireWildcard(_focusManager);
      var _scopeTab = require_scopeTab();
      var _scopeTab2 = _interopRequireDefault(_scopeTab);
      var _ariaAppHider = require_ariaAppHider();
      var ariaAppHider = _interopRequireWildcard(_ariaAppHider);
      var _classList = require_classList();
      var classList = _interopRequireWildcard(_classList);
      var _safeHTMLElement = require_safeHTMLElement();
      var _safeHTMLElement2 = _interopRequireDefault(_safeHTMLElement);
      var _portalOpenInstances = require_portalOpenInstances();
      var _portalOpenInstances2 = _interopRequireDefault(_portalOpenInstances);
      require_bodyTrap();
      function _interopRequireWildcard(obj) {
        if (obj && obj.__esModule) {
          return obj;
        } else {
          var newObj = {};
          if (obj != null) {
            for (var key in obj) {
              if (Object.prototype.hasOwnProperty.call(obj, key))
                newObj[key] = obj[key];
            }
          }
          newObj.default = obj;
          return newObj;
        }
      }
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : { default: obj };
      }
      function _classCallCheck(instance2, Constructor) {
        if (!(instance2 instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _possibleConstructorReturn(self2, call) {
        if (!self2) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return call && (typeof call === "object" || typeof call === "function") ? call : self2;
      }
      function _inherits(subClass, superClass) {
        if (typeof superClass !== "function" && superClass !== null) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
        if (superClass)
          Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
      }
      var CLASS_NAMES = {
        overlay: "ReactModal__Overlay",
        content: "ReactModal__Content"
      };
      var TAB_KEY = 9;
      var ESC_KEY = 27;
      var ariaHiddenInstances = 0;
      var ModalPortal = function(_Component) {
        _inherits(ModalPortal2, _Component);
        function ModalPortal2(props) {
          _classCallCheck(this, ModalPortal2);
          var _this = _possibleConstructorReturn(this, (ModalPortal2.__proto__ || Object.getPrototypeOf(ModalPortal2)).call(this, props));
          _this.setOverlayRef = function(overlay) {
            _this.overlay = overlay;
            _this.props.overlayRef && _this.props.overlayRef(overlay);
          };
          _this.setContentRef = function(content) {
            _this.content = content;
            _this.props.contentRef && _this.props.contentRef(content);
          };
          _this.afterClose = function() {
            var _this$props = _this.props, appElement = _this$props.appElement, ariaHideApp = _this$props.ariaHideApp, htmlOpenClassName = _this$props.htmlOpenClassName, bodyOpenClassName = _this$props.bodyOpenClassName;
            bodyOpenClassName && classList.remove(document.body, bodyOpenClassName);
            htmlOpenClassName && classList.remove(document.getElementsByTagName("html")[0], htmlOpenClassName);
            if (ariaHideApp && ariaHiddenInstances > 0) {
              ariaHiddenInstances -= 1;
              if (ariaHiddenInstances === 0) {
                ariaAppHider.show(appElement);
              }
            }
            if (_this.props.shouldFocusAfterRender) {
              if (_this.props.shouldReturnFocusAfterClose) {
                focusManager2.returnFocus(_this.props.preventScroll);
                focusManager2.teardownScopedFocus();
              } else {
                focusManager2.popWithoutFocus();
              }
            }
            if (_this.props.onAfterClose) {
              _this.props.onAfterClose();
            }
            _portalOpenInstances2.default.deregister(_this);
          };
          _this.open = function() {
            _this.beforeOpen();
            if (_this.state.afterOpen && _this.state.beforeClose) {
              clearTimeout(_this.closeTimer);
              _this.setState({ beforeClose: false });
            } else {
              if (_this.props.shouldFocusAfterRender) {
                focusManager2.setupScopedFocus(_this.node);
                focusManager2.markForFocusLater();
              }
              _this.setState({ isOpen: true }, function() {
                _this.openAnimationFrame = requestAnimationFrame(function() {
                  _this.setState({ afterOpen: true });
                  if (_this.props.isOpen && _this.props.onAfterOpen) {
                    _this.props.onAfterOpen({
                      overlayEl: _this.overlay,
                      contentEl: _this.content
                    });
                  }
                });
              });
            }
          };
          _this.close = function() {
            if (_this.props.closeTimeoutMS > 0) {
              _this.closeWithTimeout();
            } else {
              _this.closeWithoutTimeout();
            }
          };
          _this.focusContent = function() {
            return _this.content && !_this.contentHasFocus() && _this.content.focus({ preventScroll: true });
          };
          _this.closeWithTimeout = function() {
            var closesAt = Date.now() + _this.props.closeTimeoutMS;
            _this.setState({ beforeClose: true, closesAt }, function() {
              _this.closeTimer = setTimeout(_this.closeWithoutTimeout, _this.state.closesAt - Date.now());
            });
          };
          _this.closeWithoutTimeout = function() {
            _this.setState({
              beforeClose: false,
              isOpen: false,
              afterOpen: false,
              closesAt: null
            }, _this.afterClose);
          };
          _this.handleKeyDown = function(event) {
            if (event.keyCode === TAB_KEY) {
              (0, _scopeTab2.default)(_this.content, event);
            }
            if (_this.props.shouldCloseOnEsc && event.keyCode === ESC_KEY) {
              event.stopPropagation();
              _this.requestClose(event);
            }
          };
          _this.handleOverlayOnClick = function(event) {
            if (_this.shouldClose === null) {
              _this.shouldClose = true;
            }
            if (_this.shouldClose && _this.props.shouldCloseOnOverlayClick) {
              if (_this.ownerHandlesClose()) {
                _this.requestClose(event);
              } else {
                _this.focusContent();
              }
            }
            _this.shouldClose = null;
          };
          _this.handleContentOnMouseUp = function() {
            _this.shouldClose = false;
          };
          _this.handleOverlayOnMouseDown = function(event) {
            if (!_this.props.shouldCloseOnOverlayClick && event.target == _this.overlay) {
              event.preventDefault();
            }
          };
          _this.handleContentOnClick = function() {
            _this.shouldClose = false;
          };
          _this.handleContentOnMouseDown = function() {
            _this.shouldClose = false;
          };
          _this.requestClose = function(event) {
            return _this.ownerHandlesClose() && _this.props.onRequestClose(event);
          };
          _this.ownerHandlesClose = function() {
            return _this.props.onRequestClose;
          };
          _this.shouldBeClosed = function() {
            return !_this.state.isOpen && !_this.state.beforeClose;
          };
          _this.contentHasFocus = function() {
            return document.activeElement === _this.content || _this.content.contains(document.activeElement);
          };
          _this.buildClassName = function(which, additional) {
            var classNames = (typeof additional === "undefined" ? "undefined" : _typeof(additional)) === "object" ? additional : {
              base: CLASS_NAMES[which],
              afterOpen: CLASS_NAMES[which] + "--after-open",
              beforeClose: CLASS_NAMES[which] + "--before-close"
            };
            var className = classNames.base;
            if (_this.state.afterOpen) {
              className = className + " " + classNames.afterOpen;
            }
            if (_this.state.beforeClose) {
              className = className + " " + classNames.beforeClose;
            }
            return typeof additional === "string" && additional ? className + " " + additional : className;
          };
          _this.attributesFromObject = function(prefix3, items) {
            return Object.keys(items).reduce(function(acc, name) {
              acc[prefix3 + "-" + name] = items[name];
              return acc;
            }, {});
          };
          _this.state = {
            afterOpen: false,
            beforeClose: false
          };
          _this.shouldClose = null;
          _this.moveFromContentToOverlay = null;
          return _this;
        }
        _createClass(ModalPortal2, [{
          key: "componentDidMount",
          value: function componentDidMount() {
            if (this.props.isOpen) {
              this.open();
            }
          }
        }, {
          key: "componentDidUpdate",
          value: function componentDidUpdate(prevProps, prevState) {
            if (true) {
              if (prevProps.bodyOpenClassName !== this.props.bodyOpenClassName) {
                console.warn('React-Modal: "bodyOpenClassName" prop has been modified. This may cause unexpected behavior when multiple modals are open.');
              }
              if (prevProps.htmlOpenClassName !== this.props.htmlOpenClassName) {
                console.warn('React-Modal: "htmlOpenClassName" prop has been modified. This may cause unexpected behavior when multiple modals are open.');
              }
            }
            if (this.props.isOpen && !prevProps.isOpen) {
              this.open();
            } else if (!this.props.isOpen && prevProps.isOpen) {
              this.close();
            }
            if (this.props.shouldFocusAfterRender && this.state.isOpen && !prevState.isOpen) {
              this.focusContent();
            }
          }
        }, {
          key: "componentWillUnmount",
          value: function componentWillUnmount() {
            if (this.state.isOpen) {
              this.afterClose();
            }
            clearTimeout(this.closeTimer);
            cancelAnimationFrame(this.openAnimationFrame);
          }
        }, {
          key: "beforeOpen",
          value: function beforeOpen() {
            var _props = this.props, appElement = _props.appElement, ariaHideApp = _props.ariaHideApp, htmlOpenClassName = _props.htmlOpenClassName, bodyOpenClassName = _props.bodyOpenClassName;
            bodyOpenClassName && classList.add(document.body, bodyOpenClassName);
            htmlOpenClassName && classList.add(document.getElementsByTagName("html")[0], htmlOpenClassName);
            if (ariaHideApp) {
              ariaHiddenInstances += 1;
              ariaAppHider.hide(appElement);
            }
            _portalOpenInstances2.default.register(this);
          }
        }, {
          key: "render",
          value: function render2() {
            var _props2 = this.props, id = _props2.id, className = _props2.className, overlayClassName = _props2.overlayClassName, defaultStyles = _props2.defaultStyles, children = _props2.children;
            var contentStyles = className ? {} : defaultStyles.content;
            var overlayStyles = overlayClassName ? {} : defaultStyles.overlay;
            if (this.shouldBeClosed()) {
              return null;
            }
            var overlayProps = {
              ref: this.setOverlayRef,
              className: this.buildClassName("overlay", overlayClassName),
              style: _extends3({}, overlayStyles, this.props.style.overlay),
              onClick: this.handleOverlayOnClick,
              onMouseDown: this.handleOverlayOnMouseDown
            };
            var contentProps = _extends3({
              id,
              ref: this.setContentRef,
              style: _extends3({}, contentStyles, this.props.style.content),
              className: this.buildClassName("content", className),
              tabIndex: "-1",
              onKeyDown: this.handleKeyDown,
              onMouseDown: this.handleContentOnMouseDown,
              onMouseUp: this.handleContentOnMouseUp,
              onClick: this.handleContentOnClick,
              role: this.props.role,
              "aria-label": this.props.contentLabel
            }, this.attributesFromObject("aria", _extends3({ modal: true }, this.props.aria)), this.attributesFromObject("data", this.props.data || {}), {
              "data-testid": this.props.testId
            });
            var contentElement = this.props.contentElement(contentProps, children);
            return this.props.overlayElement(overlayProps, contentElement);
          }
        }]);
        return ModalPortal2;
      }(_react.Component);
      ModalPortal.defaultProps = {
        style: {
          overlay: {},
          content: {}
        },
        defaultStyles: {}
      };
      ModalPortal.propTypes = {
        isOpen: _propTypes2.default.bool.isRequired,
        defaultStyles: _propTypes2.default.shape({
          content: _propTypes2.default.object,
          overlay: _propTypes2.default.object
        }),
        style: _propTypes2.default.shape({
          content: _propTypes2.default.object,
          overlay: _propTypes2.default.object
        }),
        className: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]),
        overlayClassName: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]),
        bodyOpenClassName: _propTypes2.default.string,
        htmlOpenClassName: _propTypes2.default.string,
        ariaHideApp: _propTypes2.default.bool,
        appElement: _propTypes2.default.oneOfType([_propTypes2.default.instanceOf(_safeHTMLElement2.default), _propTypes2.default.instanceOf(_safeHTMLElement.SafeHTMLCollection), _propTypes2.default.instanceOf(_safeHTMLElement.SafeNodeList), _propTypes2.default.arrayOf(_propTypes2.default.instanceOf(_safeHTMLElement2.default))]),
        onAfterOpen: _propTypes2.default.func,
        onAfterClose: _propTypes2.default.func,
        onRequestClose: _propTypes2.default.func,
        closeTimeoutMS: _propTypes2.default.number,
        shouldFocusAfterRender: _propTypes2.default.bool,
        shouldCloseOnOverlayClick: _propTypes2.default.bool,
        shouldReturnFocusAfterClose: _propTypes2.default.bool,
        preventScroll: _propTypes2.default.bool,
        role: _propTypes2.default.string,
        contentLabel: _propTypes2.default.string,
        aria: _propTypes2.default.object,
        data: _propTypes2.default.object,
        children: _propTypes2.default.node,
        shouldCloseOnEsc: _propTypes2.default.bool,
        overlayRef: _propTypes2.default.func,
        contentRef: _propTypes2.default.func,
        id: _propTypes2.default.string,
        overlayElement: _propTypes2.default.func,
        contentElement: _propTypes2.default.func,
        testId: _propTypes2.default.string
      };
      exports.default = ModalPortal;
      module.exports = exports["default"];
    }
  });

  // ../../node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js
  var react_lifecycles_compat_es_exports = {};
  __export(react_lifecycles_compat_es_exports, {
    polyfill: () => polyfill
  });
  function componentWillMount() {
    var state = this.constructor.getDerivedStateFromProps(this.props, this.state);
    if (state !== null && state !== void 0) {
      this.setState(state);
    }
  }
  function componentWillReceiveProps(nextProps) {
    function updater(prevState) {
      var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);
      return state !== null && state !== void 0 ? state : null;
    }
    this.setState(updater.bind(this));
  }
  function componentWillUpdate(nextProps, nextState) {
    try {
      var prevProps = this.props;
      var prevState = this.state;
      this.props = nextProps;
      this.state = nextState;
      this.__reactInternalSnapshotFlag = true;
      this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(prevProps, prevState);
    } finally {
      this.props = prevProps;
      this.state = prevState;
    }
  }
  function polyfill(Component2) {
    var prototype = Component2.prototype;
    if (!prototype || !prototype.isReactComponent) {
      throw new Error("Can only polyfill class components");
    }
    if (typeof Component2.getDerivedStateFromProps !== "function" && typeof prototype.getSnapshotBeforeUpdate !== "function") {
      return Component2;
    }
    var foundWillMountName = null;
    var foundWillReceivePropsName = null;
    var foundWillUpdateName = null;
    if (typeof prototype.componentWillMount === "function") {
      foundWillMountName = "componentWillMount";
    } else if (typeof prototype.UNSAFE_componentWillMount === "function") {
      foundWillMountName = "UNSAFE_componentWillMount";
    }
    if (typeof prototype.componentWillReceiveProps === "function") {
      foundWillReceivePropsName = "componentWillReceiveProps";
    } else if (typeof prototype.UNSAFE_componentWillReceiveProps === "function") {
      foundWillReceivePropsName = "UNSAFE_componentWillReceiveProps";
    }
    if (typeof prototype.componentWillUpdate === "function") {
      foundWillUpdateName = "componentWillUpdate";
    } else if (typeof prototype.UNSAFE_componentWillUpdate === "function") {
      foundWillUpdateName = "UNSAFE_componentWillUpdate";
    }
    if (foundWillMountName !== null || foundWillReceivePropsName !== null || foundWillUpdateName !== null) {
      var componentName = Component2.displayName || Component2.name;
      var newApiName = typeof Component2.getDerivedStateFromProps === "function" ? "getDerivedStateFromProps()" : "getSnapshotBeforeUpdate()";
      throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n" + componentName + " uses " + newApiName + " but also contains the following legacy lifecycles:" + (foundWillMountName !== null ? "\n  " + foundWillMountName : "") + (foundWillReceivePropsName !== null ? "\n  " + foundWillReceivePropsName : "") + (foundWillUpdateName !== null ? "\n  " + foundWillUpdateName : "") + "\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks");
    }
    if (typeof Component2.getDerivedStateFromProps === "function") {
      prototype.componentWillMount = componentWillMount;
      prototype.componentWillReceiveProps = componentWillReceiveProps;
    }
    if (typeof prototype.getSnapshotBeforeUpdate === "function") {
      if (typeof prototype.componentDidUpdate !== "function") {
        throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");
      }
      prototype.componentWillUpdate = componentWillUpdate;
      var componentDidUpdate = prototype.componentDidUpdate;
      prototype.componentDidUpdate = function componentDidUpdatePolyfill(prevProps, prevState, maybeSnapshot) {
        var snapshot = this.__reactInternalSnapshotFlag ? this.__reactInternalSnapshot : maybeSnapshot;
        componentDidUpdate.call(this, prevProps, prevState, snapshot);
      };
    }
    return Component2;
  }
  var init_react_lifecycles_compat_es = __esm({
    "../../node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js"() {
      componentWillMount.__suppressDeprecationWarning = true;
      componentWillReceiveProps.__suppressDeprecationWarning = true;
      componentWillUpdate.__suppressDeprecationWarning = true;
    }
  });

  // ../../node_modules/react-modal/lib/components/Modal.js
  var require_Modal = __commonJS({
    "../../node_modules/react-modal/lib/components/Modal.js"(exports) {
      "use strict";
      Object.defineProperty(exports, "__esModule", {
        value: true
      });
      exports.bodyOpenClassName = exports.portalClassName = void 0;
      var _extends3 = Object.assign || function(target) {
        for (var i3 = 1; i3 < arguments.length; i3++) {
          var source = arguments[i3];
          for (var key in source) {
            if (Object.prototype.hasOwnProperty.call(source, key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      };
      var _createClass = function() {
        function defineProperties(target, props) {
          for (var i3 = 0; i3 < props.length; i3++) {
            var descriptor = props[i3];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor)
              descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }
        return function(Constructor, protoProps, staticProps) {
          if (protoProps)
            defineProperties(Constructor.prototype, protoProps);
          if (staticProps)
            defineProperties(Constructor, staticProps);
          return Constructor;
        };
      }();
      var _react = require_react();
      var _react2 = _interopRequireDefault(_react);
      var _reactDom = require_react_dom();
      var _reactDom2 = _interopRequireDefault(_reactDom);
      var _propTypes = require_prop_types();
      var _propTypes2 = _interopRequireDefault(_propTypes);
      var _ModalPortal = require_ModalPortal();
      var _ModalPortal2 = _interopRequireDefault(_ModalPortal);
      var _ariaAppHider = require_ariaAppHider();
      var ariaAppHider = _interopRequireWildcard(_ariaAppHider);
      var _safeHTMLElement = require_safeHTMLElement();
      var _safeHTMLElement2 = _interopRequireDefault(_safeHTMLElement);
      var _reactLifecyclesCompat = (init_react_lifecycles_compat_es(), __toCommonJS(react_lifecycles_compat_es_exports));
      function _interopRequireWildcard(obj) {
        if (obj && obj.__esModule) {
          return obj;
        } else {
          var newObj = {};
          if (obj != null) {
            for (var key in obj) {
              if (Object.prototype.hasOwnProperty.call(obj, key))
                newObj[key] = obj[key];
            }
          }
          newObj.default = obj;
          return newObj;
        }
      }
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : { default: obj };
      }
      function _classCallCheck(instance2, Constructor) {
        if (!(instance2 instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _possibleConstructorReturn(self2, call) {
        if (!self2) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return call && (typeof call === "object" || typeof call === "function") ? call : self2;
      }
      function _inherits(subClass, superClass) {
        if (typeof superClass !== "function" && superClass !== null) {
          throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
        if (superClass)
          Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
      }
      var portalClassName = exports.portalClassName = "ReactModalPortal";
      var bodyOpenClassName = exports.bodyOpenClassName = "ReactModal__Body--open";
      var isReact16 = _safeHTMLElement.canUseDOM && _reactDom2.default.createPortal !== void 0;
      var createHTMLElement = function createHTMLElement2(name) {
        return document.createElement(name);
      };
      var getCreatePortal = function getCreatePortal2() {
        return isReact16 ? _reactDom2.default.createPortal : _reactDom2.default.unstable_renderSubtreeIntoContainer;
      };
      function getParentElement(parentSelector) {
        return parentSelector();
      }
      var Modal3 = function(_Component) {
        _inherits(Modal4, _Component);
        function Modal4() {
          var _ref;
          var _temp, _this, _ret;
          _classCallCheck(this, Modal4);
          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Modal4.__proto__ || Object.getPrototypeOf(Modal4)).call.apply(_ref, [this].concat(args))), _this), _this.removePortal = function() {
            !isReact16 && _reactDom2.default.unmountComponentAtNode(_this.node);
            var parent = getParentElement(_this.props.parentSelector);
            if (parent && parent.contains(_this.node)) {
              parent.removeChild(_this.node);
            } else {
              console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.');
            }
          }, _this.portalRef = function(ref2) {
            _this.portal = ref2;
          }, _this.renderPortal = function(props) {
            var createPortal2 = getCreatePortal();
            var portal = createPortal2(_this, _react2.default.createElement(_ModalPortal2.default, _extends3({ defaultStyles: Modal4.defaultStyles }, props)), _this.node);
            _this.portalRef(portal);
          }, _temp), _possibleConstructorReturn(_this, _ret);
        }
        _createClass(Modal4, [{
          key: "componentDidMount",
          value: function componentDidMount() {
            if (!_safeHTMLElement.canUseDOM)
              return;
            if (!isReact16) {
              this.node = createHTMLElement("div");
            }
            this.node.className = this.props.portalClassName;
            var parent = getParentElement(this.props.parentSelector);
            parent.appendChild(this.node);
            !isReact16 && this.renderPortal(this.props);
          }
        }, {
          key: "getSnapshotBeforeUpdate",
          value: function getSnapshotBeforeUpdate(prevProps) {
            var prevParent = getParentElement(prevProps.parentSelector);
            var nextParent = getParentElement(this.props.parentSelector);
            return { prevParent, nextParent };
          }
        }, {
          key: "componentDidUpdate",
          value: function componentDidUpdate(prevProps, _2, snapshot) {
            if (!_safeHTMLElement.canUseDOM)
              return;
            var _props = this.props, isOpen = _props.isOpen, portalClassName2 = _props.portalClassName;
            if (prevProps.portalClassName !== portalClassName2) {
              this.node.className = portalClassName2;
            }
            var prevParent = snapshot.prevParent, nextParent = snapshot.nextParent;
            if (nextParent !== prevParent) {
              prevParent.removeChild(this.node);
              nextParent.appendChild(this.node);
            }
            if (!prevProps.isOpen && !isOpen)
              return;
            !isReact16 && this.renderPortal(this.props);
          }
        }, {
          key: "componentWillUnmount",
          value: function componentWillUnmount() {
            if (!_safeHTMLElement.canUseDOM || !this.node || !this.portal)
              return;
            var state = this.portal.state;
            var now = Date.now();
            var closesAt = state.isOpen && this.props.closeTimeoutMS && (state.closesAt || now + this.props.closeTimeoutMS);
            if (closesAt) {
              if (!state.beforeClose) {
                this.portal.closeWithTimeout();
              }
              setTimeout(this.removePortal, closesAt - now);
            } else {
              this.removePortal();
            }
          }
        }, {
          key: "render",
          value: function render2() {
            if (!_safeHTMLElement.canUseDOM || !isReact16) {
              return null;
            }
            if (!this.node && isReact16) {
              this.node = createHTMLElement("div");
            }
            var createPortal2 = getCreatePortal();
            return createPortal2(_react2.default.createElement(_ModalPortal2.default, _extends3({
              ref: this.portalRef,
              defaultStyles: Modal4.defaultStyles
            }, this.props)), this.node);
          }
        }], [{
          key: "setAppElement",
          value: function setAppElement(element) {
            ariaAppHider.setElement(element);
          }
        }]);
        return Modal4;
      }(_react.Component);
      Modal3.propTypes = {
        isOpen: _propTypes2.default.bool.isRequired,
        style: _propTypes2.default.shape({
          content: _propTypes2.default.object,
          overlay: _propTypes2.default.object
        }),
        portalClassName: _propTypes2.default.string,
        bodyOpenClassName: _propTypes2.default.string,
        htmlOpenClassName: _propTypes2.default.string,
        className: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.shape({
          base: _propTypes2.default.string.isRequired,
          afterOpen: _propTypes2.default.string.isRequired,
          beforeClose: _propTypes2.default.string.isRequired
        })]),
        overlayClassName: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.shape({
          base: _propTypes2.default.string.isRequired,
          afterOpen: _propTypes2.default.string.isRequired,
          beforeClose: _propTypes2.default.string.isRequired
        })]),
        appElement: _propTypes2.default.oneOfType([_propTypes2.default.instanceOf(_safeHTMLElement2.default), _propTypes2.default.instanceOf(_safeHTMLElement.SafeHTMLCollection), _propTypes2.default.instanceOf(_safeHTMLElement.SafeNodeList), _propTypes2.default.arrayOf(_propTypes2.default.instanceOf(_safeHTMLElement2.default))]),
        onAfterOpen: _propTypes2.default.func,
        onRequestClose: _propTypes2.default.func,
        closeTimeoutMS: _propTypes2.default.number,
        ariaHideApp: _propTypes2.default.bool,
        shouldFocusAfterRender: _propTypes2.default.bool,
        shouldCloseOnOverlayClick: _propTypes2.default.bool,
        shouldReturnFocusAfterClose: _propTypes2.default.bool,
        preventScroll: _propTypes2.default.bool,
        parentSelector: _propTypes2.default.func,
        aria: _propTypes2.default.object,
        data: _propTypes2.default.object,
        role: _propTypes2.default.string,
        contentLabel: _propTypes2.default.string,
        shouldCloseOnEsc: _propTypes2.default.bool,
        overlayRef: _propTypes2.default.func,
        contentRef: _propTypes2.default.func,
        id: _propTypes2.default.string,
        overlayElement: _propTypes2.default.func,
        contentElement: _propTypes2.default.func
      };
      Modal3.defaultProps = {
        isOpen: false,
        portalClassName,
        bodyOpenClassName,
        role: "dialog",
        ariaHideApp: true,
        closeTimeoutMS: 0,
        shouldFocusAfterRender: true,
        shouldCloseOnEsc: true,
        shouldCloseOnOverlayClick: true,
        shouldReturnFocusAfterClose: true,
        preventScroll: false,
        parentSelector: function parentSelector() {
          return document.body;
        },
        overlayElement: function overlayElement(props, contentEl) {
          return _react2.default.createElement("div", props, contentEl);
        },
        contentElement: function contentElement(props, children) {
          return _react2.default.createElement("div", props, children);
        }
      };
      Modal3.defaultStyles = {
        overlay: {
          position: "fixed",
          top: 0,
          left: 0,
          right: 0,
          bottom: 0,
          backgroundColor: "rgba(255, 255, 255, 0.75)"
        },
        content: {
          position: "absolute",
          top: "40px",
          left: "40px",
          right: "40px",
          bottom: "40px",
          border: "1px solid #ccc",
          background: "#fff",
          overflow: "auto",
          WebkitOverflowScrolling: "touch",
          borderRadius: "4px",
          outline: "none",
          padding: "20px"
        }
      };
      (0, _reactLifecyclesCompat.polyfill)(Modal3);
      if (true) {
        Modal3.setCreateHTMLElement = function(fn4) {
          return createHTMLElement = fn4;
        };
      }
      exports.default = Modal3;
    }
  });

  // ../../node_modules/react-modal/lib/index.js
  var require_lib = __commonJS({
    "../../node_modules/react-modal/lib/index.js"(exports, module) {
      "use strict";
      Object.defineProperty(exports, "__esModule", {
        value: true
      });
      var _Modal = require_Modal();
      var _Modal2 = _interopRequireDefault(_Modal);
      function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : { default: obj };
      }
      exports.default = _Modal2.default;
      module.exports = exports["default"];
    }
  });

  // ../../node_modules/lodash/_freeGlobal.js
  var require_freeGlobal = __commonJS({
    "../../node_modules/lodash/_freeGlobal.js"(exports, module) {
      var freeGlobal = typeof global == "object" && global && global.Object === Object && global;
      module.exports = freeGlobal;
    }
  });

  // ../../node_modules/lodash/_root.js
  var require_root = __commonJS({
    "../../node_modules/lodash/_root.js"(exports, module) {
      var freeGlobal = require_freeGlobal();
      var freeSelf = typeof self == "object" && self && self.Object === Object && self;
      var root = freeGlobal || freeSelf || Function("return this")();
      module.exports = root;
    }
  });

  // ../../node_modules/lodash/_Symbol.js
  var require_Symbol = __commonJS({
    "../../node_modules/lodash/_Symbol.js"(exports, module) {
      var root = require_root();
      var Symbol2 = root.Symbol;
      module.exports = Symbol2;
    }
  });

  // ../../node_modules/lodash/_getRawTag.js
  var require_getRawTag = __commonJS({
    "../../node_modules/lodash/_getRawTag.js"(exports, module) {
      var Symbol2 = require_Symbol();
      var objectProto = Object.prototype;
      var hasOwnProperty2 = objectProto.hasOwnProperty;
      var nativeObjectToString = objectProto.toString;
      var symToStringTag = Symbol2 ? Symbol2.toStringTag : void 0;
      function getRawTag(value) {
        var isOwn = hasOwnProperty2.call(value, symToStringTag), tag = value[symToStringTag];
        try {
          value[symToStringTag] = void 0;
          var unmasked = true;
        } catch (e2) {
        }
        var result = nativeObjectToString.call(value);
        if (unmasked) {
          if (isOwn) {
            value[symToStringTag] = tag;
          } else {
            delete value[symToStringTag];
          }
        }
        return result;
      }
      module.exports = getRawTag;
    }
  });

  // ../../node_modules/lodash/_objectToString.js
  var require_objectToString = __commonJS({
    "../../node_modules/lodash/_objectToString.js"(exports, module) {
      var objectProto = Object.prototype;
      var nativeObjectToString = objectProto.toString;
      function objectToString(value) {
        return nativeObjectToString.call(value);
      }
      module.exports = objectToString;
    }
  });

  // ../../node_modules/lodash/_baseGetTag.js
  var require_baseGetTag = __commonJS({
    "../../node_modules/lodash/_baseGetTag.js"(exports, module) {
      var Symbol2 = require_Symbol();
      var getRawTag = require_getRawTag();
      var objectToString = require_objectToString();
      var nullTag = "[object Null]";
      var undefinedTag = "[object Undefined]";
      var symToStringTag = Symbol2 ? Symbol2.toStringTag : void 0;
      function baseGetTag(value) {
        if (value == null) {
          return value === void 0 ? undefinedTag : nullTag;
        }
        return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);
      }
      module.exports = baseGetTag;
    }
  });

  // ../../node_modules/lodash/isObject.js
  var require_isObject = __commonJS({
    "../../node_modules/lodash/isObject.js"(exports, module) {
      function isObject(value) {
        var type = typeof value;
        return value != null && (type == "object" || type == "function");
      }
      module.exports = isObject;
    }
  });

  // ../../node_modules/lodash/isFunction.js
  var require_isFunction = __commonJS({
    "../../node_modules/lodash/isFunction.js"(exports, module) {
      var baseGetTag = require_baseGetTag();
      var isObject = require_isObject();
      var asyncTag = "[object AsyncFunction]";
      var funcTag = "[object Function]";
      var genTag = "[object GeneratorFunction]";
      var proxyTag = "[object Proxy]";
      function isFunction3(value) {
        if (!isObject(value)) {
          return false;
        }
        var tag = baseGetTag(value);
        return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
      }
      module.exports = isFunction3;
    }
  });

  // ../../node_modules/lodash/_coreJsData.js
  var require_coreJsData = __commonJS({
    "../../node_modules/lodash/_coreJsData.js"(exports, module) {
      var root = require_root();
      var coreJsData = root["__core-js_shared__"];
      module.exports = coreJsData;
    }
  });

  // ../../node_modules/lodash/_isMasked.js
  var require_isMasked = __commonJS({
    "../../node_modules/lodash/_isMasked.js"(exports, module) {
      var coreJsData = require_coreJsData();
      var maskSrcKey = function() {
        var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || "");
        return uid ? "Symbol(src)_1." + uid : "";
      }();
      function isMasked(func) {
        return !!maskSrcKey && maskSrcKey in func;
      }
      module.exports = isMasked;
    }
  });

  // ../../node_modules/lodash/_toSource.js
  var require_toSource = __commonJS({
    "../../node_modules/lodash/_toSource.js"(exports, module) {
      var funcProto = Function.prototype;
      var funcToString = funcProto.toString;
      function toSource(func) {
        if (func != null) {
          try {
            return funcToString.call(func);
          } catch (e2) {
          }
          try {
            return func + "";
          } catch (e2) {
          }
        }
        return "";
      }
      module.exports = toSource;
    }
  });

  // ../../node_modules/lodash/_baseIsNative.js
  var require_baseIsNative = __commonJS({
    "../../node_modules/lodash/_baseIsNative.js"(exports, module) {
      var isFunction3 = require_isFunction();
      var isMasked = require_isMasked();
      var isObject = require_isObject();
      var toSource = require_toSource();
      var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;
      var reIsHostCtor = /^\[object .+?Constructor\]$/;
      var funcProto = Function.prototype;
      var objectProto = Object.prototype;
      var funcToString = funcProto.toString;
      var hasOwnProperty2 = objectProto.hasOwnProperty;
      var reIsNative = RegExp("^" + funcToString.call(hasOwnProperty2).replace(reRegExpChar, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
      function baseIsNative(value) {
        if (!isObject(value) || isMasked(value)) {
          return false;
        }
        var pattern = isFunction3(value) ? reIsNative : reIsHostCtor;
        return pattern.test(toSource(value));
      }
      module.exports = baseIsNative;
    }
  });

  // ../../node_modules/lodash/_getValue.js
  var require_getValue = __commonJS({
    "../../node_modules/lodash/_getValue.js"(exports, module) {
      function getValue2(object, key) {
        return object == null ? void 0 : object[key];
      }
      module.exports = getValue2;
    }
  });

  // ../../node_modules/lodash/_getNative.js
  var require_getNative = __commonJS({
    "../../node_modules/lodash/_getNative.js"(exports, module) {
      var baseIsNative = require_baseIsNative();
      var getValue2 = require_getValue();
      function getNative(object, key) {
        var value = getValue2(object, key);
        return baseIsNative(value) ? value : void 0;
      }
      module.exports = getNative;
    }
  });

  // ../../node_modules/lodash/_defineProperty.js
  var require_defineProperty = __commonJS({
    "../../node_modules/lodash/_defineProperty.js"(exports, module) {
      var getNative = require_getNative();
      var defineProperty = function() {
        try {
          var func = getNative(Object, "defineProperty");
          func({}, "", {});
          return func;
        } catch (e2) {
        }
      }();
      module.exports = defineProperty;
    }
  });

  // ../../node_modules/lodash/_baseAssignValue.js
  var require_baseAssignValue = __commonJS({
    "../../node_modules/lodash/_baseAssignValue.js"(exports, module) {
      var defineProperty = require_defineProperty();
      function baseAssignValue(object, key, value) {
        if (key == "__proto__" && defineProperty) {
          defineProperty(object, key, {
            "configurable": true,
            "enumerable": true,
            "value": value,
            "writable": true
          });
        } else {
          object[key] = value;
        }
      }
      module.exports = baseAssignValue;
    }
  });

  // ../../node_modules/lodash/_arrayAggregator.js
  var require_arrayAggregator = __commonJS({
    "../../node_modules/lodash/_arrayAggregator.js"(exports, module) {
      function arrayAggregator(array, setter, iteratee, accumulator) {
        var index2 = -1, length = array == null ? 0 : array.length;
        while (++index2 < length) {
          var value = array[index2];
          setter(accumulator, value, iteratee(value), array);
        }
        return accumulator;
      }
      module.exports = arrayAggregator;
    }
  });

  // ../../node_modules/lodash/_createBaseFor.js
  var require_createBaseFor = __commonJS({
    "../../node_modules/lodash/_createBaseFor.js"(exports, module) {
      function createBaseFor(fromRight) {
        return function(object, iteratee, keysFunc) {
          var index2 = -1, iterable = Object(object), props = keysFunc(object), length = props.length;
          while (length--) {
            var key = props[fromRight ? length : ++index2];
            if (iteratee(iterable[key], key, iterable) === false) {
              break;
            }
          }
          return object;
        };
      }
      module.exports = createBaseFor;
    }
  });

  // ../../node_modules/lodash/_baseFor.js
  var require_baseFor = __commonJS({
    "../../node_modules/lodash/_baseFor.js"(exports, module) {
      var createBaseFor = require_createBaseFor();
      var baseFor = createBaseFor();
      module.exports = baseFor;
    }
  });

  // ../../node_modules/lodash/_baseTimes.js
  var require_baseTimes = __commonJS({
    "../../node_modules/lodash/_baseTimes.js"(exports, module) {
      function baseTimes(n3, iteratee) {
        var index2 = -1, result = Array(n3);
        while (++index2 < n3) {
          result[index2] = iteratee(index2);
        }
        return result;
      }
      module.exports = baseTimes;
    }
  });

  // ../../node_modules/lodash/isObjectLike.js
  var require_isObjectLike = __commonJS({
    "../../node_modules/lodash/isObjectLike.js"(exports, module) {
      function isObjectLike(value) {
        return value != null && typeof value == "object";
      }
      module.exports = isObjectLike;
    }
  });

  // ../../node_modules/lodash/_baseIsArguments.js
  var require_baseIsArguments = __commonJS({
    "../../node_modules/lodash/_baseIsArguments.js"(exports, module) {
      var baseGetTag = require_baseGetTag();
      var isObjectLike = require_isObjectLike();
      var argsTag = "[object Arguments]";
      function baseIsArguments(value) {
        return isObjectLike(value) && baseGetTag(value) == argsTag;
      }
      module.exports = baseIsArguments;
    }
  });

  // ../../node_modules/lodash/isArguments.js
  var require_isArguments = __commonJS({
    "../../node_modules/lodash/isArguments.js"(exports, module) {
      var baseIsArguments = require_baseIsArguments();
      var isObjectLike = require_isObjectLike();
      var objectProto = Object.prototype;
      var hasOwnProperty2 = objectProto.hasOwnProperty;
      var propertyIsEnumerable = objectProto.propertyIsEnumerable;
      var isArguments = baseIsArguments(function() {
        return arguments;
      }()) ? baseIsArguments : function(value) {
        return isObjectLike(value) && hasOwnProperty2.call(value, "callee") && !propertyIsEnumerable.call(value, "callee");
      };
      module.exports = isArguments;
    }
  });

  // ../../node_modules/lodash/isArray.js
  var require_isArray = __commonJS({
    "../../node_modules/lodash/isArray.js"(exports, module) {
      var isArray = Array.isArray;
      module.exports = isArray;
    }
  });

  // ../../node_modules/lodash/stubFalse.js
  var require_stubFalse = __commonJS({
    "../../node_modules/lodash/stubFalse.js"(exports, module) {
      function stubFalse() {
        return false;
      }
      module.exports = stubFalse;
    }
  });

  // ../../node_modules/lodash/isBuffer.js
  var require_isBuffer = __commonJS({
    "../../node_modules/lodash/isBuffer.js"(exports, module) {
      var root = require_root();
      var stubFalse = require_stubFalse();
      var freeExports = typeof exports == "object" && exports && !exports.nodeType && exports;
      var freeModule = freeExports && typeof module == "object" && module && !module.nodeType && module;
      var moduleExports = freeModule && freeModule.exports === freeExports;
      var Buffer2 = moduleExports ? root.Buffer : void 0;
      var nativeIsBuffer = Buffer2 ? Buffer2.isBuffer : void 0;
      var isBuffer = nativeIsBuffer || stubFalse;
      module.exports = isBuffer;
    }
  });

  // ../../node_modules/lodash/_isIndex.js
  var require_isIndex = __commonJS({
    "../../node_modules/lodash/_isIndex.js"(exports, module) {
      var MAX_SAFE_INTEGER = 9007199254740991;
      var reIsUint = /^(?:0|[1-9]\d*)$/;
      function isIndex(value, length) {
        var type = typeof value;
        length = length == null ? MAX_SAFE_INTEGER : length;
        return !!length && (type == "number" || type != "symbol" && reIsUint.test(value)) && (value > -1 && value % 1 == 0 && value < length);
      }
      module.exports = isIndex;
    }
  });

  // ../../node_modules/lodash/isLength.js
  var require_isLength = __commonJS({
    "../../node_modules/lodash/isLength.js"(exports, module) {
      var MAX_SAFE_INTEGER = 9007199254740991;
      function isLength(value) {
        return typeof value == "number" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
      }
      module.exports = isLength;
    }
  });

  // ../../node_modules/lodash/_baseIsTypedArray.js
  var require_baseIsTypedArray = __commonJS({
    "../../node_modules/lodash/_baseIsTypedArray.js"(exports, module) {
      var baseGetTag = require_baseGetTag();
      var isLength = require_isLength();
      var isObjectLike = require_isObjectLike();
      var argsTag = "[object Arguments]";
      var arrayTag = "[object Array]";
      var boolTag = "[object Boolean]";
      var dateTag = "[object Date]";
      var errorTag = "[object Error]";
      var funcTag = "[object Function]";
      var mapTag = "[object Map]";
      var numberTag = "[object Number]";
      var objectTag = "[object Object]";
      var regexpTag = "[object RegExp]";
      var setTag = "[object Set]";
      var stringTag = "[object String]";
      var weakMapTag = "[object WeakMap]";
      var arrayBufferTag = "[object ArrayBuffer]";
      var dataViewTag = "[object DataView]";
      var float32Tag = "[object Float32Array]";
      var float64Tag = "[object Float64Array]";
      var int8Tag = "[object Int8Array]";
      var int16Tag = "[object Int16Array]";
      var int32Tag = "[object Int32Array]";
      var uint8Tag = "[object Uint8Array]";
      var uint8ClampedTag = "[object Uint8ClampedArray]";
      var uint16Tag = "[object Uint16Array]";
      var uint32Tag = "[object Uint32Array]";
      var typedArrayTags = {};
      typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;
      typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;
      function baseIsTypedArray(value) {
        return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];
      }
      module.exports = baseIsTypedArray;
    }
  });

  // ../../node_modules/lodash/_baseUnary.js
  var require_baseUnary = __commonJS({
    "../../node_modules/lodash/_baseUnary.js"(exports, module) {
      function baseUnary(func) {
        return function(value) {
          return func(value);
        };
      }
      module.exports = baseUnary;
    }
  });

  // ../../node_modules/lodash/_nodeUtil.js
  var require_nodeUtil = __commonJS({
    "../../node_modules/lodash/_nodeUtil.js"(exports, module) {
      var freeGlobal = require_freeGlobal();
      var freeExports = typeof exports == "object" && exports && !exports.nodeType && exports;
      var freeModule = freeExports && typeof module == "object" && module && !module.nodeType && module;
      var moduleExports = freeModule && freeModule.exports === freeExports;
      var freeProcess = moduleExports && freeGlobal.process;
      var nodeUtil = function() {
        try {
          var types3 = freeModule && freeModule.require && freeModule.require("util").types;
          if (types3) {
            return types3;
          }
          return freeProcess && freeProcess.binding && freeProcess.binding("util");
        } catch (e2) {
        }
      }();
      module.exports = nodeUtil;
    }
  });

  // ../../node_modules/lodash/isTypedArray.js
  var require_isTypedArray = __commonJS({
    "../../node_modules/lodash/isTypedArray.js"(exports, module) {
      var baseIsTypedArray = require_baseIsTypedArray();
      var baseUnary = require_baseUnary();
      var nodeUtil = require_nodeUtil();
      var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;
      var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;
      module.exports = isTypedArray;
    }
  });

  // ../../node_modules/lodash/_arrayLikeKeys.js
  var require_arrayLikeKeys = __commonJS({
    "../../node_modules/lodash/_arrayLikeKeys.js"(exports, module) {
      var baseTimes = require_baseTimes();
      var isArguments = require_isArguments();
      var isArray = require_isArray();
      var isBuffer = require_isBuffer();
      var isIndex = require_isIndex();
      var isTypedArray = require_isTypedArray();
      var objectProto = Object.prototype;
      var hasOwnProperty2 = objectProto.hasOwnProperty;
      function arrayLikeKeys(value, inherited) {
        var isArr = isArray(value), isArg = !isArr && isArguments(value), isBuff = !isArr && !isArg && isBuffer(value), isType2 = !isArr && !isArg && !isBuff && isTypedArray(value), skipIndexes = isArr || isArg || isBuff || isType2, result = skipIndexes ? baseTimes(value.length, String) : [], length = result.length;
        for (var key in value) {
          if ((inherited || hasOwnProperty2.call(value, key)) && !(skipIndexes && (key == "length" || isBuff && (key == "offset" || key == "parent") || isType2 && (key == "buffer" || key == "byteLength" || key == "byteOffset") || isIndex(key, length)))) {
            result.push(key);
          }
        }
        return result;
      }
      module.exports = arrayLikeKeys;
    }
  });

  // ../../node_modules/lodash/_isPrototype.js
  var require_isPrototype = __commonJS({
    "../../node_modules/lodash/_isPrototype.js"(exports, module) {
      var objectProto = Object.prototype;
      function isPrototype(value) {
        var Ctor = value && value.constructor, proto = typeof Ctor == "function" && Ctor.prototype || objectProto;
        return value === proto;
      }
      module.exports = isPrototype;
    }
  });

  // ../../node_modules/lodash/_overArg.js
  var require_overArg = __commonJS({
    "../../node_modules/lodash/_overArg.js"(exports, module) {
      function overArg(func, transform) {
        return function(arg) {
          return func(transform(arg));
        };
      }
      module.exports = overArg;
    }
  });

  // ../../node_modules/lodash/_nativeKeys.js
  var require_nativeKeys = __commonJS({
    "../../node_modules/lodash/_nativeKeys.js"(exports, module) {
      var overArg = require_overArg();
      var nativeKeys = overArg(Object.keys, Object);
      module.exports = nativeKeys;
    }
  });

  // ../../node_modules/lodash/_baseKeys.js
  var require_baseKeys = __commonJS({
    "../../node_modules/lodash/_baseKeys.js"(exports, module) {
      var isPrototype = require_isPrototype();
      var nativeKeys = require_nativeKeys();
      var objectProto = Object.prototype;
      var hasOwnProperty2 = objectProto.hasOwnProperty;
      function baseKeys(object) {
        if (!isPrototype(object)) {
          return nativeKeys(object);
        }
        var result = [];
        for (var key in Object(object)) {
          if (hasOwnProperty2.call(object, key) && key != "constructor") {
            result.push(key);
          }
        }
        return result;
      }
      module.exports = baseKeys;
    }
  });

  // ../../node_modules/lodash/isArrayLike.js
  var require_isArrayLike = __commonJS({
    "../../node_modules/lodash/isArrayLike.js"(exports, module) {
      var isFunction3 = require_isFunction();
      var isLength = require_isLength();
      function isArrayLike(value) {
        return value != null && isLength(value.length) && !isFunction3(value);
      }
      module.exports = isArrayLike;
    }
  });

  // ../../node_modules/lodash/keys.js
  var require_keys = __commonJS({
    "../../node_modules/lodash/keys.js"(exports, module) {
      var arrayLikeKeys = require_arrayLikeKeys();
      var baseKeys = require_baseKeys();
      var isArrayLike = require_isArrayLike();
      function keys(object) {
        return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);
      }
      module.exports = keys;
    }
  });

  // ../../node_modules/lodash/_baseForOwn.js
  var require_baseForOwn = __commonJS({
    "../../node_modules/lodash/_baseForOwn.js"(exports, module) {
      var baseFor = require_baseFor();
      var keys = require_keys();
      function baseForOwn(object, iteratee) {
        return object && baseFor(object, iteratee, keys);
      }
      module.exports = baseForOwn;
    }
  });

  // ../../node_modules/lodash/_createBaseEach.js
  var require_createBaseEach = __commonJS({
    "../../node_modules/lodash/_createBaseEach.js"(exports, module) {
      var isArrayLike = require_isArrayLike();
      function createBaseEach(eachFunc, fromRight) {
        return function(collection, iteratee) {
          if (collection == null) {
            return collection;
          }
          if (!isArrayLike(collection)) {
            return eachFunc(collection, iteratee);
          }
          var length = collection.length, index2 = fromRight ? length : -1, iterable = Object(collection);
          while (fromRight ? index2-- : ++index2 < length) {
            if (iteratee(iterable[index2], index2, iterable) === false) {
              break;
            }
          }
          return collection;
        };
      }
      module.exports = createBaseEach;
    }
  });

  // ../../node_modules/lodash/_baseEach.js
  var require_baseEach = __commonJS({
    "../../node_modules/lodash/_baseEach.js"(exports, module) {
      var baseForOwn = require_baseForOwn();
      var createBaseEach = require_createBaseEach();
      var baseEach = createBaseEach(baseForOwn);
      module.exports = baseEach;
    }
  });

  // ../../node_modules/lodash/_baseAggregator.js
  var require_baseAggregator = __commonJS({
    "../../node_modules/lodash/_baseAggregator.js"(exports, module) {
      var baseEach = require_baseEach();
      function baseAggregator(collection, setter, iteratee, accumulator) {
        baseEach(collection, function(value, key, collection2) {
          setter(accumulator, value, iteratee(value), collection2);
        });
        return accumulator;
      }
      module.exports = baseAggregator;
    }
  });

  // ../../node_modules/lodash/_listCacheClear.js
  var require_listCacheClear = __commonJS({
    "../../node_modules/lodash/_listCacheClear.js"(exports, module) {
      function listCacheClear() {
        this.__data__ = [];
        this.size = 0;
      }
      module.exports = listCacheClear;
    }
  });

  // ../../node_modules/lodash/eq.js
  var require_eq = __commonJS({
    "../../node_modules/lodash/eq.js"(exports, module) {
      function eq(value, other) {
        return value === other || value !== value && other !== other;
      }
      module.exports = eq;
    }
  });

  // ../../node_modules/lodash/_assocIndexOf.js
  var require_assocIndexOf = __commonJS({
    "../../node_modules/lodash/_assocIndexOf.js"(exports, module) {
      var eq = require_eq();
      function assocIndexOf(array, key) {
        var length = array.length;
        while (length--) {
          if (eq(array[length][0], key)) {
            return length;
          }
        }
        return -1;
      }
      module.exports = assocIndexOf;
    }
  });

  // ../../node_modules/lodash/_listCacheDelete.js
  var require_listCacheDelete = __commonJS({
    "../../node_modules/lodash/_listCacheDelete.js"(exports, module) {
      var assocIndexOf = require_assocIndexOf();
      var arrayProto = Array.prototype;
      var splice = arrayProto.splice;
      function listCacheDelete(key) {
        var data = this.__data__, index2 = assocIndexOf(data, key);
        if (index2 < 0) {
          return false;
        }
        var lastIndex = data.length - 1;
        if (index2 == lastIndex) {
          data.pop();
        } else {
          splice.call(data, index2, 1);
        }
        --this.size;
        return true;
      }
      module.exports = listCacheDelete;
    }
  });

  // ../../node_modules/lodash/_listCacheGet.js
  var require_listCacheGet = __commonJS({
    "../../node_modules/lodash/_listCacheGet.js"(exports, module) {
      var assocIndexOf = require_assocIndexOf();
      function listCacheGet(key) {
        var data = this.__data__, index2 = assocIndexOf(data, key);
        return index2 < 0 ? void 0 : data[index2][1];
      }
      module.exports = listCacheGet;
    }
  });

  // ../../node_modules/lodash/_listCacheHas.js
  var require_listCacheHas = __commonJS({
    "../../node_modules/lodash/_listCacheHas.js"(exports, module) {
      var assocIndexOf = require_assocIndexOf();
      function listCacheHas(key) {
        return assocIndexOf(this.__data__, key) > -1;
      }
      module.exports = listCacheHas;
    }
  });

  // ../../node_modules/lodash/_listCacheSet.js
  var require_listCacheSet = __commonJS({
    "../../node_modules/lodash/_listCacheSet.js"(exports, module) {
      var assocIndexOf = require_assocIndexOf();
      function listCacheSet(key, value) {
        var data = this.__data__, index2 = assocIndexOf(data, key);
        if (index2 < 0) {
          ++this.size;
          data.push([key, value]);
        } else {
          data[index2][1] = value;
        }
        return this;
      }
      module.exports = listCacheSet;
    }
  });

  // ../../node_modules/lodash/_ListCache.js
  var require_ListCache = __commonJS({
    "../../node_modules/lodash/_ListCache.js"(exports, module) {
      var listCacheClear = require_listCacheClear();
      var listCacheDelete = require_listCacheDelete();
      var listCacheGet = require_listCacheGet();
      var listCacheHas = require_listCacheHas();
      var listCacheSet = require_listCacheSet();
      function ListCache(entries) {
        var index2 = -1, length = entries == null ? 0 : entries.length;
        this.clear();
        while (++index2 < length) {
          var entry = entries[index2];
          this.set(entry[0], entry[1]);
        }
      }
      ListCache.prototype.clear = listCacheClear;
      ListCache.prototype["delete"] = listCacheDelete;
      ListCache.prototype.get = listCacheGet;
      ListCache.prototype.has = listCacheHas;
      ListCache.prototype.set = listCacheSet;
      module.exports = ListCache;
    }
  });

  // ../../node_modules/lodash/_stackClear.js
  var require_stackClear = __commonJS({
    "../../node_modules/lodash/_stackClear.js"(exports, module) {
      var ListCache = require_ListCache();
      function stackClear() {
        this.__data__ = new ListCache();
        this.size = 0;
      }
      module.exports = stackClear;
    }
  });

  // ../../node_modules/lodash/_stackDelete.js
  var require_stackDelete = __commonJS({
    "../../node_modules/lodash/_stackDelete.js"(exports, module) {
      function stackDelete(key) {
        var data = this.__data__, result = data["delete"](key);
        this.size = data.size;
        return result;
      }
      module.exports = stackDelete;
    }
  });

  // ../../node_modules/lodash/_stackGet.js
  var require_stackGet = __commonJS({
    "../../node_modules/lodash/_stackGet.js"(exports, module) {
      function stackGet(key) {
        return this.__data__.get(key);
      }
      module.exports = stackGet;
    }
  });

  // ../../node_modules/lodash/_stackHas.js
  var require_stackHas = __commonJS({
    "../../node_modules/lodash/_stackHas.js"(exports, module) {
      function stackHas(key) {
        return this.__data__.has(key);
      }
      module.exports = stackHas;
    }
  });

  // ../../node_modules/lodash/_Map.js
  var require_Map = __commonJS({
    "../../node_modules/lodash/_Map.js"(exports, module) {
      var getNative = require_getNative();
      var root = require_root();
      var Map2 = getNative(root, "Map");
      module.exports = Map2;
    }
  });

  // ../../node_modules/lodash/_nativeCreate.js
  var require_nativeCreate = __commonJS({
    "../../node_modules/lodash/_nativeCreate.js"(exports, module) {
      var getNative = require_getNative();
      var nativeCreate = getNative(Object, "create");
      module.exports = nativeCreate;
    }
  });

  // ../../node_modules/lodash/_hashClear.js
  var require_hashClear = __commonJS({
    "../../node_modules/lodash/_hashClear.js"(exports, module) {
      var nativeCreate = require_nativeCreate();
      function hashClear() {
        this.__data__ = nativeCreate ? nativeCreate(null) : {};
        this.size = 0;
      }
      module.exports = hashClear;
    }
  });

  // ../../node_modules/lodash/_hashDelete.js
  var require_hashDelete = __commonJS({
    "../../node_modules/lodash/_hashDelete.js"(exports, module) {
      function hashDelete(key) {
        var result = this.has(key) && delete this.__data__[key];
        this.size -= result ? 1 : 0;
        return result;
      }
      module.exports = hashDelete;
    }
  });

  // ../../node_modules/lodash/_hashGet.js
  var require_hashGet = __commonJS({
    "../../node_modules/lodash/_hashGet.js"(exports, module) {
      var nativeCreate = require_nativeCreate();
      var HASH_UNDEFINED = "__lodash_hash_undefined__";
      var objectProto = Object.prototype;
      var hasOwnProperty2 = objectProto.hasOwnProperty;
      function hashGet(key) {
        var data = this.__data__;
        if (nativeCreate) {
          var result = data[key];
          return result === HASH_UNDEFINED ? void 0 : result;
        }
        return hasOwnProperty2.call(data, key) ? data[key] : void 0;
      }
      module.exports = hashGet;
    }
  });

  // ../../node_modules/lodash/_hashHas.js
  var require_hashHas = __commonJS({
    "../../node_modules/lodash/_hashHas.js"(exports, module) {
      var nativeCreate = require_nativeCreate();
      var objectProto = Object.prototype;
      var hasOwnProperty2 = objectProto.hasOwnProperty;
      function hashHas(key) {
        var data = this.__data__;
        return nativeCreate ? data[key] !== void 0 : hasOwnProperty2.call(data, key);
      }
      module.exports = hashHas;
    }
  });

  // ../../node_modules/lodash/_hashSet.js
  var require_hashSet = __commonJS({
    "../../node_modules/lodash/_hashSet.js"(exports, module) {
      var nativeCreate = require_nativeCreate();
      var HASH_UNDEFINED = "__lodash_hash_undefined__";
      function hashSet(key, value) {
        var data = this.__data__;
        this.size += this.has(key) ? 0 : 1;
        data[key] = nativeCreate && value === void 0 ? HASH_UNDEFINED : value;
        return this;
      }
      module.exports = hashSet;
    }
  });

  // ../../node_modules/lodash/_Hash.js
  var require_Hash = __commonJS({
    "../../node_modules/lodash/_Hash.js"(exports, module) {
      var hashClear = require_hashClear();
      var hashDelete = require_hashDelete();
      var hashGet = require_hashGet();
      var hashHas = require_hashHas();
      var hashSet = require_hashSet();
      function Hash(entries) {
        var index2 = -1, length = entries == null ? 0 : entries.length;
        this.clear();
        while (++index2 < length) {
          var entry = entries[index2];
          this.set(entry[0], entry[1]);
        }
      }
      Hash.prototype.clear = hashClear;
      Hash.prototype["delete"] = hashDelete;
      Hash.prototype.get = hashGet;
      Hash.prototype.has = hashHas;
      Hash.prototype.set = hashSet;
      module.exports = Hash;
    }
  });

  // ../../node_modules/lodash/_mapCacheClear.js
  var require_mapCacheClear = __commonJS({
    "../../node_modules/lodash/_mapCacheClear.js"(exports, module) {
      var Hash = require_Hash();
      var ListCache = require_ListCache();
      var Map2 = require_Map();
      function mapCacheClear() {
        this.size = 0;
        this.__data__ = {
          "hash": new Hash(),
          "map": new (Map2 || ListCache)(),
          "string": new Hash()
        };
      }
      module.exports = mapCacheClear;
    }
  });

  // ../../node_modules/lodash/_isKeyable.js
  var require_isKeyable = __commonJS({
    "../../node_modules/lodash/_isKeyable.js"(exports, module) {
      function isKeyable(value) {
        var type = typeof value;
        return type == "string" || type == "number" || type == "symbol" || type == "boolean" ? value !== "__proto__" : value === null;
      }
      module.exports = isKeyable;
    }
  });

  // ../../node_modules/lodash/_getMapData.js
  var require_getMapData = __commonJS({
    "../../node_modules/lodash/_getMapData.js"(exports, module) {
      var isKeyable = require_isKeyable();
      function getMapData(map, key) {
        var data = map.__data__;
        return isKeyable(key) ? data[typeof key == "string" ? "string" : "hash"] : data.map;
      }
      module.exports = getMapData;
    }
  });

  // ../../node_modules/lodash/_mapCacheDelete.js
  var require_mapCacheDelete = __commonJS({
    "../../node_modules/lodash/_mapCacheDelete.js"(exports, module) {
      var getMapData = require_getMapData();
      function mapCacheDelete(key) {
        var result = getMapData(this, key)["delete"](key);
        this.size -= result ? 1 : 0;
        return result;
      }
      module.exports = mapCacheDelete;
    }
  });

  // ../../node_modules/lodash/_mapCacheGet.js
  var require_mapCacheGet = __commonJS({
    "../../node_modules/lodash/_mapCacheGet.js"(exports, module) {
      var getMapData = require_getMapData();
      function mapCacheGet(key) {
        return getMapData(this, key).get(key);
      }
      module.exports = mapCacheGet;
    }
  });

  // ../../node_modules/lodash/_mapCacheHas.js
  var require_mapCacheHas = __commonJS({
    "../../node_modules/lodash/_mapCacheHas.js"(exports, module) {
      var getMapData = require_getMapData();
      function mapCacheHas(key) {
        return getMapData(this, key).has(key);
      }
      module.exports = mapCacheHas;
    }
  });

  // ../../node_modules/lodash/_mapCacheSet.js
  var require_mapCacheSet = __commonJS({
    "../../node_modules/lodash/_mapCacheSet.js"(exports, module) {
      var getMapData = require_getMapData();
      function mapCacheSet(key, value) {
        var data = getMapData(this, key), size = data.size;
        data.set(key, value);
        this.size += data.size == size ? 0 : 1;
        return this;
      }
      module.exports = mapCacheSet;
    }
  });

  // ../../node_modules/lodash/_MapCache.js
  var require_MapCache = __commonJS({
    "../../node_modules/lodash/_MapCache.js"(exports, module) {
      var mapCacheClear = require_mapCacheClear();
      var mapCacheDelete = require_mapCacheDelete();
      var mapCacheGet = require_mapCacheGet();
      var mapCacheHas = require_mapCacheHas();
      var mapCacheSet = require_mapCacheSet();
      function MapCache(entries) {
        var index2 = -1, length = entries == null ? 0 : entries.length;
        this.clear();
        while (++index2 < length) {
          var entry = entries[index2];
          this.set(entry[0], entry[1]);
        }
      }
      MapCache.prototype.clear = mapCacheClear;
      MapCache.prototype["delete"] = mapCacheDelete;
      MapCache.prototype.get = mapCacheGet;
      MapCache.prototype.has = mapCacheHas;
      MapCache.prototype.set = mapCacheSet;
      module.exports = MapCache;
    }
  });

  // ../../node_modules/lodash/_stackSet.js
  var require_stackSet = __commonJS({
    "../../node_modules/lodash/_stackSet.js"(exports, module) {
      var ListCache = require_ListCache();
      var Map2 = require_Map();
      var MapCache = require_MapCache();
      var LARGE_ARRAY_SIZE = 200;
      function stackSet(key, value) {
        var data = this.__data__;
        if (data instanceof ListCache) {
          var pairs = data.__data__;
          if (!Map2 || pairs.length < LARGE_ARRAY_SIZE - 1) {
            pairs.push([key, value]);
            this.size = ++data.size;
            return this;
          }
          data = this.__data__ = new MapCache(pairs);
        }
        data.set(key, value);
        this.size = data.size;
        return this;
      }
      module.exports = stackSet;
    }
  });

  // ../../node_modules/lodash/_Stack.js
  var require_Stack = __commonJS({
    "../../node_modules/lodash/_Stack.js"(exports, module) {
      var ListCache = require_ListCache();
      var stackClear = require_stackClear();
      var stackDelete = require_stackDelete();
      var stackGet = require_stackGet();
      var stackHas = require_stackHas();
      var stackSet = require_stackSet();
      function Stack(entries) {
        var data = this.__data__ = new ListCache(entries);
        this.size = data.size;
      }
      Stack.prototype.clear = stackClear;
      Stack.prototype["delete"] = stackDelete;
      Stack.prototype.get = stackGet;
      Stack.prototype.has = stackHas;
      Stack.prototype.set = stackSet;
      module.exports = Stack;
    }
  });

  // ../../node_modules/lodash/_setCacheAdd.js
  var require_setCacheAdd = __commonJS({
    "../../node_modules/lodash/_setCacheAdd.js"(exports, module) {
      var HASH_UNDEFINED = "__lodash_hash_undefined__";
      function setCacheAdd(value) {
        this.__data__.set(value, HASH_UNDEFINED);
        return this;
      }
      module.exports = setCacheAdd;
    }
  });

  // ../../node_modules/lodash/_setCacheHas.js
  var require_setCacheHas = __commonJS({
    "../../node_modules/lodash/_setCacheHas.js"(exports, module) {
      function setCacheHas(value) {
        return this.__data__.has(value);
      }
      module.exports = setCacheHas;
    }
  });

  // ../../node_modules/lodash/_SetCache.js
  var require_SetCache = __commonJS({
    "../../node_modules/lodash/_SetCache.js"(exports, module) {
      var MapCache = require_MapCache();
      var setCacheAdd = require_setCacheAdd();
      var setCacheHas = require_setCacheHas();
      function SetCache(values2) {
        var index2 = -1, length = values2 == null ? 0 : values2.length;
        this.__data__ = new MapCache();
        while (++index2 < length) {
          this.add(values2[index2]);
        }
      }
      SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;
      SetCache.prototype.has = setCacheHas;
      module.exports = SetCache;
    }
  });

  // ../../node_modules/lodash/_arraySome.js
  var require_arraySome = __commonJS({
    "../../node_modules/lodash/_arraySome.js"(exports, module) {
      function arraySome(array, predicate) {
        var index2 = -1, length = array == null ? 0 : array.length;
        while (++index2 < length) {
          if (predicate(array[index2], index2, array)) {
            return true;
          }
        }
        return false;
      }
      module.exports = arraySome;
    }
  });

  // ../../node_modules/lodash/_cacheHas.js
  var require_cacheHas = __commonJS({
    "../../node_modules/lodash/_cacheHas.js"(exports, module) {
      function cacheHas(cache, key) {
        return cache.has(key);
      }
      module.exports = cacheHas;
    }
  });

  // ../../node_modules/lodash/_equalArrays.js
  var require_equalArrays = __commonJS({
    "../../node_modules/lodash/_equalArrays.js"(exports, module) {
      var SetCache = require_SetCache();
      var arraySome = require_arraySome();
      var cacheHas = require_cacheHas();
      var COMPARE_PARTIAL_FLAG = 1;
      var COMPARE_UNORDERED_FLAG = 2;
      function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {
        var isPartial = bitmask & COMPARE_PARTIAL_FLAG, arrLength = array.length, othLength = other.length;
        if (arrLength != othLength && !(isPartial && othLength > arrLength)) {
          return false;
        }
        var arrStacked = stack.get(array);
        var othStacked = stack.get(other);
        if (arrStacked && othStacked) {
          return arrStacked == other && othStacked == array;
        }
        var index2 = -1, result = true, seen = bitmask & COMPARE_UNORDERED_FLAG ? new SetCache() : void 0;
        stack.set(array, other);
        stack.set(other, array);
        while (++index2 < arrLength) {
          var arrValue = array[index2], othValue = other[index2];
          if (customizer) {
            var compared = isPartial ? customizer(othValue, arrValue, index2, other, array, stack) : customizer(arrValue, othValue, index2, array, other, stack);
          }
          if (compared !== void 0) {
            if (compared) {
              continue;
            }
            result = false;
            break;
          }
          if (seen) {
            if (!arraySome(other, function(othValue2, othIndex) {
              if (!cacheHas(seen, othIndex) && (arrValue === othValue2 || equalFunc(arrValue, othValue2, bitmask, customizer, stack))) {
                return seen.push(othIndex);
              }
            })) {
              result = false;
              break;
            }
          } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {
            result = false;
            break;
          }
        }
        stack["delete"](array);
        stack["delete"](other);
        return result;
      }
      module.exports = equalArrays;
    }
  });

  // ../../node_modules/lodash/_Uint8Array.js
  var require_Uint8Array = __commonJS({
    "../../node_modules/lodash/_Uint8Array.js"(exports, module) {
      var root = require_root();
      var Uint8Array2 = root.Uint8Array;
      module.exports = Uint8Array2;
    }
  });

  // ../../node_modules/lodash/_mapToArray.js
  var require_mapToArray = __commonJS({
    "../../node_modules/lodash/_mapToArray.js"(exports, module) {
      function mapToArray(map) {
        var index2 = -1, result = Array(map.size);
        map.forEach(function(value, key) {
          result[++index2] = [key, value];
        });
        return result;
      }
      module.exports = mapToArray;
    }
  });

  // ../../node_modules/lodash/_setToArray.js
  var require_setToArray = __commonJS({
    "../../node_modules/lodash/_setToArray.js"(exports, module) {
      function setToArray(set) {
        var index2 = -1, result = Array(set.size);
        set.forEach(function(value) {
          result[++index2] = value;
        });
        return result;
      }
      module.exports = setToArray;
    }
  });

  // ../../node_modules/lodash/_equalByTag.js
  var require_equalByTag = __commonJS({
    "../../node_modules/lodash/_equalByTag.js"(exports, module) {
      var Symbol2 = require_Symbol();
      var Uint8Array2 = require_Uint8Array();
      var eq = require_eq();
      var equalArrays = require_equalArrays();
      var mapToArray = require_mapToArray();
      var setToArray = require_setToArray();
      var COMPARE_PARTIAL_FLAG = 1;
      var COMPARE_UNORDERED_FLAG = 2;
      var boolTag = "[object Boolean]";
      var dateTag = "[object Date]";
      var errorTag = "[object Error]";
      var mapTag = "[object Map]";
      var numberTag = "[object Number]";
      var regexpTag = "[object RegExp]";
      var setTag = "[object Set]";
      var stringTag = "[object String]";
      var symbolTag = "[object Symbol]";
      var arrayBufferTag = "[object ArrayBuffer]";
      var dataViewTag = "[object DataView]";
      var symbolProto = Symbol2 ? Symbol2.prototype : void 0;
      var symbolValueOf = symbolProto ? symbolProto.valueOf : void 0;
      function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {
        switch (tag) {
          case dataViewTag:
            if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {
              return false;
            }
            object = object.buffer;
            other = other.buffer;
          case arrayBufferTag:
            if (object.byteLength != other.byteLength || !equalFunc(new Uint8Array2(object), new Uint8Array2(other))) {
              return false;
            }
            return true;
          case boolTag:
          case dateTag:
          case numberTag:
            return eq(+object, +other);
          case errorTag:
            return object.name == other.name && object.message == other.message;
          case regexpTag:
          case stringTag:
            return object == other + "";
          case mapTag:
            var convert = mapToArray;
          case setTag:
            var isPartial = bitmask & COMPARE_PARTIAL_FLAG;
            convert || (convert = setToArray);
            if (object.size != other.size && !isPartial) {
              return false;
            }
            var stacked = stack.get(object);
            if (stacked) {
              return stacked == other;
            }
            bitmask |= COMPARE_UNORDERED_FLAG;
            stack.set(object, other);
            var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);
            stack["delete"](object);
            return result;
          case symbolTag:
            if (symbolValueOf) {
              return symbolValueOf.call(object) == symbolValueOf.call(other);
            }
        }
        return false;
      }
      module.exports = equalByTag;
    }
  });

  // ../../node_modules/lodash/_arrayPush.js
  var require_arrayPush = __commonJS({
    "../../node_modules/lodash/_arrayPush.js"(exports, module) {
      function arrayPush(array, values2) {
        var index2 = -1, length = values2.length, offset4 = array.length;
        while (++index2 < length) {
          array[offset4 + index2] = values2[index2];
        }
        return array;
      }
      module.exports = arrayPush;
    }
  });

  // ../../node_modules/lodash/_baseGetAllKeys.js
  var require_baseGetAllKeys = __commonJS({
    "../../node_modules/lodash/_baseGetAllKeys.js"(exports, module) {
      var arrayPush = require_arrayPush();
      var isArray = require_isArray();
      function baseGetAllKeys(object, keysFunc, symbolsFunc) {
        var result = keysFunc(object);
        return isArray(object) ? result : arrayPush(result, symbolsFunc(object));
      }
      module.exports = baseGetAllKeys;
    }
  });

  // ../../node_modules/lodash/_arrayFilter.js
  var require_arrayFilter = __commonJS({
    "../../node_modules/lodash/_arrayFilter.js"(exports, module) {
      function arrayFilter(array, predicate) {
        var index2 = -1, length = array == null ? 0 : array.length, resIndex = 0, result = [];
        while (++index2 < length) {
          var value = array[index2];
          if (predicate(value, index2, array)) {
            result[resIndex++] = value;
          }
        }
        return result;
      }
      module.exports = arrayFilter;
    }
  });

  // ../../node_modules/lodash/stubArray.js
  var require_stubArray = __commonJS({
    "../../node_modules/lodash/stubArray.js"(exports, module) {
      function stubArray() {
        return [];
      }
      module.exports = stubArray;
    }
  });

  // ../../node_modules/lodash/_getSymbols.js
  var require_getSymbols = __commonJS({
    "../../node_modules/lodash/_getSymbols.js"(exports, module) {
      var arrayFilter = require_arrayFilter();
      var stubArray = require_stubArray();
      var objectProto = Object.prototype;
      var propertyIsEnumerable = objectProto.propertyIsEnumerable;
      var nativeGetSymbols = Object.getOwnPropertySymbols;
      var getSymbols = !nativeGetSymbols ? stubArray : function(object) {
        if (object == null) {
          return [];
        }
        object = Object(object);
        return arrayFilter(nativeGetSymbols(object), function(symbol) {
          return propertyIsEnumerable.call(object, symbol);
        });
      };
      module.exports = getSymbols;
    }
  });

  // ../../node_modules/lodash/_getAllKeys.js
  var require_getAllKeys = __commonJS({
    "../../node_modules/lodash/_getAllKeys.js"(exports, module) {
      var baseGetAllKeys = require_baseGetAllKeys();
      var getSymbols = require_getSymbols();
      var keys = require_keys();
      function getAllKeys(object) {
        return baseGetAllKeys(object, keys, getSymbols);
      }
      module.exports = getAllKeys;
    }
  });

  // ../../node_modules/lodash/_equalObjects.js
  var require_equalObjects = __commonJS({
    "../../node_modules/lodash/_equalObjects.js"(exports, module) {
      var getAllKeys = require_getAllKeys();
      var COMPARE_PARTIAL_FLAG = 1;
      var objectProto = Object.prototype;
      var hasOwnProperty2 = objectProto.hasOwnProperty;
      function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {
        var isPartial = bitmask & COMPARE_PARTIAL_FLAG, objProps = getAllKeys(object), objLength = objProps.length, othProps = getAllKeys(other), othLength = othProps.length;
        if (objLength != othLength && !isPartial) {
          return false;
        }
        var index2 = objLength;
        while (index2--) {
          var key = objProps[index2];
          if (!(isPartial ? key in other : hasOwnProperty2.call(other, key))) {
            return false;
          }
        }
        var objStacked = stack.get(object);
        var othStacked = stack.get(other);
        if (objStacked && othStacked) {
          return objStacked == other && othStacked == object;
        }
        var result = true;
        stack.set(object, other);
        stack.set(other, object);
        var skipCtor = isPartial;
        while (++index2 < objLength) {
          key = objProps[index2];
          var objValue = object[key], othValue = other[key];
          if (customizer) {
            var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);
          }
          if (!(compared === void 0 ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) : compared)) {
            result = false;
            break;
          }
          skipCtor || (skipCtor = key == "constructor");
        }
        if (result && !skipCtor) {
          var objCtor = object.constructor, othCtor = other.constructor;
          if (objCtor != othCtor && ("constructor" in object && "constructor" in other) && !(typeof objCtor == "function" && objCtor instanceof objCtor && typeof othCtor == "function" && othCtor instanceof othCtor)) {
            result = false;
          }
        }
        stack["delete"](object);
        stack["delete"](other);
        return result;
      }
      module.exports = equalObjects;
    }
  });

  // ../../node_modules/lodash/_DataView.js
  var require_DataView = __commonJS({
    "../../node_modules/lodash/_DataView.js"(exports, module) {
      var getNative = require_getNative();
      var root = require_root();
      var DataView = getNative(root, "DataView");
      module.exports = DataView;
    }
  });

  // ../../node_modules/lodash/_Promise.js
  var require_Promise = __commonJS({
    "../../node_modules/lodash/_Promise.js"(exports, module) {
      var getNative = require_getNative();
      var root = require_root();
      var Promise2 = getNative(root, "Promise");
      module.exports = Promise2;
    }
  });

  // ../../node_modules/lodash/_Set.js
  var require_Set = __commonJS({
    "../../node_modules/lodash/_Set.js"(exports, module) {
      var getNative = require_getNative();
      var root = require_root();
      var Set2 = getNative(root, "Set");
      module.exports = Set2;
    }
  });

  // ../../node_modules/lodash/_WeakMap.js
  var require_WeakMap = __commonJS({
    "../../node_modules/lodash/_WeakMap.js"(exports, module) {
      var getNative = require_getNative();
      var root = require_root();
      var WeakMap2 = getNative(root, "WeakMap");
      module.exports = WeakMap2;
    }
  });

  // ../../node_modules/lodash/_getTag.js
  var require_getTag = __commonJS({
    "../../node_modules/lodash/_getTag.js"(exports, module) {
      var DataView = require_DataView();
      var Map2 = require_Map();
      var Promise2 = require_Promise();
      var Set2 = require_Set();
      var WeakMap2 = require_WeakMap();
      var baseGetTag = require_baseGetTag();
      var toSource = require_toSource();
      var mapTag = "[object Map]";
      var objectTag = "[object Object]";
      var promiseTag = "[object Promise]";
      var setTag = "[object Set]";
      var weakMapTag = "[object WeakMap]";
      var dataViewTag = "[object DataView]";
      var dataViewCtorString = toSource(DataView);
      var mapCtorString = toSource(Map2);
      var promiseCtorString = toSource(Promise2);
      var setCtorString = toSource(Set2);
      var weakMapCtorString = toSource(WeakMap2);
      var getTag = baseGetTag;
      if (DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag || Map2 && getTag(new Map2()) != mapTag || Promise2 && getTag(Promise2.resolve()) != promiseTag || Set2 && getTag(new Set2()) != setTag || WeakMap2 && getTag(new WeakMap2()) != weakMapTag) {
        getTag = function(value) {
          var result = baseGetTag(value), Ctor = result == objectTag ? value.constructor : void 0, ctorString = Ctor ? toSource(Ctor) : "";
          if (ctorString) {
            switch (ctorString) {
              case dataViewCtorString:
                return dataViewTag;
              case mapCtorString:
                return mapTag;
              case promiseCtorString:
                return promiseTag;
              case setCtorString:
                return setTag;
              case weakMapCtorString:
                return weakMapTag;
            }
          }
          return result;
        };
      }
      module.exports = getTag;
    }
  });

  // ../../node_modules/lodash/_baseIsEqualDeep.js
  var require_baseIsEqualDeep = __commonJS({
    "../../node_modules/lodash/_baseIsEqualDeep.js"(exports, module) {
      var Stack = require_Stack();
      var equalArrays = require_equalArrays();
      var equalByTag = require_equalByTag();
      var equalObjects = require_equalObjects();
      var getTag = require_getTag();
      var isArray = require_isArray();
      var isBuffer = require_isBuffer();
      var isTypedArray = require_isTypedArray();
      var COMPARE_PARTIAL_FLAG = 1;
      var argsTag = "[object Arguments]";
      var arrayTag = "[object Array]";
      var objectTag = "[object Object]";
      var objectProto = Object.prototype;
      var hasOwnProperty2 = objectProto.hasOwnProperty;
      function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {
        var objIsArr = isArray(object), othIsArr = isArray(other), objTag = objIsArr ? arrayTag : getTag(object), othTag = othIsArr ? arrayTag : getTag(other);
        objTag = objTag == argsTag ? objectTag : objTag;
        othTag = othTag == argsTag ? objectTag : othTag;
        var objIsObj = objTag == objectTag, othIsObj = othTag == objectTag, isSameTag = objTag == othTag;
        if (isSameTag && isBuffer(object)) {
          if (!isBuffer(other)) {
            return false;
          }
          objIsArr = true;
          objIsObj = false;
        }
        if (isSameTag && !objIsObj) {
          stack || (stack = new Stack());
          return objIsArr || isTypedArray(object) ? equalArrays(object, other, bitmask, customizer, equalFunc, stack) : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);
        }
        if (!(bitmask & COMPARE_PARTIAL_FLAG)) {
          var objIsWrapped = objIsObj && hasOwnProperty2.call(object, "__wrapped__"), othIsWrapped = othIsObj && hasOwnProperty2.call(other, "__wrapped__");
          if (objIsWrapped || othIsWrapped) {
            var objUnwrapped = objIsWrapped ? object.value() : object, othUnwrapped = othIsWrapped ? other.value() : other;
            stack || (stack = new Stack());
            return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);
          }
        }
        if (!isSameTag) {
          return false;
        }
        stack || (stack = new Stack());
        return equalObjects(object, other, bitmask, customizer, equalFunc, stack);
      }
      module.exports = baseIsEqualDeep;
    }
  });

  // ../../node_modules/lodash/_baseIsEqual.js
  var require_baseIsEqual = __commonJS({
    "../../node_modules/lodash/_baseIsEqual.js"(exports, module) {
      var baseIsEqualDeep = require_baseIsEqualDeep();
      var isObjectLike = require_isObjectLike();
      function baseIsEqual(value, other, bitmask, customizer, stack) {
        if (value === other) {
          return true;
        }
        if (value == null || other == null || !isObjectLike(value) && !isObjectLike(other)) {
          return value !== value && other !== other;
        }
        return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);
      }
      module.exports = baseIsEqual;
    }
  });

  // ../../node_modules/lodash/_baseIsMatch.js
  var require_baseIsMatch = __commonJS({
    "../../node_modules/lodash/_baseIsMatch.js"(exports, module) {
      var Stack = require_Stack();
      var baseIsEqual = require_baseIsEqual();
      var COMPARE_PARTIAL_FLAG = 1;
      var COMPARE_UNORDERED_FLAG = 2;
      function baseIsMatch(object, source, matchData, customizer) {
        var index2 = matchData.length, length = index2, noCustomizer = !customizer;
        if (object == null) {
          return !length;
        }
        object = Object(object);
        while (index2--) {
          var data = matchData[index2];
          if (noCustomizer && data[2] ? data[1] !== object[data[0]] : !(data[0] in object)) {
            return false;
          }
        }
        while (++index2 < length) {
          data = matchData[index2];
          var key = data[0], objValue = object[key], srcValue = data[1];
          if (noCustomizer && data[2]) {
            if (objValue === void 0 && !(key in object)) {
              return false;
            }
          } else {
            var stack = new Stack();
            if (customizer) {
              var result = customizer(objValue, srcValue, key, object, source, stack);
            }
            if (!(result === void 0 ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack) : result)) {
              return false;
            }
          }
        }
        return true;
      }
      module.exports = baseIsMatch;
    }
  });

  // ../../node_modules/lodash/_isStrictComparable.js
  var require_isStrictComparable = __commonJS({
    "../../node_modules/lodash/_isStrictComparable.js"(exports, module) {
      var isObject = require_isObject();
      function isStrictComparable(value) {
        return value === value && !isObject(value);
      }
      module.exports = isStrictComparable;
    }
  });

  // ../../node_modules/lodash/_getMatchData.js
  var require_getMatchData = __commonJS({
    "../../node_modules/lodash/_getMatchData.js"(exports, module) {
      var isStrictComparable = require_isStrictComparable();
      var keys = require_keys();
      function getMatchData(object) {
        var result = keys(object), length = result.length;
        while (length--) {
          var key = result[length], value = object[key];
          result[length] = [key, value, isStrictComparable(value)];
        }
        return result;
      }
      module.exports = getMatchData;
    }
  });

  // ../../node_modules/lodash/_matchesStrictComparable.js
  var require_matchesStrictComparable = __commonJS({
    "../../node_modules/lodash/_matchesStrictComparable.js"(exports, module) {
      function matchesStrictComparable(key, srcValue) {
        return function(object) {
          if (object == null) {
            return false;
          }
          return object[key] === srcValue && (srcValue !== void 0 || key in Object(object));
        };
      }
      module.exports = matchesStrictComparable;
    }
  });

  // ../../node_modules/lodash/_baseMatches.js
  var require_baseMatches = __commonJS({
    "../../node_modules/lodash/_baseMatches.js"(exports, module) {
      var baseIsMatch = require_baseIsMatch();
      var getMatchData = require_getMatchData();
      var matchesStrictComparable = require_matchesStrictComparable();
      function baseMatches(source) {
        var matchData = getMatchData(source);
        if (matchData.length == 1 && matchData[0][2]) {
          return matchesStrictComparable(matchData[0][0], matchData[0][1]);
        }
        return function(object) {
          return object === source || baseIsMatch(object, source, matchData);
        };
      }
      module.exports = baseMatches;
    }
  });

  // ../../node_modules/lodash/isSymbol.js
  var require_isSymbol = __commonJS({
    "../../node_modules/lodash/isSymbol.js"(exports, module) {
      var baseGetTag = require_baseGetTag();
      var isObjectLike = require_isObjectLike();
      var symbolTag = "[object Symbol]";
      function isSymbol(value) {
        return typeof value == "symbol" || isObjectLike(value) && baseGetTag(value) == symbolTag;
      }
      module.exports = isSymbol;
    }
  });

  // ../../node_modules/lodash/_isKey.js
  var require_isKey = __commonJS({
    "../../node_modules/lodash/_isKey.js"(exports, module) {
      var isArray = require_isArray();
      var isSymbol = require_isSymbol();
      var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/;
      var reIsPlainProp = /^\w*$/;
      function isKey(value, object) {
        if (isArray(value)) {
          return false;
        }
        var type = typeof value;
        if (type == "number" || type == "symbol" || type == "boolean" || value == null || isSymbol(value)) {
          return true;
        }
        return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object != null && value in Object(object);
      }
      module.exports = isKey;
    }
  });

  // ../../node_modules/lodash/memoize.js
  var require_memoize = __commonJS({
    "../../node_modules/lodash/memoize.js"(exports, module) {
      var MapCache = require_MapCache();
      var FUNC_ERROR_TEXT = "Expected a function";
      function memoize(func, resolver) {
        if (typeof func != "function" || resolver != null && typeof resolver != "function") {
          throw new TypeError(FUNC_ERROR_TEXT);
        }
        var memoized = function() {
          var args = arguments, key = resolver ? resolver.apply(this, args) : args[0], cache = memoized.cache;
          if (cache.has(key)) {
            return cache.get(key);
          }
          var result = func.apply(this, args);
          memoized.cache = cache.set(key, result) || cache;
          return result;
        };
        memoized.cache = new (memoize.Cache || MapCache)();
        return memoized;
      }
      memoize.Cache = MapCache;
      module.exports = memoize;
    }
  });

  // ../../node_modules/lodash/_memoizeCapped.js
  var require_memoizeCapped = __commonJS({
    "../../node_modules/lodash/_memoizeCapped.js"(exports, module) {
      var memoize = require_memoize();
      var MAX_MEMOIZE_SIZE = 500;
      function memoizeCapped(func) {
        var result = memoize(func, function(key) {
          if (cache.size === MAX_MEMOIZE_SIZE) {
            cache.clear();
          }
          return key;
        });
        var cache = result.cache;
        return result;
      }
      module.exports = memoizeCapped;
    }
  });

  // ../../node_modules/lodash/_stringToPath.js
  var require_stringToPath = __commonJS({
    "../../node_modules/lodash/_stringToPath.js"(exports, module) {
      var memoizeCapped = require_memoizeCapped();
      var rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;
      var reEscapeChar = /\\(\\)?/g;
      var stringToPath = memoizeCapped(function(string) {
        var result = [];
        if (string.charCodeAt(0) === 46) {
          result.push("");
        }
        string.replace(rePropName, function(match2, number, quote, subString) {
          result.push(quote ? subString.replace(reEscapeChar, "$1") : number || match2);
        });
        return result;
      });
      module.exports = stringToPath;
    }
  });

  // ../../node_modules/lodash/_arrayMap.js
  var require_arrayMap = __commonJS({
    "../../node_modules/lodash/_arrayMap.js"(exports, module) {
      function arrayMap(array, iteratee) {
        var index2 = -1, length = array == null ? 0 : array.length, result = Array(length);
        while (++index2 < length) {
          result[index2] = iteratee(array[index2], index2, array);
        }
        return result;
      }
      module.exports = arrayMap;
    }
  });

  // ../../node_modules/lodash/_baseToString.js
  var require_baseToString = __commonJS({
    "../../node_modules/lodash/_baseToString.js"(exports, module) {
      var Symbol2 = require_Symbol();
      var arrayMap = require_arrayMap();
      var isArray = require_isArray();
      var isSymbol = require_isSymbol();
      var INFINITY = 1 / 0;
      var symbolProto = Symbol2 ? Symbol2.prototype : void 0;
      var symbolToString = symbolProto ? symbolProto.toString : void 0;
      function baseToString(value) {
        if (typeof value == "string") {
          return value;
        }
        if (isArray(value)) {
          return arrayMap(value, baseToString) + "";
        }
        if (isSymbol(value)) {
          return symbolToString ? symbolToString.call(value) : "";
        }
        var result = value + "";
        return result == "0" && 1 / value == -INFINITY ? "-0" : result;
      }
      module.exports = baseToString;
    }
  });

  // ../../node_modules/lodash/toString.js
  var require_toString = __commonJS({
    "../../node_modules/lodash/toString.js"(exports, module) {
      var baseToString = require_baseToString();
      function toString2(value) {
        return value == null ? "" : baseToString(value);
      }
      module.exports = toString2;
    }
  });

  // ../../node_modules/lodash/_castPath.js
  var require_castPath = __commonJS({
    "../../node_modules/lodash/_castPath.js"(exports, module) {
      var isArray = require_isArray();
      var isKey = require_isKey();
      var stringToPath = require_stringToPath();
      var toString2 = require_toString();
      function castPath(value, object) {
        if (isArray(value)) {
          return value;
        }
        return isKey(value, object) ? [value] : stringToPath(toString2(value));
      }
      module.exports = castPath;
    }
  });

  // ../../node_modules/lodash/_toKey.js
  var require_toKey = __commonJS({
    "../../node_modules/lodash/_toKey.js"(exports, module) {
      var isSymbol = require_isSymbol();
      var INFINITY = 1 / 0;
      function toKey(value) {
        if (typeof value == "string" || isSymbol(value)) {
          return value;
        }
        var result = value + "";
        return result == "0" && 1 / value == -INFINITY ? "-0" : result;
      }
      module.exports = toKey;
    }
  });

  // ../../node_modules/lodash/_baseGet.js
  var require_baseGet = __commonJS({
    "../../node_modules/lodash/_baseGet.js"(exports, module) {
      var castPath = require_castPath();
      var toKey = require_toKey();
      function baseGet(object, path) {
        path = castPath(path, object);
        var index2 = 0, length = path.length;
        while (object != null && index2 < length) {
          object = object[toKey(path[index2++])];
        }
        return index2 && index2 == length ? object : void 0;
      }
      module.exports = baseGet;
    }
  });

  // ../../node_modules/lodash/get.js
  var require_get = __commonJS({
    "../../node_modules/lodash/get.js"(exports, module) {
      var baseGet = require_baseGet();
      function get2(object, path, defaultValue) {
        var result = object == null ? void 0 : baseGet(object, path);
        return result === void 0 ? defaultValue : result;
      }
      module.exports = get2;
    }
  });

  // ../../node_modules/lodash/_baseHasIn.js
  var require_baseHasIn = __commonJS({
    "../../node_modules/lodash/_baseHasIn.js"(exports, module) {
      function baseHasIn(object, key) {
        return object != null && key in Object(object);
      }
      module.exports = baseHasIn;
    }
  });

  // ../../node_modules/lodash/_hasPath.js
  var require_hasPath = __commonJS({
    "../../node_modules/lodash/_hasPath.js"(exports, module) {
      var castPath = require_castPath();
      var isArguments = require_isArguments();
      var isArray = require_isArray();
      var isIndex = require_isIndex();
      var isLength = require_isLength();
      var toKey = require_toKey();
      function hasPath(object, path, hasFunc) {
        path = castPath(path, object);
        var index2 = -1, length = path.length, result = false;
        while (++index2 < length) {
          var key = toKey(path[index2]);
          if (!(result = object != null && hasFunc(object, key))) {
            break;
          }
          object = object[key];
        }
        if (result || ++index2 != length) {
          return result;
        }
        length = object == null ? 0 : object.length;
        return !!length && isLength(length) && isIndex(key, length) && (isArray(object) || isArguments(object));
      }
      module.exports = hasPath;
    }
  });

  // ../../node_modules/lodash/hasIn.js
  var require_hasIn = __commonJS({
    "../../node_modules/lodash/hasIn.js"(exports, module) {
      var baseHasIn = require_baseHasIn();
      var hasPath = require_hasPath();
      function hasIn(object, path) {
        return object != null && hasPath(object, path, baseHasIn);
      }
      module.exports = hasIn;
    }
  });

  // ../../node_modules/lodash/_baseMatchesProperty.js
  var require_baseMatchesProperty = __commonJS({
    "../../node_modules/lodash/_baseMatchesProperty.js"(exports, module) {
      var baseIsEqual = require_baseIsEqual();
      var get2 = require_get();
      var hasIn = require_hasIn();
      var isKey = require_isKey();
      var isStrictComparable = require_isStrictComparable();
      var matchesStrictComparable = require_matchesStrictComparable();
      var toKey = require_toKey();
      var COMPARE_PARTIAL_FLAG = 1;
      var COMPARE_UNORDERED_FLAG = 2;
      function baseMatchesProperty(path, srcValue) {
        if (isKey(path) && isStrictComparable(srcValue)) {
          return matchesStrictComparable(toKey(path), srcValue);
        }
        return function(object) {
          var objValue = get2(object, path);
          return objValue === void 0 && objValue === srcValue ? hasIn(object, path) : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);
        };
      }
      module.exports = baseMatchesProperty;
    }
  });

  // ../../node_modules/lodash/identity.js
  var require_identity = __commonJS({
    "../../node_modules/lodash/identity.js"(exports, module) {
      function identity(value) {
        return value;
      }
      module.exports = identity;
    }
  });

  // ../../node_modules/lodash/_baseProperty.js
  var require_baseProperty = __commonJS({
    "../../node_modules/lodash/_baseProperty.js"(exports, module) {
      function baseProperty(key) {
        return function(object) {
          return object == null ? void 0 : object[key];
        };
      }
      module.exports = baseProperty;
    }
  });

  // ../../node_modules/lodash/_basePropertyDeep.js
  var require_basePropertyDeep = __commonJS({
    "../../node_modules/lodash/_basePropertyDeep.js"(exports, module) {
      var baseGet = require_baseGet();
      function basePropertyDeep(path) {
        return function(object) {
          return baseGet(object, path);
        };
      }
      module.exports = basePropertyDeep;
    }
  });

  // ../../node_modules/lodash/property.js
  var require_property = __commonJS({
    "../../node_modules/lodash/property.js"(exports, module) {
      var baseProperty = require_baseProperty();
      var basePropertyDeep = require_basePropertyDeep();
      var isKey = require_isKey();
      var toKey = require_toKey();
      function property(path) {
        return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);
      }
      module.exports = property;
    }
  });

  // ../../node_modules/lodash/_baseIteratee.js
  var require_baseIteratee = __commonJS({
    "../../node_modules/lodash/_baseIteratee.js"(exports, module) {
      var baseMatches = require_baseMatches();
      var baseMatchesProperty = require_baseMatchesProperty();
      var identity = require_identity();
      var isArray = require_isArray();
      var property = require_property();
      function baseIteratee(value) {
        if (typeof value == "function") {
          return value;
        }
        if (value == null) {
          return identity;
        }
        if (typeof value == "object") {
          return isArray(value) ? baseMatchesProperty(value[0], value[1]) : baseMatches(value);
        }
        return property(value);
      }
      module.exports = baseIteratee;
    }
  });

  // ../../node_modules/lodash/_createAggregator.js
  var require_createAggregator = __commonJS({
    "../../node_modules/lodash/_createAggregator.js"(exports, module) {
      var arrayAggregator = require_arrayAggregator();
      var baseAggregator = require_baseAggregator();
      var baseIteratee = require_baseIteratee();
      var isArray = require_isArray();
      function createAggregator(setter, initializer) {
        return function(collection, iteratee) {
          var func = isArray(collection) ? arrayAggregator : baseAggregator, accumulator = initializer ? initializer() : {};
          return func(collection, setter, baseIteratee(iteratee, 2), accumulator);
        };
      }
      module.exports = createAggregator;
    }
  });

  // ../../node_modules/lodash/groupBy.js
  var require_groupBy = __commonJS({
    "../../node_modules/lodash/groupBy.js"(exports, module) {
      var baseAssignValue = require_baseAssignValue();
      var createAggregator = require_createAggregator();
      var objectProto = Object.prototype;
      var hasOwnProperty2 = objectProto.hasOwnProperty;
      var groupBy3 = createAggregator(function(result, value, key) {
        if (hasOwnProperty2.call(result, key)) {
          result[key].push(value);
        } else {
          baseAssignValue(result, key, [value]);
        }
      });
      module.exports = groupBy3;
    }
  });

  // ../../node_modules/lodash/partition.js
  var require_partition = __commonJS({
    "../../node_modules/lodash/partition.js"(exports, module) {
      var createAggregator = require_createAggregator();
      var partition3 = createAggregator(function(result, value, key) {
        result[key ? 0 : 1].push(value);
      }, function() {
        return [[], []];
      });
      module.exports = partition3;
    }
  });

  // ../../node_modules/hoist-non-react-statics/node_modules/react-is/cjs/react-is.development.js
  var require_react_is_development2 = __commonJS({
    "../../node_modules/hoist-non-react-statics/node_modules/react-is/cjs/react-is.development.js"(exports) {
      "use strict";
      if (true) {
        (function() {
          "use strict";
          var hasSymbol = typeof Symbol === "function" && Symbol.for;
          var REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for("react.element") : 60103;
          var REACT_PORTAL_TYPE = hasSymbol ? Symbol.for("react.portal") : 60106;
          var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for("react.fragment") : 60107;
          var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for("react.strict_mode") : 60108;
          var REACT_PROFILER_TYPE = hasSymbol ? Symbol.for("react.profiler") : 60114;
          var REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for("react.provider") : 60109;
          var REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for("react.context") : 60110;
          var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for("react.async_mode") : 60111;
          var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for("react.concurrent_mode") : 60111;
          var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for("react.forward_ref") : 60112;
          var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for("react.suspense") : 60113;
          var REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for("react.suspense_list") : 60120;
          var REACT_MEMO_TYPE = hasSymbol ? Symbol.for("react.memo") : 60115;
          var REACT_LAZY_TYPE = hasSymbol ? Symbol.for("react.lazy") : 60116;
          var REACT_BLOCK_TYPE = hasSymbol ? Symbol.for("react.block") : 60121;
          var REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for("react.fundamental") : 60117;
          var REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for("react.responder") : 60118;
          var REACT_SCOPE_TYPE = hasSymbol ? Symbol.for("react.scope") : 60119;
          function isValidElementType2(type) {
            return typeof type === "string" || typeof type === "function" || type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === "object" && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);
          }
          function typeOf(object) {
            if (typeof object === "object" && object !== null) {
              var $$typeof = object.$$typeof;
              switch ($$typeof) {
                case REACT_ELEMENT_TYPE:
                  var type = object.type;
                  switch (type) {
                    case REACT_ASYNC_MODE_TYPE:
                    case REACT_CONCURRENT_MODE_TYPE:
                    case REACT_FRAGMENT_TYPE:
                    case REACT_PROFILER_TYPE:
                    case REACT_STRICT_MODE_TYPE:
                    case REACT_SUSPENSE_TYPE:
                      return type;
                    default:
                      var $$typeofType = type && type.$$typeof;
                      switch ($$typeofType) {
                        case REACT_CONTEXT_TYPE:
                        case REACT_FORWARD_REF_TYPE:
                        case REACT_LAZY_TYPE:
                        case REACT_MEMO_TYPE:
                        case REACT_PROVIDER_TYPE:
                          return $$typeofType;
                        default:
                          return $$typeof;
                      }
                  }
                case REACT_PORTAL_TYPE:
                  return $$typeof;
              }
            }
            return void 0;
          }
          var AsyncMode = REACT_ASYNC_MODE_TYPE;
          var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;
          var ContextConsumer = REACT_CONTEXT_TYPE;
          var ContextProvider = REACT_PROVIDER_TYPE;
          var Element2 = REACT_ELEMENT_TYPE;
          var ForwardRef = REACT_FORWARD_REF_TYPE;
          var Fragment3 = REACT_FRAGMENT_TYPE;
          var Lazy = REACT_LAZY_TYPE;
          var Memo = REACT_MEMO_TYPE;
          var Portal = REACT_PORTAL_TYPE;
          var Profiler = REACT_PROFILER_TYPE;
          var StrictMode = REACT_STRICT_MODE_TYPE;
          var Suspense6 = REACT_SUSPENSE_TYPE;
          var hasWarnedAboutDeprecatedIsAsyncMode = false;
          function isAsyncMode(object) {
            {
              if (!hasWarnedAboutDeprecatedIsAsyncMode) {
                hasWarnedAboutDeprecatedIsAsyncMode = true;
                console["warn"]("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.");
              }
            }
            return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;
          }
          function isConcurrentMode(object) {
            return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;
          }
          function isContextConsumer2(object) {
            return typeOf(object) === REACT_CONTEXT_TYPE;
          }
          function isContextProvider(object) {
            return typeOf(object) === REACT_PROVIDER_TYPE;
          }
          function isElement4(object) {
            return typeof object === "object" && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
          }
          function isForwardRef(object) {
            return typeOf(object) === REACT_FORWARD_REF_TYPE;
          }
          function isFragment(object) {
            return typeOf(object) === REACT_FRAGMENT_TYPE;
          }
          function isLazy(object) {
            return typeOf(object) === REACT_LAZY_TYPE;
          }
          function isMemo(object) {
            return typeOf(object) === REACT_MEMO_TYPE;
          }
          function isPortal(object) {
            return typeOf(object) === REACT_PORTAL_TYPE;
          }
          function isProfiler(object) {
            return typeOf(object) === REACT_PROFILER_TYPE;
          }
          function isStrictMode(object) {
            return typeOf(object) === REACT_STRICT_MODE_TYPE;
          }
          function isSuspense(object) {
            return typeOf(object) === REACT_SUSPENSE_TYPE;
          }
          exports.AsyncMode = AsyncMode;
          exports.ConcurrentMode = ConcurrentMode;
          exports.ContextConsumer = ContextConsumer;
          exports.ContextProvider = ContextProvider;
          exports.Element = Element2;
          exports.ForwardRef = ForwardRef;
          exports.Fragment = Fragment3;
          exports.Lazy = Lazy;
          exports.Memo = Memo;
          exports.Portal = Portal;
          exports.Profiler = Profiler;
          exports.StrictMode = StrictMode;
          exports.Suspense = Suspense6;
          exports.isAsyncMode = isAsyncMode;
          exports.isConcurrentMode = isConcurrentMode;
          exports.isContextConsumer = isContextConsumer2;
          exports.isContextProvider = isContextProvider;
          exports.isElement = isElement4;
          exports.isForwardRef = isForwardRef;
          exports.isFragment = isFragment;
          exports.isLazy = isLazy;
          exports.isMemo = isMemo;
          exports.isPortal = isPortal;
          exports.isProfiler = isProfiler;
          exports.isStrictMode = isStrictMode;
          exports.isSuspense = isSuspense;
          exports.isValidElementType = isValidElementType2;
          exports.typeOf = typeOf;
        })();
      }
    }
  });

  // ../../node_modules/hoist-non-react-statics/node_modules/react-is/index.js
  var require_react_is2 = __commonJS({
    "../../node_modules/hoist-non-react-statics/node_modules/react-is/index.js"(exports, module) {
      "use strict";
      if (false) {
        module.exports = null;
      } else {
        module.exports = require_react_is_development2();
      }
    }
  });

  // ../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js
  var require_hoist_non_react_statics_cjs = __commonJS({
    "../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"(exports, module) {
      "use strict";
      var reactIs = require_react_is2();
      var REACT_STATICS = {
        childContextTypes: true,
        contextType: true,
        contextTypes: true,
        defaultProps: true,
        displayName: true,
        getDefaultProps: true,
        getDerivedStateFromError: true,
        getDerivedStateFromProps: true,
        mixins: true,
        propTypes: true,
        type: true
      };
      var KNOWN_STATICS = {
        name: true,
        length: true,
        prototype: true,
        caller: true,
        callee: true,
        arguments: true,
        arity: true
      };
      var FORWARD_REF_STATICS = {
        "$$typeof": true,
        render: true,
        defaultProps: true,
        displayName: true,
        propTypes: true
      };
      var MEMO_STATICS = {
        "$$typeof": true,
        compare: true,
        defaultProps: true,
        displayName: true,
        propTypes: true,
        type: true
      };
      var TYPE_STATICS = {};
      TYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;
      TYPE_STATICS[reactIs.Memo] = MEMO_STATICS;
      function getStatics(component) {
        if (reactIs.isMemo(component)) {
          return MEMO_STATICS;
        }
        return TYPE_STATICS[component["$$typeof"]] || REACT_STATICS;
      }
      var defineProperty = Object.defineProperty;
      var getOwnPropertyNames = Object.getOwnPropertyNames;
      var getOwnPropertySymbols = Object.getOwnPropertySymbols;
      var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
      var getPrototypeOf = Object.getPrototypeOf;
      var objectPrototype = Object.prototype;
      function hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {
        if (typeof sourceComponent !== "string") {
          if (objectPrototype) {
            var inheritedComponent = getPrototypeOf(sourceComponent);
            if (inheritedComponent && inheritedComponent !== objectPrototype) {
              hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);
            }
          }
          var keys = getOwnPropertyNames(sourceComponent);
          if (getOwnPropertySymbols) {
            keys = keys.concat(getOwnPropertySymbols(sourceComponent));
          }
          var targetStatics = getStatics(targetComponent);
          var sourceStatics = getStatics(sourceComponent);
          for (var i3 = 0; i3 < keys.length; ++i3) {
            var key = keys[i3];
            if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {
              var descriptor = getOwnPropertyDescriptor(sourceComponent, key);
              try {
                defineProperty(targetComponent, key, descriptor);
              } catch (e2) {
              }
            }
          }
        }
        return targetComponent;
      }
      module.exports = hoistNonReactStatics;
    }
  });

  // ../../node_modules/react-is/cjs/react-is.development.js
  var require_react_is_development3 = __commonJS({
    "../../node_modules/react-is/cjs/react-is.development.js"(exports) {
      "use strict";
      if (true) {
        (function() {
          "use strict";
          var REACT_ELEMENT_TYPE = 60103;
          var REACT_PORTAL_TYPE = 60106;
          var REACT_FRAGMENT_TYPE = 60107;
          var REACT_STRICT_MODE_TYPE = 60108;
          var REACT_PROFILER_TYPE = 60114;
          var REACT_PROVIDER_TYPE = 60109;
          var REACT_CONTEXT_TYPE = 60110;
          var REACT_FORWARD_REF_TYPE = 60112;
          var REACT_SUSPENSE_TYPE = 60113;
          var REACT_SUSPENSE_LIST_TYPE = 60120;
          var REACT_MEMO_TYPE = 60115;
          var REACT_LAZY_TYPE = 60116;
          var REACT_BLOCK_TYPE = 60121;
          var REACT_SERVER_BLOCK_TYPE = 60122;
          var REACT_FUNDAMENTAL_TYPE = 60117;
          var REACT_SCOPE_TYPE = 60119;
          var REACT_OPAQUE_ID_TYPE = 60128;
          var REACT_DEBUG_TRACING_MODE_TYPE = 60129;
          var REACT_OFFSCREEN_TYPE = 60130;
          var REACT_LEGACY_HIDDEN_TYPE = 60131;
          if (typeof Symbol === "function" && Symbol.for) {
            var symbolFor = Symbol.for;
            REACT_ELEMENT_TYPE = symbolFor("react.element");
            REACT_PORTAL_TYPE = symbolFor("react.portal");
            REACT_FRAGMENT_TYPE = symbolFor("react.fragment");
            REACT_STRICT_MODE_TYPE = symbolFor("react.strict_mode");
            REACT_PROFILER_TYPE = symbolFor("react.profiler");
            REACT_PROVIDER_TYPE = symbolFor("react.provider");
            REACT_CONTEXT_TYPE = symbolFor("react.context");
            REACT_FORWARD_REF_TYPE = symbolFor("react.forward_ref");
            REACT_SUSPENSE_TYPE = symbolFor("react.suspense");
            REACT_SUSPENSE_LIST_TYPE = symbolFor("react.suspense_list");
            REACT_MEMO_TYPE = symbolFor("react.memo");
            REACT_LAZY_TYPE = symbolFor("react.lazy");
            REACT_BLOCK_TYPE = symbolFor("react.block");
            REACT_SERVER_BLOCK_TYPE = symbolFor("react.server.block");
            REACT_FUNDAMENTAL_TYPE = symbolFor("react.fundamental");
            REACT_SCOPE_TYPE = symbolFor("react.scope");
            REACT_OPAQUE_ID_TYPE = symbolFor("react.opaque.id");
            REACT_DEBUG_TRACING_MODE_TYPE = symbolFor("react.debug_trace_mode");
            REACT_OFFSCREEN_TYPE = symbolFor("react.offscreen");
            REACT_LEGACY_HIDDEN_TYPE = symbolFor("react.legacy_hidden");
          }
          var enableScopeAPI = false;
          function isValidElementType2(type) {
            if (typeof type === "string" || typeof type === "function") {
              return true;
            }
            if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || type === REACT_DEBUG_TRACING_MODE_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || type === REACT_LEGACY_HIDDEN_TYPE || enableScopeAPI) {
              return true;
            }
            if (typeof type === "object" && type !== null) {
              if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_BLOCK_TYPE || type[0] === REACT_SERVER_BLOCK_TYPE) {
                return true;
              }
            }
            return false;
          }
          function typeOf(object) {
            if (typeof object === "object" && object !== null) {
              var $$typeof = object.$$typeof;
              switch ($$typeof) {
                case REACT_ELEMENT_TYPE:
                  var type = object.type;
                  switch (type) {
                    case REACT_FRAGMENT_TYPE:
                    case REACT_PROFILER_TYPE:
                    case REACT_STRICT_MODE_TYPE:
                    case REACT_SUSPENSE_TYPE:
                    case REACT_SUSPENSE_LIST_TYPE:
                      return type;
                    default:
                      var $$typeofType = type && type.$$typeof;
                      switch ($$typeofType) {
                        case REACT_CONTEXT_TYPE:
                        case REACT_FORWARD_REF_TYPE:
                        case REACT_LAZY_TYPE:
                        case REACT_MEMO_TYPE:
                        case REACT_PROVIDER_TYPE:
                          return $$typeofType;
                        default:
                          return $$typeof;
                      }
                  }
                case REACT_PORTAL_TYPE:
                  return $$typeof;
              }
            }
            return void 0;
          }
          var ContextConsumer = REACT_CONTEXT_TYPE;
          var ContextProvider = REACT_PROVIDER_TYPE;
          var Element2 = REACT_ELEMENT_TYPE;
          var ForwardRef = REACT_FORWARD_REF_TYPE;
          var Fragment3 = REACT_FRAGMENT_TYPE;
          var Lazy = REACT_LAZY_TYPE;
          var Memo = REACT_MEMO_TYPE;
          var Portal = REACT_PORTAL_TYPE;
          var Profiler = REACT_PROFILER_TYPE;
          var StrictMode = REACT_STRICT_MODE_TYPE;
          var Suspense6 = REACT_SUSPENSE_TYPE;
          var hasWarnedAboutDeprecatedIsAsyncMode = false;
          var hasWarnedAboutDeprecatedIsConcurrentMode = false;
          function isAsyncMode(object) {
            {
              if (!hasWarnedAboutDeprecatedIsAsyncMode) {
                hasWarnedAboutDeprecatedIsAsyncMode = true;
                console["warn"]("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 18+.");
              }
            }
            return false;
          }
          function isConcurrentMode(object) {
            {
              if (!hasWarnedAboutDeprecatedIsConcurrentMode) {
                hasWarnedAboutDeprecatedIsConcurrentMode = true;
                console["warn"]("The ReactIs.isConcurrentMode() alias has been deprecated, and will be removed in React 18+.");
              }
            }
            return false;
          }
          function isContextConsumer2(object) {
            return typeOf(object) === REACT_CONTEXT_TYPE;
          }
          function isContextProvider(object) {
            return typeOf(object) === REACT_PROVIDER_TYPE;
          }
          function isElement4(object) {
            return typeof object === "object" && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
          }
          function isForwardRef(object) {
            return typeOf(object) === REACT_FORWARD_REF_TYPE;
          }
          function isFragment(object) {
            return typeOf(object) === REACT_FRAGMENT_TYPE;
          }
          function isLazy(object) {
            return typeOf(object) === REACT_LAZY_TYPE;
          }
          function isMemo(object) {
            return typeOf(object) === REACT_MEMO_TYPE;
          }
          function isPortal(object) {
            return typeOf(object) === REACT_PORTAL_TYPE;
          }
          function isProfiler(object) {
            return typeOf(object) === REACT_PROFILER_TYPE;
          }
          function isStrictMode(object) {
            return typeOf(object) === REACT_STRICT_MODE_TYPE;
          }
          function isSuspense(object) {
            return typeOf(object) === REACT_SUSPENSE_TYPE;
          }
          exports.ContextConsumer = ContextConsumer;
          exports.ContextProvider = ContextProvider;
          exports.Element = Element2;
          exports.ForwardRef = ForwardRef;
          exports.Fragment = Fragment3;
          exports.Lazy = Lazy;
          exports.Memo = Memo;
          exports.Portal = Portal;
          exports.Profiler = Profiler;
          exports.StrictMode = StrictMode;
          exports.Suspense = Suspense6;
          exports.isAsyncMode = isAsyncMode;
          exports.isConcurrentMode = isConcurrentMode;
          exports.isContextConsumer = isContextConsumer2;
          exports.isContextProvider = isContextProvider;
          exports.isElement = isElement4;
          exports.isForwardRef = isForwardRef;
          exports.isFragment = isFragment;
          exports.isLazy = isLazy;
          exports.isMemo = isMemo;
          exports.isPortal = isPortal;
          exports.isProfiler = isProfiler;
          exports.isStrictMode = isStrictMode;
          exports.isSuspense = isSuspense;
          exports.isValidElementType = isValidElementType2;
          exports.typeOf = typeOf;
        })();
      }
    }
  });

  // ../../node_modules/react-is/index.js
  var require_react_is3 = __commonJS({
    "../../node_modules/react-is/index.js"(exports, module) {
      "use strict";
      if (false) {
        module.exports = null;
      } else {
        module.exports = require_react_is_development3();
      }
    }
  });

  // ../../node_modules/quill/dist/quill.js
  var require_quill = __commonJS({
    "../../node_modules/quill/dist/quill.js"(exports, module) {
      (function webpackUniversalModuleDefinition(root, factory) {
        if (typeof exports === "object" && typeof module === "object")
          module.exports = factory();
        else if (typeof define === "function" && define.amd)
          define([], factory);
        else if (typeof exports === "object")
          exports["Quill"] = factory();
        else
          root["Quill"] = factory();
      })(typeof self !== "undefined" ? self : exports, function() {
        return function(modules) {
          var installedModules = {};
          function __webpack_require__(moduleId) {
            if (installedModules[moduleId]) {
              return installedModules[moduleId].exports;
            }
            var module2 = installedModules[moduleId] = {
              i: moduleId,
              l: false,
              exports: {}
            };
            modules[moduleId].call(module2.exports, module2, module2.exports, __webpack_require__);
            module2.l = true;
            return module2.exports;
          }
          __webpack_require__.m = modules;
          __webpack_require__.c = installedModules;
          __webpack_require__.d = function(exports2, name, getter) {
            if (!__webpack_require__.o(exports2, name)) {
              Object.defineProperty(exports2, name, {
                configurable: false,
                enumerable: true,
                get: getter
              });
            }
          };
          __webpack_require__.n = function(module2) {
            var getter = module2 && module2.__esModule ? function getDefault() {
              return module2["default"];
            } : function getModuleExports() {
              return module2;
            };
            __webpack_require__.d(getter, "a", getter);
            return getter;
          };
          __webpack_require__.o = function(object, property) {
            return Object.prototype.hasOwnProperty.call(object, property);
          };
          __webpack_require__.p = "";
          return __webpack_require__(__webpack_require__.s = 109);
        }([
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", { value: true });
            var container_1 = __webpack_require__(17);
            var format_1 = __webpack_require__(18);
            var leaf_1 = __webpack_require__(19);
            var scroll_1 = __webpack_require__(45);
            var inline_1 = __webpack_require__(46);
            var block_1 = __webpack_require__(47);
            var embed_1 = __webpack_require__(48);
            var text_1 = __webpack_require__(49);
            var attributor_1 = __webpack_require__(12);
            var class_1 = __webpack_require__(32);
            var style_1 = __webpack_require__(33);
            var store_1 = __webpack_require__(31);
            var Registry = __webpack_require__(1);
            var Parchment = {
              Scope: Registry.Scope,
              create: Registry.create,
              find: Registry.find,
              query: Registry.query,
              register: Registry.register,
              Container: container_1.default,
              Format: format_1.default,
              Leaf: leaf_1.default,
              Embed: embed_1.default,
              Scroll: scroll_1.default,
              Block: block_1.default,
              Inline: inline_1.default,
              Text: text_1.default,
              Attributor: {
                Attribute: attributor_1.default,
                Class: class_1.default,
                Style: style_1.default,
                Store: store_1.default
              }
            };
            exports2.default = Parchment;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            var __extends = this && this.__extends || function() {
              var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d3, b3) {
                d3.__proto__ = b3;
              } || function(d3, b3) {
                for (var p3 in b3)
                  if (b3.hasOwnProperty(p3))
                    d3[p3] = b3[p3];
              };
              return function(d3, b3) {
                extendStatics(d3, b3);
                function __() {
                  this.constructor = d3;
                }
                d3.prototype = b3 === null ? Object.create(b3) : (__.prototype = b3.prototype, new __());
              };
            }();
            Object.defineProperty(exports2, "__esModule", { value: true });
            var ParchmentError = function(_super) {
              __extends(ParchmentError2, _super);
              function ParchmentError2(message) {
                var _this = this;
                message = "[Parchment] " + message;
                _this = _super.call(this, message) || this;
                _this.message = message;
                _this.name = _this.constructor.name;
                return _this;
              }
              return ParchmentError2;
            }(Error);
            exports2.ParchmentError = ParchmentError;
            var attributes = {};
            var classes = {};
            var tags = {};
            var types3 = {};
            exports2.DATA_KEY = "__blot";
            var Scope;
            (function(Scope2) {
              Scope2[Scope2["TYPE"] = 3] = "TYPE";
              Scope2[Scope2["LEVEL"] = 12] = "LEVEL";
              Scope2[Scope2["ATTRIBUTE"] = 13] = "ATTRIBUTE";
              Scope2[Scope2["BLOT"] = 14] = "BLOT";
              Scope2[Scope2["INLINE"] = 7] = "INLINE";
              Scope2[Scope2["BLOCK"] = 11] = "BLOCK";
              Scope2[Scope2["BLOCK_BLOT"] = 10] = "BLOCK_BLOT";
              Scope2[Scope2["INLINE_BLOT"] = 6] = "INLINE_BLOT";
              Scope2[Scope2["BLOCK_ATTRIBUTE"] = 9] = "BLOCK_ATTRIBUTE";
              Scope2[Scope2["INLINE_ATTRIBUTE"] = 5] = "INLINE_ATTRIBUTE";
              Scope2[Scope2["ANY"] = 15] = "ANY";
            })(Scope = exports2.Scope || (exports2.Scope = {}));
            function create2(input, value) {
              var match2 = query(input);
              if (match2 == null) {
                throw new ParchmentError("Unable to create " + input + " blot");
              }
              var BlotClass = match2;
              var node = input instanceof Node || input["nodeType"] === Node.TEXT_NODE ? input : BlotClass.create(value);
              return new BlotClass(node, value);
            }
            exports2.create = create2;
            function find2(node, bubble) {
              if (bubble === void 0) {
                bubble = false;
              }
              if (node == null)
                return null;
              if (node[exports2.DATA_KEY] != null)
                return node[exports2.DATA_KEY].blot;
              if (bubble)
                return find2(node.parentNode, bubble);
              return null;
            }
            exports2.find = find2;
            function query(query2, scope) {
              if (scope === void 0) {
                scope = Scope.ANY;
              }
              var match2;
              if (typeof query2 === "string") {
                match2 = types3[query2] || attributes[query2];
              } else if (query2 instanceof Text || query2["nodeType"] === Node.TEXT_NODE) {
                match2 = types3["text"];
              } else if (typeof query2 === "number") {
                if (query2 & Scope.LEVEL & Scope.BLOCK) {
                  match2 = types3["block"];
                } else if (query2 & Scope.LEVEL & Scope.INLINE) {
                  match2 = types3["inline"];
                }
              } else if (query2 instanceof HTMLElement) {
                var names = (query2.getAttribute("class") || "").split(/\s+/);
                for (var i3 in names) {
                  match2 = classes[names[i3]];
                  if (match2)
                    break;
                }
                match2 = match2 || tags[query2.tagName];
              }
              if (match2 == null)
                return null;
              if (scope & Scope.LEVEL & match2.scope && scope & Scope.TYPE & match2.scope)
                return match2;
              return null;
            }
            exports2.query = query;
            function register() {
              var Definitions = [];
              for (var _i = 0; _i < arguments.length; _i++) {
                Definitions[_i] = arguments[_i];
              }
              if (Definitions.length > 1) {
                return Definitions.map(function(d3) {
                  return register(d3);
                });
              }
              var Definition = Definitions[0];
              if (typeof Definition.blotName !== "string" && typeof Definition.attrName !== "string") {
                throw new ParchmentError("Invalid definition");
              } else if (Definition.blotName === "abstract") {
                throw new ParchmentError("Cannot register abstract class");
              }
              types3[Definition.blotName || Definition.attrName] = Definition;
              if (typeof Definition.keyName === "string") {
                attributes[Definition.keyName] = Definition;
              } else {
                if (Definition.className != null) {
                  classes[Definition.className] = Definition;
                }
                if (Definition.tagName != null) {
                  if (Array.isArray(Definition.tagName)) {
                    Definition.tagName = Definition.tagName.map(function(tagName) {
                      return tagName.toUpperCase();
                    });
                  } else {
                    Definition.tagName = Definition.tagName.toUpperCase();
                  }
                  var tagNames = Array.isArray(Definition.tagName) ? Definition.tagName : [Definition.tagName];
                  tagNames.forEach(function(tag) {
                    if (tags[tag] == null || Definition.className == null) {
                      tags[tag] = Definition;
                    }
                  });
                }
              }
              return Definition;
            }
            exports2.register = register;
          },
          function(module2, exports2, __webpack_require__) {
            var diff = __webpack_require__(51);
            var equal = __webpack_require__(11);
            var extend = __webpack_require__(3);
            var op = __webpack_require__(20);
            var NULL_CHARACTER = String.fromCharCode(0);
            var Delta = function(ops) {
              if (Array.isArray(ops)) {
                this.ops = ops;
              } else if (ops != null && Array.isArray(ops.ops)) {
                this.ops = ops.ops;
              } else {
                this.ops = [];
              }
            };
            Delta.prototype.insert = function(text, attributes) {
              var newOp = {};
              if (text.length === 0)
                return this;
              newOp.insert = text;
              if (attributes != null && typeof attributes === "object" && Object.keys(attributes).length > 0) {
                newOp.attributes = attributes;
              }
              return this.push(newOp);
            };
            Delta.prototype["delete"] = function(length) {
              if (length <= 0)
                return this;
              return this.push({ "delete": length });
            };
            Delta.prototype.retain = function(length, attributes) {
              if (length <= 0)
                return this;
              var newOp = { retain: length };
              if (attributes != null && typeof attributes === "object" && Object.keys(attributes).length > 0) {
                newOp.attributes = attributes;
              }
              return this.push(newOp);
            };
            Delta.prototype.push = function(newOp) {
              var index2 = this.ops.length;
              var lastOp = this.ops[index2 - 1];
              newOp = extend(true, {}, newOp);
              if (typeof lastOp === "object") {
                if (typeof newOp["delete"] === "number" && typeof lastOp["delete"] === "number") {
                  this.ops[index2 - 1] = { "delete": lastOp["delete"] + newOp["delete"] };
                  return this;
                }
                if (typeof lastOp["delete"] === "number" && newOp.insert != null) {
                  index2 -= 1;
                  lastOp = this.ops[index2 - 1];
                  if (typeof lastOp !== "object") {
                    this.ops.unshift(newOp);
                    return this;
                  }
                }
                if (equal(newOp.attributes, lastOp.attributes)) {
                  if (typeof newOp.insert === "string" && typeof lastOp.insert === "string") {
                    this.ops[index2 - 1] = { insert: lastOp.insert + newOp.insert };
                    if (typeof newOp.attributes === "object")
                      this.ops[index2 - 1].attributes = newOp.attributes;
                    return this;
                  } else if (typeof newOp.retain === "number" && typeof lastOp.retain === "number") {
                    this.ops[index2 - 1] = { retain: lastOp.retain + newOp.retain };
                    if (typeof newOp.attributes === "object")
                      this.ops[index2 - 1].attributes = newOp.attributes;
                    return this;
                  }
                }
              }
              if (index2 === this.ops.length) {
                this.ops.push(newOp);
              } else {
                this.ops.splice(index2, 0, newOp);
              }
              return this;
            };
            Delta.prototype.chop = function() {
              var lastOp = this.ops[this.ops.length - 1];
              if (lastOp && lastOp.retain && !lastOp.attributes) {
                this.ops.pop();
              }
              return this;
            };
            Delta.prototype.filter = function(predicate) {
              return this.ops.filter(predicate);
            };
            Delta.prototype.forEach = function(predicate) {
              this.ops.forEach(predicate);
            };
            Delta.prototype.map = function(predicate) {
              return this.ops.map(predicate);
            };
            Delta.prototype.partition = function(predicate) {
              var passed = [], failed = [];
              this.forEach(function(op2) {
                var target = predicate(op2) ? passed : failed;
                target.push(op2);
              });
              return [passed, failed];
            };
            Delta.prototype.reduce = function(predicate, initial) {
              return this.ops.reduce(predicate, initial);
            };
            Delta.prototype.changeLength = function() {
              return this.reduce(function(length, elem) {
                if (elem.insert) {
                  return length + op.length(elem);
                } else if (elem.delete) {
                  return length - elem.delete;
                }
                return length;
              }, 0);
            };
            Delta.prototype.length = function() {
              return this.reduce(function(length, elem) {
                return length + op.length(elem);
              }, 0);
            };
            Delta.prototype.slice = function(start4, end3) {
              start4 = start4 || 0;
              if (typeof end3 !== "number")
                end3 = Infinity;
              var ops = [];
              var iter = op.iterator(this.ops);
              var index2 = 0;
              while (index2 < end3 && iter.hasNext()) {
                var nextOp;
                if (index2 < start4) {
                  nextOp = iter.next(start4 - index2);
                } else {
                  nextOp = iter.next(end3 - index2);
                  ops.push(nextOp);
                }
                index2 += op.length(nextOp);
              }
              return new Delta(ops);
            };
            Delta.prototype.compose = function(other) {
              var thisIter = op.iterator(this.ops);
              var otherIter = op.iterator(other.ops);
              var ops = [];
              var firstOther = otherIter.peek();
              if (firstOther != null && typeof firstOther.retain === "number" && firstOther.attributes == null) {
                var firstLeft = firstOther.retain;
                while (thisIter.peekType() === "insert" && thisIter.peekLength() <= firstLeft) {
                  firstLeft -= thisIter.peekLength();
                  ops.push(thisIter.next());
                }
                if (firstOther.retain - firstLeft > 0) {
                  otherIter.next(firstOther.retain - firstLeft);
                }
              }
              var delta = new Delta(ops);
              while (thisIter.hasNext() || otherIter.hasNext()) {
                if (otherIter.peekType() === "insert") {
                  delta.push(otherIter.next());
                } else if (thisIter.peekType() === "delete") {
                  delta.push(thisIter.next());
                } else {
                  var length = Math.min(thisIter.peekLength(), otherIter.peekLength());
                  var thisOp = thisIter.next(length);
                  var otherOp = otherIter.next(length);
                  if (typeof otherOp.retain === "number") {
                    var newOp = {};
                    if (typeof thisOp.retain === "number") {
                      newOp.retain = length;
                    } else {
                      newOp.insert = thisOp.insert;
                    }
                    var attributes = op.attributes.compose(thisOp.attributes, otherOp.attributes, typeof thisOp.retain === "number");
                    if (attributes)
                      newOp.attributes = attributes;
                    delta.push(newOp);
                    if (!otherIter.hasNext() && equal(delta.ops[delta.ops.length - 1], newOp)) {
                      var rest = new Delta(thisIter.rest());
                      return delta.concat(rest).chop();
                    }
                  } else if (typeof otherOp["delete"] === "number" && typeof thisOp.retain === "number") {
                    delta.push(otherOp);
                  }
                }
              }
              return delta.chop();
            };
            Delta.prototype.concat = function(other) {
              var delta = new Delta(this.ops.slice());
              if (other.ops.length > 0) {
                delta.push(other.ops[0]);
                delta.ops = delta.ops.concat(other.ops.slice(1));
              }
              return delta;
            };
            Delta.prototype.diff = function(other, index2) {
              if (this.ops === other.ops) {
                return new Delta();
              }
              var strings = [this, other].map(function(delta2) {
                return delta2.map(function(op2) {
                  if (op2.insert != null) {
                    return typeof op2.insert === "string" ? op2.insert : NULL_CHARACTER;
                  }
                  var prep = delta2 === other ? "on" : "with";
                  throw new Error("diff() called " + prep + " non-document");
                }).join("");
              });
              var delta = new Delta();
              var diffResult = diff(strings[0], strings[1], index2);
              var thisIter = op.iterator(this.ops);
              var otherIter = op.iterator(other.ops);
              diffResult.forEach(function(component) {
                var length = component[1].length;
                while (length > 0) {
                  var opLength = 0;
                  switch (component[0]) {
                    case diff.INSERT:
                      opLength = Math.min(otherIter.peekLength(), length);
                      delta.push(otherIter.next(opLength));
                      break;
                    case diff.DELETE:
                      opLength = Math.min(length, thisIter.peekLength());
                      thisIter.next(opLength);
                      delta["delete"](opLength);
                      break;
                    case diff.EQUAL:
                      opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);
                      var thisOp = thisIter.next(opLength);
                      var otherOp = otherIter.next(opLength);
                      if (equal(thisOp.insert, otherOp.insert)) {
                        delta.retain(opLength, op.attributes.diff(thisOp.attributes, otherOp.attributes));
                      } else {
                        delta.push(otherOp)["delete"](opLength);
                      }
                      break;
                  }
                  length -= opLength;
                }
              });
              return delta.chop();
            };
            Delta.prototype.eachLine = function(predicate, newline) {
              newline = newline || "\n";
              var iter = op.iterator(this.ops);
              var line = new Delta();
              var i3 = 0;
              while (iter.hasNext()) {
                if (iter.peekType() !== "insert")
                  return;
                var thisOp = iter.peek();
                var start4 = op.length(thisOp) - iter.peekLength();
                var index2 = typeof thisOp.insert === "string" ? thisOp.insert.indexOf(newline, start4) - start4 : -1;
                if (index2 < 0) {
                  line.push(iter.next());
                } else if (index2 > 0) {
                  line.push(iter.next(index2));
                } else {
                  if (predicate(line, iter.next(1).attributes || {}, i3) === false) {
                    return;
                  }
                  i3 += 1;
                  line = new Delta();
                }
              }
              if (line.length() > 0) {
                predicate(line, {}, i3);
              }
            };
            Delta.prototype.transform = function(other, priority) {
              priority = !!priority;
              if (typeof other === "number") {
                return this.transformPosition(other, priority);
              }
              var thisIter = op.iterator(this.ops);
              var otherIter = op.iterator(other.ops);
              var delta = new Delta();
              while (thisIter.hasNext() || otherIter.hasNext()) {
                if (thisIter.peekType() === "insert" && (priority || otherIter.peekType() !== "insert")) {
                  delta.retain(op.length(thisIter.next()));
                } else if (otherIter.peekType() === "insert") {
                  delta.push(otherIter.next());
                } else {
                  var length = Math.min(thisIter.peekLength(), otherIter.peekLength());
                  var thisOp = thisIter.next(length);
                  var otherOp = otherIter.next(length);
                  if (thisOp["delete"]) {
                    continue;
                  } else if (otherOp["delete"]) {
                    delta.push(otherOp);
                  } else {
                    delta.retain(length, op.attributes.transform(thisOp.attributes, otherOp.attributes, priority));
                  }
                }
              }
              return delta.chop();
            };
            Delta.prototype.transformPosition = function(index2, priority) {
              priority = !!priority;
              var thisIter = op.iterator(this.ops);
              var offset4 = 0;
              while (thisIter.hasNext() && offset4 <= index2) {
                var length = thisIter.peekLength();
                var nextType = thisIter.peekType();
                thisIter.next();
                if (nextType === "delete") {
                  index2 -= Math.min(length, index2 - offset4);
                  continue;
                } else if (nextType === "insert" && (offset4 < index2 || !priority)) {
                  index2 += length;
                }
                offset4 += length;
              }
              return index2;
            };
            module2.exports = Delta;
          },
          function(module2, exports2) {
            "use strict";
            var hasOwn = Object.prototype.hasOwnProperty;
            var toStr = Object.prototype.toString;
            var defineProperty = Object.defineProperty;
            var gOPD = Object.getOwnPropertyDescriptor;
            var isArray = function isArray2(arr) {
              if (typeof Array.isArray === "function") {
                return Array.isArray(arr);
              }
              return toStr.call(arr) === "[object Array]";
            };
            var isPlainObject4 = function isPlainObject5(obj) {
              if (!obj || toStr.call(obj) !== "[object Object]") {
                return false;
              }
              var hasOwnConstructor = hasOwn.call(obj, "constructor");
              var hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, "isPrototypeOf");
              if (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {
                return false;
              }
              var key;
              for (key in obj) {
              }
              return typeof key === "undefined" || hasOwn.call(obj, key);
            };
            var setProperty = function setProperty2(target, options) {
              if (defineProperty && options.name === "__proto__") {
                defineProperty(target, options.name, {
                  enumerable: true,
                  configurable: true,
                  value: options.newValue,
                  writable: true
                });
              } else {
                target[options.name] = options.newValue;
              }
            };
            var getProperty = function getProperty2(obj, name) {
              if (name === "__proto__") {
                if (!hasOwn.call(obj, name)) {
                  return void 0;
                } else if (gOPD) {
                  return gOPD(obj, name).value;
                }
              }
              return obj[name];
            };
            module2.exports = function extend() {
              var options, name, src, copy, copyIsArray, clone;
              var target = arguments[0];
              var i3 = 1;
              var length = arguments.length;
              var deep = false;
              if (typeof target === "boolean") {
                deep = target;
                target = arguments[1] || {};
                i3 = 2;
              }
              if (target == null || typeof target !== "object" && typeof target !== "function") {
                target = {};
              }
              for (; i3 < length; ++i3) {
                options = arguments[i3];
                if (options != null) {
                  for (name in options) {
                    src = getProperty(target, name);
                    copy = getProperty(options, name);
                    if (target !== copy) {
                      if (deep && copy && (isPlainObject4(copy) || (copyIsArray = isArray(copy)))) {
                        if (copyIsArray) {
                          copyIsArray = false;
                          clone = src && isArray(src) ? src : [];
                        } else {
                          clone = src && isPlainObject4(src) ? src : {};
                        }
                        setProperty(target, { name, newValue: extend(deep, clone, copy) });
                      } else if (typeof copy !== "undefined") {
                        setProperty(target, { name, newValue: copy });
                      }
                    }
                  }
                }
              }
              return target;
            };
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.default = exports2.BlockEmbed = exports2.bubbleFormats = void 0;
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _extend = __webpack_require__(3);
            var _extend2 = _interopRequireDefault(_extend);
            var _quillDelta = __webpack_require__(2);
            var _quillDelta2 = _interopRequireDefault(_quillDelta);
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            var _break = __webpack_require__(16);
            var _break2 = _interopRequireDefault(_break);
            var _inline = __webpack_require__(6);
            var _inline2 = _interopRequireDefault(_inline);
            var _text = __webpack_require__(7);
            var _text2 = _interopRequireDefault(_text);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var NEWLINE_LENGTH = 1;
            var BlockEmbed = function(_Parchment$Embed) {
              _inherits(BlockEmbed2, _Parchment$Embed);
              function BlockEmbed2() {
                _classCallCheck(this, BlockEmbed2);
                return _possibleConstructorReturn(this, (BlockEmbed2.__proto__ || Object.getPrototypeOf(BlockEmbed2)).apply(this, arguments));
              }
              _createClass(BlockEmbed2, [{
                key: "attach",
                value: function attach() {
                  _get(BlockEmbed2.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed2.prototype), "attach", this).call(this);
                  this.attributes = new _parchment2.default.Attributor.Store(this.domNode);
                }
              }, {
                key: "delta",
                value: function delta() {
                  return new _quillDelta2.default().insert(this.value(), (0, _extend2.default)(this.formats(), this.attributes.values()));
                }
              }, {
                key: "format",
                value: function format2(name, value) {
                  var attribute = _parchment2.default.query(name, _parchment2.default.Scope.BLOCK_ATTRIBUTE);
                  if (attribute != null) {
                    this.attributes.attribute(attribute, value);
                  }
                }
              }, {
                key: "formatAt",
                value: function formatAt(index2, length, name, value) {
                  this.format(name, value);
                }
              }, {
                key: "insertAt",
                value: function insertAt(index2, value, def) {
                  if (typeof value === "string" && value.endsWith("\n")) {
                    var block = _parchment2.default.create(Block2.blotName);
                    this.parent.insertBefore(block, index2 === 0 ? this : this.next);
                    block.insertAt(0, value.slice(0, -1));
                  } else {
                    _get(BlockEmbed2.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed2.prototype), "insertAt", this).call(this, index2, value, def);
                  }
                }
              }]);
              return BlockEmbed2;
            }(_parchment2.default.Embed);
            BlockEmbed.scope = _parchment2.default.Scope.BLOCK_BLOT;
            var Block2 = function(_Parchment$Block) {
              _inherits(Block3, _Parchment$Block);
              function Block3(domNode) {
                _classCallCheck(this, Block3);
                var _this2 = _possibleConstructorReturn(this, (Block3.__proto__ || Object.getPrototypeOf(Block3)).call(this, domNode));
                _this2.cache = {};
                return _this2;
              }
              _createClass(Block3, [{
                key: "delta",
                value: function delta() {
                  if (this.cache.delta == null) {
                    this.cache.delta = this.descendants(_parchment2.default.Leaf).reduce(function(delta2, leaf) {
                      if (leaf.length() === 0) {
                        return delta2;
                      } else {
                        return delta2.insert(leaf.value(), bubbleFormats(leaf));
                      }
                    }, new _quillDelta2.default()).insert("\n", bubbleFormats(this));
                  }
                  return this.cache.delta;
                }
              }, {
                key: "deleteAt",
                value: function deleteAt(index2, length) {
                  _get(Block3.prototype.__proto__ || Object.getPrototypeOf(Block3.prototype), "deleteAt", this).call(this, index2, length);
                  this.cache = {};
                }
              }, {
                key: "formatAt",
                value: function formatAt(index2, length, name, value) {
                  if (length <= 0)
                    return;
                  if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {
                    if (index2 + length === this.length()) {
                      this.format(name, value);
                    }
                  } else {
                    _get(Block3.prototype.__proto__ || Object.getPrototypeOf(Block3.prototype), "formatAt", this).call(this, index2, Math.min(length, this.length() - index2 - 1), name, value);
                  }
                  this.cache = {};
                }
              }, {
                key: "insertAt",
                value: function insertAt(index2, value, def) {
                  if (def != null)
                    return _get(Block3.prototype.__proto__ || Object.getPrototypeOf(Block3.prototype), "insertAt", this).call(this, index2, value, def);
                  if (value.length === 0)
                    return;
                  var lines = value.split("\n");
                  var text = lines.shift();
                  if (text.length > 0) {
                    if (index2 < this.length() - 1 || this.children.tail == null) {
                      _get(Block3.prototype.__proto__ || Object.getPrototypeOf(Block3.prototype), "insertAt", this).call(this, Math.min(index2, this.length() - 1), text);
                    } else {
                      this.children.tail.insertAt(this.children.tail.length(), text);
                    }
                    this.cache = {};
                  }
                  var block = this;
                  lines.reduce(function(index3, line) {
                    block = block.split(index3, true);
                    block.insertAt(0, line);
                    return line.length;
                  }, index2 + text.length);
                }
              }, {
                key: "insertBefore",
                value: function insertBefore(blot, ref2) {
                  var head = this.children.head;
                  _get(Block3.prototype.__proto__ || Object.getPrototypeOf(Block3.prototype), "insertBefore", this).call(this, blot, ref2);
                  if (head instanceof _break2.default) {
                    head.remove();
                  }
                  this.cache = {};
                }
              }, {
                key: "length",
                value: function length() {
                  if (this.cache.length == null) {
                    this.cache.length = _get(Block3.prototype.__proto__ || Object.getPrototypeOf(Block3.prototype), "length", this).call(this) + NEWLINE_LENGTH;
                  }
                  return this.cache.length;
                }
              }, {
                key: "moveChildren",
                value: function moveChildren(target, ref2) {
                  _get(Block3.prototype.__proto__ || Object.getPrototypeOf(Block3.prototype), "moveChildren", this).call(this, target, ref2);
                  this.cache = {};
                }
              }, {
                key: "optimize",
                value: function optimize(context) {
                  _get(Block3.prototype.__proto__ || Object.getPrototypeOf(Block3.prototype), "optimize", this).call(this, context);
                  this.cache = {};
                }
              }, {
                key: "path",
                value: function path(index2) {
                  return _get(Block3.prototype.__proto__ || Object.getPrototypeOf(Block3.prototype), "path", this).call(this, index2, true);
                }
              }, {
                key: "removeChild",
                value: function removeChild(child) {
                  _get(Block3.prototype.__proto__ || Object.getPrototypeOf(Block3.prototype), "removeChild", this).call(this, child);
                  this.cache = {};
                }
              }, {
                key: "split",
                value: function split(index2) {
                  var force = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
                  if (force && (index2 === 0 || index2 >= this.length() - NEWLINE_LENGTH)) {
                    var clone = this.clone();
                    if (index2 === 0) {
                      this.parent.insertBefore(clone, this);
                      return this;
                    } else {
                      this.parent.insertBefore(clone, this.next);
                      return clone;
                    }
                  } else {
                    var next = _get(Block3.prototype.__proto__ || Object.getPrototypeOf(Block3.prototype), "split", this).call(this, index2, force);
                    this.cache = {};
                    return next;
                  }
                }
              }]);
              return Block3;
            }(_parchment2.default.Block);
            Block2.blotName = "block";
            Block2.tagName = "P";
            Block2.defaultChild = "break";
            Block2.allowedChildren = [_inline2.default, _parchment2.default.Embed, _text2.default];
            function bubbleFormats(blot) {
              var formats = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
              if (blot == null)
                return formats;
              if (typeof blot.formats === "function") {
                formats = (0, _extend2.default)(formats, blot.formats());
              }
              if (blot.parent == null || blot.parent.blotName == "scroll" || blot.parent.statics.scope !== blot.statics.scope) {
                return formats;
              }
              return bubbleFormats(blot.parent, formats);
            }
            exports2.bubbleFormats = bubbleFormats;
            exports2.BlockEmbed = BlockEmbed;
            exports2.default = Block2;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.default = exports2.overload = exports2.expandConfig = void 0;
            var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
              return typeof obj;
            } : function(obj) {
              return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
            };
            var _slicedToArray = function() {
              function sliceIterator(arr, i3) {
                var _arr = [];
                var _n = true;
                var _d = false;
                var _e = void 0;
                try {
                  for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                    _arr.push(_s.value);
                    if (i3 && _arr.length === i3)
                      break;
                  }
                } catch (err) {
                  _d = true;
                  _e = err;
                } finally {
                  try {
                    if (!_n && _i["return"])
                      _i["return"]();
                  } finally {
                    if (_d)
                      throw _e;
                  }
                }
                return _arr;
              }
              return function(arr, i3) {
                if (Array.isArray(arr)) {
                  return arr;
                } else if (Symbol.iterator in Object(arr)) {
                  return sliceIterator(arr, i3);
                } else {
                  throw new TypeError("Invalid attempt to destructure non-iterable instance");
                }
              };
            }();
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            __webpack_require__(50);
            var _quillDelta = __webpack_require__(2);
            var _quillDelta2 = _interopRequireDefault(_quillDelta);
            var _editor = __webpack_require__(14);
            var _editor2 = _interopRequireDefault(_editor);
            var _emitter3 = __webpack_require__(8);
            var _emitter4 = _interopRequireDefault(_emitter3);
            var _module = __webpack_require__(9);
            var _module2 = _interopRequireDefault(_module);
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            var _selection = __webpack_require__(15);
            var _selection2 = _interopRequireDefault(_selection);
            var _extend = __webpack_require__(3);
            var _extend2 = _interopRequireDefault(_extend);
            var _logger = __webpack_require__(10);
            var _logger2 = _interopRequireDefault(_logger);
            var _theme = __webpack_require__(34);
            var _theme2 = _interopRequireDefault(_theme);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _defineProperty2(obj, key, value) {
              if (key in obj) {
                Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
              } else {
                obj[key] = value;
              }
              return obj;
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            var debug = (0, _logger2.default)("quill");
            var Quill2 = function() {
              _createClass(Quill3, null, [{
                key: "debug",
                value: function debug2(limit) {
                  if (limit === true) {
                    limit = "log";
                  }
                  _logger2.default.level(limit);
                }
              }, {
                key: "find",
                value: function find2(node) {
                  return node.__quill || _parchment2.default.find(node);
                }
              }, {
                key: "import",
                value: function _import(name) {
                  if (this.imports[name] == null) {
                    debug.error("Cannot import " + name + ". Are you sure it was registered?");
                  }
                  return this.imports[name];
                }
              }, {
                key: "register",
                value: function register(path, target) {
                  var _this = this;
                  var overwrite = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;
                  if (typeof path !== "string") {
                    var name = path.attrName || path.blotName;
                    if (typeof name === "string") {
                      this.register("formats/" + name, path, target);
                    } else {
                      Object.keys(path).forEach(function(key) {
                        _this.register(key, path[key], target);
                      });
                    }
                  } else {
                    if (this.imports[path] != null && !overwrite) {
                      debug.warn("Overwriting " + path + " with", target);
                    }
                    this.imports[path] = target;
                    if ((path.startsWith("blots/") || path.startsWith("formats/")) && target.blotName !== "abstract") {
                      _parchment2.default.register(target);
                    } else if (path.startsWith("modules") && typeof target.register === "function") {
                      target.register();
                    }
                  }
                }
              }]);
              function Quill3(container) {
                var _this2 = this;
                var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
                _classCallCheck(this, Quill3);
                this.options = expandConfig(container, options);
                this.container = this.options.container;
                if (this.container == null) {
                  return debug.error("Invalid Quill container", container);
                }
                if (this.options.debug) {
                  Quill3.debug(this.options.debug);
                }
                var html = this.container.innerHTML.trim();
                this.container.classList.add("ql-container");
                this.container.innerHTML = "";
                this.container.__quill = this;
                this.root = this.addContainer("ql-editor");
                this.root.classList.add("ql-blank");
                this.root.setAttribute("data-gramm", false);
                this.scrollingContainer = this.options.scrollingContainer || this.root;
                this.emitter = new _emitter4.default();
                this.scroll = _parchment2.default.create(this.root, {
                  emitter: this.emitter,
                  whitelist: this.options.formats
                });
                this.editor = new _editor2.default(this.scroll);
                this.selection = new _selection2.default(this.scroll, this.emitter);
                this.theme = new this.options.theme(this, this.options);
                this.keyboard = this.theme.addModule("keyboard");
                this.clipboard = this.theme.addModule("clipboard");
                this.history = this.theme.addModule("history");
                this.theme.init();
                this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function(type) {
                  if (type === _emitter4.default.events.TEXT_CHANGE) {
                    _this2.root.classList.toggle("ql-blank", _this2.editor.isBlank());
                  }
                });
                this.emitter.on(_emitter4.default.events.SCROLL_UPDATE, function(source, mutations) {
                  var range = _this2.selection.lastRange;
                  var index2 = range && range.length === 0 ? range.index : void 0;
                  modify.call(_this2, function() {
                    return _this2.editor.update(null, mutations, index2);
                  }, source);
                });
                var contents = this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">` + html + "<p><br></p></div>");
                this.setContents(contents);
                this.history.clear();
                if (this.options.placeholder) {
                  this.root.setAttribute("data-placeholder", this.options.placeholder);
                }
                if (this.options.readOnly) {
                  this.disable();
                }
              }
              _createClass(Quill3, [{
                key: "addContainer",
                value: function addContainer(container) {
                  var refNode = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;
                  if (typeof container === "string") {
                    var className = container;
                    container = document.createElement("div");
                    container.classList.add(className);
                  }
                  this.container.insertBefore(container, refNode);
                  return container;
                }
              }, {
                key: "blur",
                value: function blur() {
                  this.selection.setRange(null);
                }
              }, {
                key: "deleteText",
                value: function deleteText(index2, length, source) {
                  var _this3 = this;
                  var _overload = overload(index2, length, source);
                  var _overload2 = _slicedToArray(_overload, 4);
                  index2 = _overload2[0];
                  length = _overload2[1];
                  source = _overload2[3];
                  return modify.call(this, function() {
                    return _this3.editor.deleteText(index2, length);
                  }, source, index2, -1 * length);
                }
              }, {
                key: "disable",
                value: function disable() {
                  this.enable(false);
                }
              }, {
                key: "enable",
                value: function enable() {
                  var enabled = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;
                  this.scroll.enable(enabled);
                  this.container.classList.toggle("ql-disabled", !enabled);
                }
              }, {
                key: "focus",
                value: function focus2() {
                  var scrollTop = this.scrollingContainer.scrollTop;
                  this.selection.focus();
                  this.scrollingContainer.scrollTop = scrollTop;
                  this.scrollIntoView();
                }
              }, {
                key: "format",
                value: function format2(name, value) {
                  var _this4 = this;
                  var source = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : _emitter4.default.sources.API;
                  return modify.call(this, function() {
                    var range = _this4.getSelection(true);
                    var change = new _quillDelta2.default();
                    if (range == null) {
                      return change;
                    } else if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {
                      change = _this4.editor.formatLine(range.index, range.length, _defineProperty2({}, name, value));
                    } else if (range.length === 0) {
                      _this4.selection.format(name, value);
                      return change;
                    } else {
                      change = _this4.editor.formatText(range.index, range.length, _defineProperty2({}, name, value));
                    }
                    _this4.setSelection(range, _emitter4.default.sources.SILENT);
                    return change;
                  }, source);
                }
              }, {
                key: "formatLine",
                value: function formatLine(index2, length, name, value, source) {
                  var _this5 = this;
                  var formats = void 0;
                  var _overload3 = overload(index2, length, name, value, source);
                  var _overload4 = _slicedToArray(_overload3, 4);
                  index2 = _overload4[0];
                  length = _overload4[1];
                  formats = _overload4[2];
                  source = _overload4[3];
                  return modify.call(this, function() {
                    return _this5.editor.formatLine(index2, length, formats);
                  }, source, index2, 0);
                }
              }, {
                key: "formatText",
                value: function formatText(index2, length, name, value, source) {
                  var _this6 = this;
                  var formats = void 0;
                  var _overload5 = overload(index2, length, name, value, source);
                  var _overload6 = _slicedToArray(_overload5, 4);
                  index2 = _overload6[0];
                  length = _overload6[1];
                  formats = _overload6[2];
                  source = _overload6[3];
                  return modify.call(this, function() {
                    return _this6.editor.formatText(index2, length, formats);
                  }, source, index2, 0);
                }
              }, {
                key: "getBounds",
                value: function getBounds(index2) {
                  var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
                  var bounds = void 0;
                  if (typeof index2 === "number") {
                    bounds = this.selection.getBounds(index2, length);
                  } else {
                    bounds = this.selection.getBounds(index2.index, index2.length);
                  }
                  var containerBounds = this.container.getBoundingClientRect();
                  return {
                    bottom: bounds.bottom - containerBounds.top,
                    height: bounds.height,
                    left: bounds.left - containerBounds.left,
                    right: bounds.right - containerBounds.left,
                    top: bounds.top - containerBounds.top,
                    width: bounds.width
                  };
                }
              }, {
                key: "getContents",
                value: function getContents() {
                  var index2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
                  var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.getLength() - index2;
                  var _overload7 = overload(index2, length);
                  var _overload8 = _slicedToArray(_overload7, 2);
                  index2 = _overload8[0];
                  length = _overload8[1];
                  return this.editor.getContents(index2, length);
                }
              }, {
                key: "getFormat",
                value: function getFormat() {
                  var index2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.getSelection(true);
                  var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
                  if (typeof index2 === "number") {
                    return this.editor.getFormat(index2, length);
                  } else {
                    return this.editor.getFormat(index2.index, index2.length);
                  }
                }
              }, {
                key: "getIndex",
                value: function getIndex(blot) {
                  return blot.offset(this.scroll);
                }
              }, {
                key: "getLength",
                value: function getLength() {
                  return this.scroll.length();
                }
              }, {
                key: "getLeaf",
                value: function getLeaf(index2) {
                  return this.scroll.leaf(index2);
                }
              }, {
                key: "getLine",
                value: function getLine(index2) {
                  return this.scroll.line(index2);
                }
              }, {
                key: "getLines",
                value: function getLines() {
                  var index2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
                  var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Number.MAX_VALUE;
                  if (typeof index2 !== "number") {
                    return this.scroll.lines(index2.index, index2.length);
                  } else {
                    return this.scroll.lines(index2, length);
                  }
                }
              }, {
                key: "getModule",
                value: function getModule(name) {
                  return this.theme.modules[name];
                }
              }, {
                key: "getSelection",
                value: function getSelection() {
                  var focus2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;
                  if (focus2)
                    this.focus();
                  this.update();
                  return this.selection.getRange()[0];
                }
              }, {
                key: "getText",
                value: function getText() {
                  var index2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
                  var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.getLength() - index2;
                  var _overload9 = overload(index2, length);
                  var _overload10 = _slicedToArray(_overload9, 2);
                  index2 = _overload10[0];
                  length = _overload10[1];
                  return this.editor.getText(index2, length);
                }
              }, {
                key: "hasFocus",
                value: function hasFocus() {
                  return this.selection.hasFocus();
                }
              }, {
                key: "insertEmbed",
                value: function insertEmbed(index2, embed, value) {
                  var _this7 = this;
                  var source = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : Quill3.sources.API;
                  return modify.call(this, function() {
                    return _this7.editor.insertEmbed(index2, embed, value);
                  }, source, index2);
                }
              }, {
                key: "insertText",
                value: function insertText(index2, text, name, value, source) {
                  var _this8 = this;
                  var formats = void 0;
                  var _overload11 = overload(index2, 0, name, value, source);
                  var _overload12 = _slicedToArray(_overload11, 4);
                  index2 = _overload12[0];
                  formats = _overload12[2];
                  source = _overload12[3];
                  return modify.call(this, function() {
                    return _this8.editor.insertText(index2, text, formats);
                  }, source, index2, text.length);
                }
              }, {
                key: "isEnabled",
                value: function isEnabled() {
                  return !this.container.classList.contains("ql-disabled");
                }
              }, {
                key: "off",
                value: function off() {
                  return this.emitter.off.apply(this.emitter, arguments);
                }
              }, {
                key: "on",
                value: function on2() {
                  return this.emitter.on.apply(this.emitter, arguments);
                }
              }, {
                key: "once",
                value: function once() {
                  return this.emitter.once.apply(this.emitter, arguments);
                }
              }, {
                key: "pasteHTML",
                value: function pasteHTML(index2, html, source) {
                  this.clipboard.dangerouslyPasteHTML(index2, html, source);
                }
              }, {
                key: "removeFormat",
                value: function removeFormat(index2, length, source) {
                  var _this9 = this;
                  var _overload13 = overload(index2, length, source);
                  var _overload14 = _slicedToArray(_overload13, 4);
                  index2 = _overload14[0];
                  length = _overload14[1];
                  source = _overload14[3];
                  return modify.call(this, function() {
                    return _this9.editor.removeFormat(index2, length);
                  }, source, index2);
                }
              }, {
                key: "scrollIntoView",
                value: function scrollIntoView() {
                  this.selection.scrollIntoView(this.scrollingContainer);
                }
              }, {
                key: "setContents",
                value: function setContents(delta) {
                  var _this10 = this;
                  var source = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : _emitter4.default.sources.API;
                  return modify.call(this, function() {
                    delta = new _quillDelta2.default(delta);
                    var length = _this10.getLength();
                    var deleted = _this10.editor.deleteText(0, length);
                    var applied = _this10.editor.applyDelta(delta);
                    var lastOp = applied.ops[applied.ops.length - 1];
                    if (lastOp != null && typeof lastOp.insert === "string" && lastOp.insert[lastOp.insert.length - 1] === "\n") {
                      _this10.editor.deleteText(_this10.getLength() - 1, 1);
                      applied.delete(1);
                    }
                    var ret = deleted.compose(applied);
                    return ret;
                  }, source);
                }
              }, {
                key: "setSelection",
                value: function setSelection(index2, length, source) {
                  if (index2 == null) {
                    this.selection.setRange(null, length || Quill3.sources.API);
                  } else {
                    var _overload15 = overload(index2, length, source);
                    var _overload16 = _slicedToArray(_overload15, 4);
                    index2 = _overload16[0];
                    length = _overload16[1];
                    source = _overload16[3];
                    this.selection.setRange(new _selection.Range(index2, length), source);
                    if (source !== _emitter4.default.sources.SILENT) {
                      this.selection.scrollIntoView(this.scrollingContainer);
                    }
                  }
                }
              }, {
                key: "setText",
                value: function setText(text) {
                  var source = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : _emitter4.default.sources.API;
                  var delta = new _quillDelta2.default().insert(text);
                  return this.setContents(delta, source);
                }
              }, {
                key: "update",
                value: function update2() {
                  var source = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : _emitter4.default.sources.USER;
                  var change = this.scroll.update(source);
                  this.selection.update(source);
                  return change;
                }
              }, {
                key: "updateContents",
                value: function updateContents(delta) {
                  var _this11 = this;
                  var source = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : _emitter4.default.sources.API;
                  return modify.call(this, function() {
                    delta = new _quillDelta2.default(delta);
                    return _this11.editor.applyDelta(delta, source);
                  }, source, true);
                }
              }]);
              return Quill3;
            }();
            Quill2.DEFAULTS = {
              bounds: null,
              formats: null,
              modules: {},
              placeholder: "",
              readOnly: false,
              scrollingContainer: null,
              strict: true,
              theme: "default"
            };
            Quill2.events = _emitter4.default.events;
            Quill2.sources = _emitter4.default.sources;
            Quill2.version = false ? "dev" : "1.3.7";
            Quill2.imports = {
              "delta": _quillDelta2.default,
              "parchment": _parchment2.default,
              "core/module": _module2.default,
              "core/theme": _theme2.default
            };
            function expandConfig(container, userConfig) {
              userConfig = (0, _extend2.default)(true, {
                container,
                modules: {
                  clipboard: true,
                  keyboard: true,
                  history: true
                }
              }, userConfig);
              if (!userConfig.theme || userConfig.theme === Quill2.DEFAULTS.theme) {
                userConfig.theme = _theme2.default;
              } else {
                userConfig.theme = Quill2.import("themes/" + userConfig.theme);
                if (userConfig.theme == null) {
                  throw new Error("Invalid theme " + userConfig.theme + ". Did you register it?");
                }
              }
              var themeConfig = (0, _extend2.default)(true, {}, userConfig.theme.DEFAULTS);
              [themeConfig, userConfig].forEach(function(config2) {
                config2.modules = config2.modules || {};
                Object.keys(config2.modules).forEach(function(module3) {
                  if (config2.modules[module3] === true) {
                    config2.modules[module3] = {};
                  }
                });
              });
              var moduleNames = Object.keys(themeConfig.modules).concat(Object.keys(userConfig.modules));
              var moduleConfig = moduleNames.reduce(function(config2, name) {
                var moduleClass = Quill2.import("modules/" + name);
                if (moduleClass == null) {
                  debug.error("Cannot load " + name + " module. Are you sure you registered it?");
                } else {
                  config2[name] = moduleClass.DEFAULTS || {};
                }
                return config2;
              }, {});
              if (userConfig.modules != null && userConfig.modules.toolbar && userConfig.modules.toolbar.constructor !== Object) {
                userConfig.modules.toolbar = {
                  container: userConfig.modules.toolbar
                };
              }
              userConfig = (0, _extend2.default)(true, {}, Quill2.DEFAULTS, { modules: moduleConfig }, themeConfig, userConfig);
              ["bounds", "container", "scrollingContainer"].forEach(function(key) {
                if (typeof userConfig[key] === "string") {
                  userConfig[key] = document.querySelector(userConfig[key]);
                }
              });
              userConfig.modules = Object.keys(userConfig.modules).reduce(function(config2, name) {
                if (userConfig.modules[name]) {
                  config2[name] = userConfig.modules[name];
                }
                return config2;
              }, {});
              return userConfig;
            }
            function modify(modifier, source, index2, shift3) {
              if (this.options.strict && !this.isEnabled() && source === _emitter4.default.sources.USER) {
                return new _quillDelta2.default();
              }
              var range = index2 == null ? null : this.getSelection();
              var oldDelta = this.editor.delta;
              var change = modifier();
              if (range != null) {
                if (index2 === true)
                  index2 = range.index;
                if (shift3 == null) {
                  range = shiftRange(range, change, source);
                } else if (shift3 !== 0) {
                  range = shiftRange(range, index2, shift3, source);
                }
                this.setSelection(range, _emitter4.default.sources.SILENT);
              }
              if (change.length() > 0) {
                var _emitter;
                var args = [_emitter4.default.events.TEXT_CHANGE, change, oldDelta, source];
                (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));
                if (source !== _emitter4.default.sources.SILENT) {
                  var _emitter2;
                  (_emitter2 = this.emitter).emit.apply(_emitter2, args);
                }
              }
              return change;
            }
            function overload(index2, length, name, value, source) {
              var formats = {};
              if (typeof index2.index === "number" && typeof index2.length === "number") {
                if (typeof length !== "number") {
                  source = value, value = name, name = length, length = index2.length, index2 = index2.index;
                } else {
                  length = index2.length, index2 = index2.index;
                }
              } else if (typeof length !== "number") {
                source = value, value = name, name = length, length = 0;
              }
              if ((typeof name === "undefined" ? "undefined" : _typeof(name)) === "object") {
                formats = name;
                source = value;
              } else if (typeof name === "string") {
                if (value != null) {
                  formats[name] = value;
                } else {
                  source = name;
                }
              }
              source = source || _emitter4.default.sources.API;
              return [index2, length, formats, source];
            }
            function shiftRange(range, index2, length, source) {
              if (range == null)
                return null;
              var start4 = void 0, end3 = void 0;
              if (index2 instanceof _quillDelta2.default) {
                var _map = [range.index, range.index + range.length].map(function(pos) {
                  return index2.transformPosition(pos, source !== _emitter4.default.sources.USER);
                });
                var _map2 = _slicedToArray(_map, 2);
                start4 = _map2[0];
                end3 = _map2[1];
              } else {
                var _map3 = [range.index, range.index + range.length].map(function(pos) {
                  if (pos < index2 || pos === index2 && source === _emitter4.default.sources.USER)
                    return pos;
                  if (length >= 0) {
                    return pos + length;
                  } else {
                    return Math.max(index2, pos + length);
                  }
                });
                var _map4 = _slicedToArray(_map3, 2);
                start4 = _map4[0];
                end3 = _map4[1];
              }
              return new _selection.Range(start4, end3 - start4);
            }
            exports2.expandConfig = expandConfig;
            exports2.overload = overload;
            exports2.default = Quill2;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _text = __webpack_require__(7);
            var _text2 = _interopRequireDefault(_text);
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var Inline = function(_Parchment$Inline) {
              _inherits(Inline2, _Parchment$Inline);
              function Inline2() {
                _classCallCheck(this, Inline2);
                return _possibleConstructorReturn(this, (Inline2.__proto__ || Object.getPrototypeOf(Inline2)).apply(this, arguments));
              }
              _createClass(Inline2, [{
                key: "formatAt",
                value: function formatAt(index2, length, name, value) {
                  if (Inline2.compare(this.statics.blotName, name) < 0 && _parchment2.default.query(name, _parchment2.default.Scope.BLOT)) {
                    var blot = this.isolate(index2, length);
                    if (value) {
                      blot.wrap(name, value);
                    }
                  } else {
                    _get(Inline2.prototype.__proto__ || Object.getPrototypeOf(Inline2.prototype), "formatAt", this).call(this, index2, length, name, value);
                  }
                }
              }, {
                key: "optimize",
                value: function optimize(context) {
                  _get(Inline2.prototype.__proto__ || Object.getPrototypeOf(Inline2.prototype), "optimize", this).call(this, context);
                  if (this.parent instanceof Inline2 && Inline2.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {
                    var parent = this.parent.isolate(this.offset(), this.length());
                    this.moveChildren(parent);
                    parent.wrap(this);
                  }
                }
              }], [{
                key: "compare",
                value: function compare(self2, other) {
                  var selfIndex = Inline2.order.indexOf(self2);
                  var otherIndex = Inline2.order.indexOf(other);
                  if (selfIndex >= 0 || otherIndex >= 0) {
                    return selfIndex - otherIndex;
                  } else if (self2 === other) {
                    return 0;
                  } else if (self2 < other) {
                    return -1;
                  } else {
                    return 1;
                  }
                }
              }]);
              return Inline2;
            }(_parchment2.default.Inline);
            Inline.allowedChildren = [Inline, _parchment2.default.Embed, _text2.default];
            Inline.order = [
              "cursor",
              "inline",
              "underline",
              "strike",
              "italic",
              "bold",
              "script",
              "link",
              "code"
            ];
            exports2.default = Inline;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var TextBlot = function(_Parchment$Text) {
              _inherits(TextBlot2, _Parchment$Text);
              function TextBlot2() {
                _classCallCheck(this, TextBlot2);
                return _possibleConstructorReturn(this, (TextBlot2.__proto__ || Object.getPrototypeOf(TextBlot2)).apply(this, arguments));
              }
              return TextBlot2;
            }(_parchment2.default.Text);
            exports2.default = TextBlot;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _eventemitter = __webpack_require__(54);
            var _eventemitter2 = _interopRequireDefault(_eventemitter);
            var _logger = __webpack_require__(10);
            var _logger2 = _interopRequireDefault(_logger);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var debug = (0, _logger2.default)("quill:events");
            var EVENTS = ["selectionchange", "mousedown", "mouseup", "click"];
            EVENTS.forEach(function(eventName) {
              document.addEventListener(eventName, function() {
                for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
                  args[_key] = arguments[_key];
                }
                [].slice.call(document.querySelectorAll(".ql-container")).forEach(function(node) {
                  if (node.__quill && node.__quill.emitter) {
                    var _node$__quill$emitter;
                    (_node$__quill$emitter = node.__quill.emitter).handleDOM.apply(_node$__quill$emitter, args);
                  }
                });
              });
            });
            var Emitter = function(_EventEmitter) {
              _inherits(Emitter2, _EventEmitter);
              function Emitter2() {
                _classCallCheck(this, Emitter2);
                var _this = _possibleConstructorReturn(this, (Emitter2.__proto__ || Object.getPrototypeOf(Emitter2)).call(this));
                _this.listeners = {};
                _this.on("error", debug.error);
                return _this;
              }
              _createClass(Emitter2, [{
                key: "emit",
                value: function emit() {
                  debug.log.apply(debug, arguments);
                  _get(Emitter2.prototype.__proto__ || Object.getPrototypeOf(Emitter2.prototype), "emit", this).apply(this, arguments);
                }
              }, {
                key: "handleDOM",
                value: function handleDOM(event) {
                  for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
                    args[_key2 - 1] = arguments[_key2];
                  }
                  (this.listeners[event.type] || []).forEach(function(_ref) {
                    var node = _ref.node, handler = _ref.handler;
                    if (event.target === node || node.contains(event.target)) {
                      handler.apply(void 0, [event].concat(args));
                    }
                  });
                }
              }, {
                key: "listenDOM",
                value: function listenDOM(eventName, node, handler) {
                  if (!this.listeners[eventName]) {
                    this.listeners[eventName] = [];
                  }
                  this.listeners[eventName].push({ node, handler });
                }
              }]);
              return Emitter2;
            }(_eventemitter2.default);
            Emitter.events = {
              EDITOR_CHANGE: "editor-change",
              SCROLL_BEFORE_UPDATE: "scroll-before-update",
              SCROLL_OPTIMIZE: "scroll-optimize",
              SCROLL_UPDATE: "scroll-update",
              SELECTION_CHANGE: "selection-change",
              TEXT_CHANGE: "text-change"
            };
            Emitter.sources = {
              API: "api",
              SILENT: "silent",
              USER: "user"
            };
            exports2.default = Emitter;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            var Module = function Module2(quill) {
              var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
              _classCallCheck(this, Module2);
              this.quill = quill;
              this.options = options;
            };
            Module.DEFAULTS = {};
            exports2.default = Module;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var levels2 = ["error", "warn", "log", "info"];
            var level = "warn";
            function debug(method) {
              if (levels2.indexOf(method) <= levels2.indexOf(level)) {
                var _console;
                for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                  args[_key - 1] = arguments[_key];
                }
                (_console = console)[method].apply(_console, args);
              }
            }
            function namespace(ns) {
              return levels2.reduce(function(logger3, method) {
                logger3[method] = debug.bind(console, method, ns);
                return logger3;
              }, {});
            }
            debug.level = namespace.level = function(newLevel) {
              level = newLevel;
            };
            exports2.default = namespace;
          },
          function(module2, exports2, __webpack_require__) {
            var pSlice = Array.prototype.slice;
            var objectKeys = __webpack_require__(52);
            var isArguments = __webpack_require__(53);
            var deepEqual2 = module2.exports = function(actual, expected, opts) {
              if (!opts)
                opts = {};
              if (actual === expected) {
                return true;
              } else if (actual instanceof Date && expected instanceof Date) {
                return actual.getTime() === expected.getTime();
              } else if (!actual || !expected || typeof actual != "object" && typeof expected != "object") {
                return opts.strict ? actual === expected : actual == expected;
              } else {
                return objEquiv(actual, expected, opts);
              }
            };
            function isUndefinedOrNull(value) {
              return value === null || value === void 0;
            }
            function isBuffer(x2) {
              if (!x2 || typeof x2 !== "object" || typeof x2.length !== "number")
                return false;
              if (typeof x2.copy !== "function" || typeof x2.slice !== "function") {
                return false;
              }
              if (x2.length > 0 && typeof x2[0] !== "number")
                return false;
              return true;
            }
            function objEquiv(a3, b3, opts) {
              var i3, key;
              if (isUndefinedOrNull(a3) || isUndefinedOrNull(b3))
                return false;
              if (a3.prototype !== b3.prototype)
                return false;
              if (isArguments(a3)) {
                if (!isArguments(b3)) {
                  return false;
                }
                a3 = pSlice.call(a3);
                b3 = pSlice.call(b3);
                return deepEqual2(a3, b3, opts);
              }
              if (isBuffer(a3)) {
                if (!isBuffer(b3)) {
                  return false;
                }
                if (a3.length !== b3.length)
                  return false;
                for (i3 = 0; i3 < a3.length; i3++) {
                  if (a3[i3] !== b3[i3])
                    return false;
                }
                return true;
              }
              try {
                var ka = objectKeys(a3), kb = objectKeys(b3);
              } catch (e2) {
                return false;
              }
              if (ka.length != kb.length)
                return false;
              ka.sort();
              kb.sort();
              for (i3 = ka.length - 1; i3 >= 0; i3--) {
                if (ka[i3] != kb[i3])
                  return false;
              }
              for (i3 = ka.length - 1; i3 >= 0; i3--) {
                key = ka[i3];
                if (!deepEqual2(a3[key], b3[key], opts))
                  return false;
              }
              return typeof a3 === typeof b3;
            }
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", { value: true });
            var Registry = __webpack_require__(1);
            var Attributor = function() {
              function Attributor2(attrName, keyName, options) {
                if (options === void 0) {
                  options = {};
                }
                this.attrName = attrName;
                this.keyName = keyName;
                var attributeBit = Registry.Scope.TYPE & Registry.Scope.ATTRIBUTE;
                if (options.scope != null) {
                  this.scope = options.scope & Registry.Scope.LEVEL | attributeBit;
                } else {
                  this.scope = Registry.Scope.ATTRIBUTE;
                }
                if (options.whitelist != null)
                  this.whitelist = options.whitelist;
              }
              Attributor2.keys = function(node) {
                return [].map.call(node.attributes, function(item) {
                  return item.name;
                });
              };
              Attributor2.prototype.add = function(node, value) {
                if (!this.canAdd(node, value))
                  return false;
                node.setAttribute(this.keyName, value);
                return true;
              };
              Attributor2.prototype.canAdd = function(node, value) {
                var match2 = Registry.query(node, Registry.Scope.BLOT & (this.scope | Registry.Scope.TYPE));
                if (match2 == null)
                  return false;
                if (this.whitelist == null)
                  return true;
                if (typeof value === "string") {
                  return this.whitelist.indexOf(value.replace(/["']/g, "")) > -1;
                } else {
                  return this.whitelist.indexOf(value) > -1;
                }
              };
              Attributor2.prototype.remove = function(node) {
                node.removeAttribute(this.keyName);
              };
              Attributor2.prototype.value = function(node) {
                var value = node.getAttribute(this.keyName);
                if (this.canAdd(node, value) && value) {
                  return value;
                }
                return "";
              };
              return Attributor2;
            }();
            exports2.default = Attributor;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.default = exports2.Code = void 0;
            var _slicedToArray = function() {
              function sliceIterator(arr, i3) {
                var _arr = [];
                var _n = true;
                var _d = false;
                var _e = void 0;
                try {
                  for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                    _arr.push(_s.value);
                    if (i3 && _arr.length === i3)
                      break;
                  }
                } catch (err) {
                  _d = true;
                  _e = err;
                } finally {
                  try {
                    if (!_n && _i["return"])
                      _i["return"]();
                  } finally {
                    if (_d)
                      throw _e;
                  }
                }
                return _arr;
              }
              return function(arr, i3) {
                if (Array.isArray(arr)) {
                  return arr;
                } else if (Symbol.iterator in Object(arr)) {
                  return sliceIterator(arr, i3);
                } else {
                  throw new TypeError("Invalid attempt to destructure non-iterable instance");
                }
              };
            }();
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _quillDelta = __webpack_require__(2);
            var _quillDelta2 = _interopRequireDefault(_quillDelta);
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            var _block = __webpack_require__(4);
            var _block2 = _interopRequireDefault(_block);
            var _inline = __webpack_require__(6);
            var _inline2 = _interopRequireDefault(_inline);
            var _text = __webpack_require__(7);
            var _text2 = _interopRequireDefault(_text);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var Code = function(_Inline) {
              _inherits(Code2, _Inline);
              function Code2() {
                _classCallCheck(this, Code2);
                return _possibleConstructorReturn(this, (Code2.__proto__ || Object.getPrototypeOf(Code2)).apply(this, arguments));
              }
              return Code2;
            }(_inline2.default);
            Code.blotName = "code";
            Code.tagName = "CODE";
            var CodeBlock = function(_Block) {
              _inherits(CodeBlock2, _Block);
              function CodeBlock2() {
                _classCallCheck(this, CodeBlock2);
                return _possibleConstructorReturn(this, (CodeBlock2.__proto__ || Object.getPrototypeOf(CodeBlock2)).apply(this, arguments));
              }
              _createClass(CodeBlock2, [{
                key: "delta",
                value: function delta() {
                  var _this3 = this;
                  var text = this.domNode.textContent;
                  if (text.endsWith("\n")) {
                    text = text.slice(0, -1);
                  }
                  return text.split("\n").reduce(function(delta2, frag) {
                    return delta2.insert(frag).insert("\n", _this3.formats());
                  }, new _quillDelta2.default());
                }
              }, {
                key: "format",
                value: function format2(name, value) {
                  if (name === this.statics.blotName && value)
                    return;
                  var _descendant = this.descendant(_text2.default, this.length() - 1), _descendant2 = _slicedToArray(_descendant, 1), text = _descendant2[0];
                  if (text != null) {
                    text.deleteAt(text.length() - 1, 1);
                  }
                  _get(CodeBlock2.prototype.__proto__ || Object.getPrototypeOf(CodeBlock2.prototype), "format", this).call(this, name, value);
                }
              }, {
                key: "formatAt",
                value: function formatAt(index2, length, name, value) {
                  if (length === 0)
                    return;
                  if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK) == null || name === this.statics.blotName && value === this.statics.formats(this.domNode)) {
                    return;
                  }
                  var nextNewline = this.newlineIndex(index2);
                  if (nextNewline < 0 || nextNewline >= index2 + length)
                    return;
                  var prevNewline = this.newlineIndex(index2, true) + 1;
                  var isolateLength = nextNewline - prevNewline + 1;
                  var blot = this.isolate(prevNewline, isolateLength);
                  var next = blot.next;
                  blot.format(name, value);
                  if (next instanceof CodeBlock2) {
                    next.formatAt(0, index2 - prevNewline + length - isolateLength, name, value);
                  }
                }
              }, {
                key: "insertAt",
                value: function insertAt(index2, value, def) {
                  if (def != null)
                    return;
                  var _descendant3 = this.descendant(_text2.default, index2), _descendant4 = _slicedToArray(_descendant3, 2), text = _descendant4[0], offset4 = _descendant4[1];
                  text.insertAt(offset4, value);
                }
              }, {
                key: "length",
                value: function length() {
                  var length2 = this.domNode.textContent.length;
                  if (!this.domNode.textContent.endsWith("\n")) {
                    return length2 + 1;
                  }
                  return length2;
                }
              }, {
                key: "newlineIndex",
                value: function newlineIndex(searchIndex) {
                  var reverse = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
                  if (!reverse) {
                    var offset4 = this.domNode.textContent.slice(searchIndex).indexOf("\n");
                    return offset4 > -1 ? searchIndex + offset4 : -1;
                  } else {
                    return this.domNode.textContent.slice(0, searchIndex).lastIndexOf("\n");
                  }
                }
              }, {
                key: "optimize",
                value: function optimize(context) {
                  if (!this.domNode.textContent.endsWith("\n")) {
                    this.appendChild(_parchment2.default.create("text", "\n"));
                  }
                  _get(CodeBlock2.prototype.__proto__ || Object.getPrototypeOf(CodeBlock2.prototype), "optimize", this).call(this, context);
                  var next = this.next;
                  if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && this.statics.formats(this.domNode) === next.statics.formats(next.domNode)) {
                    next.optimize(context);
                    next.moveChildren(this);
                    next.remove();
                  }
                }
              }, {
                key: "replace",
                value: function replace(target) {
                  _get(CodeBlock2.prototype.__proto__ || Object.getPrototypeOf(CodeBlock2.prototype), "replace", this).call(this, target);
                  [].slice.call(this.domNode.querySelectorAll("*")).forEach(function(node) {
                    var blot = _parchment2.default.find(node);
                    if (blot == null) {
                      node.parentNode.removeChild(node);
                    } else if (blot instanceof _parchment2.default.Embed) {
                      blot.remove();
                    } else {
                      blot.unwrap();
                    }
                  });
                }
              }], [{
                key: "create",
                value: function create2(value) {
                  var domNode = _get(CodeBlock2.__proto__ || Object.getPrototypeOf(CodeBlock2), "create", this).call(this, value);
                  domNode.setAttribute("spellcheck", false);
                  return domNode;
                }
              }, {
                key: "formats",
                value: function formats() {
                  return true;
                }
              }]);
              return CodeBlock2;
            }(_block2.default);
            CodeBlock.blotName = "code-block";
            CodeBlock.tagName = "PRE";
            CodeBlock.TAB = "  ";
            exports2.Code = Code;
            exports2.default = CodeBlock;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
              return typeof obj;
            } : function(obj) {
              return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
            };
            var _slicedToArray = function() {
              function sliceIterator(arr, i3) {
                var _arr = [];
                var _n = true;
                var _d = false;
                var _e = void 0;
                try {
                  for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                    _arr.push(_s.value);
                    if (i3 && _arr.length === i3)
                      break;
                  }
                } catch (err) {
                  _d = true;
                  _e = err;
                } finally {
                  try {
                    if (!_n && _i["return"])
                      _i["return"]();
                  } finally {
                    if (_d)
                      throw _e;
                  }
                }
                return _arr;
              }
              return function(arr, i3) {
                if (Array.isArray(arr)) {
                  return arr;
                } else if (Symbol.iterator in Object(arr)) {
                  return sliceIterator(arr, i3);
                } else {
                  throw new TypeError("Invalid attempt to destructure non-iterable instance");
                }
              };
            }();
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _quillDelta = __webpack_require__(2);
            var _quillDelta2 = _interopRequireDefault(_quillDelta);
            var _op = __webpack_require__(20);
            var _op2 = _interopRequireDefault(_op);
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            var _code = __webpack_require__(13);
            var _code2 = _interopRequireDefault(_code);
            var _cursor = __webpack_require__(24);
            var _cursor2 = _interopRequireDefault(_cursor);
            var _block = __webpack_require__(4);
            var _block2 = _interopRequireDefault(_block);
            var _break = __webpack_require__(16);
            var _break2 = _interopRequireDefault(_break);
            var _clone = __webpack_require__(21);
            var _clone2 = _interopRequireDefault(_clone);
            var _deepEqual = __webpack_require__(11);
            var _deepEqual2 = _interopRequireDefault(_deepEqual);
            var _extend = __webpack_require__(3);
            var _extend2 = _interopRequireDefault(_extend);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _defineProperty2(obj, key, value) {
              if (key in obj) {
                Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
              } else {
                obj[key] = value;
              }
              return obj;
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            var ASCII = /^[ -~]*$/;
            var Editor = function() {
              function Editor2(scroll3) {
                _classCallCheck(this, Editor2);
                this.scroll = scroll3;
                this.delta = this.getDelta();
              }
              _createClass(Editor2, [{
                key: "applyDelta",
                value: function applyDelta(delta) {
                  var _this = this;
                  var consumeNextNewline = false;
                  this.scroll.update();
                  var scrollLength = this.scroll.length();
                  this.scroll.batchStart();
                  delta = normalizeDelta(delta);
                  delta.reduce(function(index2, op) {
                    var length = op.retain || op.delete || op.insert.length || 1;
                    var attributes = op.attributes || {};
                    if (op.insert != null) {
                      if (typeof op.insert === "string") {
                        var text = op.insert;
                        if (text.endsWith("\n") && consumeNextNewline) {
                          consumeNextNewline = false;
                          text = text.slice(0, -1);
                        }
                        if (index2 >= scrollLength && !text.endsWith("\n")) {
                          consumeNextNewline = true;
                        }
                        _this.scroll.insertAt(index2, text);
                        var _scroll$line = _this.scroll.line(index2), _scroll$line2 = _slicedToArray(_scroll$line, 2), line = _scroll$line2[0], offset4 = _scroll$line2[1];
                        var formats = (0, _extend2.default)({}, (0, _block.bubbleFormats)(line));
                        if (line instanceof _block2.default) {
                          var _line$descendant = line.descendant(_parchment2.default.Leaf, offset4), _line$descendant2 = _slicedToArray(_line$descendant, 1), leaf = _line$descendant2[0];
                          formats = (0, _extend2.default)(formats, (0, _block.bubbleFormats)(leaf));
                        }
                        attributes = _op2.default.attributes.diff(formats, attributes) || {};
                      } else if (_typeof(op.insert) === "object") {
                        var key = Object.keys(op.insert)[0];
                        if (key == null)
                          return index2;
                        _this.scroll.insertAt(index2, key, op.insert[key]);
                      }
                      scrollLength += length;
                    }
                    Object.keys(attributes).forEach(function(name) {
                      _this.scroll.formatAt(index2, length, name, attributes[name]);
                    });
                    return index2 + length;
                  }, 0);
                  delta.reduce(function(index2, op) {
                    if (typeof op.delete === "number") {
                      _this.scroll.deleteAt(index2, op.delete);
                      return index2;
                    }
                    return index2 + (op.retain || op.insert.length || 1);
                  }, 0);
                  this.scroll.batchEnd();
                  return this.update(delta);
                }
              }, {
                key: "deleteText",
                value: function deleteText(index2, length) {
                  this.scroll.deleteAt(index2, length);
                  return this.update(new _quillDelta2.default().retain(index2).delete(length));
                }
              }, {
                key: "formatLine",
                value: function formatLine(index2, length) {
                  var _this2 = this;
                  var formats = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
                  this.scroll.update();
                  Object.keys(formats).forEach(function(format2) {
                    if (_this2.scroll.whitelist != null && !_this2.scroll.whitelist[format2])
                      return;
                    var lines = _this2.scroll.lines(index2, Math.max(length, 1));
                    var lengthRemaining = length;
                    lines.forEach(function(line) {
                      var lineLength = line.length();
                      if (!(line instanceof _code2.default)) {
                        line.format(format2, formats[format2]);
                      } else {
                        var codeIndex = index2 - line.offset(_this2.scroll);
                        var codeLength = line.newlineIndex(codeIndex + lengthRemaining) - codeIndex + 1;
                        line.formatAt(codeIndex, codeLength, format2, formats[format2]);
                      }
                      lengthRemaining -= lineLength;
                    });
                  });
                  this.scroll.optimize();
                  return this.update(new _quillDelta2.default().retain(index2).retain(length, (0, _clone2.default)(formats)));
                }
              }, {
                key: "formatText",
                value: function formatText(index2, length) {
                  var _this3 = this;
                  var formats = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
                  Object.keys(formats).forEach(function(format2) {
                    _this3.scroll.formatAt(index2, length, format2, formats[format2]);
                  });
                  return this.update(new _quillDelta2.default().retain(index2).retain(length, (0, _clone2.default)(formats)));
                }
              }, {
                key: "getContents",
                value: function getContents(index2, length) {
                  return this.delta.slice(index2, index2 + length);
                }
              }, {
                key: "getDelta",
                value: function getDelta() {
                  return this.scroll.lines().reduce(function(delta, line) {
                    return delta.concat(line.delta());
                  }, new _quillDelta2.default());
                }
              }, {
                key: "getFormat",
                value: function getFormat(index2) {
                  var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
                  var lines = [], leaves = [];
                  if (length === 0) {
                    this.scroll.path(index2).forEach(function(path) {
                      var _path = _slicedToArray(path, 1), blot = _path[0];
                      if (blot instanceof _block2.default) {
                        lines.push(blot);
                      } else if (blot instanceof _parchment2.default.Leaf) {
                        leaves.push(blot);
                      }
                    });
                  } else {
                    lines = this.scroll.lines(index2, length);
                    leaves = this.scroll.descendants(_parchment2.default.Leaf, index2, length);
                  }
                  var formatsArr = [lines, leaves].map(function(blots) {
                    if (blots.length === 0)
                      return {};
                    var formats = (0, _block.bubbleFormats)(blots.shift());
                    while (Object.keys(formats).length > 0) {
                      var blot = blots.shift();
                      if (blot == null)
                        return formats;
                      formats = combineFormats((0, _block.bubbleFormats)(blot), formats);
                    }
                    return formats;
                  });
                  return _extend2.default.apply(_extend2.default, formatsArr);
                }
              }, {
                key: "getText",
                value: function getText(index2, length) {
                  return this.getContents(index2, length).filter(function(op) {
                    return typeof op.insert === "string";
                  }).map(function(op) {
                    return op.insert;
                  }).join("");
                }
              }, {
                key: "insertEmbed",
                value: function insertEmbed(index2, embed, value) {
                  this.scroll.insertAt(index2, embed, value);
                  return this.update(new _quillDelta2.default().retain(index2).insert(_defineProperty2({}, embed, value)));
                }
              }, {
                key: "insertText",
                value: function insertText(index2, text) {
                  var _this4 = this;
                  var formats = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
                  text = text.replace(/\r\n/g, "\n").replace(/\r/g, "\n");
                  this.scroll.insertAt(index2, text);
                  Object.keys(formats).forEach(function(format2) {
                    _this4.scroll.formatAt(index2, text.length, format2, formats[format2]);
                  });
                  return this.update(new _quillDelta2.default().retain(index2).insert(text, (0, _clone2.default)(formats)));
                }
              }, {
                key: "isBlank",
                value: function isBlank() {
                  if (this.scroll.children.length == 0)
                    return true;
                  if (this.scroll.children.length > 1)
                    return false;
                  var block = this.scroll.children.head;
                  if (block.statics.blotName !== _block2.default.blotName)
                    return false;
                  if (block.children.length > 1)
                    return false;
                  return block.children.head instanceof _break2.default;
                }
              }, {
                key: "removeFormat",
                value: function removeFormat(index2, length) {
                  var text = this.getText(index2, length);
                  var _scroll$line3 = this.scroll.line(index2 + length), _scroll$line4 = _slicedToArray(_scroll$line3, 2), line = _scroll$line4[0], offset4 = _scroll$line4[1];
                  var suffixLength = 0, suffix2 = new _quillDelta2.default();
                  if (line != null) {
                    if (!(line instanceof _code2.default)) {
                      suffixLength = line.length() - offset4;
                    } else {
                      suffixLength = line.newlineIndex(offset4) - offset4 + 1;
                    }
                    suffix2 = line.delta().slice(offset4, offset4 + suffixLength - 1).insert("\n");
                  }
                  var contents = this.getContents(index2, length + suffixLength);
                  var diff = contents.diff(new _quillDelta2.default().insert(text).concat(suffix2));
                  var delta = new _quillDelta2.default().retain(index2).concat(diff);
                  return this.applyDelta(delta);
                }
              }, {
                key: "update",
                value: function update2(change) {
                  var mutations = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];
                  var cursorIndex = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : void 0;
                  var oldDelta = this.delta;
                  if (mutations.length === 1 && mutations[0].type === "characterData" && mutations[0].target.data.match(ASCII) && _parchment2.default.find(mutations[0].target)) {
                    var textBlot = _parchment2.default.find(mutations[0].target);
                    var formats = (0, _block.bubbleFormats)(textBlot);
                    var index2 = textBlot.offset(this.scroll);
                    var oldValue = mutations[0].oldValue.replace(_cursor2.default.CONTENTS, "");
                    var oldText = new _quillDelta2.default().insert(oldValue);
                    var newText = new _quillDelta2.default().insert(textBlot.value());
                    var diffDelta = new _quillDelta2.default().retain(index2).concat(oldText.diff(newText, cursorIndex));
                    change = diffDelta.reduce(function(delta, op) {
                      if (op.insert) {
                        return delta.insert(op.insert, formats);
                      } else {
                        return delta.push(op);
                      }
                    }, new _quillDelta2.default());
                    this.delta = oldDelta.compose(change);
                  } else {
                    this.delta = this.getDelta();
                    if (!change || !(0, _deepEqual2.default)(oldDelta.compose(change), this.delta)) {
                      change = oldDelta.diff(this.delta, cursorIndex);
                    }
                  }
                  return change;
                }
              }]);
              return Editor2;
            }();
            function combineFormats(formats, combined) {
              return Object.keys(combined).reduce(function(merged, name) {
                if (formats[name] == null)
                  return merged;
                if (combined[name] === formats[name]) {
                  merged[name] = combined[name];
                } else if (Array.isArray(combined[name])) {
                  if (combined[name].indexOf(formats[name]) < 0) {
                    merged[name] = combined[name].concat([formats[name]]);
                  }
                } else {
                  merged[name] = [combined[name], formats[name]];
                }
                return merged;
              }, {});
            }
            function normalizeDelta(delta) {
              return delta.reduce(function(delta2, op) {
                if (op.insert === 1) {
                  var attributes = (0, _clone2.default)(op.attributes);
                  delete attributes["image"];
                  return delta2.insert({ image: op.attributes.image }, attributes);
                }
                if (op.attributes != null && (op.attributes.list === true || op.attributes.bullet === true)) {
                  op = (0, _clone2.default)(op);
                  if (op.attributes.list) {
                    op.attributes.list = "ordered";
                  } else {
                    op.attributes.list = "bullet";
                    delete op.attributes.bullet;
                  }
                }
                if (typeof op.insert === "string") {
                  var text = op.insert.replace(/\r\n/g, "\n").replace(/\r/g, "\n");
                  return delta2.insert(text, op.attributes);
                }
                return delta2.push(op);
              }, new _quillDelta2.default());
            }
            exports2.default = Editor;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.default = exports2.Range = void 0;
            var _slicedToArray = function() {
              function sliceIterator(arr, i3) {
                var _arr = [];
                var _n = true;
                var _d = false;
                var _e = void 0;
                try {
                  for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                    _arr.push(_s.value);
                    if (i3 && _arr.length === i3)
                      break;
                  }
                } catch (err) {
                  _d = true;
                  _e = err;
                } finally {
                  try {
                    if (!_n && _i["return"])
                      _i["return"]();
                  } finally {
                    if (_d)
                      throw _e;
                  }
                }
                return _arr;
              }
              return function(arr, i3) {
                if (Array.isArray(arr)) {
                  return arr;
                } else if (Symbol.iterator in Object(arr)) {
                  return sliceIterator(arr, i3);
                } else {
                  throw new TypeError("Invalid attempt to destructure non-iterable instance");
                }
              };
            }();
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            var _clone = __webpack_require__(21);
            var _clone2 = _interopRequireDefault(_clone);
            var _deepEqual = __webpack_require__(11);
            var _deepEqual2 = _interopRequireDefault(_deepEqual);
            var _emitter3 = __webpack_require__(8);
            var _emitter4 = _interopRequireDefault(_emitter3);
            var _logger = __webpack_require__(10);
            var _logger2 = _interopRequireDefault(_logger);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _toConsumableArray(arr) {
              if (Array.isArray(arr)) {
                for (var i3 = 0, arr2 = Array(arr.length); i3 < arr.length; i3++) {
                  arr2[i3] = arr[i3];
                }
                return arr2;
              } else {
                return Array.from(arr);
              }
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            var debug = (0, _logger2.default)("quill:selection");
            var Range = function Range2(index2) {
              var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
              _classCallCheck(this, Range2);
              this.index = index2;
              this.length = length;
            };
            var Selection = function() {
              function Selection2(scroll3, emitter) {
                var _this = this;
                _classCallCheck(this, Selection2);
                this.emitter = emitter;
                this.scroll = scroll3;
                this.composing = false;
                this.mouseDown = false;
                this.root = this.scroll.domNode;
                this.cursor = _parchment2.default.create("cursor", this);
                this.lastRange = this.savedRange = new Range(0, 0);
                this.handleComposition();
                this.handleDragging();
                this.emitter.listenDOM("selectionchange", document, function() {
                  if (!_this.mouseDown) {
                    setTimeout(_this.update.bind(_this, _emitter4.default.sources.USER), 1);
                  }
                });
                this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function(type, delta) {
                  if (type === _emitter4.default.events.TEXT_CHANGE && delta.length() > 0) {
                    _this.update(_emitter4.default.sources.SILENT);
                  }
                });
                this.emitter.on(_emitter4.default.events.SCROLL_BEFORE_UPDATE, function() {
                  if (!_this.hasFocus())
                    return;
                  var native = _this.getNativeRange();
                  if (native == null)
                    return;
                  if (native.start.node === _this.cursor.textNode)
                    return;
                  _this.emitter.once(_emitter4.default.events.SCROLL_UPDATE, function() {
                    try {
                      _this.setNativeRange(native.start.node, native.start.offset, native.end.node, native.end.offset);
                    } catch (ignored) {
                    }
                  });
                });
                this.emitter.on(_emitter4.default.events.SCROLL_OPTIMIZE, function(mutations, context) {
                  if (context.range) {
                    var _context$range = context.range, startNode = _context$range.startNode, startOffset = _context$range.startOffset, endNode = _context$range.endNode, endOffset = _context$range.endOffset;
                    _this.setNativeRange(startNode, startOffset, endNode, endOffset);
                  }
                });
                this.update(_emitter4.default.sources.SILENT);
              }
              _createClass(Selection2, [{
                key: "handleComposition",
                value: function handleComposition() {
                  var _this2 = this;
                  this.root.addEventListener("compositionstart", function() {
                    _this2.composing = true;
                  });
                  this.root.addEventListener("compositionend", function() {
                    _this2.composing = false;
                    if (_this2.cursor.parent) {
                      var range = _this2.cursor.restore();
                      if (!range)
                        return;
                      setTimeout(function() {
                        _this2.setNativeRange(range.startNode, range.startOffset, range.endNode, range.endOffset);
                      }, 1);
                    }
                  });
                }
              }, {
                key: "handleDragging",
                value: function handleDragging() {
                  var _this3 = this;
                  this.emitter.listenDOM("mousedown", document.body, function() {
                    _this3.mouseDown = true;
                  });
                  this.emitter.listenDOM("mouseup", document.body, function() {
                    _this3.mouseDown = false;
                    _this3.update(_emitter4.default.sources.USER);
                  });
                }
              }, {
                key: "focus",
                value: function focus2() {
                  if (this.hasFocus())
                    return;
                  this.root.focus();
                  this.setRange(this.savedRange);
                }
              }, {
                key: "format",
                value: function format2(_format, value) {
                  if (this.scroll.whitelist != null && !this.scroll.whitelist[_format])
                    return;
                  this.scroll.update();
                  var nativeRange = this.getNativeRange();
                  if (nativeRange == null || !nativeRange.native.collapsed || _parchment2.default.query(_format, _parchment2.default.Scope.BLOCK))
                    return;
                  if (nativeRange.start.node !== this.cursor.textNode) {
                    var blot = _parchment2.default.find(nativeRange.start.node, false);
                    if (blot == null)
                      return;
                    if (blot instanceof _parchment2.default.Leaf) {
                      var after = blot.split(nativeRange.start.offset);
                      blot.parent.insertBefore(this.cursor, after);
                    } else {
                      blot.insertBefore(this.cursor, nativeRange.start.node);
                    }
                    this.cursor.attach();
                  }
                  this.cursor.format(_format, value);
                  this.scroll.optimize();
                  this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length);
                  this.update();
                }
              }, {
                key: "getBounds",
                value: function getBounds(index2) {
                  var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
                  var scrollLength = this.scroll.length();
                  index2 = Math.min(index2, scrollLength - 1);
                  length = Math.min(index2 + length, scrollLength - 1) - index2;
                  var node = void 0, _scroll$leaf = this.scroll.leaf(index2), _scroll$leaf2 = _slicedToArray(_scroll$leaf, 2), leaf = _scroll$leaf2[0], offset4 = _scroll$leaf2[1];
                  if (leaf == null)
                    return null;
                  var _leaf$position = leaf.position(offset4, true);
                  var _leaf$position2 = _slicedToArray(_leaf$position, 2);
                  node = _leaf$position2[0];
                  offset4 = _leaf$position2[1];
                  var range = document.createRange();
                  if (length > 0) {
                    range.setStart(node, offset4);
                    var _scroll$leaf3 = this.scroll.leaf(index2 + length);
                    var _scroll$leaf4 = _slicedToArray(_scroll$leaf3, 2);
                    leaf = _scroll$leaf4[0];
                    offset4 = _scroll$leaf4[1];
                    if (leaf == null)
                      return null;
                    var _leaf$position3 = leaf.position(offset4, true);
                    var _leaf$position4 = _slicedToArray(_leaf$position3, 2);
                    node = _leaf$position4[0];
                    offset4 = _leaf$position4[1];
                    range.setEnd(node, offset4);
                    return range.getBoundingClientRect();
                  } else {
                    var side = "left";
                    var rect = void 0;
                    if (node instanceof Text) {
                      if (offset4 < node.data.length) {
                        range.setStart(node, offset4);
                        range.setEnd(node, offset4 + 1);
                      } else {
                        range.setStart(node, offset4 - 1);
                        range.setEnd(node, offset4);
                        side = "right";
                      }
                      rect = range.getBoundingClientRect();
                    } else {
                      rect = leaf.domNode.getBoundingClientRect();
                      if (offset4 > 0)
                        side = "right";
                    }
                    return {
                      bottom: rect.top + rect.height,
                      height: rect.height,
                      left: rect[side],
                      right: rect[side],
                      top: rect.top,
                      width: 0
                    };
                  }
                }
              }, {
                key: "getNativeRange",
                value: function getNativeRange() {
                  var selection = document.getSelection();
                  if (selection == null || selection.rangeCount <= 0)
                    return null;
                  var nativeRange = selection.getRangeAt(0);
                  if (nativeRange == null)
                    return null;
                  var range = this.normalizeNative(nativeRange);
                  debug.info("getNativeRange", range);
                  return range;
                }
              }, {
                key: "getRange",
                value: function getRange() {
                  var normalized = this.getNativeRange();
                  if (normalized == null)
                    return [null, null];
                  var range = this.normalizedToRange(normalized);
                  return [range, normalized];
                }
              }, {
                key: "hasFocus",
                value: function hasFocus() {
                  return document.activeElement === this.root;
                }
              }, {
                key: "normalizedToRange",
                value: function normalizedToRange(range) {
                  var _this4 = this;
                  var positions = [[range.start.node, range.start.offset]];
                  if (!range.native.collapsed) {
                    positions.push([range.end.node, range.end.offset]);
                  }
                  var indexes = positions.map(function(position3) {
                    var _position = _slicedToArray(position3, 2), node = _position[0], offset4 = _position[1];
                    var blot = _parchment2.default.find(node, true);
                    var index2 = blot.offset(_this4.scroll);
                    if (offset4 === 0) {
                      return index2;
                    } else if (blot instanceof _parchment2.default.Container) {
                      return index2 + blot.length();
                    } else {
                      return index2 + blot.index(node, offset4);
                    }
                  });
                  var end3 = Math.min(Math.max.apply(Math, _toConsumableArray(indexes)), this.scroll.length() - 1);
                  var start4 = Math.min.apply(Math, [end3].concat(_toConsumableArray(indexes)));
                  return new Range(start4, end3 - start4);
                }
              }, {
                key: "normalizeNative",
                value: function normalizeNative(nativeRange) {
                  if (!contains2(this.root, nativeRange.startContainer) || !nativeRange.collapsed && !contains2(this.root, nativeRange.endContainer)) {
                    return null;
                  }
                  var range = {
                    start: { node: nativeRange.startContainer, offset: nativeRange.startOffset },
                    end: { node: nativeRange.endContainer, offset: nativeRange.endOffset },
                    native: nativeRange
                  };
                  [range.start, range.end].forEach(function(position3) {
                    var node = position3.node, offset4 = position3.offset;
                    while (!(node instanceof Text) && node.childNodes.length > 0) {
                      if (node.childNodes.length > offset4) {
                        node = node.childNodes[offset4];
                        offset4 = 0;
                      } else if (node.childNodes.length === offset4) {
                        node = node.lastChild;
                        offset4 = node instanceof Text ? node.data.length : node.childNodes.length + 1;
                      } else {
                        break;
                      }
                    }
                    position3.node = node, position3.offset = offset4;
                  });
                  return range;
                }
              }, {
                key: "rangeToNative",
                value: function rangeToNative(range) {
                  var _this5 = this;
                  var indexes = range.collapsed ? [range.index] : [range.index, range.index + range.length];
                  var args = [];
                  var scrollLength = this.scroll.length();
                  indexes.forEach(function(index2, i3) {
                    index2 = Math.min(scrollLength - 1, index2);
                    var node = void 0, _scroll$leaf5 = _this5.scroll.leaf(index2), _scroll$leaf6 = _slicedToArray(_scroll$leaf5, 2), leaf = _scroll$leaf6[0], offset4 = _scroll$leaf6[1];
                    var _leaf$position5 = leaf.position(offset4, i3 !== 0);
                    var _leaf$position6 = _slicedToArray(_leaf$position5, 2);
                    node = _leaf$position6[0];
                    offset4 = _leaf$position6[1];
                    args.push(node, offset4);
                  });
                  if (args.length < 2) {
                    args = args.concat(args);
                  }
                  return args;
                }
              }, {
                key: "scrollIntoView",
                value: function scrollIntoView(scrollingContainer) {
                  var range = this.lastRange;
                  if (range == null)
                    return;
                  var bounds = this.getBounds(range.index, range.length);
                  if (bounds == null)
                    return;
                  var limit = this.scroll.length() - 1;
                  var _scroll$line = this.scroll.line(Math.min(range.index, limit)), _scroll$line2 = _slicedToArray(_scroll$line, 1), first = _scroll$line2[0];
                  var last = first;
                  if (range.length > 0) {
                    var _scroll$line3 = this.scroll.line(Math.min(range.index + range.length, limit));
                    var _scroll$line4 = _slicedToArray(_scroll$line3, 1);
                    last = _scroll$line4[0];
                  }
                  if (first == null || last == null)
                    return;
                  var scrollBounds = scrollingContainer.getBoundingClientRect();
                  if (bounds.top < scrollBounds.top) {
                    scrollingContainer.scrollTop -= scrollBounds.top - bounds.top;
                  } else if (bounds.bottom > scrollBounds.bottom) {
                    scrollingContainer.scrollTop += bounds.bottom - scrollBounds.bottom;
                  }
                }
              }, {
                key: "setNativeRange",
                value: function setNativeRange(startNode, startOffset) {
                  var endNode = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : startNode;
                  var endOffset = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : startOffset;
                  var force = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : false;
                  debug.info("setNativeRange", startNode, startOffset, endNode, endOffset);
                  if (startNode != null && (this.root.parentNode == null || startNode.parentNode == null || endNode.parentNode == null)) {
                    return;
                  }
                  var selection = document.getSelection();
                  if (selection == null)
                    return;
                  if (startNode != null) {
                    if (!this.hasFocus())
                      this.root.focus();
                    var native = (this.getNativeRange() || {}).native;
                    if (native == null || force || startNode !== native.startContainer || startOffset !== native.startOffset || endNode !== native.endContainer || endOffset !== native.endOffset) {
                      if (startNode.tagName == "BR") {
                        startOffset = [].indexOf.call(startNode.parentNode.childNodes, startNode);
                        startNode = startNode.parentNode;
                      }
                      if (endNode.tagName == "BR") {
                        endOffset = [].indexOf.call(endNode.parentNode.childNodes, endNode);
                        endNode = endNode.parentNode;
                      }
                      var range = document.createRange();
                      range.setStart(startNode, startOffset);
                      range.setEnd(endNode, endOffset);
                      selection.removeAllRanges();
                      selection.addRange(range);
                    }
                  } else {
                    selection.removeAllRanges();
                    this.root.blur();
                    document.body.focus();
                  }
                }
              }, {
                key: "setRange",
                value: function setRange(range) {
                  var force = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
                  var source = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : _emitter4.default.sources.API;
                  if (typeof force === "string") {
                    source = force;
                    force = false;
                  }
                  debug.info("setRange", range);
                  if (range != null) {
                    var args = this.rangeToNative(range);
                    this.setNativeRange.apply(this, _toConsumableArray(args).concat([force]));
                  } else {
                    this.setNativeRange(null);
                  }
                  this.update(source);
                }
              }, {
                key: "update",
                value: function update2() {
                  var source = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : _emitter4.default.sources.USER;
                  var oldRange = this.lastRange;
                  var _getRange = this.getRange(), _getRange2 = _slicedToArray(_getRange, 2), lastRange = _getRange2[0], nativeRange = _getRange2[1];
                  this.lastRange = lastRange;
                  if (this.lastRange != null) {
                    this.savedRange = this.lastRange;
                  }
                  if (!(0, _deepEqual2.default)(oldRange, this.lastRange)) {
                    var _emitter;
                    if (!this.composing && nativeRange != null && nativeRange.native.collapsed && nativeRange.start.node !== this.cursor.textNode) {
                      this.cursor.restore();
                    }
                    var args = [_emitter4.default.events.SELECTION_CHANGE, (0, _clone2.default)(this.lastRange), (0, _clone2.default)(oldRange), source];
                    (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));
                    if (source !== _emitter4.default.sources.SILENT) {
                      var _emitter2;
                      (_emitter2 = this.emitter).emit.apply(_emitter2, args);
                    }
                  }
                }
              }]);
              return Selection2;
            }();
            function contains2(parent, descendant) {
              try {
                descendant.parentNode;
              } catch (e2) {
                return false;
              }
              if (descendant instanceof Text) {
                descendant = descendant.parentNode;
              }
              return parent.contains(descendant);
            }
            exports2.Range = Range;
            exports2.default = Selection;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var Break = function(_Parchment$Embed) {
              _inherits(Break2, _Parchment$Embed);
              function Break2() {
                _classCallCheck(this, Break2);
                return _possibleConstructorReturn(this, (Break2.__proto__ || Object.getPrototypeOf(Break2)).apply(this, arguments));
              }
              _createClass(Break2, [{
                key: "insertInto",
                value: function insertInto(parent, ref2) {
                  if (parent.children.length === 0) {
                    _get(Break2.prototype.__proto__ || Object.getPrototypeOf(Break2.prototype), "insertInto", this).call(this, parent, ref2);
                  } else {
                    this.remove();
                  }
                }
              }, {
                key: "length",
                value: function length() {
                  return 0;
                }
              }, {
                key: "value",
                value: function value() {
                  return "";
                }
              }], [{
                key: "value",
                value: function value() {
                  return void 0;
                }
              }]);
              return Break2;
            }(_parchment2.default.Embed);
            Break.blotName = "break";
            Break.tagName = "BR";
            exports2.default = Break;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            var __extends = this && this.__extends || function() {
              var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d3, b3) {
                d3.__proto__ = b3;
              } || function(d3, b3) {
                for (var p3 in b3)
                  if (b3.hasOwnProperty(p3))
                    d3[p3] = b3[p3];
              };
              return function(d3, b3) {
                extendStatics(d3, b3);
                function __() {
                  this.constructor = d3;
                }
                d3.prototype = b3 === null ? Object.create(b3) : (__.prototype = b3.prototype, new __());
              };
            }();
            Object.defineProperty(exports2, "__esModule", { value: true });
            var linked_list_1 = __webpack_require__(44);
            var shadow_1 = __webpack_require__(30);
            var Registry = __webpack_require__(1);
            var ContainerBlot = function(_super) {
              __extends(ContainerBlot2, _super);
              function ContainerBlot2(domNode) {
                var _this = _super.call(this, domNode) || this;
                _this.build();
                return _this;
              }
              ContainerBlot2.prototype.appendChild = function(other) {
                this.insertBefore(other);
              };
              ContainerBlot2.prototype.attach = function() {
                _super.prototype.attach.call(this);
                this.children.forEach(function(child) {
                  child.attach();
                });
              };
              ContainerBlot2.prototype.build = function() {
                var _this = this;
                this.children = new linked_list_1.default();
                [].slice.call(this.domNode.childNodes).reverse().forEach(function(node) {
                  try {
                    var child = makeBlot(node);
                    _this.insertBefore(child, _this.children.head || void 0);
                  } catch (err) {
                    if (err instanceof Registry.ParchmentError)
                      return;
                    else
                      throw err;
                  }
                });
              };
              ContainerBlot2.prototype.deleteAt = function(index2, length) {
                if (index2 === 0 && length === this.length()) {
                  return this.remove();
                }
                this.children.forEachAt(index2, length, function(child, offset4, length2) {
                  child.deleteAt(offset4, length2);
                });
              };
              ContainerBlot2.prototype.descendant = function(criteria, index2) {
                var _a = this.children.find(index2), child = _a[0], offset4 = _a[1];
                if (criteria.blotName == null && criteria(child) || criteria.blotName != null && child instanceof criteria) {
                  return [child, offset4];
                } else if (child instanceof ContainerBlot2) {
                  return child.descendant(criteria, offset4);
                } else {
                  return [null, -1];
                }
              };
              ContainerBlot2.prototype.descendants = function(criteria, index2, length) {
                if (index2 === void 0) {
                  index2 = 0;
                }
                if (length === void 0) {
                  length = Number.MAX_VALUE;
                }
                var descendants = [];
                var lengthLeft = length;
                this.children.forEachAt(index2, length, function(child, index3, length2) {
                  if (criteria.blotName == null && criteria(child) || criteria.blotName != null && child instanceof criteria) {
                    descendants.push(child);
                  }
                  if (child instanceof ContainerBlot2) {
                    descendants = descendants.concat(child.descendants(criteria, index3, lengthLeft));
                  }
                  lengthLeft -= length2;
                });
                return descendants;
              };
              ContainerBlot2.prototype.detach = function() {
                this.children.forEach(function(child) {
                  child.detach();
                });
                _super.prototype.detach.call(this);
              };
              ContainerBlot2.prototype.formatAt = function(index2, length, name, value) {
                this.children.forEachAt(index2, length, function(child, offset4, length2) {
                  child.formatAt(offset4, length2, name, value);
                });
              };
              ContainerBlot2.prototype.insertAt = function(index2, value, def) {
                var _a = this.children.find(index2), child = _a[0], offset4 = _a[1];
                if (child) {
                  child.insertAt(offset4, value, def);
                } else {
                  var blot = def == null ? Registry.create("text", value) : Registry.create(value, def);
                  this.appendChild(blot);
                }
              };
              ContainerBlot2.prototype.insertBefore = function(childBlot, refBlot) {
                if (this.statics.allowedChildren != null && !this.statics.allowedChildren.some(function(child) {
                  return childBlot instanceof child;
                })) {
                  throw new Registry.ParchmentError("Cannot insert " + childBlot.statics.blotName + " into " + this.statics.blotName);
                }
                childBlot.insertInto(this, refBlot);
              };
              ContainerBlot2.prototype.length = function() {
                return this.children.reduce(function(memo2, child) {
                  return memo2 + child.length();
                }, 0);
              };
              ContainerBlot2.prototype.moveChildren = function(targetParent, refNode) {
                this.children.forEach(function(child) {
                  targetParent.insertBefore(child, refNode);
                });
              };
              ContainerBlot2.prototype.optimize = function(context) {
                _super.prototype.optimize.call(this, context);
                if (this.children.length === 0) {
                  if (this.statics.defaultChild != null) {
                    var child = Registry.create(this.statics.defaultChild);
                    this.appendChild(child);
                    child.optimize(context);
                  } else {
                    this.remove();
                  }
                }
              };
              ContainerBlot2.prototype.path = function(index2, inclusive) {
                if (inclusive === void 0) {
                  inclusive = false;
                }
                var _a = this.children.find(index2, inclusive), child = _a[0], offset4 = _a[1];
                var position3 = [[this, index2]];
                if (child instanceof ContainerBlot2) {
                  return position3.concat(child.path(offset4, inclusive));
                } else if (child != null) {
                  position3.push([child, offset4]);
                }
                return position3;
              };
              ContainerBlot2.prototype.removeChild = function(child) {
                this.children.remove(child);
              };
              ContainerBlot2.prototype.replace = function(target) {
                if (target instanceof ContainerBlot2) {
                  target.moveChildren(this);
                }
                _super.prototype.replace.call(this, target);
              };
              ContainerBlot2.prototype.split = function(index2, force) {
                if (force === void 0) {
                  force = false;
                }
                if (!force) {
                  if (index2 === 0)
                    return this;
                  if (index2 === this.length())
                    return this.next;
                }
                var after = this.clone();
                this.parent.insertBefore(after, this.next);
                this.children.forEachAt(index2, this.length(), function(child, offset4, length) {
                  child = child.split(offset4, force);
                  after.appendChild(child);
                });
                return after;
              };
              ContainerBlot2.prototype.unwrap = function() {
                this.moveChildren(this.parent, this.next);
                this.remove();
              };
              ContainerBlot2.prototype.update = function(mutations, context) {
                var _this = this;
                var addedNodes = [];
                var removedNodes = [];
                mutations.forEach(function(mutation) {
                  if (mutation.target === _this.domNode && mutation.type === "childList") {
                    addedNodes.push.apply(addedNodes, mutation.addedNodes);
                    removedNodes.push.apply(removedNodes, mutation.removedNodes);
                  }
                });
                removedNodes.forEach(function(node) {
                  if (node.parentNode != null && node.tagName !== "IFRAME" && document.body.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {
                    return;
                  }
                  var blot = Registry.find(node);
                  if (blot == null)
                    return;
                  if (blot.domNode.parentNode == null || blot.domNode.parentNode === _this.domNode) {
                    blot.detach();
                  }
                });
                addedNodes.filter(function(node) {
                  return node.parentNode == _this.domNode;
                }).sort(function(a3, b3) {
                  if (a3 === b3)
                    return 0;
                  if (a3.compareDocumentPosition(b3) & Node.DOCUMENT_POSITION_FOLLOWING) {
                    return 1;
                  }
                  return -1;
                }).forEach(function(node) {
                  var refBlot = null;
                  if (node.nextSibling != null) {
                    refBlot = Registry.find(node.nextSibling);
                  }
                  var blot = makeBlot(node);
                  if (blot.next != refBlot || blot.next == null) {
                    if (blot.parent != null) {
                      blot.parent.removeChild(_this);
                    }
                    _this.insertBefore(blot, refBlot || void 0);
                  }
                });
              };
              return ContainerBlot2;
            }(shadow_1.default);
            function makeBlot(node) {
              var blot = Registry.find(node);
              if (blot == null) {
                try {
                  blot = Registry.create(node);
                } catch (e2) {
                  blot = Registry.create(Registry.Scope.INLINE);
                  [].slice.call(node.childNodes).forEach(function(child) {
                    blot.domNode.appendChild(child);
                  });
                  if (node.parentNode) {
                    node.parentNode.replaceChild(blot.domNode, node);
                  }
                  blot.attach();
                }
              }
              return blot;
            }
            exports2.default = ContainerBlot;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            var __extends = this && this.__extends || function() {
              var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d3, b3) {
                d3.__proto__ = b3;
              } || function(d3, b3) {
                for (var p3 in b3)
                  if (b3.hasOwnProperty(p3))
                    d3[p3] = b3[p3];
              };
              return function(d3, b3) {
                extendStatics(d3, b3);
                function __() {
                  this.constructor = d3;
                }
                d3.prototype = b3 === null ? Object.create(b3) : (__.prototype = b3.prototype, new __());
              };
            }();
            Object.defineProperty(exports2, "__esModule", { value: true });
            var attributor_1 = __webpack_require__(12);
            var store_1 = __webpack_require__(31);
            var container_1 = __webpack_require__(17);
            var Registry = __webpack_require__(1);
            var FormatBlot = function(_super) {
              __extends(FormatBlot2, _super);
              function FormatBlot2(domNode) {
                var _this = _super.call(this, domNode) || this;
                _this.attributes = new store_1.default(_this.domNode);
                return _this;
              }
              FormatBlot2.formats = function(domNode) {
                if (typeof this.tagName === "string") {
                  return true;
                } else if (Array.isArray(this.tagName)) {
                  return domNode.tagName.toLowerCase();
                }
                return void 0;
              };
              FormatBlot2.prototype.format = function(name, value) {
                var format2 = Registry.query(name);
                if (format2 instanceof attributor_1.default) {
                  this.attributes.attribute(format2, value);
                } else if (value) {
                  if (format2 != null && (name !== this.statics.blotName || this.formats()[name] !== value)) {
                    this.replaceWith(name, value);
                  }
                }
              };
              FormatBlot2.prototype.formats = function() {
                var formats = this.attributes.values();
                var format2 = this.statics.formats(this.domNode);
                if (format2 != null) {
                  formats[this.statics.blotName] = format2;
                }
                return formats;
              };
              FormatBlot2.prototype.replaceWith = function(name, value) {
                var replacement = _super.prototype.replaceWith.call(this, name, value);
                this.attributes.copy(replacement);
                return replacement;
              };
              FormatBlot2.prototype.update = function(mutations, context) {
                var _this = this;
                _super.prototype.update.call(this, mutations, context);
                if (mutations.some(function(mutation) {
                  return mutation.target === _this.domNode && mutation.type === "attributes";
                })) {
                  this.attributes.build();
                }
              };
              FormatBlot2.prototype.wrap = function(name, value) {
                var wrapper = _super.prototype.wrap.call(this, name, value);
                if (wrapper instanceof FormatBlot2 && wrapper.statics.scope === this.statics.scope) {
                  this.attributes.move(wrapper);
                }
                return wrapper;
              };
              return FormatBlot2;
            }(container_1.default);
            exports2.default = FormatBlot;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            var __extends = this && this.__extends || function() {
              var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d3, b3) {
                d3.__proto__ = b3;
              } || function(d3, b3) {
                for (var p3 in b3)
                  if (b3.hasOwnProperty(p3))
                    d3[p3] = b3[p3];
              };
              return function(d3, b3) {
                extendStatics(d3, b3);
                function __() {
                  this.constructor = d3;
                }
                d3.prototype = b3 === null ? Object.create(b3) : (__.prototype = b3.prototype, new __());
              };
            }();
            Object.defineProperty(exports2, "__esModule", { value: true });
            var shadow_1 = __webpack_require__(30);
            var Registry = __webpack_require__(1);
            var LeafBlot = function(_super) {
              __extends(LeafBlot2, _super);
              function LeafBlot2() {
                return _super !== null && _super.apply(this, arguments) || this;
              }
              LeafBlot2.value = function(domNode) {
                return true;
              };
              LeafBlot2.prototype.index = function(node, offset4) {
                if (this.domNode === node || this.domNode.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {
                  return Math.min(offset4, 1);
                }
                return -1;
              };
              LeafBlot2.prototype.position = function(index2, inclusive) {
                var offset4 = [].indexOf.call(this.parent.domNode.childNodes, this.domNode);
                if (index2 > 0)
                  offset4 += 1;
                return [this.parent.domNode, offset4];
              };
              LeafBlot2.prototype.value = function() {
                var _a;
                return _a = {}, _a[this.statics.blotName] = this.statics.value(this.domNode) || true, _a;
              };
              LeafBlot2.scope = Registry.Scope.INLINE_BLOT;
              return LeafBlot2;
            }(shadow_1.default);
            exports2.default = LeafBlot;
          },
          function(module2, exports2, __webpack_require__) {
            var equal = __webpack_require__(11);
            var extend = __webpack_require__(3);
            var lib = {
              attributes: {
                compose: function(a3, b3, keepNull) {
                  if (typeof a3 !== "object")
                    a3 = {};
                  if (typeof b3 !== "object")
                    b3 = {};
                  var attributes = extend(true, {}, b3);
                  if (!keepNull) {
                    attributes = Object.keys(attributes).reduce(function(copy, key2) {
                      if (attributes[key2] != null) {
                        copy[key2] = attributes[key2];
                      }
                      return copy;
                    }, {});
                  }
                  for (var key in a3) {
                    if (a3[key] !== void 0 && b3[key] === void 0) {
                      attributes[key] = a3[key];
                    }
                  }
                  return Object.keys(attributes).length > 0 ? attributes : void 0;
                },
                diff: function(a3, b3) {
                  if (typeof a3 !== "object")
                    a3 = {};
                  if (typeof b3 !== "object")
                    b3 = {};
                  var attributes = Object.keys(a3).concat(Object.keys(b3)).reduce(function(attributes2, key) {
                    if (!equal(a3[key], b3[key])) {
                      attributes2[key] = b3[key] === void 0 ? null : b3[key];
                    }
                    return attributes2;
                  }, {});
                  return Object.keys(attributes).length > 0 ? attributes : void 0;
                },
                transform: function(a3, b3, priority) {
                  if (typeof a3 !== "object")
                    return b3;
                  if (typeof b3 !== "object")
                    return void 0;
                  if (!priority)
                    return b3;
                  var attributes = Object.keys(b3).reduce(function(attributes2, key) {
                    if (a3[key] === void 0)
                      attributes2[key] = b3[key];
                    return attributes2;
                  }, {});
                  return Object.keys(attributes).length > 0 ? attributes : void 0;
                }
              },
              iterator: function(ops) {
                return new Iterator(ops);
              },
              length: function(op) {
                if (typeof op["delete"] === "number") {
                  return op["delete"];
                } else if (typeof op.retain === "number") {
                  return op.retain;
                } else {
                  return typeof op.insert === "string" ? op.insert.length : 1;
                }
              }
            };
            function Iterator(ops) {
              this.ops = ops;
              this.index = 0;
              this.offset = 0;
            }
            ;
            Iterator.prototype.hasNext = function() {
              return this.peekLength() < Infinity;
            };
            Iterator.prototype.next = function(length) {
              if (!length)
                length = Infinity;
              var nextOp = this.ops[this.index];
              if (nextOp) {
                var offset4 = this.offset;
                var opLength = lib.length(nextOp);
                if (length >= opLength - offset4) {
                  length = opLength - offset4;
                  this.index += 1;
                  this.offset = 0;
                } else {
                  this.offset += length;
                }
                if (typeof nextOp["delete"] === "number") {
                  return { "delete": length };
                } else {
                  var retOp = {};
                  if (nextOp.attributes) {
                    retOp.attributes = nextOp.attributes;
                  }
                  if (typeof nextOp.retain === "number") {
                    retOp.retain = length;
                  } else if (typeof nextOp.insert === "string") {
                    retOp.insert = nextOp.insert.substr(offset4, length);
                  } else {
                    retOp.insert = nextOp.insert;
                  }
                  return retOp;
                }
              } else {
                return { retain: Infinity };
              }
            };
            Iterator.prototype.peek = function() {
              return this.ops[this.index];
            };
            Iterator.prototype.peekLength = function() {
              if (this.ops[this.index]) {
                return lib.length(this.ops[this.index]) - this.offset;
              } else {
                return Infinity;
              }
            };
            Iterator.prototype.peekType = function() {
              if (this.ops[this.index]) {
                if (typeof this.ops[this.index]["delete"] === "number") {
                  return "delete";
                } else if (typeof this.ops[this.index].retain === "number") {
                  return "retain";
                } else {
                  return "insert";
                }
              }
              return "retain";
            };
            Iterator.prototype.rest = function() {
              if (!this.hasNext()) {
                return [];
              } else if (this.offset === 0) {
                return this.ops.slice(this.index);
              } else {
                var offset4 = this.offset;
                var index2 = this.index;
                var next = this.next();
                var rest = this.ops.slice(this.index);
                this.offset = offset4;
                this.index = index2;
                return [next].concat(rest);
              }
            };
            module2.exports = lib;
          },
          function(module2, exports2) {
            var clone = function() {
              "use strict";
              function _instanceof(obj, type) {
                return type != null && obj instanceof type;
              }
              var nativeMap;
              try {
                nativeMap = Map;
              } catch (_2) {
                nativeMap = function() {
                };
              }
              var nativeSet;
              try {
                nativeSet = Set;
              } catch (_2) {
                nativeSet = function() {
                };
              }
              var nativePromise;
              try {
                nativePromise = Promise;
              } catch (_2) {
                nativePromise = function() {
                };
              }
              function clone2(parent, circular, depth, prototype, includeNonEnumerable) {
                if (typeof circular === "object") {
                  depth = circular.depth;
                  prototype = circular.prototype;
                  includeNonEnumerable = circular.includeNonEnumerable;
                  circular = circular.circular;
                }
                var allParents = [];
                var allChildren = [];
                var useBuffer = typeof Buffer != "undefined";
                if (typeof circular == "undefined")
                  circular = true;
                if (typeof depth == "undefined")
                  depth = Infinity;
                function _clone(parent2, depth2) {
                  if (parent2 === null)
                    return null;
                  if (depth2 === 0)
                    return parent2;
                  var child;
                  var proto;
                  if (typeof parent2 != "object") {
                    return parent2;
                  }
                  if (_instanceof(parent2, nativeMap)) {
                    child = new nativeMap();
                  } else if (_instanceof(parent2, nativeSet)) {
                    child = new nativeSet();
                  } else if (_instanceof(parent2, nativePromise)) {
                    child = new nativePromise(function(resolve, reject) {
                      parent2.then(function(value) {
                        resolve(_clone(value, depth2 - 1));
                      }, function(err) {
                        reject(_clone(err, depth2 - 1));
                      });
                    });
                  } else if (clone2.__isArray(parent2)) {
                    child = [];
                  } else if (clone2.__isRegExp(parent2)) {
                    child = new RegExp(parent2.source, __getRegExpFlags(parent2));
                    if (parent2.lastIndex)
                      child.lastIndex = parent2.lastIndex;
                  } else if (clone2.__isDate(parent2)) {
                    child = new Date(parent2.getTime());
                  } else if (useBuffer && Buffer.isBuffer(parent2)) {
                    if (Buffer.allocUnsafe) {
                      child = Buffer.allocUnsafe(parent2.length);
                    } else {
                      child = new Buffer(parent2.length);
                    }
                    parent2.copy(child);
                    return child;
                  } else if (_instanceof(parent2, Error)) {
                    child = Object.create(parent2);
                  } else {
                    if (typeof prototype == "undefined") {
                      proto = Object.getPrototypeOf(parent2);
                      child = Object.create(proto);
                    } else {
                      child = Object.create(prototype);
                      proto = prototype;
                    }
                  }
                  if (circular) {
                    var index2 = allParents.indexOf(parent2);
                    if (index2 != -1) {
                      return allChildren[index2];
                    }
                    allParents.push(parent2);
                    allChildren.push(child);
                  }
                  if (_instanceof(parent2, nativeMap)) {
                    parent2.forEach(function(value, key) {
                      var keyChild = _clone(key, depth2 - 1);
                      var valueChild = _clone(value, depth2 - 1);
                      child.set(keyChild, valueChild);
                    });
                  }
                  if (_instanceof(parent2, nativeSet)) {
                    parent2.forEach(function(value) {
                      var entryChild = _clone(value, depth2 - 1);
                      child.add(entryChild);
                    });
                  }
                  for (var i3 in parent2) {
                    var attrs;
                    if (proto) {
                      attrs = Object.getOwnPropertyDescriptor(proto, i3);
                    }
                    if (attrs && attrs.set == null) {
                      continue;
                    }
                    child[i3] = _clone(parent2[i3], depth2 - 1);
                  }
                  if (Object.getOwnPropertySymbols) {
                    var symbols = Object.getOwnPropertySymbols(parent2);
                    for (var i3 = 0; i3 < symbols.length; i3++) {
                      var symbol = symbols[i3];
                      var descriptor = Object.getOwnPropertyDescriptor(parent2, symbol);
                      if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {
                        continue;
                      }
                      child[symbol] = _clone(parent2[symbol], depth2 - 1);
                      if (!descriptor.enumerable) {
                        Object.defineProperty(child, symbol, {
                          enumerable: false
                        });
                      }
                    }
                  }
                  if (includeNonEnumerable) {
                    var allPropertyNames = Object.getOwnPropertyNames(parent2);
                    for (var i3 = 0; i3 < allPropertyNames.length; i3++) {
                      var propertyName = allPropertyNames[i3];
                      var descriptor = Object.getOwnPropertyDescriptor(parent2, propertyName);
                      if (descriptor && descriptor.enumerable) {
                        continue;
                      }
                      child[propertyName] = _clone(parent2[propertyName], depth2 - 1);
                      Object.defineProperty(child, propertyName, {
                        enumerable: false
                      });
                    }
                  }
                  return child;
                }
                return _clone(parent, depth);
              }
              clone2.clonePrototype = function clonePrototype(parent) {
                if (parent === null)
                  return null;
                var c3 = function() {
                };
                c3.prototype = parent;
                return new c3();
              };
              function __objToStr(o3) {
                return Object.prototype.toString.call(o3);
              }
              clone2.__objToStr = __objToStr;
              function __isDate(o3) {
                return typeof o3 === "object" && __objToStr(o3) === "[object Date]";
              }
              clone2.__isDate = __isDate;
              function __isArray(o3) {
                return typeof o3 === "object" && __objToStr(o3) === "[object Array]";
              }
              clone2.__isArray = __isArray;
              function __isRegExp(o3) {
                return typeof o3 === "object" && __objToStr(o3) === "[object RegExp]";
              }
              clone2.__isRegExp = __isRegExp;
              function __getRegExpFlags(re) {
                var flags = "";
                if (re.global)
                  flags += "g";
                if (re.ignoreCase)
                  flags += "i";
                if (re.multiline)
                  flags += "m";
                return flags;
              }
              clone2.__getRegExpFlags = __getRegExpFlags;
              return clone2;
            }();
            if (typeof module2 === "object" && module2.exports) {
              module2.exports = clone;
            }
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _slicedToArray = function() {
              function sliceIterator(arr, i3) {
                var _arr = [];
                var _n = true;
                var _d = false;
                var _e = void 0;
                try {
                  for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                    _arr.push(_s.value);
                    if (i3 && _arr.length === i3)
                      break;
                  }
                } catch (err) {
                  _d = true;
                  _e = err;
                } finally {
                  try {
                    if (!_n && _i["return"])
                      _i["return"]();
                  } finally {
                    if (_d)
                      throw _e;
                  }
                }
                return _arr;
              }
              return function(arr, i3) {
                if (Array.isArray(arr)) {
                  return arr;
                } else if (Symbol.iterator in Object(arr)) {
                  return sliceIterator(arr, i3);
                } else {
                  throw new TypeError("Invalid attempt to destructure non-iterable instance");
                }
              };
            }();
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            var _emitter = __webpack_require__(8);
            var _emitter2 = _interopRequireDefault(_emitter);
            var _block = __webpack_require__(4);
            var _block2 = _interopRequireDefault(_block);
            var _break = __webpack_require__(16);
            var _break2 = _interopRequireDefault(_break);
            var _code = __webpack_require__(13);
            var _code2 = _interopRequireDefault(_code);
            var _container = __webpack_require__(25);
            var _container2 = _interopRequireDefault(_container);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            function isLine(blot) {
              return blot instanceof _block2.default || blot instanceof _block.BlockEmbed;
            }
            var Scroll = function(_Parchment$Scroll) {
              _inherits(Scroll2, _Parchment$Scroll);
              function Scroll2(domNode, config2) {
                _classCallCheck(this, Scroll2);
                var _this = _possibleConstructorReturn(this, (Scroll2.__proto__ || Object.getPrototypeOf(Scroll2)).call(this, domNode));
                _this.emitter = config2.emitter;
                if (Array.isArray(config2.whitelist)) {
                  _this.whitelist = config2.whitelist.reduce(function(whitelist, format2) {
                    whitelist[format2] = true;
                    return whitelist;
                  }, {});
                }
                _this.domNode.addEventListener("DOMNodeInserted", function() {
                });
                _this.optimize();
                _this.enable();
                return _this;
              }
              _createClass(Scroll2, [{
                key: "batchStart",
                value: function batchStart() {
                  this.batch = true;
                }
              }, {
                key: "batchEnd",
                value: function batchEnd() {
                  this.batch = false;
                  this.optimize();
                }
              }, {
                key: "deleteAt",
                value: function deleteAt(index2, length) {
                  var _line = this.line(index2), _line2 = _slicedToArray(_line, 2), first = _line2[0], offset4 = _line2[1];
                  var _line3 = this.line(index2 + length), _line4 = _slicedToArray(_line3, 1), last = _line4[0];
                  _get(Scroll2.prototype.__proto__ || Object.getPrototypeOf(Scroll2.prototype), "deleteAt", this).call(this, index2, length);
                  if (last != null && first !== last && offset4 > 0) {
                    if (first instanceof _block.BlockEmbed || last instanceof _block.BlockEmbed) {
                      this.optimize();
                      return;
                    }
                    if (first instanceof _code2.default) {
                      var newlineIndex = first.newlineIndex(first.length(), true);
                      if (newlineIndex > -1) {
                        first = first.split(newlineIndex + 1);
                        if (first === last) {
                          this.optimize();
                          return;
                        }
                      }
                    } else if (last instanceof _code2.default) {
                      var _newlineIndex = last.newlineIndex(0);
                      if (_newlineIndex > -1) {
                        last.split(_newlineIndex + 1);
                      }
                    }
                    var ref2 = last.children.head instanceof _break2.default ? null : last.children.head;
                    first.moveChildren(last, ref2);
                    first.remove();
                  }
                  this.optimize();
                }
              }, {
                key: "enable",
                value: function enable() {
                  var enabled = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;
                  this.domNode.setAttribute("contenteditable", enabled);
                }
              }, {
                key: "formatAt",
                value: function formatAt(index2, length, format2, value) {
                  if (this.whitelist != null && !this.whitelist[format2])
                    return;
                  _get(Scroll2.prototype.__proto__ || Object.getPrototypeOf(Scroll2.prototype), "formatAt", this).call(this, index2, length, format2, value);
                  this.optimize();
                }
              }, {
                key: "insertAt",
                value: function insertAt(index2, value, def) {
                  if (def != null && this.whitelist != null && !this.whitelist[value])
                    return;
                  if (index2 >= this.length()) {
                    if (def == null || _parchment2.default.query(value, _parchment2.default.Scope.BLOCK) == null) {
                      var blot = _parchment2.default.create(this.statics.defaultChild);
                      this.appendChild(blot);
                      if (def == null && value.endsWith("\n")) {
                        value = value.slice(0, -1);
                      }
                      blot.insertAt(0, value, def);
                    } else {
                      var embed = _parchment2.default.create(value, def);
                      this.appendChild(embed);
                    }
                  } else {
                    _get(Scroll2.prototype.__proto__ || Object.getPrototypeOf(Scroll2.prototype), "insertAt", this).call(this, index2, value, def);
                  }
                  this.optimize();
                }
              }, {
                key: "insertBefore",
                value: function insertBefore(blot, ref2) {
                  if (blot.statics.scope === _parchment2.default.Scope.INLINE_BLOT) {
                    var wrapper = _parchment2.default.create(this.statics.defaultChild);
                    wrapper.appendChild(blot);
                    blot = wrapper;
                  }
                  _get(Scroll2.prototype.__proto__ || Object.getPrototypeOf(Scroll2.prototype), "insertBefore", this).call(this, blot, ref2);
                }
              }, {
                key: "leaf",
                value: function leaf(index2) {
                  return this.path(index2).pop() || [null, -1];
                }
              }, {
                key: "line",
                value: function line(index2) {
                  if (index2 === this.length()) {
                    return this.line(index2 - 1);
                  }
                  return this.descendant(isLine, index2);
                }
              }, {
                key: "lines",
                value: function lines() {
                  var index2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
                  var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Number.MAX_VALUE;
                  var getLines = function getLines2(blot, index3, length2) {
                    var lines2 = [], lengthLeft = length2;
                    blot.children.forEachAt(index3, length2, function(child, index4, length3) {
                      if (isLine(child)) {
                        lines2.push(child);
                      } else if (child instanceof _parchment2.default.Container) {
                        lines2 = lines2.concat(getLines2(child, index4, lengthLeft));
                      }
                      lengthLeft -= length3;
                    });
                    return lines2;
                  };
                  return getLines(this, index2, length);
                }
              }, {
                key: "optimize",
                value: function optimize() {
                  var mutations = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
                  var context = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
                  if (this.batch === true)
                    return;
                  _get(Scroll2.prototype.__proto__ || Object.getPrototypeOf(Scroll2.prototype), "optimize", this).call(this, mutations, context);
                  if (mutations.length > 0) {
                    this.emitter.emit(_emitter2.default.events.SCROLL_OPTIMIZE, mutations, context);
                  }
                }
              }, {
                key: "path",
                value: function path(index2) {
                  return _get(Scroll2.prototype.__proto__ || Object.getPrototypeOf(Scroll2.prototype), "path", this).call(this, index2).slice(1);
                }
              }, {
                key: "update",
                value: function update2(mutations) {
                  if (this.batch === true)
                    return;
                  var source = _emitter2.default.sources.USER;
                  if (typeof mutations === "string") {
                    source = mutations;
                  }
                  if (!Array.isArray(mutations)) {
                    mutations = this.observer.takeRecords();
                  }
                  if (mutations.length > 0) {
                    this.emitter.emit(_emitter2.default.events.SCROLL_BEFORE_UPDATE, source, mutations);
                  }
                  _get(Scroll2.prototype.__proto__ || Object.getPrototypeOf(Scroll2.prototype), "update", this).call(this, mutations.concat([]));
                  if (mutations.length > 0) {
                    this.emitter.emit(_emitter2.default.events.SCROLL_UPDATE, source, mutations);
                  }
                }
              }]);
              return Scroll2;
            }(_parchment2.default.Scroll);
            Scroll.blotName = "scroll";
            Scroll.className = "ql-editor";
            Scroll.tagName = "DIV";
            Scroll.defaultChild = "block";
            Scroll.allowedChildren = [_block2.default, _block.BlockEmbed, _container2.default];
            exports2.default = Scroll;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.SHORTKEY = exports2.default = void 0;
            var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
              return typeof obj;
            } : function(obj) {
              return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
            };
            var _slicedToArray = function() {
              function sliceIterator(arr, i3) {
                var _arr = [];
                var _n = true;
                var _d = false;
                var _e = void 0;
                try {
                  for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                    _arr.push(_s.value);
                    if (i3 && _arr.length === i3)
                      break;
                  }
                } catch (err) {
                  _d = true;
                  _e = err;
                } finally {
                  try {
                    if (!_n && _i["return"])
                      _i["return"]();
                  } finally {
                    if (_d)
                      throw _e;
                  }
                }
                return _arr;
              }
              return function(arr, i3) {
                if (Array.isArray(arr)) {
                  return arr;
                } else if (Symbol.iterator in Object(arr)) {
                  return sliceIterator(arr, i3);
                } else {
                  throw new TypeError("Invalid attempt to destructure non-iterable instance");
                }
              };
            }();
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _clone = __webpack_require__(21);
            var _clone2 = _interopRequireDefault(_clone);
            var _deepEqual = __webpack_require__(11);
            var _deepEqual2 = _interopRequireDefault(_deepEqual);
            var _extend = __webpack_require__(3);
            var _extend2 = _interopRequireDefault(_extend);
            var _quillDelta = __webpack_require__(2);
            var _quillDelta2 = _interopRequireDefault(_quillDelta);
            var _op = __webpack_require__(20);
            var _op2 = _interopRequireDefault(_op);
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            var _quill = __webpack_require__(5);
            var _quill2 = _interopRequireDefault(_quill);
            var _logger = __webpack_require__(10);
            var _logger2 = _interopRequireDefault(_logger);
            var _module = __webpack_require__(9);
            var _module2 = _interopRequireDefault(_module);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _defineProperty2(obj, key, value) {
              if (key in obj) {
                Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
              } else {
                obj[key] = value;
              }
              return obj;
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var debug = (0, _logger2.default)("quill:keyboard");
            var SHORTKEY = /Mac/i.test(navigator.platform) ? "metaKey" : "ctrlKey";
            var Keyboard = function(_Module) {
              _inherits(Keyboard2, _Module);
              _createClass(Keyboard2, null, [{
                key: "match",
                value: function match2(evt, binding) {
                  binding = normalize(binding);
                  if (["altKey", "ctrlKey", "metaKey", "shiftKey"].some(function(key) {
                    return !!binding[key] !== evt[key] && binding[key] !== null;
                  })) {
                    return false;
                  }
                  return binding.key === (evt.which || evt.keyCode);
                }
              }]);
              function Keyboard2(quill, options) {
                _classCallCheck(this, Keyboard2);
                var _this = _possibleConstructorReturn(this, (Keyboard2.__proto__ || Object.getPrototypeOf(Keyboard2)).call(this, quill, options));
                _this.bindings = {};
                Object.keys(_this.options.bindings).forEach(function(name) {
                  if (name === "list autofill" && quill.scroll.whitelist != null && !quill.scroll.whitelist["list"]) {
                    return;
                  }
                  if (_this.options.bindings[name]) {
                    _this.addBinding(_this.options.bindings[name]);
                  }
                });
                _this.addBinding({ key: Keyboard2.keys.ENTER, shiftKey: null }, handleEnter);
                _this.addBinding({ key: Keyboard2.keys.ENTER, metaKey: null, ctrlKey: null, altKey: null }, function() {
                });
                if (/Firefox/i.test(navigator.userAgent)) {
                  _this.addBinding({ key: Keyboard2.keys.BACKSPACE }, { collapsed: true }, handleBackspace);
                  _this.addBinding({ key: Keyboard2.keys.DELETE }, { collapsed: true }, handleDelete);
                } else {
                  _this.addBinding({ key: Keyboard2.keys.BACKSPACE }, { collapsed: true, prefix: /^.?$/ }, handleBackspace);
                  _this.addBinding({ key: Keyboard2.keys.DELETE }, { collapsed: true, suffix: /^.?$/ }, handleDelete);
                }
                _this.addBinding({ key: Keyboard2.keys.BACKSPACE }, { collapsed: false }, handleDeleteRange);
                _this.addBinding({ key: Keyboard2.keys.DELETE }, { collapsed: false }, handleDeleteRange);
                _this.addBinding({ key: Keyboard2.keys.BACKSPACE, altKey: null, ctrlKey: null, metaKey: null, shiftKey: null }, { collapsed: true, offset: 0 }, handleBackspace);
                _this.listen();
                return _this;
              }
              _createClass(Keyboard2, [{
                key: "addBinding",
                value: function addBinding(key) {
                  var context = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
                  var handler = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
                  var binding = normalize(key);
                  if (binding == null || binding.key == null) {
                    return debug.warn("Attempted to add invalid keyboard binding", binding);
                  }
                  if (typeof context === "function") {
                    context = { handler: context };
                  }
                  if (typeof handler === "function") {
                    handler = { handler };
                  }
                  binding = (0, _extend2.default)(binding, context, handler);
                  this.bindings[binding.key] = this.bindings[binding.key] || [];
                  this.bindings[binding.key].push(binding);
                }
              }, {
                key: "listen",
                value: function listen() {
                  var _this2 = this;
                  this.quill.root.addEventListener("keydown", function(evt) {
                    if (evt.defaultPrevented)
                      return;
                    var which = evt.which || evt.keyCode;
                    var bindings = (_this2.bindings[which] || []).filter(function(binding) {
                      return Keyboard2.match(evt, binding);
                    });
                    if (bindings.length === 0)
                      return;
                    var range = _this2.quill.getSelection();
                    if (range == null || !_this2.quill.hasFocus())
                      return;
                    var _quill$getLine = _this2.quill.getLine(range.index), _quill$getLine2 = _slicedToArray(_quill$getLine, 2), line = _quill$getLine2[0], offset4 = _quill$getLine2[1];
                    var _quill$getLeaf = _this2.quill.getLeaf(range.index), _quill$getLeaf2 = _slicedToArray(_quill$getLeaf, 2), leafStart = _quill$getLeaf2[0], offsetStart = _quill$getLeaf2[1];
                    var _ref = range.length === 0 ? [leafStart, offsetStart] : _this2.quill.getLeaf(range.index + range.length), _ref2 = _slicedToArray(_ref, 2), leafEnd = _ref2[0], offsetEnd = _ref2[1];
                    var prefixText = leafStart instanceof _parchment2.default.Text ? leafStart.value().slice(0, offsetStart) : "";
                    var suffixText = leafEnd instanceof _parchment2.default.Text ? leafEnd.value().slice(offsetEnd) : "";
                    var curContext = {
                      collapsed: range.length === 0,
                      empty: range.length === 0 && line.length() <= 1,
                      format: _this2.quill.getFormat(range),
                      offset: offset4,
                      prefix: prefixText,
                      suffix: suffixText
                    };
                    var prevented = bindings.some(function(binding) {
                      if (binding.collapsed != null && binding.collapsed !== curContext.collapsed)
                        return false;
                      if (binding.empty != null && binding.empty !== curContext.empty)
                        return false;
                      if (binding.offset != null && binding.offset !== curContext.offset)
                        return false;
                      if (Array.isArray(binding.format)) {
                        if (binding.format.every(function(name) {
                          return curContext.format[name] == null;
                        })) {
                          return false;
                        }
                      } else if (_typeof(binding.format) === "object") {
                        if (!Object.keys(binding.format).every(function(name) {
                          if (binding.format[name] === true)
                            return curContext.format[name] != null;
                          if (binding.format[name] === false)
                            return curContext.format[name] == null;
                          return (0, _deepEqual2.default)(binding.format[name], curContext.format[name]);
                        })) {
                          return false;
                        }
                      }
                      if (binding.prefix != null && !binding.prefix.test(curContext.prefix))
                        return false;
                      if (binding.suffix != null && !binding.suffix.test(curContext.suffix))
                        return false;
                      return binding.handler.call(_this2, range, curContext) !== true;
                    });
                    if (prevented) {
                      evt.preventDefault();
                    }
                  });
                }
              }]);
              return Keyboard2;
            }(_module2.default);
            Keyboard.keys = {
              BACKSPACE: 8,
              TAB: 9,
              ENTER: 13,
              ESCAPE: 27,
              LEFT: 37,
              UP: 38,
              RIGHT: 39,
              DOWN: 40,
              DELETE: 46
            };
            Keyboard.DEFAULTS = {
              bindings: {
                "bold": makeFormatHandler("bold"),
                "italic": makeFormatHandler("italic"),
                "underline": makeFormatHandler("underline"),
                "indent": {
                  key: Keyboard.keys.TAB,
                  format: ["blockquote", "indent", "list"],
                  handler: function handler(range, context) {
                    if (context.collapsed && context.offset !== 0)
                      return true;
                    this.quill.format("indent", "+1", _quill2.default.sources.USER);
                  }
                },
                "outdent": {
                  key: Keyboard.keys.TAB,
                  shiftKey: true,
                  format: ["blockquote", "indent", "list"],
                  handler: function handler(range, context) {
                    if (context.collapsed && context.offset !== 0)
                      return true;
                    this.quill.format("indent", "-1", _quill2.default.sources.USER);
                  }
                },
                "outdent backspace": {
                  key: Keyboard.keys.BACKSPACE,
                  collapsed: true,
                  shiftKey: null,
                  metaKey: null,
                  ctrlKey: null,
                  altKey: null,
                  format: ["indent", "list"],
                  offset: 0,
                  handler: function handler(range, context) {
                    if (context.format.indent != null) {
                      this.quill.format("indent", "-1", _quill2.default.sources.USER);
                    } else if (context.format.list != null) {
                      this.quill.format("list", false, _quill2.default.sources.USER);
                    }
                  }
                },
                "indent code-block": makeCodeBlockHandler(true),
                "outdent code-block": makeCodeBlockHandler(false),
                "remove tab": {
                  key: Keyboard.keys.TAB,
                  shiftKey: true,
                  collapsed: true,
                  prefix: /\t$/,
                  handler: function handler(range) {
                    this.quill.deleteText(range.index - 1, 1, _quill2.default.sources.USER);
                  }
                },
                "tab": {
                  key: Keyboard.keys.TAB,
                  handler: function handler(range) {
                    this.quill.history.cutoff();
                    var delta = new _quillDelta2.default().retain(range.index).delete(range.length).insert("	");
                    this.quill.updateContents(delta, _quill2.default.sources.USER);
                    this.quill.history.cutoff();
                    this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);
                  }
                },
                "list empty enter": {
                  key: Keyboard.keys.ENTER,
                  collapsed: true,
                  format: ["list"],
                  empty: true,
                  handler: function handler(range, context) {
                    this.quill.format("list", false, _quill2.default.sources.USER);
                    if (context.format.indent) {
                      this.quill.format("indent", false, _quill2.default.sources.USER);
                    }
                  }
                },
                "checklist enter": {
                  key: Keyboard.keys.ENTER,
                  collapsed: true,
                  format: { list: "checked" },
                  handler: function handler(range) {
                    var _quill$getLine3 = this.quill.getLine(range.index), _quill$getLine4 = _slicedToArray(_quill$getLine3, 2), line = _quill$getLine4[0], offset4 = _quill$getLine4[1];
                    var formats = (0, _extend2.default)({}, line.formats(), { list: "checked" });
                    var delta = new _quillDelta2.default().retain(range.index).insert("\n", formats).retain(line.length() - offset4 - 1).retain(1, { list: "unchecked" });
                    this.quill.updateContents(delta, _quill2.default.sources.USER);
                    this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);
                    this.quill.scrollIntoView();
                  }
                },
                "header enter": {
                  key: Keyboard.keys.ENTER,
                  collapsed: true,
                  format: ["header"],
                  suffix: /^$/,
                  handler: function handler(range, context) {
                    var _quill$getLine5 = this.quill.getLine(range.index), _quill$getLine6 = _slicedToArray(_quill$getLine5, 2), line = _quill$getLine6[0], offset4 = _quill$getLine6[1];
                    var delta = new _quillDelta2.default().retain(range.index).insert("\n", context.format).retain(line.length() - offset4 - 1).retain(1, { header: null });
                    this.quill.updateContents(delta, _quill2.default.sources.USER);
                    this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);
                    this.quill.scrollIntoView();
                  }
                },
                "list autofill": {
                  key: " ",
                  collapsed: true,
                  format: { list: false },
                  prefix: /^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,
                  handler: function handler(range, context) {
                    var length = context.prefix.length;
                    var _quill$getLine7 = this.quill.getLine(range.index), _quill$getLine8 = _slicedToArray(_quill$getLine7, 2), line = _quill$getLine8[0], offset4 = _quill$getLine8[1];
                    if (offset4 > length)
                      return true;
                    var value = void 0;
                    switch (context.prefix.trim()) {
                      case "[]":
                      case "[ ]":
                        value = "unchecked";
                        break;
                      case "[x]":
                        value = "checked";
                        break;
                      case "-":
                      case "*":
                        value = "bullet";
                        break;
                      default:
                        value = "ordered";
                    }
                    this.quill.insertText(range.index, " ", _quill2.default.sources.USER);
                    this.quill.history.cutoff();
                    var delta = new _quillDelta2.default().retain(range.index - offset4).delete(length + 1).retain(line.length() - 2 - offset4).retain(1, { list: value });
                    this.quill.updateContents(delta, _quill2.default.sources.USER);
                    this.quill.history.cutoff();
                    this.quill.setSelection(range.index - length, _quill2.default.sources.SILENT);
                  }
                },
                "code exit": {
                  key: Keyboard.keys.ENTER,
                  collapsed: true,
                  format: ["code-block"],
                  prefix: /\n\n$/,
                  suffix: /^\s+$/,
                  handler: function handler(range) {
                    var _quill$getLine9 = this.quill.getLine(range.index), _quill$getLine10 = _slicedToArray(_quill$getLine9, 2), line = _quill$getLine10[0], offset4 = _quill$getLine10[1];
                    var delta = new _quillDelta2.default().retain(range.index + line.length() - offset4 - 2).retain(1, { "code-block": null }).delete(1);
                    this.quill.updateContents(delta, _quill2.default.sources.USER);
                  }
                },
                "embed left": makeEmbedArrowHandler(Keyboard.keys.LEFT, false),
                "embed left shift": makeEmbedArrowHandler(Keyboard.keys.LEFT, true),
                "embed right": makeEmbedArrowHandler(Keyboard.keys.RIGHT, false),
                "embed right shift": makeEmbedArrowHandler(Keyboard.keys.RIGHT, true)
              }
            };
            function makeEmbedArrowHandler(key, shiftKey) {
              var _ref3;
              var where = key === Keyboard.keys.LEFT ? "prefix" : "suffix";
              return _ref3 = {
                key,
                shiftKey,
                altKey: null
              }, _defineProperty2(_ref3, where, /^$/), _defineProperty2(_ref3, "handler", function handler(range) {
                var index2 = range.index;
                if (key === Keyboard.keys.RIGHT) {
                  index2 += range.length + 1;
                }
                var _quill$getLeaf3 = this.quill.getLeaf(index2), _quill$getLeaf4 = _slicedToArray(_quill$getLeaf3, 1), leaf = _quill$getLeaf4[0];
                if (!(leaf instanceof _parchment2.default.Embed))
                  return true;
                if (key === Keyboard.keys.LEFT) {
                  if (shiftKey) {
                    this.quill.setSelection(range.index - 1, range.length + 1, _quill2.default.sources.USER);
                  } else {
                    this.quill.setSelection(range.index - 1, _quill2.default.sources.USER);
                  }
                } else {
                  if (shiftKey) {
                    this.quill.setSelection(range.index, range.length + 1, _quill2.default.sources.USER);
                  } else {
                    this.quill.setSelection(range.index + range.length + 1, _quill2.default.sources.USER);
                  }
                }
                return false;
              }), _ref3;
            }
            function handleBackspace(range, context) {
              if (range.index === 0 || this.quill.getLength() <= 1)
                return;
              var _quill$getLine11 = this.quill.getLine(range.index), _quill$getLine12 = _slicedToArray(_quill$getLine11, 1), line = _quill$getLine12[0];
              var formats = {};
              if (context.offset === 0) {
                var _quill$getLine13 = this.quill.getLine(range.index - 1), _quill$getLine14 = _slicedToArray(_quill$getLine13, 1), prev = _quill$getLine14[0];
                if (prev != null && prev.length() > 1) {
                  var curFormats = line.formats();
                  var prevFormats = this.quill.getFormat(range.index - 1, 1);
                  formats = _op2.default.attributes.diff(curFormats, prevFormats) || {};
                }
              }
              var length = /[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(context.prefix) ? 2 : 1;
              this.quill.deleteText(range.index - length, length, _quill2.default.sources.USER);
              if (Object.keys(formats).length > 0) {
                this.quill.formatLine(range.index - length, length, formats, _quill2.default.sources.USER);
              }
              this.quill.focus();
            }
            function handleDelete(range, context) {
              var length = /^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(context.suffix) ? 2 : 1;
              if (range.index >= this.quill.getLength() - length)
                return;
              var formats = {}, nextLength = 0;
              var _quill$getLine15 = this.quill.getLine(range.index), _quill$getLine16 = _slicedToArray(_quill$getLine15, 1), line = _quill$getLine16[0];
              if (context.offset >= line.length() - 1) {
                var _quill$getLine17 = this.quill.getLine(range.index + 1), _quill$getLine18 = _slicedToArray(_quill$getLine17, 1), next = _quill$getLine18[0];
                if (next) {
                  var curFormats = line.formats();
                  var nextFormats = this.quill.getFormat(range.index, 1);
                  formats = _op2.default.attributes.diff(curFormats, nextFormats) || {};
                  nextLength = next.length();
                }
              }
              this.quill.deleteText(range.index, length, _quill2.default.sources.USER);
              if (Object.keys(formats).length > 0) {
                this.quill.formatLine(range.index + nextLength - 1, length, formats, _quill2.default.sources.USER);
              }
            }
            function handleDeleteRange(range) {
              var lines = this.quill.getLines(range);
              var formats = {};
              if (lines.length > 1) {
                var firstFormats = lines[0].formats();
                var lastFormats = lines[lines.length - 1].formats();
                formats = _op2.default.attributes.diff(lastFormats, firstFormats) || {};
              }
              this.quill.deleteText(range, _quill2.default.sources.USER);
              if (Object.keys(formats).length > 0) {
                this.quill.formatLine(range.index, 1, formats, _quill2.default.sources.USER);
              }
              this.quill.setSelection(range.index, _quill2.default.sources.SILENT);
              this.quill.focus();
            }
            function handleEnter(range, context) {
              var _this3 = this;
              if (range.length > 0) {
                this.quill.scroll.deleteAt(range.index, range.length);
              }
              var lineFormats = Object.keys(context.format).reduce(function(lineFormats2, format2) {
                if (_parchment2.default.query(format2, _parchment2.default.Scope.BLOCK) && !Array.isArray(context.format[format2])) {
                  lineFormats2[format2] = context.format[format2];
                }
                return lineFormats2;
              }, {});
              this.quill.insertText(range.index, "\n", lineFormats, _quill2.default.sources.USER);
              this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);
              this.quill.focus();
              Object.keys(context.format).forEach(function(name) {
                if (lineFormats[name] != null)
                  return;
                if (Array.isArray(context.format[name]))
                  return;
                if (name === "link")
                  return;
                _this3.quill.format(name, context.format[name], _quill2.default.sources.USER);
              });
            }
            function makeCodeBlockHandler(indent) {
              return {
                key: Keyboard.keys.TAB,
                shiftKey: !indent,
                format: { "code-block": true },
                handler: function handler(range) {
                  var CodeBlock = _parchment2.default.query("code-block");
                  var index2 = range.index, length = range.length;
                  var _quill$scroll$descend = this.quill.scroll.descendant(CodeBlock, index2), _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2), block = _quill$scroll$descend2[0], offset4 = _quill$scroll$descend2[1];
                  if (block == null)
                    return;
                  var scrollIndex = this.quill.getIndex(block);
                  var start4 = block.newlineIndex(offset4, true) + 1;
                  var end3 = block.newlineIndex(scrollIndex + offset4 + length);
                  var lines = block.domNode.textContent.slice(start4, end3).split("\n");
                  offset4 = 0;
                  lines.forEach(function(line, i3) {
                    if (indent) {
                      block.insertAt(start4 + offset4, CodeBlock.TAB);
                      offset4 += CodeBlock.TAB.length;
                      if (i3 === 0) {
                        index2 += CodeBlock.TAB.length;
                      } else {
                        length += CodeBlock.TAB.length;
                      }
                    } else if (line.startsWith(CodeBlock.TAB)) {
                      block.deleteAt(start4 + offset4, CodeBlock.TAB.length);
                      offset4 -= CodeBlock.TAB.length;
                      if (i3 === 0) {
                        index2 -= CodeBlock.TAB.length;
                      } else {
                        length -= CodeBlock.TAB.length;
                      }
                    }
                    offset4 += line.length + 1;
                  });
                  this.quill.update(_quill2.default.sources.USER);
                  this.quill.setSelection(index2, length, _quill2.default.sources.SILENT);
                }
              };
            }
            function makeFormatHandler(format2) {
              return {
                key: format2[0].toUpperCase(),
                shortKey: true,
                handler: function handler(range, context) {
                  this.quill.format(format2, !context.format[format2], _quill2.default.sources.USER);
                }
              };
            }
            function normalize(binding) {
              if (typeof binding === "string" || typeof binding === "number") {
                return normalize({ key: binding });
              }
              if ((typeof binding === "undefined" ? "undefined" : _typeof(binding)) === "object") {
                binding = (0, _clone2.default)(binding, false);
              }
              if (typeof binding.key === "string") {
                if (Keyboard.keys[binding.key.toUpperCase()] != null) {
                  binding.key = Keyboard.keys[binding.key.toUpperCase()];
                } else if (binding.key.length === 1) {
                  binding.key = binding.key.toUpperCase().charCodeAt(0);
                } else {
                  return null;
                }
              }
              if (binding.shortKey) {
                binding[SHORTKEY] = binding.shortKey;
                delete binding.shortKey;
              }
              return binding;
            }
            exports2.default = Keyboard;
            exports2.SHORTKEY = SHORTKEY;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _slicedToArray = function() {
              function sliceIterator(arr, i3) {
                var _arr = [];
                var _n = true;
                var _d = false;
                var _e = void 0;
                try {
                  for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                    _arr.push(_s.value);
                    if (i3 && _arr.length === i3)
                      break;
                  }
                } catch (err) {
                  _d = true;
                  _e = err;
                } finally {
                  try {
                    if (!_n && _i["return"])
                      _i["return"]();
                  } finally {
                    if (_d)
                      throw _e;
                  }
                }
                return _arr;
              }
              return function(arr, i3) {
                if (Array.isArray(arr)) {
                  return arr;
                } else if (Symbol.iterator in Object(arr)) {
                  return sliceIterator(arr, i3);
                } else {
                  throw new TypeError("Invalid attempt to destructure non-iterable instance");
                }
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            var _text = __webpack_require__(7);
            var _text2 = _interopRequireDefault(_text);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var Cursor = function(_Parchment$Embed) {
              _inherits(Cursor2, _Parchment$Embed);
              _createClass(Cursor2, null, [{
                key: "value",
                value: function value() {
                  return void 0;
                }
              }]);
              function Cursor2(domNode, selection) {
                _classCallCheck(this, Cursor2);
                var _this = _possibleConstructorReturn(this, (Cursor2.__proto__ || Object.getPrototypeOf(Cursor2)).call(this, domNode));
                _this.selection = selection;
                _this.textNode = document.createTextNode(Cursor2.CONTENTS);
                _this.domNode.appendChild(_this.textNode);
                _this._length = 0;
                return _this;
              }
              _createClass(Cursor2, [{
                key: "detach",
                value: function detach() {
                  if (this.parent != null)
                    this.parent.removeChild(this);
                }
              }, {
                key: "format",
                value: function format2(name, value) {
                  if (this._length !== 0) {
                    return _get(Cursor2.prototype.__proto__ || Object.getPrototypeOf(Cursor2.prototype), "format", this).call(this, name, value);
                  }
                  var target = this, index2 = 0;
                  while (target != null && target.statics.scope !== _parchment2.default.Scope.BLOCK_BLOT) {
                    index2 += target.offset(target.parent);
                    target = target.parent;
                  }
                  if (target != null) {
                    this._length = Cursor2.CONTENTS.length;
                    target.optimize();
                    target.formatAt(index2, Cursor2.CONTENTS.length, name, value);
                    this._length = 0;
                  }
                }
              }, {
                key: "index",
                value: function index2(node, offset4) {
                  if (node === this.textNode)
                    return 0;
                  return _get(Cursor2.prototype.__proto__ || Object.getPrototypeOf(Cursor2.prototype), "index", this).call(this, node, offset4);
                }
              }, {
                key: "length",
                value: function length() {
                  return this._length;
                }
              }, {
                key: "position",
                value: function position3() {
                  return [this.textNode, this.textNode.data.length];
                }
              }, {
                key: "remove",
                value: function remove() {
                  _get(Cursor2.prototype.__proto__ || Object.getPrototypeOf(Cursor2.prototype), "remove", this).call(this);
                  this.parent = null;
                }
              }, {
                key: "restore",
                value: function restore() {
                  if (this.selection.composing || this.parent == null)
                    return;
                  var textNode = this.textNode;
                  var range = this.selection.getNativeRange();
                  var restoreText = void 0, start4 = void 0, end3 = void 0;
                  if (range != null && range.start.node === textNode && range.end.node === textNode) {
                    var _ref = [textNode, range.start.offset, range.end.offset];
                    restoreText = _ref[0];
                    start4 = _ref[1];
                    end3 = _ref[2];
                  }
                  while (this.domNode.lastChild != null && this.domNode.lastChild !== this.textNode) {
                    this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);
                  }
                  if (this.textNode.data !== Cursor2.CONTENTS) {
                    var text = this.textNode.data.split(Cursor2.CONTENTS).join("");
                    if (this.next instanceof _text2.default) {
                      restoreText = this.next.domNode;
                      this.next.insertAt(0, text);
                      this.textNode.data = Cursor2.CONTENTS;
                    } else {
                      this.textNode.data = text;
                      this.parent.insertBefore(_parchment2.default.create(this.textNode), this);
                      this.textNode = document.createTextNode(Cursor2.CONTENTS);
                      this.domNode.appendChild(this.textNode);
                    }
                  }
                  this.remove();
                  if (start4 != null) {
                    var _map = [start4, end3].map(function(offset4) {
                      return Math.max(0, Math.min(restoreText.data.length, offset4 - 1));
                    });
                    var _map2 = _slicedToArray(_map, 2);
                    start4 = _map2[0];
                    end3 = _map2[1];
                    return {
                      startNode: restoreText,
                      startOffset: start4,
                      endNode: restoreText,
                      endOffset: end3
                    };
                  }
                }
              }, {
                key: "update",
                value: function update2(mutations, context) {
                  var _this2 = this;
                  if (mutations.some(function(mutation) {
                    return mutation.type === "characterData" && mutation.target === _this2.textNode;
                  })) {
                    var range = this.restore();
                    if (range)
                      context.range = range;
                  }
                }
              }, {
                key: "value",
                value: function value() {
                  return "";
                }
              }]);
              return Cursor2;
            }(_parchment2.default.Embed);
            Cursor.blotName = "cursor";
            Cursor.className = "ql-cursor";
            Cursor.tagName = "span";
            Cursor.CONTENTS = "\uFEFF";
            exports2.default = Cursor;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            var _block = __webpack_require__(4);
            var _block2 = _interopRequireDefault(_block);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var Container = function(_Parchment$Container) {
              _inherits(Container2, _Parchment$Container);
              function Container2() {
                _classCallCheck(this, Container2);
                return _possibleConstructorReturn(this, (Container2.__proto__ || Object.getPrototypeOf(Container2)).apply(this, arguments));
              }
              return Container2;
            }(_parchment2.default.Container);
            Container.allowedChildren = [_block2.default, _block.BlockEmbed, Container];
            exports2.default = Container;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.ColorStyle = exports2.ColorClass = exports2.ColorAttributor = void 0;
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var ColorAttributor = function(_Parchment$Attributor) {
              _inherits(ColorAttributor2, _Parchment$Attributor);
              function ColorAttributor2() {
                _classCallCheck(this, ColorAttributor2);
                return _possibleConstructorReturn(this, (ColorAttributor2.__proto__ || Object.getPrototypeOf(ColorAttributor2)).apply(this, arguments));
              }
              _createClass(ColorAttributor2, [{
                key: "value",
                value: function value(domNode) {
                  var value2 = _get(ColorAttributor2.prototype.__proto__ || Object.getPrototypeOf(ColorAttributor2.prototype), "value", this).call(this, domNode);
                  if (!value2.startsWith("rgb("))
                    return value2;
                  value2 = value2.replace(/^[^\d]+/, "").replace(/[^\d]+$/, "");
                  return "#" + value2.split(",").map(function(component) {
                    return ("00" + parseInt(component).toString(16)).slice(-2);
                  }).join("");
                }
              }]);
              return ColorAttributor2;
            }(_parchment2.default.Attributor.Style);
            var ColorClass = new _parchment2.default.Attributor.Class("color", "ql-color", {
              scope: _parchment2.default.Scope.INLINE
            });
            var ColorStyle = new ColorAttributor("color", "color", {
              scope: _parchment2.default.Scope.INLINE
            });
            exports2.ColorAttributor = ColorAttributor;
            exports2.ColorClass = ColorClass;
            exports2.ColorStyle = ColorStyle;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.sanitize = exports2.default = void 0;
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _inline = __webpack_require__(6);
            var _inline2 = _interopRequireDefault(_inline);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var Link = function(_Inline) {
              _inherits(Link2, _Inline);
              function Link2() {
                _classCallCheck(this, Link2);
                return _possibleConstructorReturn(this, (Link2.__proto__ || Object.getPrototypeOf(Link2)).apply(this, arguments));
              }
              _createClass(Link2, [{
                key: "format",
                value: function format2(name, value) {
                  if (name !== this.statics.blotName || !value)
                    return _get(Link2.prototype.__proto__ || Object.getPrototypeOf(Link2.prototype), "format", this).call(this, name, value);
                  value = this.constructor.sanitize(value);
                  this.domNode.setAttribute("href", value);
                }
              }], [{
                key: "create",
                value: function create2(value) {
                  var node = _get(Link2.__proto__ || Object.getPrototypeOf(Link2), "create", this).call(this, value);
                  value = this.sanitize(value);
                  node.setAttribute("href", value);
                  node.setAttribute("rel", "noopener noreferrer");
                  node.setAttribute("target", "_blank");
                  return node;
                }
              }, {
                key: "formats",
                value: function formats(domNode) {
                  return domNode.getAttribute("href");
                }
              }, {
                key: "sanitize",
                value: function sanitize(url) {
                  return _sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;
                }
              }]);
              return Link2;
            }(_inline2.default);
            Link.blotName = "link";
            Link.tagName = "A";
            Link.SANITIZED_URL = "about:blank";
            Link.PROTOCOL_WHITELIST = ["http", "https", "mailto", "tel"];
            function _sanitize(url, protocols) {
              var anchor = document.createElement("a");
              anchor.href = url;
              var protocol = anchor.href.slice(0, anchor.href.indexOf(":"));
              return protocols.indexOf(protocol) > -1;
            }
            exports2.default = Link;
            exports2.sanitize = _sanitize;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
              return typeof obj;
            } : function(obj) {
              return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
            };
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _keyboard = __webpack_require__(23);
            var _keyboard2 = _interopRequireDefault(_keyboard);
            var _dropdown = __webpack_require__(107);
            var _dropdown2 = _interopRequireDefault(_dropdown);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            var optionsCounter = 0;
            function toggleAriaAttribute(element, attribute) {
              element.setAttribute(attribute, !(element.getAttribute(attribute) === "true"));
            }
            var Picker = function() {
              function Picker2(select) {
                var _this = this;
                _classCallCheck(this, Picker2);
                this.select = select;
                this.container = document.createElement("span");
                this.buildPicker();
                this.select.style.display = "none";
                this.select.parentNode.insertBefore(this.container, this.select);
                this.label.addEventListener("mousedown", function() {
                  _this.togglePicker();
                });
                this.label.addEventListener("keydown", function(event) {
                  switch (event.keyCode) {
                    case _keyboard2.default.keys.ENTER:
                      _this.togglePicker();
                      break;
                    case _keyboard2.default.keys.ESCAPE:
                      _this.escape();
                      event.preventDefault();
                      break;
                    default:
                  }
                });
                this.select.addEventListener("change", this.update.bind(this));
              }
              _createClass(Picker2, [{
                key: "togglePicker",
                value: function togglePicker() {
                  this.container.classList.toggle("ql-expanded");
                  toggleAriaAttribute(this.label, "aria-expanded");
                  toggleAriaAttribute(this.options, "aria-hidden");
                }
              }, {
                key: "buildItem",
                value: function buildItem(option) {
                  var _this2 = this;
                  var item = document.createElement("span");
                  item.tabIndex = "0";
                  item.setAttribute("role", "button");
                  item.classList.add("ql-picker-item");
                  if (option.hasAttribute("value")) {
                    item.setAttribute("data-value", option.getAttribute("value"));
                  }
                  if (option.textContent) {
                    item.setAttribute("data-label", option.textContent);
                  }
                  item.addEventListener("click", function() {
                    _this2.selectItem(item, true);
                  });
                  item.addEventListener("keydown", function(event) {
                    switch (event.keyCode) {
                      case _keyboard2.default.keys.ENTER:
                        _this2.selectItem(item, true);
                        event.preventDefault();
                        break;
                      case _keyboard2.default.keys.ESCAPE:
                        _this2.escape();
                        event.preventDefault();
                        break;
                      default:
                    }
                  });
                  return item;
                }
              }, {
                key: "buildLabel",
                value: function buildLabel() {
                  var label = document.createElement("span");
                  label.classList.add("ql-picker-label");
                  label.innerHTML = _dropdown2.default;
                  label.tabIndex = "0";
                  label.setAttribute("role", "button");
                  label.setAttribute("aria-expanded", "false");
                  this.container.appendChild(label);
                  return label;
                }
              }, {
                key: "buildOptions",
                value: function buildOptions() {
                  var _this3 = this;
                  var options = document.createElement("span");
                  options.classList.add("ql-picker-options");
                  options.setAttribute("aria-hidden", "true");
                  options.tabIndex = "-1";
                  options.id = "ql-picker-options-" + optionsCounter;
                  optionsCounter += 1;
                  this.label.setAttribute("aria-controls", options.id);
                  this.options = options;
                  [].slice.call(this.select.options).forEach(function(option) {
                    var item = _this3.buildItem(option);
                    options.appendChild(item);
                    if (option.selected === true) {
                      _this3.selectItem(item);
                    }
                  });
                  this.container.appendChild(options);
                }
              }, {
                key: "buildPicker",
                value: function buildPicker() {
                  var _this4 = this;
                  [].slice.call(this.select.attributes).forEach(function(item) {
                    _this4.container.setAttribute(item.name, item.value);
                  });
                  this.container.classList.add("ql-picker");
                  this.label = this.buildLabel();
                  this.buildOptions();
                }
              }, {
                key: "escape",
                value: function escape2() {
                  var _this5 = this;
                  this.close();
                  setTimeout(function() {
                    return _this5.label.focus();
                  }, 1);
                }
              }, {
                key: "close",
                value: function close() {
                  this.container.classList.remove("ql-expanded");
                  this.label.setAttribute("aria-expanded", "false");
                  this.options.setAttribute("aria-hidden", "true");
                }
              }, {
                key: "selectItem",
                value: function selectItem(item) {
                  var trigger = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
                  var selected = this.container.querySelector(".ql-selected");
                  if (item === selected)
                    return;
                  if (selected != null) {
                    selected.classList.remove("ql-selected");
                  }
                  if (item == null)
                    return;
                  item.classList.add("ql-selected");
                  this.select.selectedIndex = [].indexOf.call(item.parentNode.children, item);
                  if (item.hasAttribute("data-value")) {
                    this.label.setAttribute("data-value", item.getAttribute("data-value"));
                  } else {
                    this.label.removeAttribute("data-value");
                  }
                  if (item.hasAttribute("data-label")) {
                    this.label.setAttribute("data-label", item.getAttribute("data-label"));
                  } else {
                    this.label.removeAttribute("data-label");
                  }
                  if (trigger) {
                    if (typeof Event === "function") {
                      this.select.dispatchEvent(new Event("change"));
                    } else if ((typeof Event === "undefined" ? "undefined" : _typeof(Event)) === "object") {
                      var event = document.createEvent("Event");
                      event.initEvent("change", true, true);
                      this.select.dispatchEvent(event);
                    }
                    this.close();
                  }
                }
              }, {
                key: "update",
                value: function update2() {
                  var option = void 0;
                  if (this.select.selectedIndex > -1) {
                    var item = this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];
                    option = this.select.options[this.select.selectedIndex];
                    this.selectItem(item);
                  } else {
                    this.selectItem(null);
                  }
                  var isActive = option != null && option !== this.select.querySelector("option[selected]");
                  this.label.classList.toggle("ql-active", isActive);
                }
              }]);
              return Picker2;
            }();
            exports2.default = Picker;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            var _quill = __webpack_require__(5);
            var _quill2 = _interopRequireDefault(_quill);
            var _block = __webpack_require__(4);
            var _block2 = _interopRequireDefault(_block);
            var _break = __webpack_require__(16);
            var _break2 = _interopRequireDefault(_break);
            var _container = __webpack_require__(25);
            var _container2 = _interopRequireDefault(_container);
            var _cursor = __webpack_require__(24);
            var _cursor2 = _interopRequireDefault(_cursor);
            var _embed = __webpack_require__(35);
            var _embed2 = _interopRequireDefault(_embed);
            var _inline = __webpack_require__(6);
            var _inline2 = _interopRequireDefault(_inline);
            var _scroll = __webpack_require__(22);
            var _scroll2 = _interopRequireDefault(_scroll);
            var _text = __webpack_require__(7);
            var _text2 = _interopRequireDefault(_text);
            var _clipboard = __webpack_require__(55);
            var _clipboard2 = _interopRequireDefault(_clipboard);
            var _history = __webpack_require__(42);
            var _history2 = _interopRequireDefault(_history);
            var _keyboard = __webpack_require__(23);
            var _keyboard2 = _interopRequireDefault(_keyboard);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            _quill2.default.register({
              "blots/block": _block2.default,
              "blots/block/embed": _block.BlockEmbed,
              "blots/break": _break2.default,
              "blots/container": _container2.default,
              "blots/cursor": _cursor2.default,
              "blots/embed": _embed2.default,
              "blots/inline": _inline2.default,
              "blots/scroll": _scroll2.default,
              "blots/text": _text2.default,
              "modules/clipboard": _clipboard2.default,
              "modules/history": _history2.default,
              "modules/keyboard": _keyboard2.default
            });
            _parchment2.default.register(_block2.default, _break2.default, _cursor2.default, _inline2.default, _scroll2.default, _text2.default);
            exports2.default = _quill2.default;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", { value: true });
            var Registry = __webpack_require__(1);
            var ShadowBlot = function() {
              function ShadowBlot2(domNode) {
                this.domNode = domNode;
                this.domNode[Registry.DATA_KEY] = { blot: this };
              }
              Object.defineProperty(ShadowBlot2.prototype, "statics", {
                get: function() {
                  return this.constructor;
                },
                enumerable: true,
                configurable: true
              });
              ShadowBlot2.create = function(value) {
                if (this.tagName == null) {
                  throw new Registry.ParchmentError("Blot definition missing tagName");
                }
                var node;
                if (Array.isArray(this.tagName)) {
                  if (typeof value === "string") {
                    value = value.toUpperCase();
                    if (parseInt(value).toString() === value) {
                      value = parseInt(value);
                    }
                  }
                  if (typeof value === "number") {
                    node = document.createElement(this.tagName[value - 1]);
                  } else if (this.tagName.indexOf(value) > -1) {
                    node = document.createElement(value);
                  } else {
                    node = document.createElement(this.tagName[0]);
                  }
                } else {
                  node = document.createElement(this.tagName);
                }
                if (this.className) {
                  node.classList.add(this.className);
                }
                return node;
              };
              ShadowBlot2.prototype.attach = function() {
                if (this.parent != null) {
                  this.scroll = this.parent.scroll;
                }
              };
              ShadowBlot2.prototype.clone = function() {
                var domNode = this.domNode.cloneNode(false);
                return Registry.create(domNode);
              };
              ShadowBlot2.prototype.detach = function() {
                if (this.parent != null)
                  this.parent.removeChild(this);
                delete this.domNode[Registry.DATA_KEY];
              };
              ShadowBlot2.prototype.deleteAt = function(index2, length) {
                var blot = this.isolate(index2, length);
                blot.remove();
              };
              ShadowBlot2.prototype.formatAt = function(index2, length, name, value) {
                var blot = this.isolate(index2, length);
                if (Registry.query(name, Registry.Scope.BLOT) != null && value) {
                  blot.wrap(name, value);
                } else if (Registry.query(name, Registry.Scope.ATTRIBUTE) != null) {
                  var parent = Registry.create(this.statics.scope);
                  blot.wrap(parent);
                  parent.format(name, value);
                }
              };
              ShadowBlot2.prototype.insertAt = function(index2, value, def) {
                var blot = def == null ? Registry.create("text", value) : Registry.create(value, def);
                var ref2 = this.split(index2);
                this.parent.insertBefore(blot, ref2);
              };
              ShadowBlot2.prototype.insertInto = function(parentBlot, refBlot) {
                if (refBlot === void 0) {
                  refBlot = null;
                }
                if (this.parent != null) {
                  this.parent.children.remove(this);
                }
                var refDomNode = null;
                parentBlot.children.insertBefore(this, refBlot);
                if (refBlot != null) {
                  refDomNode = refBlot.domNode;
                }
                if (this.domNode.parentNode != parentBlot.domNode || this.domNode.nextSibling != refDomNode) {
                  parentBlot.domNode.insertBefore(this.domNode, refDomNode);
                }
                this.parent = parentBlot;
                this.attach();
              };
              ShadowBlot2.prototype.isolate = function(index2, length) {
                var target = this.split(index2);
                target.split(length);
                return target;
              };
              ShadowBlot2.prototype.length = function() {
                return 1;
              };
              ShadowBlot2.prototype.offset = function(root) {
                if (root === void 0) {
                  root = this.parent;
                }
                if (this.parent == null || this == root)
                  return 0;
                return this.parent.children.offset(this) + this.parent.offset(root);
              };
              ShadowBlot2.prototype.optimize = function(context) {
                if (this.domNode[Registry.DATA_KEY] != null) {
                  delete this.domNode[Registry.DATA_KEY].mutations;
                }
              };
              ShadowBlot2.prototype.remove = function() {
                if (this.domNode.parentNode != null) {
                  this.domNode.parentNode.removeChild(this.domNode);
                }
                this.detach();
              };
              ShadowBlot2.prototype.replace = function(target) {
                if (target.parent == null)
                  return;
                target.parent.insertBefore(this, target.next);
                target.remove();
              };
              ShadowBlot2.prototype.replaceWith = function(name, value) {
                var replacement = typeof name === "string" ? Registry.create(name, value) : name;
                replacement.replace(this);
                return replacement;
              };
              ShadowBlot2.prototype.split = function(index2, force) {
                return index2 === 0 ? this : this.next;
              };
              ShadowBlot2.prototype.update = function(mutations, context) {
              };
              ShadowBlot2.prototype.wrap = function(name, value) {
                var wrapper = typeof name === "string" ? Registry.create(name, value) : name;
                if (this.parent != null) {
                  this.parent.insertBefore(wrapper, this.next);
                }
                wrapper.appendChild(this);
                return wrapper;
              };
              ShadowBlot2.blotName = "abstract";
              return ShadowBlot2;
            }();
            exports2.default = ShadowBlot;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", { value: true });
            var attributor_1 = __webpack_require__(12);
            var class_1 = __webpack_require__(32);
            var style_1 = __webpack_require__(33);
            var Registry = __webpack_require__(1);
            var AttributorStore = function() {
              function AttributorStore2(domNode) {
                this.attributes = {};
                this.domNode = domNode;
                this.build();
              }
              AttributorStore2.prototype.attribute = function(attribute, value) {
                if (value) {
                  if (attribute.add(this.domNode, value)) {
                    if (attribute.value(this.domNode) != null) {
                      this.attributes[attribute.attrName] = attribute;
                    } else {
                      delete this.attributes[attribute.attrName];
                    }
                  }
                } else {
                  attribute.remove(this.domNode);
                  delete this.attributes[attribute.attrName];
                }
              };
              AttributorStore2.prototype.build = function() {
                var _this = this;
                this.attributes = {};
                var attributes = attributor_1.default.keys(this.domNode);
                var classes = class_1.default.keys(this.domNode);
                var styles = style_1.default.keys(this.domNode);
                attributes.concat(classes).concat(styles).forEach(function(name) {
                  var attr = Registry.query(name, Registry.Scope.ATTRIBUTE);
                  if (attr instanceof attributor_1.default) {
                    _this.attributes[attr.attrName] = attr;
                  }
                });
              };
              AttributorStore2.prototype.copy = function(target) {
                var _this = this;
                Object.keys(this.attributes).forEach(function(key) {
                  var value = _this.attributes[key].value(_this.domNode);
                  target.format(key, value);
                });
              };
              AttributorStore2.prototype.move = function(target) {
                var _this = this;
                this.copy(target);
                Object.keys(this.attributes).forEach(function(key) {
                  _this.attributes[key].remove(_this.domNode);
                });
                this.attributes = {};
              };
              AttributorStore2.prototype.values = function() {
                var _this = this;
                return Object.keys(this.attributes).reduce(function(attributes, name) {
                  attributes[name] = _this.attributes[name].value(_this.domNode);
                  return attributes;
                }, {});
              };
              return AttributorStore2;
            }();
            exports2.default = AttributorStore;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            var __extends = this && this.__extends || function() {
              var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d3, b3) {
                d3.__proto__ = b3;
              } || function(d3, b3) {
                for (var p3 in b3)
                  if (b3.hasOwnProperty(p3))
                    d3[p3] = b3[p3];
              };
              return function(d3, b3) {
                extendStatics(d3, b3);
                function __() {
                  this.constructor = d3;
                }
                d3.prototype = b3 === null ? Object.create(b3) : (__.prototype = b3.prototype, new __());
              };
            }();
            Object.defineProperty(exports2, "__esModule", { value: true });
            var attributor_1 = __webpack_require__(12);
            function match2(node, prefix3) {
              var className = node.getAttribute("class") || "";
              return className.split(/\s+/).filter(function(name) {
                return name.indexOf(prefix3 + "-") === 0;
              });
            }
            var ClassAttributor = function(_super) {
              __extends(ClassAttributor2, _super);
              function ClassAttributor2() {
                return _super !== null && _super.apply(this, arguments) || this;
              }
              ClassAttributor2.keys = function(node) {
                return (node.getAttribute("class") || "").split(/\s+/).map(function(name) {
                  return name.split("-").slice(0, -1).join("-");
                });
              };
              ClassAttributor2.prototype.add = function(node, value) {
                if (!this.canAdd(node, value))
                  return false;
                this.remove(node);
                node.classList.add(this.keyName + "-" + value);
                return true;
              };
              ClassAttributor2.prototype.remove = function(node) {
                var matches = match2(node, this.keyName);
                matches.forEach(function(name) {
                  node.classList.remove(name);
                });
                if (node.classList.length === 0) {
                  node.removeAttribute("class");
                }
              };
              ClassAttributor2.prototype.value = function(node) {
                var result = match2(node, this.keyName)[0] || "";
                var value = result.slice(this.keyName.length + 1);
                return this.canAdd(node, value) ? value : "";
              };
              return ClassAttributor2;
            }(attributor_1.default);
            exports2.default = ClassAttributor;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            var __extends = this && this.__extends || function() {
              var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d3, b3) {
                d3.__proto__ = b3;
              } || function(d3, b3) {
                for (var p3 in b3)
                  if (b3.hasOwnProperty(p3))
                    d3[p3] = b3[p3];
              };
              return function(d3, b3) {
                extendStatics(d3, b3);
                function __() {
                  this.constructor = d3;
                }
                d3.prototype = b3 === null ? Object.create(b3) : (__.prototype = b3.prototype, new __());
              };
            }();
            Object.defineProperty(exports2, "__esModule", { value: true });
            var attributor_1 = __webpack_require__(12);
            function camelize(name) {
              var parts = name.split("-");
              var rest = parts.slice(1).map(function(part) {
                return part[0].toUpperCase() + part.slice(1);
              }).join("");
              return parts[0] + rest;
            }
            var StyleAttributor = function(_super) {
              __extends(StyleAttributor2, _super);
              function StyleAttributor2() {
                return _super !== null && _super.apply(this, arguments) || this;
              }
              StyleAttributor2.keys = function(node) {
                return (node.getAttribute("style") || "").split(";").map(function(value) {
                  var arr = value.split(":");
                  return arr[0].trim();
                });
              };
              StyleAttributor2.prototype.add = function(node, value) {
                if (!this.canAdd(node, value))
                  return false;
                node.style[camelize(this.keyName)] = value;
                return true;
              };
              StyleAttributor2.prototype.remove = function(node) {
                node.style[camelize(this.keyName)] = "";
                if (!node.getAttribute("style")) {
                  node.removeAttribute("style");
                }
              };
              StyleAttributor2.prototype.value = function(node) {
                var value = node.style[camelize(this.keyName)];
                return this.canAdd(node, value) ? value : "";
              };
              return StyleAttributor2;
            }(attributor_1.default);
            exports2.default = StyleAttributor;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            var Theme = function() {
              function Theme2(quill, options) {
                _classCallCheck(this, Theme2);
                this.quill = quill;
                this.options = options;
                this.modules = {};
              }
              _createClass(Theme2, [{
                key: "init",
                value: function init() {
                  var _this = this;
                  Object.keys(this.options.modules).forEach(function(name) {
                    if (_this.modules[name] == null) {
                      _this.addModule(name);
                    }
                  });
                }
              }, {
                key: "addModule",
                value: function addModule(name) {
                  var moduleClass = this.quill.constructor.import("modules/" + name);
                  this.modules[name] = new moduleClass(this.quill, this.options.modules[name] || {});
                  return this.modules[name];
                }
              }]);
              return Theme2;
            }();
            Theme.DEFAULTS = {
              modules: {}
            };
            Theme.themes = {
              "default": Theme
            };
            exports2.default = Theme;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            var _text = __webpack_require__(7);
            var _text2 = _interopRequireDefault(_text);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var GUARD_TEXT = "\uFEFF";
            var Embed = function(_Parchment$Embed) {
              _inherits(Embed2, _Parchment$Embed);
              function Embed2(node) {
                _classCallCheck(this, Embed2);
                var _this = _possibleConstructorReturn(this, (Embed2.__proto__ || Object.getPrototypeOf(Embed2)).call(this, node));
                _this.contentNode = document.createElement("span");
                _this.contentNode.setAttribute("contenteditable", false);
                [].slice.call(_this.domNode.childNodes).forEach(function(childNode) {
                  _this.contentNode.appendChild(childNode);
                });
                _this.leftGuard = document.createTextNode(GUARD_TEXT);
                _this.rightGuard = document.createTextNode(GUARD_TEXT);
                _this.domNode.appendChild(_this.leftGuard);
                _this.domNode.appendChild(_this.contentNode);
                _this.domNode.appendChild(_this.rightGuard);
                return _this;
              }
              _createClass(Embed2, [{
                key: "index",
                value: function index2(node, offset4) {
                  if (node === this.leftGuard)
                    return 0;
                  if (node === this.rightGuard)
                    return 1;
                  return _get(Embed2.prototype.__proto__ || Object.getPrototypeOf(Embed2.prototype), "index", this).call(this, node, offset4);
                }
              }, {
                key: "restore",
                value: function restore(node) {
                  var range = void 0, textNode = void 0;
                  var text = node.data.split(GUARD_TEXT).join("");
                  if (node === this.leftGuard) {
                    if (this.prev instanceof _text2.default) {
                      var prevLength = this.prev.length();
                      this.prev.insertAt(prevLength, text);
                      range = {
                        startNode: this.prev.domNode,
                        startOffset: prevLength + text.length
                      };
                    } else {
                      textNode = document.createTextNode(text);
                      this.parent.insertBefore(_parchment2.default.create(textNode), this);
                      range = {
                        startNode: textNode,
                        startOffset: text.length
                      };
                    }
                  } else if (node === this.rightGuard) {
                    if (this.next instanceof _text2.default) {
                      this.next.insertAt(0, text);
                      range = {
                        startNode: this.next.domNode,
                        startOffset: text.length
                      };
                    } else {
                      textNode = document.createTextNode(text);
                      this.parent.insertBefore(_parchment2.default.create(textNode), this.next);
                      range = {
                        startNode: textNode,
                        startOffset: text.length
                      };
                    }
                  }
                  node.data = GUARD_TEXT;
                  return range;
                }
              }, {
                key: "update",
                value: function update2(mutations, context) {
                  var _this2 = this;
                  mutations.forEach(function(mutation) {
                    if (mutation.type === "characterData" && (mutation.target === _this2.leftGuard || mutation.target === _this2.rightGuard)) {
                      var range = _this2.restore(mutation.target);
                      if (range)
                        context.range = range;
                    }
                  });
                }
              }]);
              return Embed2;
            }(_parchment2.default.Embed);
            exports2.default = Embed;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.AlignStyle = exports2.AlignClass = exports2.AlignAttribute = void 0;
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            var config2 = {
              scope: _parchment2.default.Scope.BLOCK,
              whitelist: ["right", "center", "justify"]
            };
            var AlignAttribute = new _parchment2.default.Attributor.Attribute("align", "align", config2);
            var AlignClass = new _parchment2.default.Attributor.Class("align", "ql-align", config2);
            var AlignStyle = new _parchment2.default.Attributor.Style("align", "text-align", config2);
            exports2.AlignAttribute = AlignAttribute;
            exports2.AlignClass = AlignClass;
            exports2.AlignStyle = AlignStyle;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.BackgroundStyle = exports2.BackgroundClass = void 0;
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            var _color = __webpack_require__(26);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            var BackgroundClass = new _parchment2.default.Attributor.Class("background", "ql-bg", {
              scope: _parchment2.default.Scope.INLINE
            });
            var BackgroundStyle = new _color.ColorAttributor("background", "background-color", {
              scope: _parchment2.default.Scope.INLINE
            });
            exports2.BackgroundClass = BackgroundClass;
            exports2.BackgroundStyle = BackgroundStyle;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.DirectionStyle = exports2.DirectionClass = exports2.DirectionAttribute = void 0;
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            var config2 = {
              scope: _parchment2.default.Scope.BLOCK,
              whitelist: ["rtl"]
            };
            var DirectionAttribute = new _parchment2.default.Attributor.Attribute("direction", "dir", config2);
            var DirectionClass = new _parchment2.default.Attributor.Class("direction", "ql-direction", config2);
            var DirectionStyle = new _parchment2.default.Attributor.Style("direction", "direction", config2);
            exports2.DirectionAttribute = DirectionAttribute;
            exports2.DirectionClass = DirectionClass;
            exports2.DirectionStyle = DirectionStyle;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.FontClass = exports2.FontStyle = void 0;
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var config2 = {
              scope: _parchment2.default.Scope.INLINE,
              whitelist: ["serif", "monospace"]
            };
            var FontClass = new _parchment2.default.Attributor.Class("font", "ql-font", config2);
            var FontStyleAttributor = function(_Parchment$Attributor) {
              _inherits(FontStyleAttributor2, _Parchment$Attributor);
              function FontStyleAttributor2() {
                _classCallCheck(this, FontStyleAttributor2);
                return _possibleConstructorReturn(this, (FontStyleAttributor2.__proto__ || Object.getPrototypeOf(FontStyleAttributor2)).apply(this, arguments));
              }
              _createClass(FontStyleAttributor2, [{
                key: "value",
                value: function value(node) {
                  return _get(FontStyleAttributor2.prototype.__proto__ || Object.getPrototypeOf(FontStyleAttributor2.prototype), "value", this).call(this, node).replace(/["']/g, "");
                }
              }]);
              return FontStyleAttributor2;
            }(_parchment2.default.Attributor.Style);
            var FontStyle = new FontStyleAttributor("font", "font-family", config2);
            exports2.FontStyle = FontStyle;
            exports2.FontClass = FontClass;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.SizeStyle = exports2.SizeClass = void 0;
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            var SizeClass = new _parchment2.default.Attributor.Class("size", "ql-size", {
              scope: _parchment2.default.Scope.INLINE,
              whitelist: ["small", "large", "huge"]
            });
            var SizeStyle = new _parchment2.default.Attributor.Style("size", "font-size", {
              scope: _parchment2.default.Scope.INLINE,
              whitelist: ["10px", "18px", "32px"]
            });
            exports2.SizeClass = SizeClass;
            exports2.SizeStyle = SizeStyle;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            module2.exports = {
              "align": {
                "": __webpack_require__(76),
                "center": __webpack_require__(77),
                "right": __webpack_require__(78),
                "justify": __webpack_require__(79)
              },
              "background": __webpack_require__(80),
              "blockquote": __webpack_require__(81),
              "bold": __webpack_require__(82),
              "clean": __webpack_require__(83),
              "code": __webpack_require__(58),
              "code-block": __webpack_require__(58),
              "color": __webpack_require__(84),
              "direction": {
                "": __webpack_require__(85),
                "rtl": __webpack_require__(86)
              },
              "float": {
                "center": __webpack_require__(87),
                "full": __webpack_require__(88),
                "left": __webpack_require__(89),
                "right": __webpack_require__(90)
              },
              "formula": __webpack_require__(91),
              "header": {
                "1": __webpack_require__(92),
                "2": __webpack_require__(93)
              },
              "italic": __webpack_require__(94),
              "image": __webpack_require__(95),
              "indent": {
                "+1": __webpack_require__(96),
                "-1": __webpack_require__(97)
              },
              "link": __webpack_require__(98),
              "list": {
                "ordered": __webpack_require__(99),
                "bullet": __webpack_require__(100),
                "check": __webpack_require__(101)
              },
              "script": {
                "sub": __webpack_require__(102),
                "super": __webpack_require__(103)
              },
              "strike": __webpack_require__(104),
              "underline": __webpack_require__(105),
              "video": __webpack_require__(106)
            };
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.getLastChangeIndex = exports2.default = void 0;
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            var _quill = __webpack_require__(5);
            var _quill2 = _interopRequireDefault(_quill);
            var _module = __webpack_require__(9);
            var _module2 = _interopRequireDefault(_module);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var History = function(_Module) {
              _inherits(History2, _Module);
              function History2(quill, options) {
                _classCallCheck(this, History2);
                var _this = _possibleConstructorReturn(this, (History2.__proto__ || Object.getPrototypeOf(History2)).call(this, quill, options));
                _this.lastRecorded = 0;
                _this.ignoreChange = false;
                _this.clear();
                _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function(eventName, delta, oldDelta, source) {
                  if (eventName !== _quill2.default.events.TEXT_CHANGE || _this.ignoreChange)
                    return;
                  if (!_this.options.userOnly || source === _quill2.default.sources.USER) {
                    _this.record(delta, oldDelta);
                  } else {
                    _this.transform(delta);
                  }
                });
                _this.quill.keyboard.addBinding({ key: "Z", shortKey: true }, _this.undo.bind(_this));
                _this.quill.keyboard.addBinding({ key: "Z", shortKey: true, shiftKey: true }, _this.redo.bind(_this));
                if (/Win/i.test(navigator.platform)) {
                  _this.quill.keyboard.addBinding({ key: "Y", shortKey: true }, _this.redo.bind(_this));
                }
                return _this;
              }
              _createClass(History2, [{
                key: "change",
                value: function change(source, dest) {
                  if (this.stack[source].length === 0)
                    return;
                  var delta = this.stack[source].pop();
                  this.stack[dest].push(delta);
                  this.lastRecorded = 0;
                  this.ignoreChange = true;
                  this.quill.updateContents(delta[source], _quill2.default.sources.USER);
                  this.ignoreChange = false;
                  var index2 = getLastChangeIndex(delta[source]);
                  this.quill.setSelection(index2);
                }
              }, {
                key: "clear",
                value: function clear() {
                  this.stack = { undo: [], redo: [] };
                }
              }, {
                key: "cutoff",
                value: function cutoff() {
                  this.lastRecorded = 0;
                }
              }, {
                key: "record",
                value: function record(changeDelta, oldDelta) {
                  if (changeDelta.ops.length === 0)
                    return;
                  this.stack.redo = [];
                  var undoDelta = this.quill.getContents().diff(oldDelta);
                  var timestamp = Date.now();
                  if (this.lastRecorded + this.options.delay > timestamp && this.stack.undo.length > 0) {
                    var delta = this.stack.undo.pop();
                    undoDelta = undoDelta.compose(delta.undo);
                    changeDelta = delta.redo.compose(changeDelta);
                  } else {
                    this.lastRecorded = timestamp;
                  }
                  this.stack.undo.push({
                    redo: changeDelta,
                    undo: undoDelta
                  });
                  if (this.stack.undo.length > this.options.maxStack) {
                    this.stack.undo.shift();
                  }
                }
              }, {
                key: "redo",
                value: function redo() {
                  this.change("redo", "undo");
                }
              }, {
                key: "transform",
                value: function transform(delta) {
                  this.stack.undo.forEach(function(change) {
                    change.undo = delta.transform(change.undo, true);
                    change.redo = delta.transform(change.redo, true);
                  });
                  this.stack.redo.forEach(function(change) {
                    change.undo = delta.transform(change.undo, true);
                    change.redo = delta.transform(change.redo, true);
                  });
                }
              }, {
                key: "undo",
                value: function undo() {
                  this.change("undo", "redo");
                }
              }]);
              return History2;
            }(_module2.default);
            History.DEFAULTS = {
              delay: 1e3,
              maxStack: 100,
              userOnly: false
            };
            function endsWithNewlineChange(delta) {
              var lastOp = delta.ops[delta.ops.length - 1];
              if (lastOp == null)
                return false;
              if (lastOp.insert != null) {
                return typeof lastOp.insert === "string" && lastOp.insert.endsWith("\n");
              }
              if (lastOp.attributes != null) {
                return Object.keys(lastOp.attributes).some(function(attr) {
                  return _parchment2.default.query(attr, _parchment2.default.Scope.BLOCK) != null;
                });
              }
              return false;
            }
            function getLastChangeIndex(delta) {
              var deleteLength = delta.reduce(function(length, op) {
                length += op.delete || 0;
                return length;
              }, 0);
              var changeIndex = delta.length() - deleteLength;
              if (endsWithNewlineChange(delta)) {
                changeIndex -= 1;
              }
              return changeIndex;
            }
            exports2.default = History;
            exports2.getLastChangeIndex = getLastChangeIndex;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.default = exports2.BaseTooltip = void 0;
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _extend = __webpack_require__(3);
            var _extend2 = _interopRequireDefault(_extend);
            var _quillDelta = __webpack_require__(2);
            var _quillDelta2 = _interopRequireDefault(_quillDelta);
            var _emitter = __webpack_require__(8);
            var _emitter2 = _interopRequireDefault(_emitter);
            var _keyboard = __webpack_require__(23);
            var _keyboard2 = _interopRequireDefault(_keyboard);
            var _theme = __webpack_require__(34);
            var _theme2 = _interopRequireDefault(_theme);
            var _colorPicker = __webpack_require__(59);
            var _colorPicker2 = _interopRequireDefault(_colorPicker);
            var _iconPicker = __webpack_require__(60);
            var _iconPicker2 = _interopRequireDefault(_iconPicker);
            var _picker = __webpack_require__(28);
            var _picker2 = _interopRequireDefault(_picker);
            var _tooltip = __webpack_require__(61);
            var _tooltip2 = _interopRequireDefault(_tooltip);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var ALIGNS = [false, "center", "right", "justify"];
            var COLORS = ["#000000", "#e60000", "#ff9900", "#ffff00", "#008a00", "#0066cc", "#9933ff", "#ffffff", "#facccc", "#ffebcc", "#ffffcc", "#cce8cc", "#cce0f5", "#ebd6ff", "#bbbbbb", "#f06666", "#ffc266", "#ffff66", "#66b966", "#66a3e0", "#c285ff", "#888888", "#a10000", "#b26b00", "#b2b200", "#006100", "#0047b2", "#6b24b2", "#444444", "#5c0000", "#663d00", "#666600", "#003700", "#002966", "#3d1466"];
            var FONTS = [false, "serif", "monospace"];
            var HEADERS = ["1", "2", "3", false];
            var SIZES = ["small", false, "large", "huge"];
            var BaseTheme = function(_Theme) {
              _inherits(BaseTheme2, _Theme);
              function BaseTheme2(quill, options) {
                _classCallCheck(this, BaseTheme2);
                var _this = _possibleConstructorReturn(this, (BaseTheme2.__proto__ || Object.getPrototypeOf(BaseTheme2)).call(this, quill, options));
                var listener = function listener2(e2) {
                  if (!document.body.contains(quill.root)) {
                    return document.body.removeEventListener("click", listener2);
                  }
                  if (_this.tooltip != null && !_this.tooltip.root.contains(e2.target) && document.activeElement !== _this.tooltip.textbox && !_this.quill.hasFocus()) {
                    _this.tooltip.hide();
                  }
                  if (_this.pickers != null) {
                    _this.pickers.forEach(function(picker) {
                      if (!picker.container.contains(e2.target)) {
                        picker.close();
                      }
                    });
                  }
                };
                quill.emitter.listenDOM("click", document.body, listener);
                return _this;
              }
              _createClass(BaseTheme2, [{
                key: "addModule",
                value: function addModule(name) {
                  var module3 = _get(BaseTheme2.prototype.__proto__ || Object.getPrototypeOf(BaseTheme2.prototype), "addModule", this).call(this, name);
                  if (name === "toolbar") {
                    this.extendToolbar(module3);
                  }
                  return module3;
                }
              }, {
                key: "buildButtons",
                value: function buildButtons(buttons, icons) {
                  buttons.forEach(function(button) {
                    var className = button.getAttribute("class") || "";
                    className.split(/\s+/).forEach(function(name) {
                      if (!name.startsWith("ql-"))
                        return;
                      name = name.slice("ql-".length);
                      if (icons[name] == null)
                        return;
                      if (name === "direction") {
                        button.innerHTML = icons[name][""] + icons[name]["rtl"];
                      } else if (typeof icons[name] === "string") {
                        button.innerHTML = icons[name];
                      } else {
                        var value = button.value || "";
                        if (value != null && icons[name][value]) {
                          button.innerHTML = icons[name][value];
                        }
                      }
                    });
                  });
                }
              }, {
                key: "buildPickers",
                value: function buildPickers(selects, icons) {
                  var _this2 = this;
                  this.pickers = selects.map(function(select) {
                    if (select.classList.contains("ql-align")) {
                      if (select.querySelector("option") == null) {
                        fillSelect(select, ALIGNS);
                      }
                      return new _iconPicker2.default(select, icons.align);
                    } else if (select.classList.contains("ql-background") || select.classList.contains("ql-color")) {
                      var format2 = select.classList.contains("ql-background") ? "background" : "color";
                      if (select.querySelector("option") == null) {
                        fillSelect(select, COLORS, format2 === "background" ? "#ffffff" : "#000000");
                      }
                      return new _colorPicker2.default(select, icons[format2]);
                    } else {
                      if (select.querySelector("option") == null) {
                        if (select.classList.contains("ql-font")) {
                          fillSelect(select, FONTS);
                        } else if (select.classList.contains("ql-header")) {
                          fillSelect(select, HEADERS);
                        } else if (select.classList.contains("ql-size")) {
                          fillSelect(select, SIZES);
                        }
                      }
                      return new _picker2.default(select);
                    }
                  });
                  var update2 = function update3() {
                    _this2.pickers.forEach(function(picker) {
                      picker.update();
                    });
                  };
                  this.quill.on(_emitter2.default.events.EDITOR_CHANGE, update2);
                }
              }]);
              return BaseTheme2;
            }(_theme2.default);
            BaseTheme.DEFAULTS = (0, _extend2.default)(true, {}, _theme2.default.DEFAULTS, {
              modules: {
                toolbar: {
                  handlers: {
                    formula: function formula() {
                      this.quill.theme.tooltip.edit("formula");
                    },
                    image: function image() {
                      var _this3 = this;
                      var fileInput = this.container.querySelector("input.ql-image[type=file]");
                      if (fileInput == null) {
                        fileInput = document.createElement("input");
                        fileInput.setAttribute("type", "file");
                        fileInput.setAttribute("accept", "image/png, image/gif, image/jpeg, image/bmp, image/x-icon");
                        fileInput.classList.add("ql-image");
                        fileInput.addEventListener("change", function() {
                          if (fileInput.files != null && fileInput.files[0] != null) {
                            var reader = new FileReader();
                            reader.onload = function(e2) {
                              var range = _this3.quill.getSelection(true);
                              _this3.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert({ image: e2.target.result }), _emitter2.default.sources.USER);
                              _this3.quill.setSelection(range.index + 1, _emitter2.default.sources.SILENT);
                              fileInput.value = "";
                            };
                            reader.readAsDataURL(fileInput.files[0]);
                          }
                        });
                        this.container.appendChild(fileInput);
                      }
                      fileInput.click();
                    },
                    video: function video() {
                      this.quill.theme.tooltip.edit("video");
                    }
                  }
                }
              }
            });
            var BaseTooltip = function(_Tooltip) {
              _inherits(BaseTooltip2, _Tooltip);
              function BaseTooltip2(quill, boundsContainer) {
                _classCallCheck(this, BaseTooltip2);
                var _this4 = _possibleConstructorReturn(this, (BaseTooltip2.__proto__ || Object.getPrototypeOf(BaseTooltip2)).call(this, quill, boundsContainer));
                _this4.textbox = _this4.root.querySelector('input[type="text"]');
                _this4.listen();
                return _this4;
              }
              _createClass(BaseTooltip2, [{
                key: "listen",
                value: function listen() {
                  var _this5 = this;
                  this.textbox.addEventListener("keydown", function(event) {
                    if (_keyboard2.default.match(event, "enter")) {
                      _this5.save();
                      event.preventDefault();
                    } else if (_keyboard2.default.match(event, "escape")) {
                      _this5.cancel();
                      event.preventDefault();
                    }
                  });
                }
              }, {
                key: "cancel",
                value: function cancel() {
                  this.hide();
                }
              }, {
                key: "edit",
                value: function edit() {
                  var mode = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : "link";
                  var preview = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;
                  this.root.classList.remove("ql-hidden");
                  this.root.classList.add("ql-editing");
                  if (preview != null) {
                    this.textbox.value = preview;
                  } else if (mode !== this.root.getAttribute("data-mode")) {
                    this.textbox.value = "";
                  }
                  this.position(this.quill.getBounds(this.quill.selection.savedRange));
                  this.textbox.select();
                  this.textbox.setAttribute("placeholder", this.textbox.getAttribute("data-" + mode) || "");
                  this.root.setAttribute("data-mode", mode);
                }
              }, {
                key: "restoreFocus",
                value: function restoreFocus() {
                  var scrollTop = this.quill.scrollingContainer.scrollTop;
                  this.quill.focus();
                  this.quill.scrollingContainer.scrollTop = scrollTop;
                }
              }, {
                key: "save",
                value: function save() {
                  var value = this.textbox.value;
                  switch (this.root.getAttribute("data-mode")) {
                    case "link": {
                      var scrollTop = this.quill.root.scrollTop;
                      if (this.linkRange) {
                        this.quill.formatText(this.linkRange, "link", value, _emitter2.default.sources.USER);
                        delete this.linkRange;
                      } else {
                        this.restoreFocus();
                        this.quill.format("link", value, _emitter2.default.sources.USER);
                      }
                      this.quill.root.scrollTop = scrollTop;
                      break;
                    }
                    case "video": {
                      value = extractVideoUrl(value);
                    }
                    case "formula": {
                      if (!value)
                        break;
                      var range = this.quill.getSelection(true);
                      if (range != null) {
                        var index2 = range.index + range.length;
                        this.quill.insertEmbed(index2, this.root.getAttribute("data-mode"), value, _emitter2.default.sources.USER);
                        if (this.root.getAttribute("data-mode") === "formula") {
                          this.quill.insertText(index2 + 1, " ", _emitter2.default.sources.USER);
                        }
                        this.quill.setSelection(index2 + 2, _emitter2.default.sources.USER);
                      }
                      break;
                    }
                    default:
                  }
                  this.textbox.value = "";
                  this.hide();
                }
              }]);
              return BaseTooltip2;
            }(_tooltip2.default);
            function extractVideoUrl(url) {
              var match2 = url.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/) || url.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);
              if (match2) {
                return (match2[1] || "https") + "://www.youtube.com/embed/" + match2[2] + "?showinfo=0";
              }
              if (match2 = url.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/)) {
                return (match2[1] || "https") + "://player.vimeo.com/video/" + match2[2] + "/";
              }
              return url;
            }
            function fillSelect(select, values2) {
              var defaultValue = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;
              values2.forEach(function(value) {
                var option = document.createElement("option");
                if (value === defaultValue) {
                  option.setAttribute("selected", "selected");
                } else {
                  option.setAttribute("value", value);
                }
                select.appendChild(option);
              });
            }
            exports2.BaseTooltip = BaseTooltip;
            exports2.default = BaseTheme;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", { value: true });
            var LinkedList = function() {
              function LinkedList2() {
                this.head = this.tail = null;
                this.length = 0;
              }
              LinkedList2.prototype.append = function() {
                var nodes = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                  nodes[_i] = arguments[_i];
                }
                this.insertBefore(nodes[0], null);
                if (nodes.length > 1) {
                  this.append.apply(this, nodes.slice(1));
                }
              };
              LinkedList2.prototype.contains = function(node) {
                var cur, next = this.iterator();
                while (cur = next()) {
                  if (cur === node)
                    return true;
                }
                return false;
              };
              LinkedList2.prototype.insertBefore = function(node, refNode) {
                if (!node)
                  return;
                node.next = refNode;
                if (refNode != null) {
                  node.prev = refNode.prev;
                  if (refNode.prev != null) {
                    refNode.prev.next = node;
                  }
                  refNode.prev = node;
                  if (refNode === this.head) {
                    this.head = node;
                  }
                } else if (this.tail != null) {
                  this.tail.next = node;
                  node.prev = this.tail;
                  this.tail = node;
                } else {
                  node.prev = null;
                  this.head = this.tail = node;
                }
                this.length += 1;
              };
              LinkedList2.prototype.offset = function(target) {
                var index2 = 0, cur = this.head;
                while (cur != null) {
                  if (cur === target)
                    return index2;
                  index2 += cur.length();
                  cur = cur.next;
                }
                return -1;
              };
              LinkedList2.prototype.remove = function(node) {
                if (!this.contains(node))
                  return;
                if (node.prev != null)
                  node.prev.next = node.next;
                if (node.next != null)
                  node.next.prev = node.prev;
                if (node === this.head)
                  this.head = node.next;
                if (node === this.tail)
                  this.tail = node.prev;
                this.length -= 1;
              };
              LinkedList2.prototype.iterator = function(curNode) {
                if (curNode === void 0) {
                  curNode = this.head;
                }
                return function() {
                  var ret = curNode;
                  if (curNode != null)
                    curNode = curNode.next;
                  return ret;
                };
              };
              LinkedList2.prototype.find = function(index2, inclusive) {
                if (inclusive === void 0) {
                  inclusive = false;
                }
                var cur, next = this.iterator();
                while (cur = next()) {
                  var length = cur.length();
                  if (index2 < length || inclusive && index2 === length && (cur.next == null || cur.next.length() !== 0)) {
                    return [cur, index2];
                  }
                  index2 -= length;
                }
                return [null, 0];
              };
              LinkedList2.prototype.forEach = function(callback) {
                var cur, next = this.iterator();
                while (cur = next()) {
                  callback(cur);
                }
              };
              LinkedList2.prototype.forEachAt = function(index2, length, callback) {
                if (length <= 0)
                  return;
                var _a = this.find(index2), startNode = _a[0], offset4 = _a[1];
                var cur, curIndex = index2 - offset4, next = this.iterator(startNode);
                while ((cur = next()) && curIndex < index2 + length) {
                  var curLength = cur.length();
                  if (index2 > curIndex) {
                    callback(cur, index2 - curIndex, Math.min(length, curIndex + curLength - index2));
                  } else {
                    callback(cur, 0, Math.min(curLength, index2 + length - curIndex));
                  }
                  curIndex += curLength;
                }
              };
              LinkedList2.prototype.map = function(callback) {
                return this.reduce(function(memo2, cur) {
                  memo2.push(callback(cur));
                  return memo2;
                }, []);
              };
              LinkedList2.prototype.reduce = function(callback, memo2) {
                var cur, next = this.iterator();
                while (cur = next()) {
                  memo2 = callback(memo2, cur);
                }
                return memo2;
              };
              return LinkedList2;
            }();
            exports2.default = LinkedList;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            var __extends = this && this.__extends || function() {
              var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d3, b3) {
                d3.__proto__ = b3;
              } || function(d3, b3) {
                for (var p3 in b3)
                  if (b3.hasOwnProperty(p3))
                    d3[p3] = b3[p3];
              };
              return function(d3, b3) {
                extendStatics(d3, b3);
                function __() {
                  this.constructor = d3;
                }
                d3.prototype = b3 === null ? Object.create(b3) : (__.prototype = b3.prototype, new __());
              };
            }();
            Object.defineProperty(exports2, "__esModule", { value: true });
            var container_1 = __webpack_require__(17);
            var Registry = __webpack_require__(1);
            var OBSERVER_CONFIG = {
              attributes: true,
              characterData: true,
              characterDataOldValue: true,
              childList: true,
              subtree: true
            };
            var MAX_OPTIMIZE_ITERATIONS = 100;
            var ScrollBlot = function(_super) {
              __extends(ScrollBlot2, _super);
              function ScrollBlot2(node) {
                var _this = _super.call(this, node) || this;
                _this.scroll = _this;
                _this.observer = new MutationObserver(function(mutations) {
                  _this.update(mutations);
                });
                _this.observer.observe(_this.domNode, OBSERVER_CONFIG);
                _this.attach();
                return _this;
              }
              ScrollBlot2.prototype.detach = function() {
                _super.prototype.detach.call(this);
                this.observer.disconnect();
              };
              ScrollBlot2.prototype.deleteAt = function(index2, length) {
                this.update();
                if (index2 === 0 && length === this.length()) {
                  this.children.forEach(function(child) {
                    child.remove();
                  });
                } else {
                  _super.prototype.deleteAt.call(this, index2, length);
                }
              };
              ScrollBlot2.prototype.formatAt = function(index2, length, name, value) {
                this.update();
                _super.prototype.formatAt.call(this, index2, length, name, value);
              };
              ScrollBlot2.prototype.insertAt = function(index2, value, def) {
                this.update();
                _super.prototype.insertAt.call(this, index2, value, def);
              };
              ScrollBlot2.prototype.optimize = function(mutations, context) {
                var _this = this;
                if (mutations === void 0) {
                  mutations = [];
                }
                if (context === void 0) {
                  context = {};
                }
                _super.prototype.optimize.call(this, context);
                var records = [].slice.call(this.observer.takeRecords());
                while (records.length > 0)
                  mutations.push(records.pop());
                var mark = function(blot, markParent) {
                  if (markParent === void 0) {
                    markParent = true;
                  }
                  if (blot == null || blot === _this)
                    return;
                  if (blot.domNode.parentNode == null)
                    return;
                  if (blot.domNode[Registry.DATA_KEY].mutations == null) {
                    blot.domNode[Registry.DATA_KEY].mutations = [];
                  }
                  if (markParent)
                    mark(blot.parent);
                };
                var optimize = function(blot) {
                  if (blot.domNode[Registry.DATA_KEY] == null || blot.domNode[Registry.DATA_KEY].mutations == null) {
                    return;
                  }
                  if (blot instanceof container_1.default) {
                    blot.children.forEach(optimize);
                  }
                  blot.optimize(context);
                };
                var remaining = mutations;
                for (var i3 = 0; remaining.length > 0; i3 += 1) {
                  if (i3 >= MAX_OPTIMIZE_ITERATIONS) {
                    throw new Error("[Parchment] Maximum optimize iterations reached");
                  }
                  remaining.forEach(function(mutation) {
                    var blot = Registry.find(mutation.target, true);
                    if (blot == null)
                      return;
                    if (blot.domNode === mutation.target) {
                      if (mutation.type === "childList") {
                        mark(Registry.find(mutation.previousSibling, false));
                        [].forEach.call(mutation.addedNodes, function(node) {
                          var child = Registry.find(node, false);
                          mark(child, false);
                          if (child instanceof container_1.default) {
                            child.children.forEach(function(grandChild) {
                              mark(grandChild, false);
                            });
                          }
                        });
                      } else if (mutation.type === "attributes") {
                        mark(blot.prev);
                      }
                    }
                    mark(blot);
                  });
                  this.children.forEach(optimize);
                  remaining = [].slice.call(this.observer.takeRecords());
                  records = remaining.slice();
                  while (records.length > 0)
                    mutations.push(records.pop());
                }
              };
              ScrollBlot2.prototype.update = function(mutations, context) {
                var _this = this;
                if (context === void 0) {
                  context = {};
                }
                mutations = mutations || this.observer.takeRecords();
                mutations.map(function(mutation) {
                  var blot = Registry.find(mutation.target, true);
                  if (blot == null)
                    return null;
                  if (blot.domNode[Registry.DATA_KEY].mutations == null) {
                    blot.domNode[Registry.DATA_KEY].mutations = [mutation];
                    return blot;
                  } else {
                    blot.domNode[Registry.DATA_KEY].mutations.push(mutation);
                    return null;
                  }
                }).forEach(function(blot) {
                  if (blot == null || blot === _this || blot.domNode[Registry.DATA_KEY] == null)
                    return;
                  blot.update(blot.domNode[Registry.DATA_KEY].mutations || [], context);
                });
                if (this.domNode[Registry.DATA_KEY].mutations != null) {
                  _super.prototype.update.call(this, this.domNode[Registry.DATA_KEY].mutations, context);
                }
                this.optimize(mutations, context);
              };
              ScrollBlot2.blotName = "scroll";
              ScrollBlot2.defaultChild = "block";
              ScrollBlot2.scope = Registry.Scope.BLOCK_BLOT;
              ScrollBlot2.tagName = "DIV";
              return ScrollBlot2;
            }(container_1.default);
            exports2.default = ScrollBlot;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            var __extends = this && this.__extends || function() {
              var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d3, b3) {
                d3.__proto__ = b3;
              } || function(d3, b3) {
                for (var p3 in b3)
                  if (b3.hasOwnProperty(p3))
                    d3[p3] = b3[p3];
              };
              return function(d3, b3) {
                extendStatics(d3, b3);
                function __() {
                  this.constructor = d3;
                }
                d3.prototype = b3 === null ? Object.create(b3) : (__.prototype = b3.prototype, new __());
              };
            }();
            Object.defineProperty(exports2, "__esModule", { value: true });
            var format_1 = __webpack_require__(18);
            var Registry = __webpack_require__(1);
            function isEqual5(obj1, obj2) {
              if (Object.keys(obj1).length !== Object.keys(obj2).length)
                return false;
              for (var prop in obj1) {
                if (obj1[prop] !== obj2[prop])
                  return false;
              }
              return true;
            }
            var InlineBlot = function(_super) {
              __extends(InlineBlot2, _super);
              function InlineBlot2() {
                return _super !== null && _super.apply(this, arguments) || this;
              }
              InlineBlot2.formats = function(domNode) {
                if (domNode.tagName === InlineBlot2.tagName)
                  return void 0;
                return _super.formats.call(this, domNode);
              };
              InlineBlot2.prototype.format = function(name, value) {
                var _this = this;
                if (name === this.statics.blotName && !value) {
                  this.children.forEach(function(child) {
                    if (!(child instanceof format_1.default)) {
                      child = child.wrap(InlineBlot2.blotName, true);
                    }
                    _this.attributes.copy(child);
                  });
                  this.unwrap();
                } else {
                  _super.prototype.format.call(this, name, value);
                }
              };
              InlineBlot2.prototype.formatAt = function(index2, length, name, value) {
                if (this.formats()[name] != null || Registry.query(name, Registry.Scope.ATTRIBUTE)) {
                  var blot = this.isolate(index2, length);
                  blot.format(name, value);
                } else {
                  _super.prototype.formatAt.call(this, index2, length, name, value);
                }
              };
              InlineBlot2.prototype.optimize = function(context) {
                _super.prototype.optimize.call(this, context);
                var formats = this.formats();
                if (Object.keys(formats).length === 0) {
                  return this.unwrap();
                }
                var next = this.next;
                if (next instanceof InlineBlot2 && next.prev === this && isEqual5(formats, next.formats())) {
                  next.moveChildren(this);
                  next.remove();
                }
              };
              InlineBlot2.blotName = "inline";
              InlineBlot2.scope = Registry.Scope.INLINE_BLOT;
              InlineBlot2.tagName = "SPAN";
              return InlineBlot2;
            }(format_1.default);
            exports2.default = InlineBlot;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            var __extends = this && this.__extends || function() {
              var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d3, b3) {
                d3.__proto__ = b3;
              } || function(d3, b3) {
                for (var p3 in b3)
                  if (b3.hasOwnProperty(p3))
                    d3[p3] = b3[p3];
              };
              return function(d3, b3) {
                extendStatics(d3, b3);
                function __() {
                  this.constructor = d3;
                }
                d3.prototype = b3 === null ? Object.create(b3) : (__.prototype = b3.prototype, new __());
              };
            }();
            Object.defineProperty(exports2, "__esModule", { value: true });
            var format_1 = __webpack_require__(18);
            var Registry = __webpack_require__(1);
            var BlockBlot = function(_super) {
              __extends(BlockBlot2, _super);
              function BlockBlot2() {
                return _super !== null && _super.apply(this, arguments) || this;
              }
              BlockBlot2.formats = function(domNode) {
                var tagName = Registry.query(BlockBlot2.blotName).tagName;
                if (domNode.tagName === tagName)
                  return void 0;
                return _super.formats.call(this, domNode);
              };
              BlockBlot2.prototype.format = function(name, value) {
                if (Registry.query(name, Registry.Scope.BLOCK) == null) {
                  return;
                } else if (name === this.statics.blotName && !value) {
                  this.replaceWith(BlockBlot2.blotName);
                } else {
                  _super.prototype.format.call(this, name, value);
                }
              };
              BlockBlot2.prototype.formatAt = function(index2, length, name, value) {
                if (Registry.query(name, Registry.Scope.BLOCK) != null) {
                  this.format(name, value);
                } else {
                  _super.prototype.formatAt.call(this, index2, length, name, value);
                }
              };
              BlockBlot2.prototype.insertAt = function(index2, value, def) {
                if (def == null || Registry.query(value, Registry.Scope.INLINE) != null) {
                  _super.prototype.insertAt.call(this, index2, value, def);
                } else {
                  var after = this.split(index2);
                  var blot = Registry.create(value, def);
                  after.parent.insertBefore(blot, after);
                }
              };
              BlockBlot2.prototype.update = function(mutations, context) {
                if (navigator.userAgent.match(/Trident/)) {
                  this.build();
                } else {
                  _super.prototype.update.call(this, mutations, context);
                }
              };
              BlockBlot2.blotName = "block";
              BlockBlot2.scope = Registry.Scope.BLOCK_BLOT;
              BlockBlot2.tagName = "P";
              return BlockBlot2;
            }(format_1.default);
            exports2.default = BlockBlot;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            var __extends = this && this.__extends || function() {
              var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d3, b3) {
                d3.__proto__ = b3;
              } || function(d3, b3) {
                for (var p3 in b3)
                  if (b3.hasOwnProperty(p3))
                    d3[p3] = b3[p3];
              };
              return function(d3, b3) {
                extendStatics(d3, b3);
                function __() {
                  this.constructor = d3;
                }
                d3.prototype = b3 === null ? Object.create(b3) : (__.prototype = b3.prototype, new __());
              };
            }();
            Object.defineProperty(exports2, "__esModule", { value: true });
            var leaf_1 = __webpack_require__(19);
            var EmbedBlot = function(_super) {
              __extends(EmbedBlot2, _super);
              function EmbedBlot2() {
                return _super !== null && _super.apply(this, arguments) || this;
              }
              EmbedBlot2.formats = function(domNode) {
                return void 0;
              };
              EmbedBlot2.prototype.format = function(name, value) {
                _super.prototype.formatAt.call(this, 0, this.length(), name, value);
              };
              EmbedBlot2.prototype.formatAt = function(index2, length, name, value) {
                if (index2 === 0 && length === this.length()) {
                  this.format(name, value);
                } else {
                  _super.prototype.formatAt.call(this, index2, length, name, value);
                }
              };
              EmbedBlot2.prototype.formats = function() {
                return this.statics.formats(this.domNode);
              };
              return EmbedBlot2;
            }(leaf_1.default);
            exports2.default = EmbedBlot;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            var __extends = this && this.__extends || function() {
              var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d3, b3) {
                d3.__proto__ = b3;
              } || function(d3, b3) {
                for (var p3 in b3)
                  if (b3.hasOwnProperty(p3))
                    d3[p3] = b3[p3];
              };
              return function(d3, b3) {
                extendStatics(d3, b3);
                function __() {
                  this.constructor = d3;
                }
                d3.prototype = b3 === null ? Object.create(b3) : (__.prototype = b3.prototype, new __());
              };
            }();
            Object.defineProperty(exports2, "__esModule", { value: true });
            var leaf_1 = __webpack_require__(19);
            var Registry = __webpack_require__(1);
            var TextBlot = function(_super) {
              __extends(TextBlot2, _super);
              function TextBlot2(node) {
                var _this = _super.call(this, node) || this;
                _this.text = _this.statics.value(_this.domNode);
                return _this;
              }
              TextBlot2.create = function(value) {
                return document.createTextNode(value);
              };
              TextBlot2.value = function(domNode) {
                var text = domNode.data;
                if (text["normalize"])
                  text = text["normalize"]();
                return text;
              };
              TextBlot2.prototype.deleteAt = function(index2, length) {
                this.domNode.data = this.text = this.text.slice(0, index2) + this.text.slice(index2 + length);
              };
              TextBlot2.prototype.index = function(node, offset4) {
                if (this.domNode === node) {
                  return offset4;
                }
                return -1;
              };
              TextBlot2.prototype.insertAt = function(index2, value, def) {
                if (def == null) {
                  this.text = this.text.slice(0, index2) + value + this.text.slice(index2);
                  this.domNode.data = this.text;
                } else {
                  _super.prototype.insertAt.call(this, index2, value, def);
                }
              };
              TextBlot2.prototype.length = function() {
                return this.text.length;
              };
              TextBlot2.prototype.optimize = function(context) {
                _super.prototype.optimize.call(this, context);
                this.text = this.statics.value(this.domNode);
                if (this.text.length === 0) {
                  this.remove();
                } else if (this.next instanceof TextBlot2 && this.next.prev === this) {
                  this.insertAt(this.length(), this.next.value());
                  this.next.remove();
                }
              };
              TextBlot2.prototype.position = function(index2, inclusive) {
                if (inclusive === void 0) {
                  inclusive = false;
                }
                return [this.domNode, index2];
              };
              TextBlot2.prototype.split = function(index2, force) {
                if (force === void 0) {
                  force = false;
                }
                if (!force) {
                  if (index2 === 0)
                    return this;
                  if (index2 === this.length())
                    return this.next;
                }
                var after = Registry.create(this.domNode.splitText(index2));
                this.parent.insertBefore(after, this.next);
                this.text = this.statics.value(this.domNode);
                return after;
              };
              TextBlot2.prototype.update = function(mutations, context) {
                var _this = this;
                if (mutations.some(function(mutation) {
                  return mutation.type === "characterData" && mutation.target === _this.domNode;
                })) {
                  this.text = this.statics.value(this.domNode);
                }
              };
              TextBlot2.prototype.value = function() {
                return this.text;
              };
              TextBlot2.blotName = "text";
              TextBlot2.scope = Registry.Scope.INLINE_BLOT;
              return TextBlot2;
            }(leaf_1.default);
            exports2.default = TextBlot;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            var elem = document.createElement("div");
            elem.classList.toggle("test-class", false);
            if (elem.classList.contains("test-class")) {
              var _toggle = DOMTokenList.prototype.toggle;
              DOMTokenList.prototype.toggle = function(token, force) {
                if (arguments.length > 1 && !this.contains(token) === !force) {
                  return force;
                } else {
                  return _toggle.call(this, token);
                }
              };
            }
            if (!String.prototype.startsWith) {
              String.prototype.startsWith = function(searchString, position3) {
                position3 = position3 || 0;
                return this.substr(position3, searchString.length) === searchString;
              };
            }
            if (!String.prototype.endsWith) {
              String.prototype.endsWith = function(searchString, position3) {
                var subjectString = this.toString();
                if (typeof position3 !== "number" || !isFinite(position3) || Math.floor(position3) !== position3 || position3 > subjectString.length) {
                  position3 = subjectString.length;
                }
                position3 -= searchString.length;
                var lastIndex = subjectString.indexOf(searchString, position3);
                return lastIndex !== -1 && lastIndex === position3;
              };
            }
            if (!Array.prototype.find) {
              Object.defineProperty(Array.prototype, "find", {
                value: function value(predicate) {
                  if (this === null) {
                    throw new TypeError("Array.prototype.find called on null or undefined");
                  }
                  if (typeof predicate !== "function") {
                    throw new TypeError("predicate must be a function");
                  }
                  var list = Object(this);
                  var length = list.length >>> 0;
                  var thisArg = arguments[1];
                  var value2;
                  for (var i3 = 0; i3 < length; i3++) {
                    value2 = list[i3];
                    if (predicate.call(thisArg, value2, i3, list)) {
                      return value2;
                    }
                  }
                  return void 0;
                }
              });
            }
            document.addEventListener("DOMContentLoaded", function() {
              document.execCommand("enableObjectResizing", false, false);
              document.execCommand("autoUrlDetect", false, false);
            });
          },
          function(module2, exports2) {
            var DIFF_DELETE = -1;
            var DIFF_INSERT = 1;
            var DIFF_EQUAL = 0;
            function diff_main(text1, text2, cursor_pos) {
              if (text1 == text2) {
                if (text1) {
                  return [[DIFF_EQUAL, text1]];
                }
                return [];
              }
              if (cursor_pos < 0 || text1.length < cursor_pos) {
                cursor_pos = null;
              }
              var commonlength = diff_commonPrefix(text1, text2);
              var commonprefix = text1.substring(0, commonlength);
              text1 = text1.substring(commonlength);
              text2 = text2.substring(commonlength);
              commonlength = diff_commonSuffix(text1, text2);
              var commonsuffix = text1.substring(text1.length - commonlength);
              text1 = text1.substring(0, text1.length - commonlength);
              text2 = text2.substring(0, text2.length - commonlength);
              var diffs = diff_compute_(text1, text2);
              if (commonprefix) {
                diffs.unshift([DIFF_EQUAL, commonprefix]);
              }
              if (commonsuffix) {
                diffs.push([DIFF_EQUAL, commonsuffix]);
              }
              diff_cleanupMerge(diffs);
              if (cursor_pos != null) {
                diffs = fix_cursor(diffs, cursor_pos);
              }
              diffs = fix_emoji(diffs);
              return diffs;
            }
            ;
            function diff_compute_(text1, text2) {
              var diffs;
              if (!text1) {
                return [[DIFF_INSERT, text2]];
              }
              if (!text2) {
                return [[DIFF_DELETE, text1]];
              }
              var longtext = text1.length > text2.length ? text1 : text2;
              var shorttext = text1.length > text2.length ? text2 : text1;
              var i3 = longtext.indexOf(shorttext);
              if (i3 != -1) {
                diffs = [
                  [DIFF_INSERT, longtext.substring(0, i3)],
                  [DIFF_EQUAL, shorttext],
                  [DIFF_INSERT, longtext.substring(i3 + shorttext.length)]
                ];
                if (text1.length > text2.length) {
                  diffs[0][0] = diffs[2][0] = DIFF_DELETE;
                }
                return diffs;
              }
              if (shorttext.length == 1) {
                return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];
              }
              var hm = diff_halfMatch_(text1, text2);
              if (hm) {
                var text1_a = hm[0];
                var text1_b = hm[1];
                var text2_a = hm[2];
                var text2_b = hm[3];
                var mid_common = hm[4];
                var diffs_a = diff_main(text1_a, text2_a);
                var diffs_b = diff_main(text1_b, text2_b);
                return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);
              }
              return diff_bisect_(text1, text2);
            }
            ;
            function diff_bisect_(text1, text2) {
              var text1_length = text1.length;
              var text2_length = text2.length;
              var max_d = Math.ceil((text1_length + text2_length) / 2);
              var v_offset = max_d;
              var v_length = 2 * max_d;
              var v1 = new Array(v_length);
              var v2 = new Array(v_length);
              for (var x2 = 0; x2 < v_length; x2++) {
                v1[x2] = -1;
                v2[x2] = -1;
              }
              v1[v_offset + 1] = 0;
              v2[v_offset + 1] = 0;
              var delta = text1_length - text2_length;
              var front = delta % 2 != 0;
              var k1start = 0;
              var k1end = 0;
              var k2start = 0;
              var k2end = 0;
              for (var d3 = 0; d3 < max_d; d3++) {
                for (var k1 = -d3 + k1start; k1 <= d3 - k1end; k1 += 2) {
                  var k1_offset = v_offset + k1;
                  var x1;
                  if (k1 == -d3 || k1 != d3 && v1[k1_offset - 1] < v1[k1_offset + 1]) {
                    x1 = v1[k1_offset + 1];
                  } else {
                    x1 = v1[k1_offset - 1] + 1;
                  }
                  var y1 = x1 - k1;
                  while (x1 < text1_length && y1 < text2_length && text1.charAt(x1) == text2.charAt(y1)) {
                    x1++;
                    y1++;
                  }
                  v1[k1_offset] = x1;
                  if (x1 > text1_length) {
                    k1end += 2;
                  } else if (y1 > text2_length) {
                    k1start += 2;
                  } else if (front) {
                    var k2_offset = v_offset + delta - k1;
                    if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {
                      var x22 = text1_length - v2[k2_offset];
                      if (x1 >= x22) {
                        return diff_bisectSplit_(text1, text2, x1, y1);
                      }
                    }
                  }
                }
                for (var k2 = -d3 + k2start; k2 <= d3 - k2end; k2 += 2) {
                  var k2_offset = v_offset + k2;
                  var x22;
                  if (k2 == -d3 || k2 != d3 && v2[k2_offset - 1] < v2[k2_offset + 1]) {
                    x22 = v2[k2_offset + 1];
                  } else {
                    x22 = v2[k2_offset - 1] + 1;
                  }
                  var y2 = x22 - k2;
                  while (x22 < text1_length && y2 < text2_length && text1.charAt(text1_length - x22 - 1) == text2.charAt(text2_length - y2 - 1)) {
                    x22++;
                    y2++;
                  }
                  v2[k2_offset] = x22;
                  if (x22 > text1_length) {
                    k2end += 2;
                  } else if (y2 > text2_length) {
                    k2start += 2;
                  } else if (!front) {
                    var k1_offset = v_offset + delta - k2;
                    if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {
                      var x1 = v1[k1_offset];
                      var y1 = v_offset + x1 - k1_offset;
                      x22 = text1_length - x22;
                      if (x1 >= x22) {
                        return diff_bisectSplit_(text1, text2, x1, y1);
                      }
                    }
                  }
                }
              }
              return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];
            }
            ;
            function diff_bisectSplit_(text1, text2, x2, y2) {
              var text1a = text1.substring(0, x2);
              var text2a = text2.substring(0, y2);
              var text1b = text1.substring(x2);
              var text2b = text2.substring(y2);
              var diffs = diff_main(text1a, text2a);
              var diffsb = diff_main(text1b, text2b);
              return diffs.concat(diffsb);
            }
            ;
            function diff_commonPrefix(text1, text2) {
              if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {
                return 0;
              }
              var pointermin = 0;
              var pointermax = Math.min(text1.length, text2.length);
              var pointermid = pointermax;
              var pointerstart = 0;
              while (pointermin < pointermid) {
                if (text1.substring(pointerstart, pointermid) == text2.substring(pointerstart, pointermid)) {
                  pointermin = pointermid;
                  pointerstart = pointermin;
                } else {
                  pointermax = pointermid;
                }
                pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);
              }
              return pointermid;
            }
            ;
            function diff_commonSuffix(text1, text2) {
              if (!text1 || !text2 || text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {
                return 0;
              }
              var pointermin = 0;
              var pointermax = Math.min(text1.length, text2.length);
              var pointermid = pointermax;
              var pointerend = 0;
              while (pointermin < pointermid) {
                if (text1.substring(text1.length - pointermid, text1.length - pointerend) == text2.substring(text2.length - pointermid, text2.length - pointerend)) {
                  pointermin = pointermid;
                  pointerend = pointermin;
                } else {
                  pointermax = pointermid;
                }
                pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);
              }
              return pointermid;
            }
            ;
            function diff_halfMatch_(text1, text2) {
              var longtext = text1.length > text2.length ? text1 : text2;
              var shorttext = text1.length > text2.length ? text2 : text1;
              if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {
                return null;
              }
              function diff_halfMatchI_(longtext2, shorttext2, i3) {
                var seed = longtext2.substring(i3, i3 + Math.floor(longtext2.length / 4));
                var j3 = -1;
                var best_common = "";
                var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;
                while ((j3 = shorttext2.indexOf(seed, j3 + 1)) != -1) {
                  var prefixLength = diff_commonPrefix(longtext2.substring(i3), shorttext2.substring(j3));
                  var suffixLength = diff_commonSuffix(longtext2.substring(0, i3), shorttext2.substring(0, j3));
                  if (best_common.length < suffixLength + prefixLength) {
                    best_common = shorttext2.substring(j3 - suffixLength, j3) + shorttext2.substring(j3, j3 + prefixLength);
                    best_longtext_a = longtext2.substring(0, i3 - suffixLength);
                    best_longtext_b = longtext2.substring(i3 + prefixLength);
                    best_shorttext_a = shorttext2.substring(0, j3 - suffixLength);
                    best_shorttext_b = shorttext2.substring(j3 + prefixLength);
                  }
                }
                if (best_common.length * 2 >= longtext2.length) {
                  return [
                    best_longtext_a,
                    best_longtext_b,
                    best_shorttext_a,
                    best_shorttext_b,
                    best_common
                  ];
                } else {
                  return null;
                }
              }
              var hm1 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 4));
              var hm2 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 2));
              var hm;
              if (!hm1 && !hm2) {
                return null;
              } else if (!hm2) {
                hm = hm1;
              } else if (!hm1) {
                hm = hm2;
              } else {
                hm = hm1[4].length > hm2[4].length ? hm1 : hm2;
              }
              var text1_a, text1_b, text2_a, text2_b;
              if (text1.length > text2.length) {
                text1_a = hm[0];
                text1_b = hm[1];
                text2_a = hm[2];
                text2_b = hm[3];
              } else {
                text2_a = hm[0];
                text2_b = hm[1];
                text1_a = hm[2];
                text1_b = hm[3];
              }
              var mid_common = hm[4];
              return [text1_a, text1_b, text2_a, text2_b, mid_common];
            }
            ;
            function diff_cleanupMerge(diffs) {
              diffs.push([DIFF_EQUAL, ""]);
              var pointer = 0;
              var count_delete = 0;
              var count_insert = 0;
              var text_delete = "";
              var text_insert = "";
              var commonlength;
              while (pointer < diffs.length) {
                switch (diffs[pointer][0]) {
                  case DIFF_INSERT:
                    count_insert++;
                    text_insert += diffs[pointer][1];
                    pointer++;
                    break;
                  case DIFF_DELETE:
                    count_delete++;
                    text_delete += diffs[pointer][1];
                    pointer++;
                    break;
                  case DIFF_EQUAL:
                    if (count_delete + count_insert > 1) {
                      if (count_delete !== 0 && count_insert !== 0) {
                        commonlength = diff_commonPrefix(text_insert, text_delete);
                        if (commonlength !== 0) {
                          if (pointer - count_delete - count_insert > 0 && diffs[pointer - count_delete - count_insert - 1][0] == DIFF_EQUAL) {
                            diffs[pointer - count_delete - count_insert - 1][1] += text_insert.substring(0, commonlength);
                          } else {
                            diffs.splice(0, 0, [
                              DIFF_EQUAL,
                              text_insert.substring(0, commonlength)
                            ]);
                            pointer++;
                          }
                          text_insert = text_insert.substring(commonlength);
                          text_delete = text_delete.substring(commonlength);
                        }
                        commonlength = diff_commonSuffix(text_insert, text_delete);
                        if (commonlength !== 0) {
                          diffs[pointer][1] = text_insert.substring(text_insert.length - commonlength) + diffs[pointer][1];
                          text_insert = text_insert.substring(0, text_insert.length - commonlength);
                          text_delete = text_delete.substring(0, text_delete.length - commonlength);
                        }
                      }
                      if (count_delete === 0) {
                        diffs.splice(pointer - count_insert, count_delete + count_insert, [DIFF_INSERT, text_insert]);
                      } else if (count_insert === 0) {
                        diffs.splice(pointer - count_delete, count_delete + count_insert, [DIFF_DELETE, text_delete]);
                      } else {
                        diffs.splice(pointer - count_delete - count_insert, count_delete + count_insert, [DIFF_DELETE, text_delete], [DIFF_INSERT, text_insert]);
                      }
                      pointer = pointer - count_delete - count_insert + (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;
                    } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {
                      diffs[pointer - 1][1] += diffs[pointer][1];
                      diffs.splice(pointer, 1);
                    } else {
                      pointer++;
                    }
                    count_insert = 0;
                    count_delete = 0;
                    text_delete = "";
                    text_insert = "";
                    break;
                }
              }
              if (diffs[diffs.length - 1][1] === "") {
                diffs.pop();
              }
              var changes = false;
              pointer = 1;
              while (pointer < diffs.length - 1) {
                if (diffs[pointer - 1][0] == DIFF_EQUAL && diffs[pointer + 1][0] == DIFF_EQUAL) {
                  if (diffs[pointer][1].substring(diffs[pointer][1].length - diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {
                    diffs[pointer][1] = diffs[pointer - 1][1] + diffs[pointer][1].substring(0, diffs[pointer][1].length - diffs[pointer - 1][1].length);
                    diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];
                    diffs.splice(pointer - 1, 1);
                    changes = true;
                  } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) == diffs[pointer + 1][1]) {
                    diffs[pointer - 1][1] += diffs[pointer + 1][1];
                    diffs[pointer][1] = diffs[pointer][1].substring(diffs[pointer + 1][1].length) + diffs[pointer + 1][1];
                    diffs.splice(pointer + 1, 1);
                    changes = true;
                  }
                }
                pointer++;
              }
              if (changes) {
                diff_cleanupMerge(diffs);
              }
            }
            ;
            var diff = diff_main;
            diff.INSERT = DIFF_INSERT;
            diff.DELETE = DIFF_DELETE;
            diff.EQUAL = DIFF_EQUAL;
            module2.exports = diff;
            function cursor_normalize_diff(diffs, cursor_pos) {
              if (cursor_pos === 0) {
                return [DIFF_EQUAL, diffs];
              }
              for (var current_pos = 0, i3 = 0; i3 < diffs.length; i3++) {
                var d3 = diffs[i3];
                if (d3[0] === DIFF_DELETE || d3[0] === DIFF_EQUAL) {
                  var next_pos = current_pos + d3[1].length;
                  if (cursor_pos === next_pos) {
                    return [i3 + 1, diffs];
                  } else if (cursor_pos < next_pos) {
                    diffs = diffs.slice();
                    var split_pos = cursor_pos - current_pos;
                    var d_left = [d3[0], d3[1].slice(0, split_pos)];
                    var d_right = [d3[0], d3[1].slice(split_pos)];
                    diffs.splice(i3, 1, d_left, d_right);
                    return [i3 + 1, diffs];
                  } else {
                    current_pos = next_pos;
                  }
                }
              }
              throw new Error("cursor_pos is out of bounds!");
            }
            function fix_cursor(diffs, cursor_pos) {
              var norm = cursor_normalize_diff(diffs, cursor_pos);
              var ndiffs = norm[1];
              var cursor_pointer = norm[0];
              var d3 = ndiffs[cursor_pointer];
              var d_next = ndiffs[cursor_pointer + 1];
              if (d3 == null) {
                return diffs;
              } else if (d3[0] !== DIFF_EQUAL) {
                return diffs;
              } else {
                if (d_next != null && d3[1] + d_next[1] === d_next[1] + d3[1]) {
                  ndiffs.splice(cursor_pointer, 2, d_next, d3);
                  return merge_tuples(ndiffs, cursor_pointer, 2);
                } else if (d_next != null && d_next[1].indexOf(d3[1]) === 0) {
                  ndiffs.splice(cursor_pointer, 2, [d_next[0], d3[1]], [0, d3[1]]);
                  var suffix2 = d_next[1].slice(d3[1].length);
                  if (suffix2.length > 0) {
                    ndiffs.splice(cursor_pointer + 2, 0, [d_next[0], suffix2]);
                  }
                  return merge_tuples(ndiffs, cursor_pointer, 3);
                } else {
                  return diffs;
                }
              }
            }
            function fix_emoji(diffs) {
              var compact = false;
              var starts_with_pair_end = function(str) {
                return str.charCodeAt(0) >= 56320 && str.charCodeAt(0) <= 57343;
              };
              var ends_with_pair_start = function(str) {
                return str.charCodeAt(str.length - 1) >= 55296 && str.charCodeAt(str.length - 1) <= 56319;
              };
              for (var i3 = 2; i3 < diffs.length; i3 += 1) {
                if (diffs[i3 - 2][0] === DIFF_EQUAL && ends_with_pair_start(diffs[i3 - 2][1]) && diffs[i3 - 1][0] === DIFF_DELETE && starts_with_pair_end(diffs[i3 - 1][1]) && diffs[i3][0] === DIFF_INSERT && starts_with_pair_end(diffs[i3][1])) {
                  compact = true;
                  diffs[i3 - 1][1] = diffs[i3 - 2][1].slice(-1) + diffs[i3 - 1][1];
                  diffs[i3][1] = diffs[i3 - 2][1].slice(-1) + diffs[i3][1];
                  diffs[i3 - 2][1] = diffs[i3 - 2][1].slice(0, -1);
                }
              }
              if (!compact) {
                return diffs;
              }
              var fixed_diffs = [];
              for (var i3 = 0; i3 < diffs.length; i3 += 1) {
                if (diffs[i3][1].length > 0) {
                  fixed_diffs.push(diffs[i3]);
                }
              }
              return fixed_diffs;
            }
            function merge_tuples(diffs, start4, length) {
              for (var i3 = start4 + length - 1; i3 >= 0 && i3 >= start4 - 1; i3--) {
                if (i3 + 1 < diffs.length) {
                  var left_d = diffs[i3];
                  var right_d = diffs[i3 + 1];
                  if (left_d[0] === right_d[1]) {
                    diffs.splice(i3, 2, [left_d[0], left_d[1] + right_d[1]]);
                  }
                }
              }
              return diffs;
            }
          },
          function(module2, exports2) {
            exports2 = module2.exports = typeof Object.keys === "function" ? Object.keys : shim;
            exports2.shim = shim;
            function shim(obj) {
              var keys = [];
              for (var key in obj)
                keys.push(key);
              return keys;
            }
          },
          function(module2, exports2) {
            var supportsArgumentsClass = function() {
              return Object.prototype.toString.call(arguments);
            }() == "[object Arguments]";
            exports2 = module2.exports = supportsArgumentsClass ? supported : unsupported;
            exports2.supported = supported;
            function supported(object) {
              return Object.prototype.toString.call(object) == "[object Arguments]";
            }
            ;
            exports2.unsupported = unsupported;
            function unsupported(object) {
              return object && typeof object == "object" && typeof object.length == "number" && Object.prototype.hasOwnProperty.call(object, "callee") && !Object.prototype.propertyIsEnumerable.call(object, "callee") || false;
            }
            ;
          },
          function(module2, exports2) {
            "use strict";
            var has = Object.prototype.hasOwnProperty, prefix3 = "~";
            function Events() {
            }
            if (Object.create) {
              Events.prototype = /* @__PURE__ */ Object.create(null);
              if (!new Events().__proto__)
                prefix3 = false;
            }
            function EE(fn4, context, once) {
              this.fn = fn4;
              this.context = context;
              this.once = once || false;
            }
            function EventEmitter() {
              this._events = new Events();
              this._eventsCount = 0;
            }
            EventEmitter.prototype.eventNames = function eventNames() {
              var names = [], events, name;
              if (this._eventsCount === 0)
                return names;
              for (name in events = this._events) {
                if (has.call(events, name))
                  names.push(prefix3 ? name.slice(1) : name);
              }
              if (Object.getOwnPropertySymbols) {
                return names.concat(Object.getOwnPropertySymbols(events));
              }
              return names;
            };
            EventEmitter.prototype.listeners = function listeners2(event, exists) {
              var evt = prefix3 ? prefix3 + event : event, available = this._events[evt];
              if (exists)
                return !!available;
              if (!available)
                return [];
              if (available.fn)
                return [available.fn];
              for (var i3 = 0, l3 = available.length, ee = new Array(l3); i3 < l3; i3++) {
                ee[i3] = available[i3].fn;
              }
              return ee;
            };
            EventEmitter.prototype.emit = function emit(event, a1, a22, a3, a4, a5) {
              var evt = prefix3 ? prefix3 + event : event;
              if (!this._events[evt])
                return false;
              var listeners2 = this._events[evt], len = arguments.length, args, i3;
              if (listeners2.fn) {
                if (listeners2.once)
                  this.removeListener(event, listeners2.fn, void 0, true);
                switch (len) {
                  case 1:
                    return listeners2.fn.call(listeners2.context), true;
                  case 2:
                    return listeners2.fn.call(listeners2.context, a1), true;
                  case 3:
                    return listeners2.fn.call(listeners2.context, a1, a22), true;
                  case 4:
                    return listeners2.fn.call(listeners2.context, a1, a22, a3), true;
                  case 5:
                    return listeners2.fn.call(listeners2.context, a1, a22, a3, a4), true;
                  case 6:
                    return listeners2.fn.call(listeners2.context, a1, a22, a3, a4, a5), true;
                }
                for (i3 = 1, args = new Array(len - 1); i3 < len; i3++) {
                  args[i3 - 1] = arguments[i3];
                }
                listeners2.fn.apply(listeners2.context, args);
              } else {
                var length = listeners2.length, j3;
                for (i3 = 0; i3 < length; i3++) {
                  if (listeners2[i3].once)
                    this.removeListener(event, listeners2[i3].fn, void 0, true);
                  switch (len) {
                    case 1:
                      listeners2[i3].fn.call(listeners2[i3].context);
                      break;
                    case 2:
                      listeners2[i3].fn.call(listeners2[i3].context, a1);
                      break;
                    case 3:
                      listeners2[i3].fn.call(listeners2[i3].context, a1, a22);
                      break;
                    case 4:
                      listeners2[i3].fn.call(listeners2[i3].context, a1, a22, a3);
                      break;
                    default:
                      if (!args)
                        for (j3 = 1, args = new Array(len - 1); j3 < len; j3++) {
                          args[j3 - 1] = arguments[j3];
                        }
                      listeners2[i3].fn.apply(listeners2[i3].context, args);
                  }
                }
              }
              return true;
            };
            EventEmitter.prototype.on = function on2(event, fn4, context) {
              var listener = new EE(fn4, context || this), evt = prefix3 ? prefix3 + event : event;
              if (!this._events[evt])
                this._events[evt] = listener, this._eventsCount++;
              else if (!this._events[evt].fn)
                this._events[evt].push(listener);
              else
                this._events[evt] = [this._events[evt], listener];
              return this;
            };
            EventEmitter.prototype.once = function once(event, fn4, context) {
              var listener = new EE(fn4, context || this, true), evt = prefix3 ? prefix3 + event : event;
              if (!this._events[evt])
                this._events[evt] = listener, this._eventsCount++;
              else if (!this._events[evt].fn)
                this._events[evt].push(listener);
              else
                this._events[evt] = [this._events[evt], listener];
              return this;
            };
            EventEmitter.prototype.removeListener = function removeListener(event, fn4, context, once) {
              var evt = prefix3 ? prefix3 + event : event;
              if (!this._events[evt])
                return this;
              if (!fn4) {
                if (--this._eventsCount === 0)
                  this._events = new Events();
                else
                  delete this._events[evt];
                return this;
              }
              var listeners2 = this._events[evt];
              if (listeners2.fn) {
                if (listeners2.fn === fn4 && (!once || listeners2.once) && (!context || listeners2.context === context)) {
                  if (--this._eventsCount === 0)
                    this._events = new Events();
                  else
                    delete this._events[evt];
                }
              } else {
                for (var i3 = 0, events = [], length = listeners2.length; i3 < length; i3++) {
                  if (listeners2[i3].fn !== fn4 || once && !listeners2[i3].once || context && listeners2[i3].context !== context) {
                    events.push(listeners2[i3]);
                  }
                }
                if (events.length)
                  this._events[evt] = events.length === 1 ? events[0] : events;
                else if (--this._eventsCount === 0)
                  this._events = new Events();
                else
                  delete this._events[evt];
              }
              return this;
            };
            EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {
              var evt;
              if (event) {
                evt = prefix3 ? prefix3 + event : event;
                if (this._events[evt]) {
                  if (--this._eventsCount === 0)
                    this._events = new Events();
                  else
                    delete this._events[evt];
                }
              } else {
                this._events = new Events();
                this._eventsCount = 0;
              }
              return this;
            };
            EventEmitter.prototype.off = EventEmitter.prototype.removeListener;
            EventEmitter.prototype.addListener = EventEmitter.prototype.on;
            EventEmitter.prototype.setMaxListeners = function setMaxListeners() {
              return this;
            };
            EventEmitter.prefixed = prefix3;
            EventEmitter.EventEmitter = EventEmitter;
            if (typeof module2 !== "undefined") {
              module2.exports = EventEmitter;
            }
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.matchText = exports2.matchSpacing = exports2.matchNewline = exports2.matchBlot = exports2.matchAttributor = exports2.default = void 0;
            var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
              return typeof obj;
            } : function(obj) {
              return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
            };
            var _slicedToArray = function() {
              function sliceIterator(arr, i3) {
                var _arr = [];
                var _n = true;
                var _d = false;
                var _e = void 0;
                try {
                  for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                    _arr.push(_s.value);
                    if (i3 && _arr.length === i3)
                      break;
                  }
                } catch (err) {
                  _d = true;
                  _e = err;
                } finally {
                  try {
                    if (!_n && _i["return"])
                      _i["return"]();
                  } finally {
                    if (_d)
                      throw _e;
                  }
                }
                return _arr;
              }
              return function(arr, i3) {
                if (Array.isArray(arr)) {
                  return arr;
                } else if (Symbol.iterator in Object(arr)) {
                  return sliceIterator(arr, i3);
                } else {
                  throw new TypeError("Invalid attempt to destructure non-iterable instance");
                }
              };
            }();
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _extend2 = __webpack_require__(3);
            var _extend3 = _interopRequireDefault(_extend2);
            var _quillDelta = __webpack_require__(2);
            var _quillDelta2 = _interopRequireDefault(_quillDelta);
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            var _quill = __webpack_require__(5);
            var _quill2 = _interopRequireDefault(_quill);
            var _logger = __webpack_require__(10);
            var _logger2 = _interopRequireDefault(_logger);
            var _module = __webpack_require__(9);
            var _module2 = _interopRequireDefault(_module);
            var _align = __webpack_require__(36);
            var _background = __webpack_require__(37);
            var _code = __webpack_require__(13);
            var _code2 = _interopRequireDefault(_code);
            var _color = __webpack_require__(26);
            var _direction = __webpack_require__(38);
            var _font = __webpack_require__(39);
            var _size = __webpack_require__(40);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _defineProperty2(obj, key, value) {
              if (key in obj) {
                Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
              } else {
                obj[key] = value;
              }
              return obj;
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var debug = (0, _logger2.default)("quill:clipboard");
            var DOM_KEY = "__ql-matcher";
            var CLIPBOARD_CONFIG = [[Node.TEXT_NODE, matchText], [Node.TEXT_NODE, matchNewline], ["br", matchBreak], [Node.ELEMENT_NODE, matchNewline], [Node.ELEMENT_NODE, matchBlot], [Node.ELEMENT_NODE, matchSpacing], [Node.ELEMENT_NODE, matchAttributor], [Node.ELEMENT_NODE, matchStyles], ["li", matchIndent], ["b", matchAlias.bind(matchAlias, "bold")], ["i", matchAlias.bind(matchAlias, "italic")], ["style", matchIgnore]];
            var ATTRIBUTE_ATTRIBUTORS = [_align.AlignAttribute, _direction.DirectionAttribute].reduce(function(memo2, attr) {
              memo2[attr.keyName] = attr;
              return memo2;
            }, {});
            var STYLE_ATTRIBUTORS = [_align.AlignStyle, _background.BackgroundStyle, _color.ColorStyle, _direction.DirectionStyle, _font.FontStyle, _size.SizeStyle].reduce(function(memo2, attr) {
              memo2[attr.keyName] = attr;
              return memo2;
            }, {});
            var Clipboard = function(_Module) {
              _inherits(Clipboard2, _Module);
              function Clipboard2(quill, options) {
                _classCallCheck(this, Clipboard2);
                var _this = _possibleConstructorReturn(this, (Clipboard2.__proto__ || Object.getPrototypeOf(Clipboard2)).call(this, quill, options));
                _this.quill.root.addEventListener("paste", _this.onPaste.bind(_this));
                _this.container = _this.quill.addContainer("ql-clipboard");
                _this.container.setAttribute("contenteditable", true);
                _this.container.setAttribute("tabindex", -1);
                _this.matchers = [];
                CLIPBOARD_CONFIG.concat(_this.options.matchers).forEach(function(_ref) {
                  var _ref2 = _slicedToArray(_ref, 2), selector = _ref2[0], matcher = _ref2[1];
                  if (!options.matchVisual && matcher === matchSpacing)
                    return;
                  _this.addMatcher(selector, matcher);
                });
                return _this;
              }
              _createClass(Clipboard2, [{
                key: "addMatcher",
                value: function addMatcher(selector, matcher) {
                  this.matchers.push([selector, matcher]);
                }
              }, {
                key: "convert",
                value: function convert(html) {
                  if (typeof html === "string") {
                    this.container.innerHTML = html.replace(/\>\r?\n +\</g, "><");
                    return this.convert();
                  }
                  var formats = this.quill.getFormat(this.quill.selection.savedRange.index);
                  if (formats[_code2.default.blotName]) {
                    var text = this.container.innerText;
                    this.container.innerHTML = "";
                    return new _quillDelta2.default().insert(text, _defineProperty2({}, _code2.default.blotName, formats[_code2.default.blotName]));
                  }
                  var _prepareMatching = this.prepareMatching(), _prepareMatching2 = _slicedToArray(_prepareMatching, 2), elementMatchers = _prepareMatching2[0], textMatchers = _prepareMatching2[1];
                  var delta = traverse(this.container, elementMatchers, textMatchers);
                  if (deltaEndsWith(delta, "\n") && delta.ops[delta.ops.length - 1].attributes == null) {
                    delta = delta.compose(new _quillDelta2.default().retain(delta.length() - 1).delete(1));
                  }
                  debug.log("convert", this.container.innerHTML, delta);
                  this.container.innerHTML = "";
                  return delta;
                }
              }, {
                key: "dangerouslyPasteHTML",
                value: function dangerouslyPasteHTML(index2, html) {
                  var source = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : _quill2.default.sources.API;
                  if (typeof index2 === "string") {
                    this.quill.setContents(this.convert(index2), html);
                    this.quill.setSelection(0, _quill2.default.sources.SILENT);
                  } else {
                    var paste = this.convert(html);
                    this.quill.updateContents(new _quillDelta2.default().retain(index2).concat(paste), source);
                    this.quill.setSelection(index2 + paste.length(), _quill2.default.sources.SILENT);
                  }
                }
              }, {
                key: "onPaste",
                value: function onPaste(e2) {
                  var _this2 = this;
                  if (e2.defaultPrevented || !this.quill.isEnabled())
                    return;
                  var range = this.quill.getSelection();
                  var delta = new _quillDelta2.default().retain(range.index);
                  var scrollTop = this.quill.scrollingContainer.scrollTop;
                  this.container.focus();
                  this.quill.selection.update(_quill2.default.sources.SILENT);
                  setTimeout(function() {
                    delta = delta.concat(_this2.convert()).delete(range.length);
                    _this2.quill.updateContents(delta, _quill2.default.sources.USER);
                    _this2.quill.setSelection(delta.length() - range.length, _quill2.default.sources.SILENT);
                    _this2.quill.scrollingContainer.scrollTop = scrollTop;
                    _this2.quill.focus();
                  }, 1);
                }
              }, {
                key: "prepareMatching",
                value: function prepareMatching() {
                  var _this3 = this;
                  var elementMatchers = [], textMatchers = [];
                  this.matchers.forEach(function(pair) {
                    var _pair = _slicedToArray(pair, 2), selector = _pair[0], matcher = _pair[1];
                    switch (selector) {
                      case Node.TEXT_NODE:
                        textMatchers.push(matcher);
                        break;
                      case Node.ELEMENT_NODE:
                        elementMatchers.push(matcher);
                        break;
                      default:
                        [].forEach.call(_this3.container.querySelectorAll(selector), function(node) {
                          node[DOM_KEY] = node[DOM_KEY] || [];
                          node[DOM_KEY].push(matcher);
                        });
                        break;
                    }
                  });
                  return [elementMatchers, textMatchers];
                }
              }]);
              return Clipboard2;
            }(_module2.default);
            Clipboard.DEFAULTS = {
              matchers: [],
              matchVisual: true
            };
            function applyFormat(delta, format2, value) {
              if ((typeof format2 === "undefined" ? "undefined" : _typeof(format2)) === "object") {
                return Object.keys(format2).reduce(function(delta2, key) {
                  return applyFormat(delta2, key, format2[key]);
                }, delta);
              } else {
                return delta.reduce(function(delta2, op) {
                  if (op.attributes && op.attributes[format2]) {
                    return delta2.push(op);
                  } else {
                    return delta2.insert(op.insert, (0, _extend3.default)({}, _defineProperty2({}, format2, value), op.attributes));
                  }
                }, new _quillDelta2.default());
              }
            }
            function computeStyle(node) {
              if (node.nodeType !== Node.ELEMENT_NODE)
                return {};
              var DOM_KEY2 = "__ql-computed-style";
              return node[DOM_KEY2] || (node[DOM_KEY2] = window.getComputedStyle(node));
            }
            function deltaEndsWith(delta, text) {
              var endText = "";
              for (var i3 = delta.ops.length - 1; i3 >= 0 && endText.length < text.length; --i3) {
                var op = delta.ops[i3];
                if (typeof op.insert !== "string")
                  break;
                endText = op.insert + endText;
              }
              return endText.slice(-1 * text.length) === text;
            }
            function isLine(node) {
              if (node.childNodes.length === 0)
                return false;
              var style2 = computeStyle(node);
              return ["block", "list-item"].indexOf(style2.display) > -1;
            }
            function traverse(node, elementMatchers, textMatchers) {
              if (node.nodeType === node.TEXT_NODE) {
                return textMatchers.reduce(function(delta, matcher) {
                  return matcher(node, delta);
                }, new _quillDelta2.default());
              } else if (node.nodeType === node.ELEMENT_NODE) {
                return [].reduce.call(node.childNodes || [], function(delta, childNode) {
                  var childrenDelta = traverse(childNode, elementMatchers, textMatchers);
                  if (childNode.nodeType === node.ELEMENT_NODE) {
                    childrenDelta = elementMatchers.reduce(function(childrenDelta2, matcher) {
                      return matcher(childNode, childrenDelta2);
                    }, childrenDelta);
                    childrenDelta = (childNode[DOM_KEY] || []).reduce(function(childrenDelta2, matcher) {
                      return matcher(childNode, childrenDelta2);
                    }, childrenDelta);
                  }
                  return delta.concat(childrenDelta);
                }, new _quillDelta2.default());
              } else {
                return new _quillDelta2.default();
              }
            }
            function matchAlias(format2, node, delta) {
              return applyFormat(delta, format2, true);
            }
            function matchAttributor(node, delta) {
              var attributes = _parchment2.default.Attributor.Attribute.keys(node);
              var classes = _parchment2.default.Attributor.Class.keys(node);
              var styles = _parchment2.default.Attributor.Style.keys(node);
              var formats = {};
              attributes.concat(classes).concat(styles).forEach(function(name) {
                var attr = _parchment2.default.query(name, _parchment2.default.Scope.ATTRIBUTE);
                if (attr != null) {
                  formats[attr.attrName] = attr.value(node);
                  if (formats[attr.attrName])
                    return;
                }
                attr = ATTRIBUTE_ATTRIBUTORS[name];
                if (attr != null && (attr.attrName === name || attr.keyName === name)) {
                  formats[attr.attrName] = attr.value(node) || void 0;
                }
                attr = STYLE_ATTRIBUTORS[name];
                if (attr != null && (attr.attrName === name || attr.keyName === name)) {
                  attr = STYLE_ATTRIBUTORS[name];
                  formats[attr.attrName] = attr.value(node) || void 0;
                }
              });
              if (Object.keys(formats).length > 0) {
                delta = applyFormat(delta, formats);
              }
              return delta;
            }
            function matchBlot(node, delta) {
              var match2 = _parchment2.default.query(node);
              if (match2 == null)
                return delta;
              if (match2.prototype instanceof _parchment2.default.Embed) {
                var embed = {};
                var value = match2.value(node);
                if (value != null) {
                  embed[match2.blotName] = value;
                  delta = new _quillDelta2.default().insert(embed, match2.formats(node));
                }
              } else if (typeof match2.formats === "function") {
                delta = applyFormat(delta, match2.blotName, match2.formats(node));
              }
              return delta;
            }
            function matchBreak(node, delta) {
              if (!deltaEndsWith(delta, "\n")) {
                delta.insert("\n");
              }
              return delta;
            }
            function matchIgnore() {
              return new _quillDelta2.default();
            }
            function matchIndent(node, delta) {
              var match2 = _parchment2.default.query(node);
              if (match2 == null || match2.blotName !== "list-item" || !deltaEndsWith(delta, "\n")) {
                return delta;
              }
              var indent = -1, parent = node.parentNode;
              while (!parent.classList.contains("ql-clipboard")) {
                if ((_parchment2.default.query(parent) || {}).blotName === "list") {
                  indent += 1;
                }
                parent = parent.parentNode;
              }
              if (indent <= 0)
                return delta;
              return delta.compose(new _quillDelta2.default().retain(delta.length() - 1).retain(1, { indent }));
            }
            function matchNewline(node, delta) {
              if (!deltaEndsWith(delta, "\n")) {
                if (isLine(node) || delta.length() > 0 && node.nextSibling && isLine(node.nextSibling)) {
                  delta.insert("\n");
                }
              }
              return delta;
            }
            function matchSpacing(node, delta) {
              if (isLine(node) && node.nextElementSibling != null && !deltaEndsWith(delta, "\n\n")) {
                var nodeHeight = node.offsetHeight + parseFloat(computeStyle(node).marginTop) + parseFloat(computeStyle(node).marginBottom);
                if (node.nextElementSibling.offsetTop > node.offsetTop + nodeHeight * 1.5) {
                  delta.insert("\n");
                }
              }
              return delta;
            }
            function matchStyles(node, delta) {
              var formats = {};
              var style2 = node.style || {};
              if (style2.fontStyle && computeStyle(node).fontStyle === "italic") {
                formats.italic = true;
              }
              if (style2.fontWeight && (computeStyle(node).fontWeight.startsWith("bold") || parseInt(computeStyle(node).fontWeight) >= 700)) {
                formats.bold = true;
              }
              if (Object.keys(formats).length > 0) {
                delta = applyFormat(delta, formats);
              }
              if (parseFloat(style2.textIndent || 0) > 0) {
                delta = new _quillDelta2.default().insert("	").concat(delta);
              }
              return delta;
            }
            function matchText(node, delta) {
              var text = node.data;
              if (node.parentNode.tagName === "O:P") {
                return delta.insert(text.trim());
              }
              if (text.trim().length === 0 && node.parentNode.classList.contains("ql-clipboard")) {
                return delta;
              }
              if (!computeStyle(node.parentNode).whiteSpace.startsWith("pre")) {
                var replacer = function replacer2(collapse, match2) {
                  match2 = match2.replace(/[^\u00a0]/g, "");
                  return match2.length < 1 && collapse ? " " : match2;
                };
                text = text.replace(/\r\n/g, " ").replace(/\n/g, " ");
                text = text.replace(/\s\s+/g, replacer.bind(replacer, true));
                if (node.previousSibling == null && isLine(node.parentNode) || node.previousSibling != null && isLine(node.previousSibling)) {
                  text = text.replace(/^\s+/, replacer.bind(replacer, false));
                }
                if (node.nextSibling == null && isLine(node.parentNode) || node.nextSibling != null && isLine(node.nextSibling)) {
                  text = text.replace(/\s+$/, replacer.bind(replacer, false));
                }
              }
              return delta.insert(text);
            }
            exports2.default = Clipboard;
            exports2.matchAttributor = matchAttributor;
            exports2.matchBlot = matchBlot;
            exports2.matchNewline = matchNewline;
            exports2.matchSpacing = matchSpacing;
            exports2.matchText = matchText;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _inline = __webpack_require__(6);
            var _inline2 = _interopRequireDefault(_inline);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var Bold = function(_Inline) {
              _inherits(Bold2, _Inline);
              function Bold2() {
                _classCallCheck(this, Bold2);
                return _possibleConstructorReturn(this, (Bold2.__proto__ || Object.getPrototypeOf(Bold2)).apply(this, arguments));
              }
              _createClass(Bold2, [{
                key: "optimize",
                value: function optimize(context) {
                  _get(Bold2.prototype.__proto__ || Object.getPrototypeOf(Bold2.prototype), "optimize", this).call(this, context);
                  if (this.domNode.tagName !== this.statics.tagName[0]) {
                    this.replaceWith(this.statics.blotName);
                  }
                }
              }], [{
                key: "create",
                value: function create2() {
                  return _get(Bold2.__proto__ || Object.getPrototypeOf(Bold2), "create", this).call(this);
                }
              }, {
                key: "formats",
                value: function formats() {
                  return true;
                }
              }]);
              return Bold2;
            }(_inline2.default);
            Bold.blotName = "bold";
            Bold.tagName = ["STRONG", "B"];
            exports2.default = Bold;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.addControls = exports2.default = void 0;
            var _slicedToArray = function() {
              function sliceIterator(arr, i3) {
                var _arr = [];
                var _n = true;
                var _d = false;
                var _e = void 0;
                try {
                  for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                    _arr.push(_s.value);
                    if (i3 && _arr.length === i3)
                      break;
                  }
                } catch (err) {
                  _d = true;
                  _e = err;
                } finally {
                  try {
                    if (!_n && _i["return"])
                      _i["return"]();
                  } finally {
                    if (_d)
                      throw _e;
                  }
                }
                return _arr;
              }
              return function(arr, i3) {
                if (Array.isArray(arr)) {
                  return arr;
                } else if (Symbol.iterator in Object(arr)) {
                  return sliceIterator(arr, i3);
                } else {
                  throw new TypeError("Invalid attempt to destructure non-iterable instance");
                }
              };
            }();
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _quillDelta = __webpack_require__(2);
            var _quillDelta2 = _interopRequireDefault(_quillDelta);
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            var _quill = __webpack_require__(5);
            var _quill2 = _interopRequireDefault(_quill);
            var _logger = __webpack_require__(10);
            var _logger2 = _interopRequireDefault(_logger);
            var _module = __webpack_require__(9);
            var _module2 = _interopRequireDefault(_module);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _defineProperty2(obj, key, value) {
              if (key in obj) {
                Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
              } else {
                obj[key] = value;
              }
              return obj;
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var debug = (0, _logger2.default)("quill:toolbar");
            var Toolbar = function(_Module) {
              _inherits(Toolbar2, _Module);
              function Toolbar2(quill, options) {
                _classCallCheck(this, Toolbar2);
                var _this = _possibleConstructorReturn(this, (Toolbar2.__proto__ || Object.getPrototypeOf(Toolbar2)).call(this, quill, options));
                if (Array.isArray(_this.options.container)) {
                  var container = document.createElement("div");
                  addControls(container, _this.options.container);
                  quill.container.parentNode.insertBefore(container, quill.container);
                  _this.container = container;
                } else if (typeof _this.options.container === "string") {
                  _this.container = document.querySelector(_this.options.container);
                } else {
                  _this.container = _this.options.container;
                }
                if (!(_this.container instanceof HTMLElement)) {
                  var _ret;
                  return _ret = debug.error("Container required for toolbar", _this.options), _possibleConstructorReturn(_this, _ret);
                }
                _this.container.classList.add("ql-toolbar");
                _this.controls = [];
                _this.handlers = {};
                Object.keys(_this.options.handlers).forEach(function(format2) {
                  _this.addHandler(format2, _this.options.handlers[format2]);
                });
                [].forEach.call(_this.container.querySelectorAll("button, select"), function(input) {
                  _this.attach(input);
                });
                _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function(type, range) {
                  if (type === _quill2.default.events.SELECTION_CHANGE) {
                    _this.update(range);
                  }
                });
                _this.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function() {
                  var _this$quill$selection = _this.quill.selection.getRange(), _this$quill$selection2 = _slicedToArray(_this$quill$selection, 1), range = _this$quill$selection2[0];
                  _this.update(range);
                });
                return _this;
              }
              _createClass(Toolbar2, [{
                key: "addHandler",
                value: function addHandler(format2, handler) {
                  this.handlers[format2] = handler;
                }
              }, {
                key: "attach",
                value: function attach(input) {
                  var _this2 = this;
                  var format2 = [].find.call(input.classList, function(className) {
                    return className.indexOf("ql-") === 0;
                  });
                  if (!format2)
                    return;
                  format2 = format2.slice("ql-".length);
                  if (input.tagName === "BUTTON") {
                    input.setAttribute("type", "button");
                  }
                  if (this.handlers[format2] == null) {
                    if (this.quill.scroll.whitelist != null && this.quill.scroll.whitelist[format2] == null) {
                      debug.warn("ignoring attaching to disabled format", format2, input);
                      return;
                    }
                    if (_parchment2.default.query(format2) == null) {
                      debug.warn("ignoring attaching to nonexistent format", format2, input);
                      return;
                    }
                  }
                  var eventName = input.tagName === "SELECT" ? "change" : "click";
                  input.addEventListener(eventName, function(e2) {
                    var value = void 0;
                    if (input.tagName === "SELECT") {
                      if (input.selectedIndex < 0)
                        return;
                      var selected = input.options[input.selectedIndex];
                      if (selected.hasAttribute("selected")) {
                        value = false;
                      } else {
                        value = selected.value || false;
                      }
                    } else {
                      if (input.classList.contains("ql-active")) {
                        value = false;
                      } else {
                        value = input.value || !input.hasAttribute("value");
                      }
                      e2.preventDefault();
                    }
                    _this2.quill.focus();
                    var _quill$selection$getR = _this2.quill.selection.getRange(), _quill$selection$getR2 = _slicedToArray(_quill$selection$getR, 1), range = _quill$selection$getR2[0];
                    if (_this2.handlers[format2] != null) {
                      _this2.handlers[format2].call(_this2, value);
                    } else if (_parchment2.default.query(format2).prototype instanceof _parchment2.default.Embed) {
                      value = prompt("Enter " + format2);
                      if (!value)
                        return;
                      _this2.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert(_defineProperty2({}, format2, value)), _quill2.default.sources.USER);
                    } else {
                      _this2.quill.format(format2, value, _quill2.default.sources.USER);
                    }
                    _this2.update(range);
                  });
                  this.controls.push([format2, input]);
                }
              }, {
                key: "update",
                value: function update2(range) {
                  var formats = range == null ? {} : this.quill.getFormat(range);
                  this.controls.forEach(function(pair) {
                    var _pair = _slicedToArray(pair, 2), format2 = _pair[0], input = _pair[1];
                    if (input.tagName === "SELECT") {
                      var option = void 0;
                      if (range == null) {
                        option = null;
                      } else if (formats[format2] == null) {
                        option = input.querySelector("option[selected]");
                      } else if (!Array.isArray(formats[format2])) {
                        var value = formats[format2];
                        if (typeof value === "string") {
                          value = value.replace(/\"/g, '\\"');
                        }
                        option = input.querySelector('option[value="' + value + '"]');
                      }
                      if (option == null) {
                        input.value = "";
                        input.selectedIndex = -1;
                      } else {
                        option.selected = true;
                      }
                    } else {
                      if (range == null) {
                        input.classList.remove("ql-active");
                      } else if (input.hasAttribute("value")) {
                        var isActive = formats[format2] === input.getAttribute("value") || formats[format2] != null && formats[format2].toString() === input.getAttribute("value") || formats[format2] == null && !input.getAttribute("value");
                        input.classList.toggle("ql-active", isActive);
                      } else {
                        input.classList.toggle("ql-active", formats[format2] != null);
                      }
                    }
                  });
                }
              }]);
              return Toolbar2;
            }(_module2.default);
            Toolbar.DEFAULTS = {};
            function addButton(container, format2, value) {
              var input = document.createElement("button");
              input.setAttribute("type", "button");
              input.classList.add("ql-" + format2);
              if (value != null) {
                input.value = value;
              }
              container.appendChild(input);
            }
            function addControls(container, groups) {
              if (!Array.isArray(groups[0])) {
                groups = [groups];
              }
              groups.forEach(function(controls) {
                var group = document.createElement("span");
                group.classList.add("ql-formats");
                controls.forEach(function(control) {
                  if (typeof control === "string") {
                    addButton(group, control);
                  } else {
                    var format2 = Object.keys(control)[0];
                    var value = control[format2];
                    if (Array.isArray(value)) {
                      addSelect(group, format2, value);
                    } else {
                      addButton(group, format2, value);
                    }
                  }
                });
                container.appendChild(group);
              });
            }
            function addSelect(container, format2, values2) {
              var input = document.createElement("select");
              input.classList.add("ql-" + format2);
              values2.forEach(function(value) {
                var option = document.createElement("option");
                if (value !== false) {
                  option.setAttribute("value", value);
                } else {
                  option.setAttribute("selected", "selected");
                }
                input.appendChild(option);
              });
              container.appendChild(input);
            }
            Toolbar.DEFAULTS = {
              container: null,
              handlers: {
                clean: function clean5() {
                  var _this3 = this;
                  var range = this.quill.getSelection();
                  if (range == null)
                    return;
                  if (range.length == 0) {
                    var formats = this.quill.getFormat();
                    Object.keys(formats).forEach(function(name) {
                      if (_parchment2.default.query(name, _parchment2.default.Scope.INLINE) != null) {
                        _this3.quill.format(name, false);
                      }
                    });
                  } else {
                    this.quill.removeFormat(range, _quill2.default.sources.USER);
                  }
                },
                direction: function direction(value) {
                  var align = this.quill.getFormat()["align"];
                  if (value === "rtl" && align == null) {
                    this.quill.format("align", "right", _quill2.default.sources.USER);
                  } else if (!value && align === "right") {
                    this.quill.format("align", false, _quill2.default.sources.USER);
                  }
                  this.quill.format("direction", value, _quill2.default.sources.USER);
                },
                indent: function indent(value) {
                  var range = this.quill.getSelection();
                  var formats = this.quill.getFormat(range);
                  var indent2 = parseInt(formats.indent || 0);
                  if (value === "+1" || value === "-1") {
                    var modifier = value === "+1" ? 1 : -1;
                    if (formats.direction === "rtl")
                      modifier *= -1;
                    this.quill.format("indent", indent2 + modifier, _quill2.default.sources.USER);
                  }
                },
                link: function link(value) {
                  if (value === true) {
                    value = prompt("Enter link URL:");
                  }
                  this.quill.format("link", value, _quill2.default.sources.USER);
                },
                list: function list(value) {
                  var range = this.quill.getSelection();
                  var formats = this.quill.getFormat(range);
                  if (value === "check") {
                    if (formats["list"] === "checked" || formats["list"] === "unchecked") {
                      this.quill.format("list", false, _quill2.default.sources.USER);
                    } else {
                      this.quill.format("list", "unchecked", _quill2.default.sources.USER);
                    }
                  } else {
                    this.quill.format("list", value, _quill2.default.sources.USER);
                  }
                }
              }
            };
            exports2.default = Toolbar;
            exports2.addControls = addControls;
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>';
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _picker = __webpack_require__(28);
            var _picker2 = _interopRequireDefault(_picker);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var ColorPicker = function(_Picker) {
              _inherits(ColorPicker2, _Picker);
              function ColorPicker2(select, label) {
                _classCallCheck(this, ColorPicker2);
                var _this = _possibleConstructorReturn(this, (ColorPicker2.__proto__ || Object.getPrototypeOf(ColorPicker2)).call(this, select));
                _this.label.innerHTML = label;
                _this.container.classList.add("ql-color-picker");
                [].slice.call(_this.container.querySelectorAll(".ql-picker-item"), 0, 7).forEach(function(item) {
                  item.classList.add("ql-primary");
                });
                return _this;
              }
              _createClass(ColorPicker2, [{
                key: "buildItem",
                value: function buildItem(option) {
                  var item = _get(ColorPicker2.prototype.__proto__ || Object.getPrototypeOf(ColorPicker2.prototype), "buildItem", this).call(this, option);
                  item.style.backgroundColor = option.getAttribute("value") || "";
                  return item;
                }
              }, {
                key: "selectItem",
                value: function selectItem(item, trigger) {
                  _get(ColorPicker2.prototype.__proto__ || Object.getPrototypeOf(ColorPicker2.prototype), "selectItem", this).call(this, item, trigger);
                  var colorLabel = this.label.querySelector(".ql-color-label");
                  var value = item ? item.getAttribute("data-value") || "" : "";
                  if (colorLabel) {
                    if (colorLabel.tagName === "line") {
                      colorLabel.style.stroke = value;
                    } else {
                      colorLabel.style.fill = value;
                    }
                  }
                }
              }]);
              return ColorPicker2;
            }(_picker2.default);
            exports2.default = ColorPicker;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _picker = __webpack_require__(28);
            var _picker2 = _interopRequireDefault(_picker);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var IconPicker = function(_Picker) {
              _inherits(IconPicker2, _Picker);
              function IconPicker2(select, icons) {
                _classCallCheck(this, IconPicker2);
                var _this = _possibleConstructorReturn(this, (IconPicker2.__proto__ || Object.getPrototypeOf(IconPicker2)).call(this, select));
                _this.container.classList.add("ql-icon-picker");
                [].forEach.call(_this.container.querySelectorAll(".ql-picker-item"), function(item) {
                  item.innerHTML = icons[item.getAttribute("data-value") || ""];
                });
                _this.defaultItem = _this.container.querySelector(".ql-selected");
                _this.selectItem(_this.defaultItem);
                return _this;
              }
              _createClass(IconPicker2, [{
                key: "selectItem",
                value: function selectItem(item, trigger) {
                  _get(IconPicker2.prototype.__proto__ || Object.getPrototypeOf(IconPicker2.prototype), "selectItem", this).call(this, item, trigger);
                  item = item || this.defaultItem;
                  this.label.innerHTML = item.innerHTML;
                }
              }]);
              return IconPicker2;
            }(_picker2.default);
            exports2.default = IconPicker;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            var Tooltip = function() {
              function Tooltip2(quill, boundsContainer) {
                var _this = this;
                _classCallCheck(this, Tooltip2);
                this.quill = quill;
                this.boundsContainer = boundsContainer || document.body;
                this.root = quill.addContainer("ql-tooltip");
                this.root.innerHTML = this.constructor.TEMPLATE;
                if (this.quill.root === this.quill.scrollingContainer) {
                  this.quill.root.addEventListener("scroll", function() {
                    _this.root.style.marginTop = -1 * _this.quill.root.scrollTop + "px";
                  });
                }
                this.hide();
              }
              _createClass(Tooltip2, [{
                key: "hide",
                value: function hide2() {
                  this.root.classList.add("ql-hidden");
                }
              }, {
                key: "position",
                value: function position3(reference2) {
                  var left2 = reference2.left + reference2.width / 2 - this.root.offsetWidth / 2;
                  var top2 = reference2.bottom + this.quill.root.scrollTop;
                  this.root.style.left = left2 + "px";
                  this.root.style.top = top2 + "px";
                  this.root.classList.remove("ql-flip");
                  var containerBounds = this.boundsContainer.getBoundingClientRect();
                  var rootBounds = this.root.getBoundingClientRect();
                  var shift3 = 0;
                  if (rootBounds.right > containerBounds.right) {
                    shift3 = containerBounds.right - rootBounds.right;
                    this.root.style.left = left2 + shift3 + "px";
                  }
                  if (rootBounds.left < containerBounds.left) {
                    shift3 = containerBounds.left - rootBounds.left;
                    this.root.style.left = left2 + shift3 + "px";
                  }
                  if (rootBounds.bottom > containerBounds.bottom) {
                    var height = rootBounds.bottom - rootBounds.top;
                    var verticalShift = reference2.bottom - reference2.top + height;
                    this.root.style.top = top2 - verticalShift + "px";
                    this.root.classList.add("ql-flip");
                  }
                  return shift3;
                }
              }, {
                key: "show",
                value: function show() {
                  this.root.classList.remove("ql-editing");
                  this.root.classList.remove("ql-hidden");
                }
              }]);
              return Tooltip2;
            }();
            exports2.default = Tooltip;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _slicedToArray = function() {
              function sliceIterator(arr, i3) {
                var _arr = [];
                var _n = true;
                var _d = false;
                var _e = void 0;
                try {
                  for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                    _arr.push(_s.value);
                    if (i3 && _arr.length === i3)
                      break;
                  }
                } catch (err) {
                  _d = true;
                  _e = err;
                } finally {
                  try {
                    if (!_n && _i["return"])
                      _i["return"]();
                  } finally {
                    if (_d)
                      throw _e;
                  }
                }
                return _arr;
              }
              return function(arr, i3) {
                if (Array.isArray(arr)) {
                  return arr;
                } else if (Symbol.iterator in Object(arr)) {
                  return sliceIterator(arr, i3);
                } else {
                  throw new TypeError("Invalid attempt to destructure non-iterable instance");
                }
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _extend = __webpack_require__(3);
            var _extend2 = _interopRequireDefault(_extend);
            var _emitter = __webpack_require__(8);
            var _emitter2 = _interopRequireDefault(_emitter);
            var _base = __webpack_require__(43);
            var _base2 = _interopRequireDefault(_base);
            var _link = __webpack_require__(27);
            var _link2 = _interopRequireDefault(_link);
            var _selection = __webpack_require__(15);
            var _icons = __webpack_require__(41);
            var _icons2 = _interopRequireDefault(_icons);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var TOOLBAR_CONFIG = [[{ header: ["1", "2", "3", false] }], ["bold", "italic", "underline", "link"], [{ list: "ordered" }, { list: "bullet" }], ["clean"]];
            var SnowTheme = function(_BaseTheme) {
              _inherits(SnowTheme2, _BaseTheme);
              function SnowTheme2(quill, options) {
                _classCallCheck(this, SnowTheme2);
                if (options.modules.toolbar != null && options.modules.toolbar.container == null) {
                  options.modules.toolbar.container = TOOLBAR_CONFIG;
                }
                var _this = _possibleConstructorReturn(this, (SnowTheme2.__proto__ || Object.getPrototypeOf(SnowTheme2)).call(this, quill, options));
                _this.quill.container.classList.add("ql-snow");
                return _this;
              }
              _createClass(SnowTheme2, [{
                key: "extendToolbar",
                value: function extendToolbar(toolbar) {
                  toolbar.container.classList.add("ql-snow");
                  this.buildButtons([].slice.call(toolbar.container.querySelectorAll("button")), _icons2.default);
                  this.buildPickers([].slice.call(toolbar.container.querySelectorAll("select")), _icons2.default);
                  this.tooltip = new SnowTooltip(this.quill, this.options.bounds);
                  if (toolbar.container.querySelector(".ql-link")) {
                    this.quill.keyboard.addBinding({ key: "K", shortKey: true }, function(range, context) {
                      toolbar.handlers["link"].call(toolbar, !context.format.link);
                    });
                  }
                }
              }]);
              return SnowTheme2;
            }(_base2.default);
            SnowTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {
              modules: {
                toolbar: {
                  handlers: {
                    link: function link(value) {
                      if (value) {
                        var range = this.quill.getSelection();
                        if (range == null || range.length == 0)
                          return;
                        var preview = this.quill.getText(range);
                        if (/^\S+@\S+\.\S+$/.test(preview) && preview.indexOf("mailto:") !== 0) {
                          preview = "mailto:" + preview;
                        }
                        var tooltip = this.quill.theme.tooltip;
                        tooltip.edit("link", preview);
                      } else {
                        this.quill.format("link", false);
                      }
                    }
                  }
                }
              }
            });
            var SnowTooltip = function(_BaseTooltip) {
              _inherits(SnowTooltip2, _BaseTooltip);
              function SnowTooltip2(quill, bounds) {
                _classCallCheck(this, SnowTooltip2);
                var _this2 = _possibleConstructorReturn(this, (SnowTooltip2.__proto__ || Object.getPrototypeOf(SnowTooltip2)).call(this, quill, bounds));
                _this2.preview = _this2.root.querySelector("a.ql-preview");
                return _this2;
              }
              _createClass(SnowTooltip2, [{
                key: "listen",
                value: function listen() {
                  var _this3 = this;
                  _get(SnowTooltip2.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip2.prototype), "listen", this).call(this);
                  this.root.querySelector("a.ql-action").addEventListener("click", function(event) {
                    if (_this3.root.classList.contains("ql-editing")) {
                      _this3.save();
                    } else {
                      _this3.edit("link", _this3.preview.textContent);
                    }
                    event.preventDefault();
                  });
                  this.root.querySelector("a.ql-remove").addEventListener("click", function(event) {
                    if (_this3.linkRange != null) {
                      var range = _this3.linkRange;
                      _this3.restoreFocus();
                      _this3.quill.formatText(range, "link", false, _emitter2.default.sources.USER);
                      delete _this3.linkRange;
                    }
                    event.preventDefault();
                    _this3.hide();
                  });
                  this.quill.on(_emitter2.default.events.SELECTION_CHANGE, function(range, oldRange, source) {
                    if (range == null)
                      return;
                    if (range.length === 0 && source === _emitter2.default.sources.USER) {
                      var _quill$scroll$descend = _this3.quill.scroll.descendant(_link2.default, range.index), _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2), link = _quill$scroll$descend2[0], offset4 = _quill$scroll$descend2[1];
                      if (link != null) {
                        _this3.linkRange = new _selection.Range(range.index - offset4, link.length());
                        var preview = _link2.default.formats(link.domNode);
                        _this3.preview.textContent = preview;
                        _this3.preview.setAttribute("href", preview);
                        _this3.show();
                        _this3.position(_this3.quill.getBounds(_this3.linkRange));
                        return;
                      }
                    } else {
                      delete _this3.linkRange;
                    }
                    _this3.hide();
                  });
                }
              }, {
                key: "show",
                value: function show() {
                  _get(SnowTooltip2.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip2.prototype), "show", this).call(this);
                  this.root.removeAttribute("data-mode");
                }
              }]);
              return SnowTooltip2;
            }(_base.BaseTooltip);
            SnowTooltip.TEMPLATE = ['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>', '<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">', '<a class="ql-action"></a>', '<a class="ql-remove"></a>'].join("");
            exports2.default = SnowTheme;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _core = __webpack_require__(29);
            var _core2 = _interopRequireDefault(_core);
            var _align = __webpack_require__(36);
            var _direction = __webpack_require__(38);
            var _indent = __webpack_require__(64);
            var _blockquote = __webpack_require__(65);
            var _blockquote2 = _interopRequireDefault(_blockquote);
            var _header = __webpack_require__(66);
            var _header2 = _interopRequireDefault(_header);
            var _list = __webpack_require__(67);
            var _list2 = _interopRequireDefault(_list);
            var _background = __webpack_require__(37);
            var _color = __webpack_require__(26);
            var _font = __webpack_require__(39);
            var _size = __webpack_require__(40);
            var _bold = __webpack_require__(56);
            var _bold2 = _interopRequireDefault(_bold);
            var _italic = __webpack_require__(68);
            var _italic2 = _interopRequireDefault(_italic);
            var _link = __webpack_require__(27);
            var _link2 = _interopRequireDefault(_link);
            var _script = __webpack_require__(69);
            var _script2 = _interopRequireDefault(_script);
            var _strike = __webpack_require__(70);
            var _strike2 = _interopRequireDefault(_strike);
            var _underline = __webpack_require__(71);
            var _underline2 = _interopRequireDefault(_underline);
            var _image = __webpack_require__(72);
            var _image2 = _interopRequireDefault(_image);
            var _video = __webpack_require__(73);
            var _video2 = _interopRequireDefault(_video);
            var _code = __webpack_require__(13);
            var _code2 = _interopRequireDefault(_code);
            var _formula = __webpack_require__(74);
            var _formula2 = _interopRequireDefault(_formula);
            var _syntax = __webpack_require__(75);
            var _syntax2 = _interopRequireDefault(_syntax);
            var _toolbar = __webpack_require__(57);
            var _toolbar2 = _interopRequireDefault(_toolbar);
            var _icons = __webpack_require__(41);
            var _icons2 = _interopRequireDefault(_icons);
            var _picker = __webpack_require__(28);
            var _picker2 = _interopRequireDefault(_picker);
            var _colorPicker = __webpack_require__(59);
            var _colorPicker2 = _interopRequireDefault(_colorPicker);
            var _iconPicker = __webpack_require__(60);
            var _iconPicker2 = _interopRequireDefault(_iconPicker);
            var _tooltip = __webpack_require__(61);
            var _tooltip2 = _interopRequireDefault(_tooltip);
            var _bubble = __webpack_require__(108);
            var _bubble2 = _interopRequireDefault(_bubble);
            var _snow = __webpack_require__(62);
            var _snow2 = _interopRequireDefault(_snow);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            _core2.default.register({
              "attributors/attribute/direction": _direction.DirectionAttribute,
              "attributors/class/align": _align.AlignClass,
              "attributors/class/background": _background.BackgroundClass,
              "attributors/class/color": _color.ColorClass,
              "attributors/class/direction": _direction.DirectionClass,
              "attributors/class/font": _font.FontClass,
              "attributors/class/size": _size.SizeClass,
              "attributors/style/align": _align.AlignStyle,
              "attributors/style/background": _background.BackgroundStyle,
              "attributors/style/color": _color.ColorStyle,
              "attributors/style/direction": _direction.DirectionStyle,
              "attributors/style/font": _font.FontStyle,
              "attributors/style/size": _size.SizeStyle
            }, true);
            _core2.default.register({
              "formats/align": _align.AlignClass,
              "formats/direction": _direction.DirectionClass,
              "formats/indent": _indent.IndentClass,
              "formats/background": _background.BackgroundStyle,
              "formats/color": _color.ColorStyle,
              "formats/font": _font.FontClass,
              "formats/size": _size.SizeClass,
              "formats/blockquote": _blockquote2.default,
              "formats/code-block": _code2.default,
              "formats/header": _header2.default,
              "formats/list": _list2.default,
              "formats/bold": _bold2.default,
              "formats/code": _code.Code,
              "formats/italic": _italic2.default,
              "formats/link": _link2.default,
              "formats/script": _script2.default,
              "formats/strike": _strike2.default,
              "formats/underline": _underline2.default,
              "formats/image": _image2.default,
              "formats/video": _video2.default,
              "formats/list/item": _list.ListItem,
              "modules/formula": _formula2.default,
              "modules/syntax": _syntax2.default,
              "modules/toolbar": _toolbar2.default,
              "themes/bubble": _bubble2.default,
              "themes/snow": _snow2.default,
              "ui/icons": _icons2.default,
              "ui/picker": _picker2.default,
              "ui/icon-picker": _iconPicker2.default,
              "ui/color-picker": _colorPicker2.default,
              "ui/tooltip": _tooltip2.default
            }, true);
            exports2.default = _core2.default;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.IndentClass = void 0;
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var IdentAttributor = function(_Parchment$Attributor) {
              _inherits(IdentAttributor2, _Parchment$Attributor);
              function IdentAttributor2() {
                _classCallCheck(this, IdentAttributor2);
                return _possibleConstructorReturn(this, (IdentAttributor2.__proto__ || Object.getPrototypeOf(IdentAttributor2)).apply(this, arguments));
              }
              _createClass(IdentAttributor2, [{
                key: "add",
                value: function add3(node, value) {
                  if (value === "+1" || value === "-1") {
                    var indent = this.value(node) || 0;
                    value = value === "+1" ? indent + 1 : indent - 1;
                  }
                  if (value === 0) {
                    this.remove(node);
                    return true;
                  } else {
                    return _get(IdentAttributor2.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor2.prototype), "add", this).call(this, node, value);
                  }
                }
              }, {
                key: "canAdd",
                value: function canAdd(node, value) {
                  return _get(IdentAttributor2.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor2.prototype), "canAdd", this).call(this, node, value) || _get(IdentAttributor2.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor2.prototype), "canAdd", this).call(this, node, parseInt(value));
                }
              }, {
                key: "value",
                value: function value(node) {
                  return parseInt(_get(IdentAttributor2.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor2.prototype), "value", this).call(this, node)) || void 0;
                }
              }]);
              return IdentAttributor2;
            }(_parchment2.default.Attributor.Class);
            var IndentClass = new IdentAttributor("indent", "ql-indent", {
              scope: _parchment2.default.Scope.BLOCK,
              whitelist: [1, 2, 3, 4, 5, 6, 7, 8]
            });
            exports2.IndentClass = IndentClass;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _block = __webpack_require__(4);
            var _block2 = _interopRequireDefault(_block);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var Blockquote = function(_Block) {
              _inherits(Blockquote2, _Block);
              function Blockquote2() {
                _classCallCheck(this, Blockquote2);
                return _possibleConstructorReturn(this, (Blockquote2.__proto__ || Object.getPrototypeOf(Blockquote2)).apply(this, arguments));
              }
              return Blockquote2;
            }(_block2.default);
            Blockquote.blotName = "blockquote";
            Blockquote.tagName = "blockquote";
            exports2.default = Blockquote;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _block = __webpack_require__(4);
            var _block2 = _interopRequireDefault(_block);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var Header = function(_Block) {
              _inherits(Header2, _Block);
              function Header2() {
                _classCallCheck(this, Header2);
                return _possibleConstructorReturn(this, (Header2.__proto__ || Object.getPrototypeOf(Header2)).apply(this, arguments));
              }
              _createClass(Header2, null, [{
                key: "formats",
                value: function formats(domNode) {
                  return this.tagName.indexOf(domNode.tagName) + 1;
                }
              }]);
              return Header2;
            }(_block2.default);
            Header.blotName = "header";
            Header.tagName = ["H1", "H2", "H3", "H4", "H5", "H6"];
            exports2.default = Header;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.default = exports2.ListItem = void 0;
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            var _block = __webpack_require__(4);
            var _block2 = _interopRequireDefault(_block);
            var _container = __webpack_require__(25);
            var _container2 = _interopRequireDefault(_container);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _defineProperty2(obj, key, value) {
              if (key in obj) {
                Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
              } else {
                obj[key] = value;
              }
              return obj;
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var ListItem = function(_Block) {
              _inherits(ListItem2, _Block);
              function ListItem2() {
                _classCallCheck(this, ListItem2);
                return _possibleConstructorReturn(this, (ListItem2.__proto__ || Object.getPrototypeOf(ListItem2)).apply(this, arguments));
              }
              _createClass(ListItem2, [{
                key: "format",
                value: function format2(name, value) {
                  if (name === List2.blotName && !value) {
                    this.replaceWith(_parchment2.default.create(this.statics.scope));
                  } else {
                    _get(ListItem2.prototype.__proto__ || Object.getPrototypeOf(ListItem2.prototype), "format", this).call(this, name, value);
                  }
                }
              }, {
                key: "remove",
                value: function remove() {
                  if (this.prev == null && this.next == null) {
                    this.parent.remove();
                  } else {
                    _get(ListItem2.prototype.__proto__ || Object.getPrototypeOf(ListItem2.prototype), "remove", this).call(this);
                  }
                }
              }, {
                key: "replaceWith",
                value: function replaceWith(name, value) {
                  this.parent.isolate(this.offset(this.parent), this.length());
                  if (name === this.parent.statics.blotName) {
                    this.parent.replaceWith(name, value);
                    return this;
                  } else {
                    this.parent.unwrap();
                    return _get(ListItem2.prototype.__proto__ || Object.getPrototypeOf(ListItem2.prototype), "replaceWith", this).call(this, name, value);
                  }
                }
              }], [{
                key: "formats",
                value: function formats(domNode) {
                  return domNode.tagName === this.tagName ? void 0 : _get(ListItem2.__proto__ || Object.getPrototypeOf(ListItem2), "formats", this).call(this, domNode);
                }
              }]);
              return ListItem2;
            }(_block2.default);
            ListItem.blotName = "list-item";
            ListItem.tagName = "LI";
            var List2 = function(_Container) {
              _inherits(List3, _Container);
              _createClass(List3, null, [{
                key: "create",
                value: function create2(value) {
                  var tagName = value === "ordered" ? "OL" : "UL";
                  var node = _get(List3.__proto__ || Object.getPrototypeOf(List3), "create", this).call(this, tagName);
                  if (value === "checked" || value === "unchecked") {
                    node.setAttribute("data-checked", value === "checked");
                  }
                  return node;
                }
              }, {
                key: "formats",
                value: function formats(domNode) {
                  if (domNode.tagName === "OL")
                    return "ordered";
                  if (domNode.tagName === "UL") {
                    if (domNode.hasAttribute("data-checked")) {
                      return domNode.getAttribute("data-checked") === "true" ? "checked" : "unchecked";
                    } else {
                      return "bullet";
                    }
                  }
                  return void 0;
                }
              }]);
              function List3(domNode) {
                _classCallCheck(this, List3);
                var _this2 = _possibleConstructorReturn(this, (List3.__proto__ || Object.getPrototypeOf(List3)).call(this, domNode));
                var listEventHandler = function listEventHandler2(e2) {
                  if (e2.target.parentNode !== domNode)
                    return;
                  var format2 = _this2.statics.formats(domNode);
                  var blot = _parchment2.default.find(e2.target);
                  if (format2 === "checked") {
                    blot.format("list", "unchecked");
                  } else if (format2 === "unchecked") {
                    blot.format("list", "checked");
                  }
                };
                domNode.addEventListener("touchstart", listEventHandler);
                domNode.addEventListener("mousedown", listEventHandler);
                return _this2;
              }
              _createClass(List3, [{
                key: "format",
                value: function format2(name, value) {
                  if (this.children.length > 0) {
                    this.children.tail.format(name, value);
                  }
                }
              }, {
                key: "formats",
                value: function formats() {
                  return _defineProperty2({}, this.statics.blotName, this.statics.formats(this.domNode));
                }
              }, {
                key: "insertBefore",
                value: function insertBefore(blot, ref2) {
                  if (blot instanceof ListItem) {
                    _get(List3.prototype.__proto__ || Object.getPrototypeOf(List3.prototype), "insertBefore", this).call(this, blot, ref2);
                  } else {
                    var index2 = ref2 == null ? this.length() : ref2.offset(this);
                    var after = this.split(index2);
                    after.parent.insertBefore(blot, after);
                  }
                }
              }, {
                key: "optimize",
                value: function optimize(context) {
                  _get(List3.prototype.__proto__ || Object.getPrototypeOf(List3.prototype), "optimize", this).call(this, context);
                  var next = this.next;
                  if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && next.domNode.tagName === this.domNode.tagName && next.domNode.getAttribute("data-checked") === this.domNode.getAttribute("data-checked")) {
                    next.moveChildren(this);
                    next.remove();
                  }
                }
              }, {
                key: "replace",
                value: function replace(target) {
                  if (target.statics.blotName !== this.statics.blotName) {
                    var item = _parchment2.default.create(this.statics.defaultChild);
                    target.moveChildren(item);
                    this.appendChild(item);
                  }
                  _get(List3.prototype.__proto__ || Object.getPrototypeOf(List3.prototype), "replace", this).call(this, target);
                }
              }]);
              return List3;
            }(_container2.default);
            List2.blotName = "list";
            List2.scope = _parchment2.default.Scope.BLOCK_BLOT;
            List2.tagName = ["OL", "UL"];
            List2.defaultChild = "list-item";
            List2.allowedChildren = [ListItem];
            exports2.ListItem = ListItem;
            exports2.default = List2;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _bold = __webpack_require__(56);
            var _bold2 = _interopRequireDefault(_bold);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var Italic = function(_Bold) {
              _inherits(Italic2, _Bold);
              function Italic2() {
                _classCallCheck(this, Italic2);
                return _possibleConstructorReturn(this, (Italic2.__proto__ || Object.getPrototypeOf(Italic2)).apply(this, arguments));
              }
              return Italic2;
            }(_bold2.default);
            Italic.blotName = "italic";
            Italic.tagName = ["EM", "I"];
            exports2.default = Italic;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _inline = __webpack_require__(6);
            var _inline2 = _interopRequireDefault(_inline);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var Script = function(_Inline) {
              _inherits(Script2, _Inline);
              function Script2() {
                _classCallCheck(this, Script2);
                return _possibleConstructorReturn(this, (Script2.__proto__ || Object.getPrototypeOf(Script2)).apply(this, arguments));
              }
              _createClass(Script2, null, [{
                key: "create",
                value: function create2(value) {
                  if (value === "super") {
                    return document.createElement("sup");
                  } else if (value === "sub") {
                    return document.createElement("sub");
                  } else {
                    return _get(Script2.__proto__ || Object.getPrototypeOf(Script2), "create", this).call(this, value);
                  }
                }
              }, {
                key: "formats",
                value: function formats(domNode) {
                  if (domNode.tagName === "SUB")
                    return "sub";
                  if (domNode.tagName === "SUP")
                    return "super";
                  return void 0;
                }
              }]);
              return Script2;
            }(_inline2.default);
            Script.blotName = "script";
            Script.tagName = ["SUB", "SUP"];
            exports2.default = Script;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _inline = __webpack_require__(6);
            var _inline2 = _interopRequireDefault(_inline);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var Strike = function(_Inline) {
              _inherits(Strike2, _Inline);
              function Strike2() {
                _classCallCheck(this, Strike2);
                return _possibleConstructorReturn(this, (Strike2.__proto__ || Object.getPrototypeOf(Strike2)).apply(this, arguments));
              }
              return Strike2;
            }(_inline2.default);
            Strike.blotName = "strike";
            Strike.tagName = "S";
            exports2.default = Strike;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _inline = __webpack_require__(6);
            var _inline2 = _interopRequireDefault(_inline);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var Underline = function(_Inline) {
              _inherits(Underline2, _Inline);
              function Underline2() {
                _classCallCheck(this, Underline2);
                return _possibleConstructorReturn(this, (Underline2.__proto__ || Object.getPrototypeOf(Underline2)).apply(this, arguments));
              }
              return Underline2;
            }(_inline2.default);
            Underline.blotName = "underline";
            Underline.tagName = "U";
            exports2.default = Underline;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            var _link = __webpack_require__(27);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var ATTRIBUTES = ["alt", "height", "width"];
            var Image = function(_Parchment$Embed) {
              _inherits(Image2, _Parchment$Embed);
              function Image2() {
                _classCallCheck(this, Image2);
                return _possibleConstructorReturn(this, (Image2.__proto__ || Object.getPrototypeOf(Image2)).apply(this, arguments));
              }
              _createClass(Image2, [{
                key: "format",
                value: function format2(name, value) {
                  if (ATTRIBUTES.indexOf(name) > -1) {
                    if (value) {
                      this.domNode.setAttribute(name, value);
                    } else {
                      this.domNode.removeAttribute(name);
                    }
                  } else {
                    _get(Image2.prototype.__proto__ || Object.getPrototypeOf(Image2.prototype), "format", this).call(this, name, value);
                  }
                }
              }], [{
                key: "create",
                value: function create2(value) {
                  var node = _get(Image2.__proto__ || Object.getPrototypeOf(Image2), "create", this).call(this, value);
                  if (typeof value === "string") {
                    node.setAttribute("src", this.sanitize(value));
                  }
                  return node;
                }
              }, {
                key: "formats",
                value: function formats(domNode) {
                  return ATTRIBUTES.reduce(function(formats2, attribute) {
                    if (domNode.hasAttribute(attribute)) {
                      formats2[attribute] = domNode.getAttribute(attribute);
                    }
                    return formats2;
                  }, {});
                }
              }, {
                key: "match",
                value: function match2(url) {
                  return /\.(jpe?g|gif|png)$/.test(url) || /^data:image\/.+;base64/.test(url);
                }
              }, {
                key: "sanitize",
                value: function sanitize(url) {
                  return (0, _link.sanitize)(url, ["http", "https", "data"]) ? url : "//:0";
                }
              }, {
                key: "value",
                value: function value(domNode) {
                  return domNode.getAttribute("src");
                }
              }]);
              return Image2;
            }(_parchment2.default.Embed);
            Image.blotName = "image";
            Image.tagName = "IMG";
            exports2.default = Image;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _block = __webpack_require__(4);
            var _link = __webpack_require__(27);
            var _link2 = _interopRequireDefault(_link);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var ATTRIBUTES = ["height", "width"];
            var Video = function(_BlockEmbed) {
              _inherits(Video2, _BlockEmbed);
              function Video2() {
                _classCallCheck(this, Video2);
                return _possibleConstructorReturn(this, (Video2.__proto__ || Object.getPrototypeOf(Video2)).apply(this, arguments));
              }
              _createClass(Video2, [{
                key: "format",
                value: function format2(name, value) {
                  if (ATTRIBUTES.indexOf(name) > -1) {
                    if (value) {
                      this.domNode.setAttribute(name, value);
                    } else {
                      this.domNode.removeAttribute(name);
                    }
                  } else {
                    _get(Video2.prototype.__proto__ || Object.getPrototypeOf(Video2.prototype), "format", this).call(this, name, value);
                  }
                }
              }], [{
                key: "create",
                value: function create2(value) {
                  var node = _get(Video2.__proto__ || Object.getPrototypeOf(Video2), "create", this).call(this, value);
                  node.setAttribute("frameborder", "0");
                  node.setAttribute("allowfullscreen", true);
                  node.setAttribute("src", this.sanitize(value));
                  return node;
                }
              }, {
                key: "formats",
                value: function formats(domNode) {
                  return ATTRIBUTES.reduce(function(formats2, attribute) {
                    if (domNode.hasAttribute(attribute)) {
                      formats2[attribute] = domNode.getAttribute(attribute);
                    }
                    return formats2;
                  }, {});
                }
              }, {
                key: "sanitize",
                value: function sanitize(url) {
                  return _link2.default.sanitize(url);
                }
              }, {
                key: "value",
                value: function value(domNode) {
                  return domNode.getAttribute("src");
                }
              }]);
              return Video2;
            }(_block.BlockEmbed);
            Video.blotName = "video";
            Video.className = "ql-video";
            Video.tagName = "IFRAME";
            exports2.default = Video;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.default = exports2.FormulaBlot = void 0;
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _embed = __webpack_require__(35);
            var _embed2 = _interopRequireDefault(_embed);
            var _quill = __webpack_require__(5);
            var _quill2 = _interopRequireDefault(_quill);
            var _module = __webpack_require__(9);
            var _module2 = _interopRequireDefault(_module);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var FormulaBlot = function(_Embed) {
              _inherits(FormulaBlot2, _Embed);
              function FormulaBlot2() {
                _classCallCheck(this, FormulaBlot2);
                return _possibleConstructorReturn(this, (FormulaBlot2.__proto__ || Object.getPrototypeOf(FormulaBlot2)).apply(this, arguments));
              }
              _createClass(FormulaBlot2, null, [{
                key: "create",
                value: function create2(value) {
                  var node = _get(FormulaBlot2.__proto__ || Object.getPrototypeOf(FormulaBlot2), "create", this).call(this, value);
                  if (typeof value === "string") {
                    window.katex.render(value, node, {
                      throwOnError: false,
                      errorColor: "#f00"
                    });
                    node.setAttribute("data-value", value);
                  }
                  return node;
                }
              }, {
                key: "value",
                value: function value(domNode) {
                  return domNode.getAttribute("data-value");
                }
              }]);
              return FormulaBlot2;
            }(_embed2.default);
            FormulaBlot.blotName = "formula";
            FormulaBlot.className = "ql-formula";
            FormulaBlot.tagName = "SPAN";
            var Formula = function(_Module) {
              _inherits(Formula2, _Module);
              _createClass(Formula2, null, [{
                key: "register",
                value: function register() {
                  _quill2.default.register(FormulaBlot, true);
                }
              }]);
              function Formula2() {
                _classCallCheck(this, Formula2);
                var _this2 = _possibleConstructorReturn(this, (Formula2.__proto__ || Object.getPrototypeOf(Formula2)).call(this));
                if (window.katex == null) {
                  throw new Error("Formula module requires KaTeX.");
                }
                return _this2;
              }
              return Formula2;
            }(_module2.default);
            exports2.FormulaBlot = FormulaBlot;
            exports2.default = Formula;
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.default = exports2.CodeToken = exports2.CodeBlock = void 0;
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _parchment = __webpack_require__(0);
            var _parchment2 = _interopRequireDefault(_parchment);
            var _quill = __webpack_require__(5);
            var _quill2 = _interopRequireDefault(_quill);
            var _module = __webpack_require__(9);
            var _module2 = _interopRequireDefault(_module);
            var _code = __webpack_require__(13);
            var _code2 = _interopRequireDefault(_code);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var SyntaxCodeBlock = function(_CodeBlock) {
              _inherits(SyntaxCodeBlock2, _CodeBlock);
              function SyntaxCodeBlock2() {
                _classCallCheck(this, SyntaxCodeBlock2);
                return _possibleConstructorReturn(this, (SyntaxCodeBlock2.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock2)).apply(this, arguments));
              }
              _createClass(SyntaxCodeBlock2, [{
                key: "replaceWith",
                value: function replaceWith(block) {
                  this.domNode.textContent = this.domNode.textContent;
                  this.attach();
                  _get(SyntaxCodeBlock2.prototype.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock2.prototype), "replaceWith", this).call(this, block);
                }
              }, {
                key: "highlight",
                value: function highlight(_highlight) {
                  var text = this.domNode.textContent;
                  if (this.cachedText !== text) {
                    if (text.trim().length > 0 || this.cachedText == null) {
                      this.domNode.innerHTML = _highlight(text);
                      this.domNode.normalize();
                      this.attach();
                    }
                    this.cachedText = text;
                  }
                }
              }]);
              return SyntaxCodeBlock2;
            }(_code2.default);
            SyntaxCodeBlock.className = "ql-syntax";
            var CodeToken = new _parchment2.default.Attributor.Class("token", "hljs", {
              scope: _parchment2.default.Scope.INLINE
            });
            var Syntax = function(_Module) {
              _inherits(Syntax2, _Module);
              _createClass(Syntax2, null, [{
                key: "register",
                value: function register() {
                  _quill2.default.register(CodeToken, true);
                  _quill2.default.register(SyntaxCodeBlock, true);
                }
              }]);
              function Syntax2(quill, options) {
                _classCallCheck(this, Syntax2);
                var _this2 = _possibleConstructorReturn(this, (Syntax2.__proto__ || Object.getPrototypeOf(Syntax2)).call(this, quill, options));
                if (typeof _this2.options.highlight !== "function") {
                  throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");
                }
                var timer = null;
                _this2.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function() {
                  clearTimeout(timer);
                  timer = setTimeout(function() {
                    _this2.highlight();
                    timer = null;
                  }, _this2.options.interval);
                });
                _this2.highlight();
                return _this2;
              }
              _createClass(Syntax2, [{
                key: "highlight",
                value: function highlight() {
                  var _this3 = this;
                  if (this.quill.selection.composing)
                    return;
                  this.quill.update(_quill2.default.sources.USER);
                  var range = this.quill.getSelection();
                  this.quill.scroll.descendants(SyntaxCodeBlock).forEach(function(code) {
                    code.highlight(_this3.options.highlight);
                  });
                  this.quill.update(_quill2.default.sources.SILENT);
                  if (range != null) {
                    this.quill.setSelection(range, _quill2.default.sources.SILENT);
                  }
                }
              }]);
              return Syntax2;
            }(_module2.default);
            Syntax.DEFAULTS = {
              highlight: function() {
                if (window.hljs == null)
                  return null;
                return function(text) {
                  var result = window.hljs.highlightAuto(text);
                  return result.value;
                };
              }(),
              interval: 1e3
            };
            exports2.CodeBlock = SyntaxCodeBlock;
            exports2.CodeToken = CodeToken;
            exports2.default = Syntax;
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>';
          },
          function(module2, exports2) {
            module2.exports = '<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>';
          },
          function(module2, exports2, __webpack_require__) {
            "use strict";
            Object.defineProperty(exports2, "__esModule", {
              value: true
            });
            exports2.default = exports2.BubbleTooltip = void 0;
            var _get = function get2(object, property, receiver) {
              if (object === null)
                object = Function.prototype;
              var desc = Object.getOwnPropertyDescriptor(object, property);
              if (desc === void 0) {
                var parent = Object.getPrototypeOf(object);
                if (parent === null) {
                  return void 0;
                } else {
                  return get2(parent, property, receiver);
                }
              } else if ("value" in desc) {
                return desc.value;
              } else {
                var getter = desc.get;
                if (getter === void 0) {
                  return void 0;
                }
                return getter.call(receiver);
              }
            };
            var _createClass = function() {
              function defineProperties(target, props) {
                for (var i3 = 0; i3 < props.length; i3++) {
                  var descriptor = props[i3];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
            var _extend = __webpack_require__(3);
            var _extend2 = _interopRequireDefault(_extend);
            var _emitter = __webpack_require__(8);
            var _emitter2 = _interopRequireDefault(_emitter);
            var _base = __webpack_require__(43);
            var _base2 = _interopRequireDefault(_base);
            var _selection = __webpack_require__(15);
            var _icons = __webpack_require__(41);
            var _icons2 = _interopRequireDefault(_icons);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _possibleConstructorReturn(self2, call) {
              if (!self2) {
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              }
              return call && (typeof call === "object" || typeof call === "function") ? call : self2;
            }
            function _inherits(subClass, superClass) {
              if (typeof superClass !== "function" && superClass !== null) {
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
              }
              subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
              if (superClass)
                Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
            }
            var TOOLBAR_CONFIG = [["bold", "italic", "link"], [{ header: 1 }, { header: 2 }, "blockquote"]];
            var BubbleTheme = function(_BaseTheme) {
              _inherits(BubbleTheme2, _BaseTheme);
              function BubbleTheme2(quill, options) {
                _classCallCheck(this, BubbleTheme2);
                if (options.modules.toolbar != null && options.modules.toolbar.container == null) {
                  options.modules.toolbar.container = TOOLBAR_CONFIG;
                }
                var _this = _possibleConstructorReturn(this, (BubbleTheme2.__proto__ || Object.getPrototypeOf(BubbleTheme2)).call(this, quill, options));
                _this.quill.container.classList.add("ql-bubble");
                return _this;
              }
              _createClass(BubbleTheme2, [{
                key: "extendToolbar",
                value: function extendToolbar(toolbar) {
                  this.tooltip = new BubbleTooltip(this.quill, this.options.bounds);
                  this.tooltip.root.appendChild(toolbar.container);
                  this.buildButtons([].slice.call(toolbar.container.querySelectorAll("button")), _icons2.default);
                  this.buildPickers([].slice.call(toolbar.container.querySelectorAll("select")), _icons2.default);
                }
              }]);
              return BubbleTheme2;
            }(_base2.default);
            BubbleTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {
              modules: {
                toolbar: {
                  handlers: {
                    link: function link(value) {
                      if (!value) {
                        this.quill.format("link", false);
                      } else {
                        this.quill.theme.tooltip.edit();
                      }
                    }
                  }
                }
              }
            });
            var BubbleTooltip = function(_BaseTooltip) {
              _inherits(BubbleTooltip2, _BaseTooltip);
              function BubbleTooltip2(quill, bounds) {
                _classCallCheck(this, BubbleTooltip2);
                var _this2 = _possibleConstructorReturn(this, (BubbleTooltip2.__proto__ || Object.getPrototypeOf(BubbleTooltip2)).call(this, quill, bounds));
                _this2.quill.on(_emitter2.default.events.EDITOR_CHANGE, function(type, range, oldRange, source) {
                  if (type !== _emitter2.default.events.SELECTION_CHANGE)
                    return;
                  if (range != null && range.length > 0 && source === _emitter2.default.sources.USER) {
                    _this2.show();
                    _this2.root.style.left = "0px";
                    _this2.root.style.width = "";
                    _this2.root.style.width = _this2.root.offsetWidth + "px";
                    var lines = _this2.quill.getLines(range.index, range.length);
                    if (lines.length === 1) {
                      _this2.position(_this2.quill.getBounds(range));
                    } else {
                      var lastLine = lines[lines.length - 1];
                      var index2 = _this2.quill.getIndex(lastLine);
                      var length = Math.min(lastLine.length() - 1, range.index + range.length - index2);
                      var _bounds = _this2.quill.getBounds(new _selection.Range(index2, length));
                      _this2.position(_bounds);
                    }
                  } else if (document.activeElement !== _this2.textbox && _this2.quill.hasFocus()) {
                    _this2.hide();
                  }
                });
                return _this2;
              }
              _createClass(BubbleTooltip2, [{
                key: "listen",
                value: function listen() {
                  var _this3 = this;
                  _get(BubbleTooltip2.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip2.prototype), "listen", this).call(this);
                  this.root.querySelector(".ql-close").addEventListener("click", function() {
                    _this3.root.classList.remove("ql-editing");
                  });
                  this.quill.on(_emitter2.default.events.SCROLL_OPTIMIZE, function() {
                    setTimeout(function() {
                      if (_this3.root.classList.contains("ql-hidden"))
                        return;
                      var range = _this3.quill.getSelection();
                      if (range != null) {
                        _this3.position(_this3.quill.getBounds(range));
                      }
                    }, 1);
                  });
                }
              }, {
                key: "cancel",
                value: function cancel() {
                  this.show();
                }
              }, {
                key: "position",
                value: function position3(reference2) {
                  var shift3 = _get(BubbleTooltip2.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip2.prototype), "position", this).call(this, reference2);
                  var arrow2 = this.root.querySelector(".ql-tooltip-arrow");
                  arrow2.style.marginLeft = "";
                  if (shift3 === 0)
                    return shift3;
                  arrow2.style.marginLeft = -1 * shift3 - arrow2.offsetWidth / 2 + "px";
                }
              }]);
              return BubbleTooltip2;
            }(_base.BaseTooltip);
            BubbleTooltip.TEMPLATE = ['<span class="ql-tooltip-arrow"></span>', '<div class="ql-tooltip-editor">', '<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">', '<a class="ql-close"></a>', "</div>"].join("");
            exports2.BubbleTooltip = BubbleTooltip;
            exports2.default = BubbleTheme;
          },
          function(module2, exports2, __webpack_require__) {
            module2.exports = __webpack_require__(63);
          }
        ])["default"];
      });
    }
  });

  // ../../node_modules/create-react-class/factory.js
  var require_factory = __commonJS({
    "../../node_modules/create-react-class/factory.js"(exports, module) {
      "use strict";
      var _assign = require_object_assign();
      var emptyObject = {};
      if (true) {
        Object.freeze(emptyObject);
      }
      var validateFormat = function validateFormat2(format2) {
      };
      if (true) {
        validateFormat = function validateFormat2(format2) {
          if (format2 === void 0) {
            throw new Error("invariant requires an error message argument");
          }
        };
      }
      function _invariant(condition, format2, a3, b3, c3, d3, e2, f3) {
        validateFormat(format2);
        if (!condition) {
          var error2;
          if (format2 === void 0) {
            error2 = new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");
          } else {
            var args = [a3, b3, c3, d3, e2, f3];
            var argIndex = 0;
            error2 = new Error(format2.replace(/%s/g, function() {
              return args[argIndex++];
            }));
            error2.name = "Invariant Violation";
          }
          error2.framesToPop = 1;
          throw error2;
        }
      }
      var warning4 = function() {
      };
      if (true) {
        printWarning = function printWarning2(format2) {
          for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
            args[_key - 1] = arguments[_key];
          }
          var argIndex = 0;
          var message = "Warning: " + format2.replace(/%s/g, function() {
            return args[argIndex++];
          });
          if (typeof console !== "undefined") {
            console.error(message);
          }
          try {
            throw new Error(message);
          } catch (x2) {
          }
        };
        warning4 = function warning5(condition, format2) {
          if (format2 === void 0) {
            throw new Error("`warning(condition, format, ...args)` requires a warning message argument");
          }
          if (format2.indexOf("Failed Composite propType: ") === 0) {
            return;
          }
          if (!condition) {
            for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
              args[_key2 - 2] = arguments[_key2];
            }
            printWarning.apply(void 0, [format2].concat(args));
          }
        };
      }
      var printWarning;
      var MIXINS_KEY = "mixins";
      function identity(fn4) {
        return fn4;
      }
      var ReactPropTypeLocationNames;
      if (true) {
        ReactPropTypeLocationNames = {
          prop: "prop",
          context: "context",
          childContext: "child context"
        };
      } else {
        ReactPropTypeLocationNames = {};
      }
      function factory(ReactComponent, isValidElement, ReactNoopUpdateQueue) {
        var injectedMixins = [];
        var ReactClassInterface = {
          mixins: "DEFINE_MANY",
          statics: "DEFINE_MANY",
          propTypes: "DEFINE_MANY",
          contextTypes: "DEFINE_MANY",
          childContextTypes: "DEFINE_MANY",
          getDefaultProps: "DEFINE_MANY_MERGED",
          getInitialState: "DEFINE_MANY_MERGED",
          getChildContext: "DEFINE_MANY_MERGED",
          render: "DEFINE_ONCE",
          componentWillMount: "DEFINE_MANY",
          componentDidMount: "DEFINE_MANY",
          componentWillReceiveProps: "DEFINE_MANY",
          shouldComponentUpdate: "DEFINE_ONCE",
          componentWillUpdate: "DEFINE_MANY",
          componentDidUpdate: "DEFINE_MANY",
          componentWillUnmount: "DEFINE_MANY",
          UNSAFE_componentWillMount: "DEFINE_MANY",
          UNSAFE_componentWillReceiveProps: "DEFINE_MANY",
          UNSAFE_componentWillUpdate: "DEFINE_MANY",
          updateComponent: "OVERRIDE_BASE"
        };
        var ReactClassStaticInterface = {
          getDerivedStateFromProps: "DEFINE_MANY_MERGED"
        };
        var RESERVED_SPEC_KEYS = {
          displayName: function(Constructor, displayName) {
            Constructor.displayName = displayName;
          },
          mixins: function(Constructor, mixins) {
            if (mixins) {
              for (var i3 = 0; i3 < mixins.length; i3++) {
                mixSpecIntoComponent(Constructor, mixins[i3]);
              }
            }
          },
          childContextTypes: function(Constructor, childContextTypes) {
            if (true) {
              validateTypeDef(Constructor, childContextTypes, "childContext");
            }
            Constructor.childContextTypes = _assign({}, Constructor.childContextTypes, childContextTypes);
          },
          contextTypes: function(Constructor, contextTypes) {
            if (true) {
              validateTypeDef(Constructor, contextTypes, "context");
            }
            Constructor.contextTypes = _assign({}, Constructor.contextTypes, contextTypes);
          },
          getDefaultProps: function(Constructor, getDefaultProps) {
            if (Constructor.getDefaultProps) {
              Constructor.getDefaultProps = createMergedResultFunction(Constructor.getDefaultProps, getDefaultProps);
            } else {
              Constructor.getDefaultProps = getDefaultProps;
            }
          },
          propTypes: function(Constructor, propTypes) {
            if (true) {
              validateTypeDef(Constructor, propTypes, "prop");
            }
            Constructor.propTypes = _assign({}, Constructor.propTypes, propTypes);
          },
          statics: function(Constructor, statics) {
            mixStaticSpecIntoComponent(Constructor, statics);
          },
          autobind: function() {
          }
        };
        function validateTypeDef(Constructor, typeDef, location) {
          for (var propName in typeDef) {
            if (typeDef.hasOwnProperty(propName)) {
              if (true) {
                warning4(typeof typeDef[propName] === "function", "%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.", Constructor.displayName || "ReactClass", ReactPropTypeLocationNames[location], propName);
              }
            }
          }
        }
        function validateMethodOverride(isAlreadyDefined, name) {
          var specPolicy = ReactClassInterface.hasOwnProperty(name) ? ReactClassInterface[name] : null;
          if (ReactClassMixin.hasOwnProperty(name)) {
            _invariant(specPolicy === "OVERRIDE_BASE", "ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.", name);
          }
          if (isAlreadyDefined) {
            _invariant(specPolicy === "DEFINE_MANY" || specPolicy === "DEFINE_MANY_MERGED", "ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.", name);
          }
        }
        function mixSpecIntoComponent(Constructor, spec) {
          if (!spec) {
            if (true) {
              var typeofSpec = typeof spec;
              var isMixinValid = typeofSpec === "object" && spec !== null;
              if (true) {
                warning4(isMixinValid, "%s: You're attempting to include a mixin that is either null or not an object. Check the mixins included by the component, as well as any mixins they include themselves. Expected object but got %s.", Constructor.displayName || "ReactClass", spec === null ? null : typeofSpec);
              }
            }
            return;
          }
          _invariant(typeof spec !== "function", "ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object.");
          _invariant(!isValidElement(spec), "ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");
          var proto = Constructor.prototype;
          var autoBindPairs = proto.__reactAutoBindPairs;
          if (spec.hasOwnProperty(MIXINS_KEY)) {
            RESERVED_SPEC_KEYS.mixins(Constructor, spec.mixins);
          }
          for (var name in spec) {
            if (!spec.hasOwnProperty(name)) {
              continue;
            }
            if (name === MIXINS_KEY) {
              continue;
            }
            var property = spec[name];
            var isAlreadyDefined = proto.hasOwnProperty(name);
            validateMethodOverride(isAlreadyDefined, name);
            if (RESERVED_SPEC_KEYS.hasOwnProperty(name)) {
              RESERVED_SPEC_KEYS[name](Constructor, property);
            } else {
              var isReactClassMethod = ReactClassInterface.hasOwnProperty(name);
              var isFunction3 = typeof property === "function";
              var shouldAutoBind = isFunction3 && !isReactClassMethod && !isAlreadyDefined && spec.autobind !== false;
              if (shouldAutoBind) {
                autoBindPairs.push(name, property);
                proto[name] = property;
              } else {
                if (isAlreadyDefined) {
                  var specPolicy = ReactClassInterface[name];
                  _invariant(isReactClassMethod && (specPolicy === "DEFINE_MANY_MERGED" || specPolicy === "DEFINE_MANY"), "ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.", specPolicy, name);
                  if (specPolicy === "DEFINE_MANY_MERGED") {
                    proto[name] = createMergedResultFunction(proto[name], property);
                  } else if (specPolicy === "DEFINE_MANY") {
                    proto[name] = createChainedFunction(proto[name], property);
                  }
                } else {
                  proto[name] = property;
                  if (true) {
                    if (typeof property === "function" && spec.displayName) {
                      proto[name].displayName = spec.displayName + "_" + name;
                    }
                  }
                }
              }
            }
          }
        }
        function mixStaticSpecIntoComponent(Constructor, statics) {
          if (!statics) {
            return;
          }
          for (var name in statics) {
            var property = statics[name];
            if (!statics.hasOwnProperty(name)) {
              continue;
            }
            var isReserved = name in RESERVED_SPEC_KEYS;
            _invariant(!isReserved, 'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.', name);
            var isAlreadyDefined = name in Constructor;
            if (isAlreadyDefined) {
              var specPolicy = ReactClassStaticInterface.hasOwnProperty(name) ? ReactClassStaticInterface[name] : null;
              _invariant(specPolicy === "DEFINE_MANY_MERGED", "ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.", name);
              Constructor[name] = createMergedResultFunction(Constructor[name], property);
              return;
            }
            Constructor[name] = property;
          }
        }
        function mergeIntoWithNoDuplicateKeys(one, two) {
          _invariant(one && two && typeof one === "object" && typeof two === "object", "mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");
          for (var key in two) {
            if (two.hasOwnProperty(key)) {
              _invariant(one[key] === void 0, "mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.", key);
              one[key] = two[key];
            }
          }
          return one;
        }
        function createMergedResultFunction(one, two) {
          return function mergedResult() {
            var a3 = one.apply(this, arguments);
            var b3 = two.apply(this, arguments);
            if (a3 == null) {
              return b3;
            } else if (b3 == null) {
              return a3;
            }
            var c3 = {};
            mergeIntoWithNoDuplicateKeys(c3, a3);
            mergeIntoWithNoDuplicateKeys(c3, b3);
            return c3;
          };
        }
        function createChainedFunction(one, two) {
          return function chainedFunction() {
            one.apply(this, arguments);
            two.apply(this, arguments);
          };
        }
        function bindAutoBindMethod(component, method) {
          var boundMethod = method.bind(component);
          if (true) {
            boundMethod.__reactBoundContext = component;
            boundMethod.__reactBoundMethod = method;
            boundMethod.__reactBoundArguments = null;
            var componentName = component.constructor.displayName;
            var _bind = boundMethod.bind;
            boundMethod.bind = function(newThis) {
              for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                args[_key - 1] = arguments[_key];
              }
              if (newThis !== component && newThis !== null) {
                if (true) {
                  warning4(false, "bind(): React component methods may only be bound to the component instance. See %s", componentName);
                }
              } else if (!args.length) {
                if (true) {
                  warning4(false, "bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s", componentName);
                }
                return boundMethod;
              }
              var reboundMethod = _bind.apply(boundMethod, arguments);
              reboundMethod.__reactBoundContext = component;
              reboundMethod.__reactBoundMethod = method;
              reboundMethod.__reactBoundArguments = args;
              return reboundMethod;
            };
          }
          return boundMethod;
        }
        function bindAutoBindMethods(component) {
          var pairs = component.__reactAutoBindPairs;
          for (var i3 = 0; i3 < pairs.length; i3 += 2) {
            var autoBindKey = pairs[i3];
            var method = pairs[i3 + 1];
            component[autoBindKey] = bindAutoBindMethod(component, method);
          }
        }
        var IsMountedPreMixin = {
          componentDidMount: function() {
            this.__isMounted = true;
          }
        };
        var IsMountedPostMixin = {
          componentWillUnmount: function() {
            this.__isMounted = false;
          }
        };
        var ReactClassMixin = {
          replaceState: function(newState, callback) {
            this.updater.enqueueReplaceState(this, newState, callback);
          },
          isMounted: function() {
            if (true) {
              warning4(this.__didWarnIsMounted, "%s: isMounted is deprecated. Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks.", this.constructor && this.constructor.displayName || this.name || "Component");
              this.__didWarnIsMounted = true;
            }
            return !!this.__isMounted;
          }
        };
        var ReactClassComponent = function() {
        };
        _assign(ReactClassComponent.prototype, ReactComponent.prototype, ReactClassMixin);
        function createClass(spec) {
          var Constructor = identity(function(props, context, updater) {
            if (true) {
              warning4(this instanceof Constructor, "Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory");
            }
            if (this.__reactAutoBindPairs.length) {
              bindAutoBindMethods(this);
            }
            this.props = props;
            this.context = context;
            this.refs = emptyObject;
            this.updater = updater || ReactNoopUpdateQueue;
            this.state = null;
            var initialState = this.getInitialState ? this.getInitialState() : null;
            if (true) {
              if (initialState === void 0 && this.getInitialState._isMockFunction) {
                initialState = null;
              }
            }
            _invariant(typeof initialState === "object" && !Array.isArray(initialState), "%s.getInitialState(): must return an object or null", Constructor.displayName || "ReactCompositeComponent");
            this.state = initialState;
          });
          Constructor.prototype = new ReactClassComponent();
          Constructor.prototype.constructor = Constructor;
          Constructor.prototype.__reactAutoBindPairs = [];
          injectedMixins.forEach(mixSpecIntoComponent.bind(null, Constructor));
          mixSpecIntoComponent(Constructor, IsMountedPreMixin);
          mixSpecIntoComponent(Constructor, spec);
          mixSpecIntoComponent(Constructor, IsMountedPostMixin);
          if (Constructor.getDefaultProps) {
            Constructor.defaultProps = Constructor.getDefaultProps();
          }
          if (true) {
            if (Constructor.getDefaultProps) {
              Constructor.getDefaultProps.isReactClassApproved = {};
            }
            if (Constructor.prototype.getInitialState) {
              Constructor.prototype.getInitialState.isReactClassApproved = {};
            }
          }
          _invariant(Constructor.prototype.render, "createClass(...): Class specification must implement a `render` method.");
          if (true) {
            warning4(!Constructor.prototype.componentShouldUpdate, "%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.", spec.displayName || "A component");
            warning4(!Constructor.prototype.componentWillRecieveProps, "%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?", spec.displayName || "A component");
            warning4(!Constructor.prototype.UNSAFE_componentWillRecieveProps, "%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?", spec.displayName || "A component");
          }
          for (var methodName in ReactClassInterface) {
            if (!Constructor.prototype[methodName]) {
              Constructor.prototype[methodName] = null;
            }
          }
          return Constructor;
        }
        return createClass;
      }
      module.exports = factory;
    }
  });

  // ../../node_modules/create-react-class/index.js
  var require_create_react_class = __commonJS({
    "../../node_modules/create-react-class/index.js"(exports, module) {
      "use strict";
      var React30 = require_react();
      var factory = require_factory();
      if (typeof React30 === "undefined") {
        throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");
      }
      var ReactNoopUpdateQueue = new React30.Component().updater;
      module.exports = factory(React30.Component, React30.isValidElement, ReactNoopUpdateQueue);
    }
  });

  // ../../node_modules/react-quill/lib/mixin.js
  var require_mixin = __commonJS({
    "../../node_modules/react-quill/lib/mixin.js"(exports, module) {
      "use strict";
      var Quill2 = require_quill();
      var QuillMixin = {
        createEditor: function($el, config2) {
          var editor = new Quill2($el, config2);
          if (config2.tabIndex !== void 0) {
            this.setEditorTabIndex(editor, config2.tabIndex);
          }
          this.hookEditor(editor);
          return editor;
        },
        hookEditor: function(editor) {
          var unprivilegedEditor = this.makeUnprivilegedEditor(editor);
          this.handleTextChange = function(delta, oldDelta, source) {
            if (this.onEditorChangeText) {
              this.onEditorChangeText(editor.root.innerHTML, delta, source, unprivilegedEditor);
              this.onEditorChangeSelection(editor.getSelection(), source, unprivilegedEditor);
            }
          }.bind(this);
          this.handleSelectionChange = function(range, oldRange, source) {
            if (this.onEditorChangeSelection) {
              this.onEditorChangeSelection(range, source, unprivilegedEditor);
            }
          }.bind(this);
          editor.on("editor-change", function(eventType, rangeOrDelta, oldRangeOrOldDelta, source) {
            if (eventType === Quill2.events.SELECTION_CHANGE) {
              this.handleSelectionChange(rangeOrDelta, oldRangeOrOldDelta, source);
            }
            if (eventType === Quill2.events.TEXT_CHANGE) {
              this.handleTextChange(rangeOrDelta, oldRangeOrOldDelta, source);
            }
          }.bind(this));
        },
        unhookEditor: function(editor) {
          editor.off("selection-change");
          editor.off("text-change");
        },
        setEditorReadOnly: function(editor, value) {
          value ? editor.disable() : editor.enable();
        },
        setEditorContents: function(editor, value) {
          var sel = editor.getSelection();
          if (typeof value === "string") {
            editor.setContents(editor.clipboard.convert(value));
          } else {
            editor.setContents(value);
          }
          if (sel && editor.hasFocus())
            this.setEditorSelection(editor, sel);
        },
        setEditorSelection: function(editor, range) {
          if (range) {
            var length = editor.getLength();
            range.index = Math.max(0, Math.min(range.index, length - 1));
            range.length = Math.max(0, Math.min(range.length, length - 1 - range.index));
          }
          editor.setSelection(range);
        },
        setEditorTabIndex: function(editor, tabIndex) {
          if (editor.editor && editor.editor.scroll && editor.editor.scroll.domNode) {
            editor.editor.scroll.domNode.tabIndex = tabIndex;
          }
        },
        makeUnprivilegedEditor: function(editor) {
          var e2 = editor;
          return {
            getLength: function() {
              return e2.getLength.apply(e2, arguments);
            },
            getText: function() {
              return e2.getText.apply(e2, arguments);
            },
            getHTML: function() {
              return e2.root.innerHTML;
            },
            getContents: function() {
              return e2.getContents.apply(e2, arguments);
            },
            getSelection: function() {
              return e2.getSelection.apply(e2, arguments);
            },
            getBounds: function() {
              return e2.getBounds.apply(e2, arguments);
            }
          };
        }
      };
      module.exports = QuillMixin;
    }
  });

  // ../../node_modules/lodash/_createFind.js
  var require_createFind = __commonJS({
    "../../node_modules/lodash/_createFind.js"(exports, module) {
      var baseIteratee = require_baseIteratee();
      var isArrayLike = require_isArrayLike();
      var keys = require_keys();
      function createFind(findIndexFunc) {
        return function(collection, predicate, fromIndex) {
          var iterable = Object(collection);
          if (!isArrayLike(collection)) {
            var iteratee = baseIteratee(predicate, 3);
            collection = keys(collection);
            predicate = function(key) {
              return iteratee(iterable[key], key, iterable);
            };
          }
          var index2 = findIndexFunc(collection, predicate, fromIndex);
          return index2 > -1 ? iterable[iteratee ? collection[index2] : index2] : void 0;
        };
      }
      module.exports = createFind;
    }
  });

  // ../../node_modules/lodash/_baseFindIndex.js
  var require_baseFindIndex = __commonJS({
    "../../node_modules/lodash/_baseFindIndex.js"(exports, module) {
      function baseFindIndex(array, predicate, fromIndex, fromRight) {
        var length = array.length, index2 = fromIndex + (fromRight ? 1 : -1);
        while (fromRight ? index2-- : ++index2 < length) {
          if (predicate(array[index2], index2, array)) {
            return index2;
          }
        }
        return -1;
      }
      module.exports = baseFindIndex;
    }
  });

  // ../../node_modules/lodash/_trimmedEndIndex.js
  var require_trimmedEndIndex = __commonJS({
    "../../node_modules/lodash/_trimmedEndIndex.js"(exports, module) {
      var reWhitespace = /\s/;
      function trimmedEndIndex(string) {
        var index2 = string.length;
        while (index2-- && reWhitespace.test(string.charAt(index2))) {
        }
        return index2;
      }
      module.exports = trimmedEndIndex;
    }
  });

  // ../../node_modules/lodash/_baseTrim.js
  var require_baseTrim = __commonJS({
    "../../node_modules/lodash/_baseTrim.js"(exports, module) {
      var trimmedEndIndex = require_trimmedEndIndex();
      var reTrimStart = /^\s+/;
      function baseTrim(string) {
        return string ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, "") : string;
      }
      module.exports = baseTrim;
    }
  });

  // ../../node_modules/lodash/toNumber.js
  var require_toNumber = __commonJS({
    "../../node_modules/lodash/toNumber.js"(exports, module) {
      var baseTrim = require_baseTrim();
      var isObject = require_isObject();
      var isSymbol = require_isSymbol();
      var NAN = 0 / 0;
      var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;
      var reIsBinary = /^0b[01]+$/i;
      var reIsOctal = /^0o[0-7]+$/i;
      var freeParseInt = parseInt;
      function toNumber(value) {
        if (typeof value == "number") {
          return value;
        }
        if (isSymbol(value)) {
          return NAN;
        }
        if (isObject(value)) {
          var other = typeof value.valueOf == "function" ? value.valueOf() : value;
          value = isObject(other) ? other + "" : other;
        }
        if (typeof value != "string") {
          return value === 0 ? value : +value;
        }
        value = baseTrim(value);
        var isBinary = reIsBinary.test(value);
        return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;
      }
      module.exports = toNumber;
    }
  });

  // ../../node_modules/lodash/toFinite.js
  var require_toFinite = __commonJS({
    "../../node_modules/lodash/toFinite.js"(exports, module) {
      var toNumber = require_toNumber();
      var INFINITY = 1 / 0;
      var MAX_INTEGER = 17976931348623157e292;
      function toFinite(value) {
        if (!value) {
          return value === 0 ? value : 0;
        }
        value = toNumber(value);
        if (value === INFINITY || value === -INFINITY) {
          var sign = value < 0 ? -1 : 1;
          return sign * MAX_INTEGER;
        }
        return value === value ? value : 0;
      }
      module.exports = toFinite;
    }
  });

  // ../../node_modules/lodash/toInteger.js
  var require_toInteger = __commonJS({
    "../../node_modules/lodash/toInteger.js"(exports, module) {
      var toFinite = require_toFinite();
      function toInteger(value) {
        var result = toFinite(value), remainder = result % 1;
        return result === result ? remainder ? result - remainder : result : 0;
      }
      module.exports = toInteger;
    }
  });

  // ../../node_modules/lodash/findIndex.js
  var require_findIndex = __commonJS({
    "../../node_modules/lodash/findIndex.js"(exports, module) {
      var baseFindIndex = require_baseFindIndex();
      var baseIteratee = require_baseIteratee();
      var toInteger = require_toInteger();
      var nativeMax = Math.max;
      function findIndex2(array, predicate, fromIndex) {
        var length = array == null ? 0 : array.length;
        if (!length) {
          return -1;
        }
        var index2 = fromIndex == null ? 0 : toInteger(fromIndex);
        if (index2 < 0) {
          index2 = nativeMax(length + index2, 0);
        }
        return baseFindIndex(array, baseIteratee(predicate, 3), index2);
      }
      module.exports = findIndex2;
    }
  });

  // ../../node_modules/lodash/find.js
  var require_find = __commonJS({
    "../../node_modules/lodash/find.js"(exports, module) {
      var createFind = require_createFind();
      var findIndex2 = require_findIndex();
      var find2 = createFind(findIndex2);
      module.exports = find2;
    }
  });

  // ../../node_modules/lodash/_baseSome.js
  var require_baseSome = __commonJS({
    "../../node_modules/lodash/_baseSome.js"(exports, module) {
      var baseEach = require_baseEach();
      function baseSome(collection, predicate) {
        var result;
        baseEach(collection, function(value, index2, collection2) {
          result = predicate(value, index2, collection2);
          return !result;
        });
        return !!result;
      }
      module.exports = baseSome;
    }
  });

  // ../../node_modules/lodash/_isIterateeCall.js
  var require_isIterateeCall = __commonJS({
    "../../node_modules/lodash/_isIterateeCall.js"(exports, module) {
      var eq = require_eq();
      var isArrayLike = require_isArrayLike();
      var isIndex = require_isIndex();
      var isObject = require_isObject();
      function isIterateeCall(value, index2, object) {
        if (!isObject(object)) {
          return false;
        }
        var type = typeof index2;
        if (type == "number" ? isArrayLike(object) && isIndex(index2, object.length) : type == "string" && index2 in object) {
          return eq(object[index2], value);
        }
        return false;
      }
      module.exports = isIterateeCall;
    }
  });

  // ../../node_modules/lodash/some.js
  var require_some = __commonJS({
    "../../node_modules/lodash/some.js"(exports, module) {
      var arraySome = require_arraySome();
      var baseIteratee = require_baseIteratee();
      var baseSome = require_baseSome();
      var isArray = require_isArray();
      var isIterateeCall = require_isIterateeCall();
      function some(collection, predicate, guard) {
        var func = isArray(collection) ? arraySome : baseSome;
        if (guard && isIterateeCall(collection, predicate, guard)) {
          predicate = void 0;
        }
        return func(collection, baseIteratee(predicate, 3));
      }
      module.exports = some;
    }
  });

  // ../../node_modules/lodash/isEqual.js
  var require_isEqual = __commonJS({
    "../../node_modules/lodash/isEqual.js"(exports, module) {
      var baseIsEqual = require_baseIsEqual();
      function isEqual5(value, other) {
        return baseIsEqual(value, other);
      }
      module.exports = isEqual5;
    }
  });

  // ../../node_modules/react-dom-factories/index.js
  var require_react_dom_factories = __commonJS({
    "../../node_modules/react-dom-factories/index.js"(exports, module) {
      "use strict";
      (function(f3) {
        if (typeof exports === "object" && typeof module !== "undefined") {
          module.exports = f3(require_react());
        } else if (typeof define === "function" && define.amd) {
          define(["react"], f3);
        } else {
          var g3;
          if (typeof window !== "undefined") {
            g3 = window;
          } else if (typeof global !== "undefined") {
            g3 = global;
          } else if (typeof self !== "undefined") {
            g3 = self;
          } else {
            g3 = this;
          }
          if (typeof g3.React === "undefined") {
            throw Error("React module should be required before ReactDOMFactories");
          }
          g3.ReactDOMFactories = f3(g3.React);
        }
      })(function(React30) {
        function createDOMFactory(type) {
          var factory = React30.createElement.bind(null, type);
          factory.type = type;
          return factory;
        }
        ;
        var ReactDOMFactories = {
          a: createDOMFactory("a"),
          abbr: createDOMFactory("abbr"),
          address: createDOMFactory("address"),
          area: createDOMFactory("area"),
          article: createDOMFactory("article"),
          aside: createDOMFactory("aside"),
          audio: createDOMFactory("audio"),
          b: createDOMFactory("b"),
          base: createDOMFactory("base"),
          bdi: createDOMFactory("bdi"),
          bdo: createDOMFactory("bdo"),
          big: createDOMFactory("big"),
          blockquote: createDOMFactory("blockquote"),
          body: createDOMFactory("body"),
          br: createDOMFactory("br"),
          button: createDOMFactory("button"),
          canvas: createDOMFactory("canvas"),
          caption: createDOMFactory("caption"),
          cite: createDOMFactory("cite"),
          code: createDOMFactory("code"),
          col: createDOMFactory("col"),
          colgroup: createDOMFactory("colgroup"),
          data: createDOMFactory("data"),
          datalist: createDOMFactory("datalist"),
          dd: createDOMFactory("dd"),
          del: createDOMFactory("del"),
          details: createDOMFactory("details"),
          dfn: createDOMFactory("dfn"),
          dialog: createDOMFactory("dialog"),
          div: createDOMFactory("div"),
          dl: createDOMFactory("dl"),
          dt: createDOMFactory("dt"),
          em: createDOMFactory("em"),
          embed: createDOMFactory("embed"),
          fieldset: createDOMFactory("fieldset"),
          figcaption: createDOMFactory("figcaption"),
          figure: createDOMFactory("figure"),
          footer: createDOMFactory("footer"),
          form: createDOMFactory("form"),
          h1: createDOMFactory("h1"),
          h2: createDOMFactory("h2"),
          h3: createDOMFactory("h3"),
          h4: createDOMFactory("h4"),
          h5: createDOMFactory("h5"),
          h6: createDOMFactory("h6"),
          head: createDOMFactory("head"),
          header: createDOMFactory("header"),
          hgroup: createDOMFactory("hgroup"),
          hr: createDOMFactory("hr"),
          html: createDOMFactory("html"),
          i: createDOMFactory("i"),
          iframe: createDOMFactory("iframe"),
          img: createDOMFactory("img"),
          input: createDOMFactory("input"),
          ins: createDOMFactory("ins"),
          kbd: createDOMFactory("kbd"),
          keygen: createDOMFactory("keygen"),
          label: createDOMFactory("label"),
          legend: createDOMFactory("legend"),
          li: createDOMFactory("li"),
          link: createDOMFactory("link"),
          main: createDOMFactory("main"),
          map: createDOMFactory("map"),
          mark: createDOMFactory("mark"),
          menu: createDOMFactory("menu"),
          menuitem: createDOMFactory("menuitem"),
          meta: createDOMFactory("meta"),
          meter: createDOMFactory("meter"),
          nav: createDOMFactory("nav"),
          noscript: createDOMFactory("noscript"),
          object: createDOMFactory("object"),
          ol: createDOMFactory("ol"),
          optgroup: createDOMFactory("optgroup"),
          option: createDOMFactory("option"),
          output: createDOMFactory("output"),
          p: createDOMFactory("p"),
          param: createDOMFactory("param"),
          picture: createDOMFactory("picture"),
          pre: createDOMFactory("pre"),
          progress: createDOMFactory("progress"),
          q: createDOMFactory("q"),
          rp: createDOMFactory("rp"),
          rt: createDOMFactory("rt"),
          ruby: createDOMFactory("ruby"),
          s: createDOMFactory("s"),
          samp: createDOMFactory("samp"),
          script: createDOMFactory("script"),
          section: createDOMFactory("section"),
          select: createDOMFactory("select"),
          small: createDOMFactory("small"),
          source: createDOMFactory("source"),
          span: createDOMFactory("span"),
          strong: createDOMFactory("strong"),
          style: createDOMFactory("style"),
          sub: createDOMFactory("sub"),
          summary: createDOMFactory("summary"),
          sup: createDOMFactory("sup"),
          table: createDOMFactory("table"),
          tbody: createDOMFactory("tbody"),
          td: createDOMFactory("td"),
          textarea: createDOMFactory("textarea"),
          tfoot: createDOMFactory("tfoot"),
          th: createDOMFactory("th"),
          thead: createDOMFactory("thead"),
          time: createDOMFactory("time"),
          title: createDOMFactory("title"),
          tr: createDOMFactory("tr"),
          track: createDOMFactory("track"),
          u: createDOMFactory("u"),
          ul: createDOMFactory("ul"),
          var: createDOMFactory("var"),
          video: createDOMFactory("video"),
          wbr: createDOMFactory("wbr"),
          circle: createDOMFactory("circle"),
          clipPath: createDOMFactory("clipPath"),
          defs: createDOMFactory("defs"),
          ellipse: createDOMFactory("ellipse"),
          g: createDOMFactory("g"),
          image: createDOMFactory("image"),
          line: createDOMFactory("line"),
          linearGradient: createDOMFactory("linearGradient"),
          mask: createDOMFactory("mask"),
          path: createDOMFactory("path"),
          pattern: createDOMFactory("pattern"),
          polygon: createDOMFactory("polygon"),
          polyline: createDOMFactory("polyline"),
          radialGradient: createDOMFactory("radialGradient"),
          rect: createDOMFactory("rect"),
          stop: createDOMFactory("stop"),
          svg: createDOMFactory("svg"),
          text: createDOMFactory("text"),
          tspan: createDOMFactory("tspan")
        };
        return ReactDOMFactories;
      });
    }
  });

  // ../../node_modules/react-quill/lib/component.js
  var require_component = __commonJS({
    "../../node_modules/react-quill/lib/component.js"(exports, module) {
      "use strict";
      var React30 = require_react();
      var ReactDOM4 = require_react_dom();
      var createClass = require_create_react_class();
      var QuillMixin = require_mixin();
      var find2 = require_find();
      var some = require_some();
      var isEqual5 = require_isEqual();
      var T = require_prop_types();
      var DOM = require_react_dom_factories();
      var QuillComponent = createClass({
        displayName: "Quill",
        mixins: [QuillMixin],
        propTypes: {
          id: T.string,
          className: T.string,
          theme: T.string,
          style: T.object,
          readOnly: T.bool,
          value: T.oneOfType([T.string, T.shape({ ops: T.array })]),
          defaultValue: T.oneOfType([T.string, T.shape({ ops: T.array })]),
          placeholder: T.string,
          tabIndex: T.number,
          bounds: T.oneOfType([T.string, T.element]),
          onChange: T.func,
          onChangeSelection: T.func,
          onFocus: T.func,
          onBlur: T.func,
          onKeyPress: T.func,
          onKeyDown: T.func,
          onKeyUp: T.func,
          preserveWhitespace: T.bool,
          modules: function(props) {
            var isNotObject = T.object.apply(this, arguments);
            if (isNotObject)
              return isNotObject;
            if (props.modules && props.modules.toolbar && props.modules.toolbar[0] && props.modules.toolbar[0].type)
              return new Error("Since v1.0.0, React Quill will not create a custom toolbar for you anymore. Create a toolbar explictly, or let Quill create one. See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v100");
          },
          toolbar: function(props) {
            if ("toolbar" in props)
              return new Error("The `toolbar` prop has been deprecated. Use `modules.toolbar` instead. See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v100");
          },
          formats: function(props) {
            var isNotArrayOfString = T.arrayOf(T.string).apply(this, arguments);
            if (isNotArrayOfString)
              return new Error("You cannot specify custom `formats` anymore. Use Parchment instead.  See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v100.");
          },
          styles: function(props) {
            if ("styles" in props)
              return new Error("The `styles` prop has been deprecated. Use custom stylesheets instead. See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v100.");
          },
          pollInterval: function(props) {
            if ("pollInterval" in props)
              return new Error("The `pollInterval` property does not have any effect anymore. You can safely remove it from your props.See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v100.");
          },
          children: function(props) {
            var isNotASingleElement = T.element.apply(this, arguments);
            if (isNotASingleElement)
              return new Error("The Quill editing area can only be composed of a single React element.");
            if (React30.Children.count(props.children)) {
              var child = React30.Children.only(props.children);
              if (child.type === "textarea")
                return new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");
            }
          }
        },
        dirtyProps: [
          "modules",
          "formats",
          "bounds",
          "theme",
          "children"
        ],
        cleanProps: [
          "id",
          "className",
          "style",
          "placeholder",
          "tabIndex",
          "onChange",
          "onChangeSelection",
          "onFocus",
          "onBlur",
          "onKeyPress",
          "onKeyDown",
          "onKeyUp"
        ],
        getDefaultProps: function() {
          return {
            theme: "snow",
            modules: {}
          };
        },
        isControlled: function() {
          return "value" in this.props;
        },
        getInitialState: function() {
          return {
            generation: 0,
            value: this.isControlled() ? this.props.value : this.props.defaultValue
          };
        },
        componentWillReceiveProps: function(nextProps, nextState) {
          var editor = this.editor;
          if (!editor)
            return;
          if ("value" in nextProps) {
            var currentContents = this.getEditorContents();
            var nextContents = nextProps.value;
            if (nextContents === this.lastDeltaChangeSet)
              throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas");
            if (!this.isEqualValue(nextContents, currentContents)) {
              this.setEditorContents(editor, nextContents);
            }
          }
          if ("readOnly" in nextProps) {
            if (nextProps.readOnly !== this.props.readOnly) {
              this.setEditorReadOnly(editor, nextProps.readOnly);
            }
          }
          if (this.shouldComponentRegenerate(nextProps, nextState)) {
            return this.regenerate();
          }
        },
        componentDidMount: function() {
          this.editor = this.createEditor(this.getEditingArea(), this.getEditorConfig());
          if (this.quillDelta) {
            this.editor.setContents(this.quillDelta);
            this.editor.setSelection(this.quillSelection);
            this.editor.focus();
            this.quillDelta = this.quillSelection = null;
            return;
          }
          if (this.state.value) {
            this.setEditorContents(this.editor, this.state.value);
            return;
          }
        },
        componentWillUnmount: function() {
          var editor;
          if (editor = this.getEditor()) {
            this.unhookEditor(editor);
            this.editor = null;
          }
        },
        shouldComponentUpdate: function(nextProps, nextState) {
          var self2 = this;
          if (this.state.generation !== nextState.generation) {
            return true;
          }
          return some(this.cleanProps, function(prop) {
            return !isEqual5(nextProps[prop], self2.props[prop]);
          });
        },
        shouldComponentRegenerate: function(nextProps, nextState) {
          var self2 = this;
          return some(this.dirtyProps, function(prop) {
            return !isEqual5(nextProps[prop], self2.props[prop]);
          });
        },
        componentWillUpdate: function(nextProps, nextState) {
          if (this.state.generation !== nextState.generation) {
            this.componentWillUnmount();
          }
        },
        componentDidUpdate: function(prevProps, prevState) {
          if (this.state.generation !== prevState.generation) {
            this.componentDidMount();
          }
        },
        getEditorConfig: function() {
          return {
            bounds: this.props.bounds,
            formats: this.props.formats,
            modules: this.props.modules,
            placeholder: this.props.placeholder,
            readOnly: this.props.readOnly,
            scrollingContainer: this.props.scrollingContainer,
            tabIndex: this.props.tabIndex,
            theme: this.props.theme
          };
        },
        getEditor: function() {
          return this.editor;
        },
        getEditingArea: function() {
          return ReactDOM4.findDOMNode(this.editingArea);
        },
        getEditorContents: function() {
          return this.state.value;
        },
        getEditorSelection: function() {
          return this.state.selection;
        },
        isDelta: function(value) {
          return value && value.ops;
        },
        isEqualValue: function(value, nextValue) {
          if (this.isDelta(value) && this.isDelta(nextValue)) {
            return isEqual5(value.ops, nextValue.ops);
          } else {
            return isEqual5(value, nextValue);
          }
        },
        regenerate: function() {
          this.quillDelta = this.editor.getContents();
          this.quillSelection = this.editor.getSelection();
          this.setState({
            generation: this.state.generation + 1
          });
        },
        renderEditingArea: function() {
          var self2 = this;
          var children = this.props.children;
          var preserveWhitespace = this.props.preserveWhitespace;
          var properties = {
            key: this.state.generation,
            tabIndex: this.props.tabIndex,
            ref: function(element) {
              self2.editingArea = element;
            }
          };
          var customElement = React30.Children.count(children) ? React30.Children.only(children) : null;
          var defaultElement = preserveWhitespace ? DOM.pre : DOM.div;
          var editingArea = customElement ? React30.cloneElement(customElement, properties) : defaultElement(properties);
          return editingArea;
        },
        render: function() {
          return DOM.div({
            id: this.props.id,
            style: this.props.style,
            key: this.state.generation,
            className: ["quill"].concat(this.props.className).join(" "),
            onKeyPress: this.props.onKeyPress,
            onKeyDown: this.props.onKeyDown,
            onKeyUp: this.props.onKeyUp
          }, this.renderEditingArea());
        },
        onEditorChangeText: function(value, delta, source, editor) {
          var currentContents = this.getEditorContents();
          var nextContents = this.isDelta(currentContents) ? editor.getContents() : editor.getHTML();
          if (!this.isEqualValue(nextContents, currentContents)) {
            this.lastDeltaChangeSet = delta;
            this.setState({ value: nextContents });
            if (this.props.onChange) {
              this.props.onChange(value, delta, source, editor);
            }
          }
        },
        onEditorChangeSelection: function(nextSelection, source, editor) {
          var currentSelection = this.getEditorSelection();
          var hasGainedFocus = !currentSelection && nextSelection;
          var hasLostFocus = currentSelection && !nextSelection;
          if (isEqual5(nextSelection, currentSelection)) {
            return;
          }
          this.setState({ selection: nextSelection });
          if (this.props.onChangeSelection) {
            this.props.onChangeSelection(nextSelection, source, editor);
          }
          if (hasGainedFocus && this.props.onFocus) {
            this.props.onFocus(nextSelection, source, editor);
          } else if (hasLostFocus && this.props.onBlur) {
            this.props.onBlur(currentSelection, source, editor);
          }
        },
        focus: function() {
          this.editor.focus();
        },
        blur: function() {
          this.setEditorSelection(this.editor, null);
        }
      });
      module.exports = QuillComponent;
    }
  });

  // ../../node_modules/react-dom/cjs/react-dom-server.browser.development.js
  var require_react_dom_server_browser_development = __commonJS({
    "../../node_modules/react-dom/cjs/react-dom-server.browser.development.js"(exports) {
      "use strict";
      if (true) {
        (function() {
          "use strict";
          var React30 = require_react();
          var _assign = require_object_assign();
          function formatProdErrorMessage(code) {
            var url = "https://reactjs.org/docs/error-decoder.html?invariant=" + code;
            for (var i4 = 1; i4 < arguments.length; i4++) {
              url += "&args[]=" + encodeURIComponent(arguments[i4]);
            }
            return "Minified React error #" + code + "; visit " + url + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";
          }
          var ReactVersion = "17.0.2";
          var ReactSharedInternals = React30.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
          function warn(format2) {
            {
              for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                args[_key - 1] = arguments[_key];
              }
              printWarning("warn", format2, args);
            }
          }
          function error2(format2) {
            {
              for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
                args[_key2 - 1] = arguments[_key2];
              }
              printWarning("error", format2, args);
            }
          }
          function printWarning(level, format2, args) {
            {
              var ReactDebugCurrentFrame2 = ReactSharedInternals.ReactDebugCurrentFrame;
              var stack = ReactDebugCurrentFrame2.getStackAddendum();
              if (stack !== "") {
                format2 += "%s";
                args = args.concat([stack]);
              }
              var argsWithFormat = args.map(function(item) {
                return "" + item;
              });
              argsWithFormat.unshift("Warning: " + format2);
              Function.prototype.apply.call(console[level], console, argsWithFormat);
            }
          }
          var REACT_ELEMENT_TYPE = 60103;
          var REACT_PORTAL_TYPE = 60106;
          var REACT_FRAGMENT_TYPE = 60107;
          var REACT_STRICT_MODE_TYPE = 60108;
          var REACT_PROFILER_TYPE = 60114;
          var REACT_PROVIDER_TYPE = 60109;
          var REACT_CONTEXT_TYPE = 60110;
          var REACT_FORWARD_REF_TYPE = 60112;
          var REACT_SUSPENSE_TYPE = 60113;
          var REACT_SUSPENSE_LIST_TYPE = 60120;
          var REACT_MEMO_TYPE = 60115;
          var REACT_LAZY_TYPE = 60116;
          var REACT_BLOCK_TYPE = 60121;
          var REACT_SERVER_BLOCK_TYPE = 60122;
          var REACT_FUNDAMENTAL_TYPE = 60117;
          var REACT_SCOPE_TYPE = 60119;
          var REACT_OPAQUE_ID_TYPE = 60128;
          var REACT_DEBUG_TRACING_MODE_TYPE = 60129;
          var REACT_OFFSCREEN_TYPE = 60130;
          var REACT_LEGACY_HIDDEN_TYPE = 60131;
          if (typeof Symbol === "function" && Symbol.for) {
            var symbolFor = Symbol.for;
            REACT_ELEMENT_TYPE = symbolFor("react.element");
            REACT_PORTAL_TYPE = symbolFor("react.portal");
            REACT_FRAGMENT_TYPE = symbolFor("react.fragment");
            REACT_STRICT_MODE_TYPE = symbolFor("react.strict_mode");
            REACT_PROFILER_TYPE = symbolFor("react.profiler");
            REACT_PROVIDER_TYPE = symbolFor("react.provider");
            REACT_CONTEXT_TYPE = symbolFor("react.context");
            REACT_FORWARD_REF_TYPE = symbolFor("react.forward_ref");
            REACT_SUSPENSE_TYPE = symbolFor("react.suspense");
            REACT_SUSPENSE_LIST_TYPE = symbolFor("react.suspense_list");
            REACT_MEMO_TYPE = symbolFor("react.memo");
            REACT_LAZY_TYPE = symbolFor("react.lazy");
            REACT_BLOCK_TYPE = symbolFor("react.block");
            REACT_SERVER_BLOCK_TYPE = symbolFor("react.server.block");
            REACT_FUNDAMENTAL_TYPE = symbolFor("react.fundamental");
            REACT_SCOPE_TYPE = symbolFor("react.scope");
            REACT_OPAQUE_ID_TYPE = symbolFor("react.opaque.id");
            REACT_DEBUG_TRACING_MODE_TYPE = symbolFor("react.debug_trace_mode");
            REACT_OFFSCREEN_TYPE = symbolFor("react.offscreen");
            REACT_LEGACY_HIDDEN_TYPE = symbolFor("react.legacy_hidden");
          }
          function getWrappedName(outerType, innerType, wrapperName) {
            var functionName = innerType.displayName || innerType.name || "";
            return outerType.displayName || (functionName !== "" ? wrapperName + "(" + functionName + ")" : wrapperName);
          }
          function getContextName(type) {
            return type.displayName || "Context";
          }
          function getComponentName(type) {
            if (type == null) {
              return null;
            }
            {
              if (typeof type.tag === "number") {
                error2("Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue.");
              }
            }
            if (typeof type === "function") {
              return type.displayName || type.name || null;
            }
            if (typeof type === "string") {
              return type;
            }
            switch (type) {
              case REACT_FRAGMENT_TYPE:
                return "Fragment";
              case REACT_PORTAL_TYPE:
                return "Portal";
              case REACT_PROFILER_TYPE:
                return "Profiler";
              case REACT_STRICT_MODE_TYPE:
                return "StrictMode";
              case REACT_SUSPENSE_TYPE:
                return "Suspense";
              case REACT_SUSPENSE_LIST_TYPE:
                return "SuspenseList";
            }
            if (typeof type === "object") {
              switch (type.$$typeof) {
                case REACT_CONTEXT_TYPE:
                  var context = type;
                  return getContextName(context) + ".Consumer";
                case REACT_PROVIDER_TYPE:
                  var provider = type;
                  return getContextName(provider._context) + ".Provider";
                case REACT_FORWARD_REF_TYPE:
                  return getWrappedName(type, type.render, "ForwardRef");
                case REACT_MEMO_TYPE:
                  return getComponentName(type.type);
                case REACT_BLOCK_TYPE:
                  return getComponentName(type._render);
                case REACT_LAZY_TYPE: {
                  var lazyComponent = type;
                  var payload = lazyComponent._payload;
                  var init = lazyComponent._init;
                  try {
                    return getComponentName(init(payload));
                  } catch (x2) {
                    return null;
                  }
                }
              }
            }
            return null;
          }
          var enableSuspenseServerRenderer = false;
          var disabledDepth = 0;
          var prevLog;
          var prevInfo;
          var prevWarn;
          var prevError;
          var prevGroup;
          var prevGroupCollapsed;
          var prevGroupEnd;
          function disabledLog() {
          }
          disabledLog.__reactDisabledLog = true;
          function disableLogs() {
            {
              if (disabledDepth === 0) {
                prevLog = console.log;
                prevInfo = console.info;
                prevWarn = console.warn;
                prevError = console.error;
                prevGroup = console.group;
                prevGroupCollapsed = console.groupCollapsed;
                prevGroupEnd = console.groupEnd;
                var props = {
                  configurable: true,
                  enumerable: true,
                  value: disabledLog,
                  writable: true
                };
                Object.defineProperties(console, {
                  info: props,
                  log: props,
                  warn: props,
                  error: props,
                  group: props,
                  groupCollapsed: props,
                  groupEnd: props
                });
              }
              disabledDepth++;
            }
          }
          function reenableLogs() {
            {
              disabledDepth--;
              if (disabledDepth === 0) {
                var props = {
                  configurable: true,
                  enumerable: true,
                  writable: true
                };
                Object.defineProperties(console, {
                  log: _assign({}, props, {
                    value: prevLog
                  }),
                  info: _assign({}, props, {
                    value: prevInfo
                  }),
                  warn: _assign({}, props, {
                    value: prevWarn
                  }),
                  error: _assign({}, props, {
                    value: prevError
                  }),
                  group: _assign({}, props, {
                    value: prevGroup
                  }),
                  groupCollapsed: _assign({}, props, {
                    value: prevGroupCollapsed
                  }),
                  groupEnd: _assign({}, props, {
                    value: prevGroupEnd
                  })
                });
              }
              if (disabledDepth < 0) {
                error2("disabledDepth fell below zero. This is a bug in React. Please file an issue.");
              }
            }
          }
          var ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;
          var prefix3;
          function describeBuiltInComponentFrame(name, source, ownerFn) {
            {
              if (prefix3 === void 0) {
                try {
                  throw Error();
                } catch (x2) {
                  var match2 = x2.stack.trim().match(/\n( *(at )?)/);
                  prefix3 = match2 && match2[1] || "";
                }
              }
              return "\n" + prefix3 + name;
            }
          }
          var reentry = false;
          var componentFrameCache;
          {
            var PossiblyWeakMap = typeof WeakMap === "function" ? WeakMap : Map;
            componentFrameCache = new PossiblyWeakMap();
          }
          function describeNativeComponentFrame(fn4, construct) {
            if (!fn4 || reentry) {
              return "";
            }
            {
              var frame = componentFrameCache.get(fn4);
              if (frame !== void 0) {
                return frame;
              }
            }
            var control;
            reentry = true;
            var previousPrepareStackTrace = Error.prepareStackTrace;
            Error.prepareStackTrace = void 0;
            var previousDispatcher;
            {
              previousDispatcher = ReactCurrentDispatcher.current;
              ReactCurrentDispatcher.current = null;
              disableLogs();
            }
            try {
              if (construct) {
                var Fake = function() {
                  throw Error();
                };
                Object.defineProperty(Fake.prototype, "props", {
                  set: function() {
                    throw Error();
                  }
                });
                if (typeof Reflect === "object" && Reflect.construct) {
                  try {
                    Reflect.construct(Fake, []);
                  } catch (x2) {
                    control = x2;
                  }
                  Reflect.construct(fn4, [], Fake);
                } else {
                  try {
                    Fake.call();
                  } catch (x2) {
                    control = x2;
                  }
                  fn4.call(Fake.prototype);
                }
              } else {
                try {
                  throw Error();
                } catch (x2) {
                  control = x2;
                }
                fn4();
              }
            } catch (sample) {
              if (sample && control && typeof sample.stack === "string") {
                var sampleLines = sample.stack.split("\n");
                var controlLines = control.stack.split("\n");
                var s3 = sampleLines.length - 1;
                var c3 = controlLines.length - 1;
                while (s3 >= 1 && c3 >= 0 && sampleLines[s3] !== controlLines[c3]) {
                  c3--;
                }
                for (; s3 >= 1 && c3 >= 0; s3--, c3--) {
                  if (sampleLines[s3] !== controlLines[c3]) {
                    if (s3 !== 1 || c3 !== 1) {
                      do {
                        s3--;
                        c3--;
                        if (c3 < 0 || sampleLines[s3] !== controlLines[c3]) {
                          var _frame = "\n" + sampleLines[s3].replace(" at new ", " at ");
                          {
                            if (typeof fn4 === "function") {
                              componentFrameCache.set(fn4, _frame);
                            }
                          }
                          return _frame;
                        }
                      } while (s3 >= 1 && c3 >= 0);
                    }
                    break;
                  }
                }
              }
            } finally {
              reentry = false;
              {
                ReactCurrentDispatcher.current = previousDispatcher;
                reenableLogs();
              }
              Error.prepareStackTrace = previousPrepareStackTrace;
            }
            var name = fn4 ? fn4.displayName || fn4.name : "";
            var syntheticFrame = name ? describeBuiltInComponentFrame(name) : "";
            {
              if (typeof fn4 === "function") {
                componentFrameCache.set(fn4, syntheticFrame);
              }
            }
            return syntheticFrame;
          }
          function describeFunctionComponentFrame(fn4, source, ownerFn) {
            {
              return describeNativeComponentFrame(fn4, false);
            }
          }
          function shouldConstruct(Component2) {
            var prototype = Component2.prototype;
            return !!(prototype && prototype.isReactComponent);
          }
          function describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {
            if (type == null) {
              return "";
            }
            if (typeof type === "function") {
              {
                return describeNativeComponentFrame(type, shouldConstruct(type));
              }
            }
            if (typeof type === "string") {
              return describeBuiltInComponentFrame(type);
            }
            switch (type) {
              case REACT_SUSPENSE_TYPE:
                return describeBuiltInComponentFrame("Suspense");
              case REACT_SUSPENSE_LIST_TYPE:
                return describeBuiltInComponentFrame("SuspenseList");
            }
            if (typeof type === "object") {
              switch (type.$$typeof) {
                case REACT_FORWARD_REF_TYPE:
                  return describeFunctionComponentFrame(type.render);
                case REACT_MEMO_TYPE:
                  return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);
                case REACT_BLOCK_TYPE:
                  return describeFunctionComponentFrame(type._render);
                case REACT_LAZY_TYPE: {
                  var lazyComponent = type;
                  var payload = lazyComponent._payload;
                  var init = lazyComponent._init;
                  try {
                    return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);
                  } catch (x2) {
                  }
                }
              }
            }
            return "";
          }
          var loggedTypeFailures = {};
          var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;
          function setCurrentlyValidatingElement(element) {
            {
              if (element) {
                var owner = element._owner;
                var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);
                ReactDebugCurrentFrame.setExtraStackFrame(stack);
              } else {
                ReactDebugCurrentFrame.setExtraStackFrame(null);
              }
            }
          }
          function checkPropTypes(typeSpecs, values2, location, componentName, element) {
            {
              var has = Function.call.bind(Object.prototype.hasOwnProperty);
              for (var typeSpecName in typeSpecs) {
                if (has(typeSpecs, typeSpecName)) {
                  var error$1 = void 0;
                  try {
                    if (typeof typeSpecs[typeSpecName] !== "function") {
                      var err = Error((componentName || "React class") + ": " + location + " type `" + typeSpecName + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + typeof typeSpecs[typeSpecName] + "`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");
                      err.name = "Invariant Violation";
                      throw err;
                    }
                    error$1 = typeSpecs[typeSpecName](values2, typeSpecName, componentName, location, null, "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");
                  } catch (ex) {
                    error$1 = ex;
                  }
                  if (error$1 && !(error$1 instanceof Error)) {
                    setCurrentlyValidatingElement(element);
                    error2("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).", componentName || "React class", location, typeSpecName, typeof error$1);
                    setCurrentlyValidatingElement(null);
                  }
                  if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {
                    loggedTypeFailures[error$1.message] = true;
                    setCurrentlyValidatingElement(element);
                    error2("Failed %s type: %s", location, error$1.message);
                    setCurrentlyValidatingElement(null);
                  }
                }
              }
            }
          }
          var didWarnAboutInvalidateContextType;
          {
            didWarnAboutInvalidateContextType = /* @__PURE__ */ new Set();
          }
          var emptyObject = {};
          {
            Object.freeze(emptyObject);
          }
          function maskContext(type, context) {
            var contextTypes = type.contextTypes;
            if (!contextTypes) {
              return emptyObject;
            }
            var maskedContext = {};
            for (var contextName in contextTypes) {
              maskedContext[contextName] = context[contextName];
            }
            return maskedContext;
          }
          function checkContextTypes(typeSpecs, values2, location) {
            {
              checkPropTypes(typeSpecs, values2, location, "Component");
            }
          }
          function validateContextBounds(context, threadID) {
            for (var i4 = context._threadCount | 0; i4 <= threadID; i4++) {
              context[i4] = context._currentValue2;
              context._threadCount = i4 + 1;
            }
          }
          function processContext(type, context, threadID, isClass) {
            if (isClass) {
              var contextType = type.contextType;
              {
                if ("contextType" in type) {
                  var isValid = contextType === null || contextType !== void 0 && contextType.$$typeof === REACT_CONTEXT_TYPE && contextType._context === void 0;
                  if (!isValid && !didWarnAboutInvalidateContextType.has(type)) {
                    didWarnAboutInvalidateContextType.add(type);
                    var addendum = "";
                    if (contextType === void 0) {
                      addendum = " However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.";
                    } else if (typeof contextType !== "object") {
                      addendum = " However, it is set to a " + typeof contextType + ".";
                    } else if (contextType.$$typeof === REACT_PROVIDER_TYPE) {
                      addendum = " Did you accidentally pass the Context.Provider instead?";
                    } else if (contextType._context !== void 0) {
                      addendum = " Did you accidentally pass the Context.Consumer instead?";
                    } else {
                      addendum = " However, it is set to an object with keys {" + Object.keys(contextType).join(", ") + "}.";
                    }
                    error2("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s", getComponentName(type) || "Component", addendum);
                  }
                }
              }
              if (typeof contextType === "object" && contextType !== null) {
                validateContextBounds(contextType, threadID);
                return contextType[threadID];
              }
              {
                var maskedContext = maskContext(type, context);
                {
                  if (type.contextTypes) {
                    checkContextTypes(type.contextTypes, maskedContext, "context");
                  }
                }
                return maskedContext;
              }
            } else {
              {
                var _maskedContext = maskContext(type, context);
                {
                  if (type.contextTypes) {
                    checkContextTypes(type.contextTypes, _maskedContext, "context");
                  }
                }
                return _maskedContext;
              }
            }
          }
          var nextAvailableThreadIDs = new Uint16Array(16);
          for (var i3 = 0; i3 < 15; i3++) {
            nextAvailableThreadIDs[i3] = i3 + 1;
          }
          nextAvailableThreadIDs[15] = 0;
          function growThreadCountAndReturnNextAvailable() {
            var oldArray = nextAvailableThreadIDs;
            var oldSize = oldArray.length;
            var newSize = oldSize * 2;
            if (!(newSize <= 65536)) {
              {
                throw Error("Maximum number of concurrent React renderers exceeded. This can happen if you are not properly destroying the Readable provided by React. Ensure that you call .destroy() on it if you no longer want to read from it, and did not read to the end. If you use .pipe() this should be automatic.");
              }
            }
            var newArray = new Uint16Array(newSize);
            newArray.set(oldArray);
            nextAvailableThreadIDs = newArray;
            nextAvailableThreadIDs[0] = oldSize + 1;
            for (var _i = oldSize; _i < newSize - 1; _i++) {
              nextAvailableThreadIDs[_i] = _i + 1;
            }
            nextAvailableThreadIDs[newSize - 1] = 0;
            return oldSize;
          }
          function allocThreadID() {
            var nextID = nextAvailableThreadIDs[0];
            if (nextID === 0) {
              return growThreadCountAndReturnNextAvailable();
            }
            nextAvailableThreadIDs[0] = nextAvailableThreadIDs[nextID];
            return nextID;
          }
          function freeThreadID(id) {
            nextAvailableThreadIDs[id] = nextAvailableThreadIDs[0];
            nextAvailableThreadIDs[0] = id;
          }
          var RESERVED = 0;
          var STRING = 1;
          var BOOLEANISH_STRING = 2;
          var BOOLEAN = 3;
          var OVERLOADED_BOOLEAN = 4;
          var NUMERIC = 5;
          var POSITIVE_NUMERIC = 6;
          var ATTRIBUTE_NAME_START_CHAR = ":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD";
          var ATTRIBUTE_NAME_CHAR = ATTRIBUTE_NAME_START_CHAR + "\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040";
          var ROOT_ATTRIBUTE_NAME = "data-reactroot";
          var VALID_ATTRIBUTE_NAME_REGEX = new RegExp("^[" + ATTRIBUTE_NAME_START_CHAR + "][" + ATTRIBUTE_NAME_CHAR + "]*$");
          var hasOwnProperty2 = Object.prototype.hasOwnProperty;
          var illegalAttributeNameCache = {};
          var validatedAttributeNameCache = {};
          function isAttributeNameSafe(attributeName) {
            if (hasOwnProperty2.call(validatedAttributeNameCache, attributeName)) {
              return true;
            }
            if (hasOwnProperty2.call(illegalAttributeNameCache, attributeName)) {
              return false;
            }
            if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName)) {
              validatedAttributeNameCache[attributeName] = true;
              return true;
            }
            illegalAttributeNameCache[attributeName] = true;
            {
              error2("Invalid attribute name: `%s`", attributeName);
            }
            return false;
          }
          function shouldIgnoreAttribute(name, propertyInfo, isCustomComponentTag) {
            if (propertyInfo !== null) {
              return propertyInfo.type === RESERVED;
            }
            if (isCustomComponentTag) {
              return false;
            }
            if (name.length > 2 && (name[0] === "o" || name[0] === "O") && (name[1] === "n" || name[1] === "N")) {
              return true;
            }
            return false;
          }
          function shouldRemoveAttributeWithWarning(name, value, propertyInfo, isCustomComponentTag) {
            if (propertyInfo !== null && propertyInfo.type === RESERVED) {
              return false;
            }
            switch (typeof value) {
              case "function":
              case "symbol":
                return true;
              case "boolean": {
                if (isCustomComponentTag) {
                  return false;
                }
                if (propertyInfo !== null) {
                  return !propertyInfo.acceptsBooleans;
                } else {
                  var prefix4 = name.toLowerCase().slice(0, 5);
                  return prefix4 !== "data-" && prefix4 !== "aria-";
                }
              }
              default:
                return false;
            }
          }
          function shouldRemoveAttribute(name, value, propertyInfo, isCustomComponentTag) {
            if (value === null || typeof value === "undefined") {
              return true;
            }
            if (shouldRemoveAttributeWithWarning(name, value, propertyInfo, isCustomComponentTag)) {
              return true;
            }
            if (isCustomComponentTag) {
              return false;
            }
            if (propertyInfo !== null) {
              switch (propertyInfo.type) {
                case BOOLEAN:
                  return !value;
                case OVERLOADED_BOOLEAN:
                  return value === false;
                case NUMERIC:
                  return isNaN(value);
                case POSITIVE_NUMERIC:
                  return isNaN(value) || value < 1;
              }
            }
            return false;
          }
          function getPropertyInfo(name) {
            return properties.hasOwnProperty(name) ? properties[name] : null;
          }
          function PropertyInfoRecord(name, type, mustUseProperty, attributeName, attributeNamespace, sanitizeURL2, removeEmptyString) {
            this.acceptsBooleans = type === BOOLEANISH_STRING || type === BOOLEAN || type === OVERLOADED_BOOLEAN;
            this.attributeName = attributeName;
            this.attributeNamespace = attributeNamespace;
            this.mustUseProperty = mustUseProperty;
            this.propertyName = name;
            this.type = type;
            this.sanitizeURL = sanitizeURL2;
            this.removeEmptyString = removeEmptyString;
          }
          var properties = {};
          var reservedProps = [
            "children",
            "dangerouslySetInnerHTML",
            "defaultValue",
            "defaultChecked",
            "innerHTML",
            "suppressContentEditableWarning",
            "suppressHydrationWarning",
            "style"
          ];
          reservedProps.forEach(function(name) {
            properties[name] = new PropertyInfoRecord(name, RESERVED, false, name, null, false, false);
          });
          [["acceptCharset", "accept-charset"], ["className", "class"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"]].forEach(function(_ref) {
            var name = _ref[0], attributeName = _ref[1];
            properties[name] = new PropertyInfoRecord(name, STRING, false, attributeName, null, false, false);
          });
          ["contentEditable", "draggable", "spellCheck", "value"].forEach(function(name) {
            properties[name] = new PropertyInfoRecord(name, BOOLEANISH_STRING, false, name.toLowerCase(), null, false, false);
          });
          ["autoReverse", "externalResourcesRequired", "focusable", "preserveAlpha"].forEach(function(name) {
            properties[name] = new PropertyInfoRecord(name, BOOLEANISH_STRING, false, name, null, false, false);
          });
          [
            "allowFullScreen",
            "async",
            "autoFocus",
            "autoPlay",
            "controls",
            "default",
            "defer",
            "disabled",
            "disablePictureInPicture",
            "disableRemotePlayback",
            "formNoValidate",
            "hidden",
            "loop",
            "noModule",
            "noValidate",
            "open",
            "playsInline",
            "readOnly",
            "required",
            "reversed",
            "scoped",
            "seamless",
            "itemScope"
          ].forEach(function(name) {
            properties[name] = new PropertyInfoRecord(name, BOOLEAN, false, name.toLowerCase(), null, false, false);
          });
          [
            "checked",
            "multiple",
            "muted",
            "selected"
          ].forEach(function(name) {
            properties[name] = new PropertyInfoRecord(name, BOOLEAN, true, name, null, false, false);
          });
          [
            "capture",
            "download"
          ].forEach(function(name) {
            properties[name] = new PropertyInfoRecord(name, OVERLOADED_BOOLEAN, false, name, null, false, false);
          });
          [
            "cols",
            "rows",
            "size",
            "span"
          ].forEach(function(name) {
            properties[name] = new PropertyInfoRecord(name, POSITIVE_NUMERIC, false, name, null, false, false);
          });
          ["rowSpan", "start"].forEach(function(name) {
            properties[name] = new PropertyInfoRecord(name, NUMERIC, false, name.toLowerCase(), null, false, false);
          });
          var CAMELIZE = /[\-\:]([a-z])/g;
          var capitalize = function(token) {
            return token[1].toUpperCase();
          };
          [
            "accent-height",
            "alignment-baseline",
            "arabic-form",
            "baseline-shift",
            "cap-height",
            "clip-path",
            "clip-rule",
            "color-interpolation",
            "color-interpolation-filters",
            "color-profile",
            "color-rendering",
            "dominant-baseline",
            "enable-background",
            "fill-opacity",
            "fill-rule",
            "flood-color",
            "flood-opacity",
            "font-family",
            "font-size",
            "font-size-adjust",
            "font-stretch",
            "font-style",
            "font-variant",
            "font-weight",
            "glyph-name",
            "glyph-orientation-horizontal",
            "glyph-orientation-vertical",
            "horiz-adv-x",
            "horiz-origin-x",
            "image-rendering",
            "letter-spacing",
            "lighting-color",
            "marker-end",
            "marker-mid",
            "marker-start",
            "overline-position",
            "overline-thickness",
            "paint-order",
            "panose-1",
            "pointer-events",
            "rendering-intent",
            "shape-rendering",
            "stop-color",
            "stop-opacity",
            "strikethrough-position",
            "strikethrough-thickness",
            "stroke-dasharray",
            "stroke-dashoffset",
            "stroke-linecap",
            "stroke-linejoin",
            "stroke-miterlimit",
            "stroke-opacity",
            "stroke-width",
            "text-anchor",
            "text-decoration",
            "text-rendering",
            "underline-position",
            "underline-thickness",
            "unicode-bidi",
            "unicode-range",
            "units-per-em",
            "v-alphabetic",
            "v-hanging",
            "v-ideographic",
            "v-mathematical",
            "vector-effect",
            "vert-adv-y",
            "vert-origin-x",
            "vert-origin-y",
            "word-spacing",
            "writing-mode",
            "xmlns:xlink",
            "x-height"
          ].forEach(function(attributeName) {
            var name = attributeName.replace(CAMELIZE, capitalize);
            properties[name] = new PropertyInfoRecord(name, STRING, false, attributeName, null, false, false);
          });
          [
            "xlink:actuate",
            "xlink:arcrole",
            "xlink:role",
            "xlink:show",
            "xlink:title",
            "xlink:type"
          ].forEach(function(attributeName) {
            var name = attributeName.replace(CAMELIZE, capitalize);
            properties[name] = new PropertyInfoRecord(name, STRING, false, attributeName, "http://www.w3.org/1999/xlink", false, false);
          });
          [
            "xml:base",
            "xml:lang",
            "xml:space"
          ].forEach(function(attributeName) {
            var name = attributeName.replace(CAMELIZE, capitalize);
            properties[name] = new PropertyInfoRecord(name, STRING, false, attributeName, "http://www.w3.org/XML/1998/namespace", false, false);
          });
          ["tabIndex", "crossOrigin"].forEach(function(attributeName) {
            properties[attributeName] = new PropertyInfoRecord(attributeName, STRING, false, attributeName.toLowerCase(), null, false, false);
          });
          var xlinkHref = "xlinkHref";
          properties[xlinkHref] = new PropertyInfoRecord("xlinkHref", STRING, false, "xlink:href", "http://www.w3.org/1999/xlink", true, false);
          ["src", "href", "action", "formAction"].forEach(function(attributeName) {
            properties[attributeName] = new PropertyInfoRecord(attributeName, STRING, false, attributeName.toLowerCase(), null, true, true);
          });
          var isJavaScriptProtocol = /^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i;
          var didWarn = false;
          function sanitizeURL(url) {
            {
              if (!didWarn && isJavaScriptProtocol.test(url)) {
                didWarn = true;
                error2("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.", JSON.stringify(url));
              }
            }
          }
          var matchHtmlRegExp = /["'&<>]/;
          function escapeHtml(string) {
            var str = "" + string;
            var match2 = matchHtmlRegExp.exec(str);
            if (!match2) {
              return str;
            }
            var escape2;
            var html = "";
            var index2;
            var lastIndex = 0;
            for (index2 = match2.index; index2 < str.length; index2++) {
              switch (str.charCodeAt(index2)) {
                case 34:
                  escape2 = "&quot;";
                  break;
                case 38:
                  escape2 = "&amp;";
                  break;
                case 39:
                  escape2 = "&#x27;";
                  break;
                case 60:
                  escape2 = "&lt;";
                  break;
                case 62:
                  escape2 = "&gt;";
                  break;
                default:
                  continue;
              }
              if (lastIndex !== index2) {
                html += str.substring(lastIndex, index2);
              }
              lastIndex = index2 + 1;
              html += escape2;
            }
            return lastIndex !== index2 ? html + str.substring(lastIndex, index2) : html;
          }
          function escapeTextForBrowser(text) {
            if (typeof text === "boolean" || typeof text === "number") {
              return "" + text;
            }
            return escapeHtml(text);
          }
          function quoteAttributeValueForBrowser(value) {
            return '"' + escapeTextForBrowser(value) + '"';
          }
          function createMarkupForRoot() {
            return ROOT_ATTRIBUTE_NAME + '=""';
          }
          function createMarkupForProperty(name, value) {
            var propertyInfo = getPropertyInfo(name);
            if (name !== "style" && shouldIgnoreAttribute(name, propertyInfo, false)) {
              return "";
            }
            if (shouldRemoveAttribute(name, value, propertyInfo, false)) {
              return "";
            }
            if (propertyInfo !== null) {
              var attributeName = propertyInfo.attributeName;
              var type = propertyInfo.type;
              if (type === BOOLEAN || type === OVERLOADED_BOOLEAN && value === true) {
                return attributeName + '=""';
              } else {
                if (propertyInfo.sanitizeURL) {
                  value = "" + value;
                  sanitizeURL(value);
                }
                return attributeName + "=" + quoteAttributeValueForBrowser(value);
              }
            } else if (isAttributeNameSafe(name)) {
              return name + "=" + quoteAttributeValueForBrowser(value);
            }
            return "";
          }
          function createMarkupForCustomAttribute(name, value) {
            if (!isAttributeNameSafe(name) || value == null) {
              return "";
            }
            return name + "=" + quoteAttributeValueForBrowser(value);
          }
          function is2(x2, y2) {
            return x2 === y2 && (x2 !== 0 || 1 / x2 === 1 / y2) || x2 !== x2 && y2 !== y2;
          }
          var objectIs = typeof Object.is === "function" ? Object.is : is2;
          var currentlyRenderingComponent = null;
          var firstWorkInProgressHook = null;
          var workInProgressHook = null;
          var isReRender = false;
          var didScheduleRenderPhaseUpdate = false;
          var renderPhaseUpdates = null;
          var numberOfReRenders = 0;
          var RE_RENDER_LIMIT = 25;
          var isInHookUserCodeInDev = false;
          var currentHookNameInDev;
          function resolveCurrentlyRenderingComponent() {
            if (!(currentlyRenderingComponent !== null)) {
              {
                throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.");
              }
            }
            {
              if (isInHookUserCodeInDev) {
                error2("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks");
              }
            }
            return currentlyRenderingComponent;
          }
          function areHookInputsEqual(nextDeps, prevDeps) {
            if (prevDeps === null) {
              {
                error2("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.", currentHookNameInDev);
              }
              return false;
            }
            {
              if (nextDeps.length !== prevDeps.length) {
                error2("The final argument passed to %s changed size between renders. The order and size of this array must remain constant.\n\nPrevious: %s\nIncoming: %s", currentHookNameInDev, "[" + nextDeps.join(", ") + "]", "[" + prevDeps.join(", ") + "]");
              }
            }
            for (var i4 = 0; i4 < prevDeps.length && i4 < nextDeps.length; i4++) {
              if (objectIs(nextDeps[i4], prevDeps[i4])) {
                continue;
              }
              return false;
            }
            return true;
          }
          function createHook() {
            if (numberOfReRenders > 0) {
              {
                {
                  throw Error("Rendered more hooks than during the previous render");
                }
              }
            }
            return {
              memoizedState: null,
              queue: null,
              next: null
            };
          }
          function createWorkInProgressHook() {
            if (workInProgressHook === null) {
              if (firstWorkInProgressHook === null) {
                isReRender = false;
                firstWorkInProgressHook = workInProgressHook = createHook();
              } else {
                isReRender = true;
                workInProgressHook = firstWorkInProgressHook;
              }
            } else {
              if (workInProgressHook.next === null) {
                isReRender = false;
                workInProgressHook = workInProgressHook.next = createHook();
              } else {
                isReRender = true;
                workInProgressHook = workInProgressHook.next;
              }
            }
            return workInProgressHook;
          }
          function prepareToUseHooks(componentIdentity) {
            currentlyRenderingComponent = componentIdentity;
            {
              isInHookUserCodeInDev = false;
            }
          }
          function finishHooks(Component2, props, children, refOrContext) {
            while (didScheduleRenderPhaseUpdate) {
              didScheduleRenderPhaseUpdate = false;
              numberOfReRenders += 1;
              workInProgressHook = null;
              children = Component2(props, refOrContext);
            }
            resetHooksState();
            return children;
          }
          function resetHooksState() {
            {
              isInHookUserCodeInDev = false;
            }
            currentlyRenderingComponent = null;
            didScheduleRenderPhaseUpdate = false;
            firstWorkInProgressHook = null;
            numberOfReRenders = 0;
            renderPhaseUpdates = null;
            workInProgressHook = null;
          }
          function readContext(context, observedBits) {
            var threadID = currentPartialRenderer.threadID;
            validateContextBounds(context, threadID);
            {
              if (isInHookUserCodeInDev) {
                error2("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");
              }
            }
            return context[threadID];
          }
          function useContext12(context, observedBits) {
            {
              currentHookNameInDev = "useContext";
            }
            resolveCurrentlyRenderingComponent();
            var threadID = currentPartialRenderer.threadID;
            validateContextBounds(context, threadID);
            return context[threadID];
          }
          function basicStateReducer(state, action) {
            return typeof action === "function" ? action(state) : action;
          }
          function useState27(initialState) {
            {
              currentHookNameInDev = "useState";
            }
            return useReducer3(basicStateReducer, initialState);
          }
          function useReducer3(reducer5, initialArg, init) {
            {
              if (reducer5 !== basicStateReducer) {
                currentHookNameInDev = "useReducer";
              }
            }
            currentlyRenderingComponent = resolveCurrentlyRenderingComponent();
            workInProgressHook = createWorkInProgressHook();
            if (isReRender) {
              var queue = workInProgressHook.queue;
              var dispatch3 = queue.dispatch;
              if (renderPhaseUpdates !== null) {
                var firstRenderPhaseUpdate = renderPhaseUpdates.get(queue);
                if (firstRenderPhaseUpdate !== void 0) {
                  renderPhaseUpdates.delete(queue);
                  var newState = workInProgressHook.memoizedState;
                  var update2 = firstRenderPhaseUpdate;
                  do {
                    var action = update2.action;
                    {
                      isInHookUserCodeInDev = true;
                    }
                    newState = reducer5(newState, action);
                    {
                      isInHookUserCodeInDev = false;
                    }
                    update2 = update2.next;
                  } while (update2 !== null);
                  workInProgressHook.memoizedState = newState;
                  return [newState, dispatch3];
                }
              }
              return [workInProgressHook.memoizedState, dispatch3];
            } else {
              {
                isInHookUserCodeInDev = true;
              }
              var initialState;
              if (reducer5 === basicStateReducer) {
                initialState = typeof initialArg === "function" ? initialArg() : initialArg;
              } else {
                initialState = init !== void 0 ? init(initialArg) : initialArg;
              }
              {
                isInHookUserCodeInDev = false;
              }
              workInProgressHook.memoizedState = initialState;
              var _queue = workInProgressHook.queue = {
                last: null,
                dispatch: null
              };
              var _dispatch = _queue.dispatch = dispatchAction.bind(null, currentlyRenderingComponent, _queue);
              return [workInProgressHook.memoizedState, _dispatch];
            }
          }
          function useMemo7(nextCreate, deps) {
            currentlyRenderingComponent = resolveCurrentlyRenderingComponent();
            workInProgressHook = createWorkInProgressHook();
            var nextDeps = deps === void 0 ? null : deps;
            if (workInProgressHook !== null) {
              var prevState = workInProgressHook.memoizedState;
              if (prevState !== null) {
                if (nextDeps !== null) {
                  var prevDeps = prevState[1];
                  if (areHookInputsEqual(nextDeps, prevDeps)) {
                    return prevState[0];
                  }
                }
              }
            }
            {
              isInHookUserCodeInDev = true;
            }
            var nextValue = nextCreate();
            {
              isInHookUserCodeInDev = false;
            }
            workInProgressHook.memoizedState = [nextValue, nextDeps];
            return nextValue;
          }
          function useRef9(initialValue) {
            currentlyRenderingComponent = resolveCurrentlyRenderingComponent();
            workInProgressHook = createWorkInProgressHook();
            var previousRef = workInProgressHook.memoizedState;
            if (previousRef === null) {
              var ref2 = {
                current: initialValue
              };
              {
                Object.seal(ref2);
              }
              workInProgressHook.memoizedState = ref2;
              return ref2;
            } else {
              return previousRef;
            }
          }
          function useLayoutEffect6(create2, inputs) {
            {
              currentHookNameInDev = "useLayoutEffect";
              error2("useLayoutEffect does nothing on the server, because its effect cannot be encoded into the server renderer's output format. This will lead to a mismatch between the initial, non-hydrated UI and the intended UI. To avoid this, useLayoutEffect should only be used in components that render exclusively on the client. See https://reactjs.org/link/uselayouteffect-ssr for common fixes.");
            }
          }
          function dispatchAction(componentIdentity, queue, action) {
            if (!(numberOfReRenders < RE_RENDER_LIMIT)) {
              {
                throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");
              }
            }
            if (componentIdentity === currentlyRenderingComponent) {
              didScheduleRenderPhaseUpdate = true;
              var update2 = {
                action,
                next: null
              };
              if (renderPhaseUpdates === null) {
                renderPhaseUpdates = /* @__PURE__ */ new Map();
              }
              var firstRenderPhaseUpdate = renderPhaseUpdates.get(queue);
              if (firstRenderPhaseUpdate === void 0) {
                renderPhaseUpdates.set(queue, update2);
              } else {
                var lastRenderPhaseUpdate = firstRenderPhaseUpdate;
                while (lastRenderPhaseUpdate.next !== null) {
                  lastRenderPhaseUpdate = lastRenderPhaseUpdate.next;
                }
                lastRenderPhaseUpdate.next = update2;
              }
            }
          }
          function useCallback7(callback, deps) {
            return useMemo7(function() {
              return callback;
            }, deps);
          }
          function useMutableSource(source, getSnapshot, subscribe) {
            resolveCurrentlyRenderingComponent();
            return getSnapshot(source._source);
          }
          function useDeferredValue(value) {
            resolveCurrentlyRenderingComponent();
            return value;
          }
          function useTransition() {
            resolveCurrentlyRenderingComponent();
            var startTransition = function(callback) {
              callback();
            };
            return [startTransition, false];
          }
          function useOpaqueIdentifier() {
            return (currentPartialRenderer.identifierPrefix || "") + "R:" + (currentPartialRenderer.uniqueID++).toString(36);
          }
          function noop3() {
          }
          var currentPartialRenderer = null;
          function setCurrentPartialRenderer(renderer) {
            currentPartialRenderer = renderer;
          }
          var Dispatcher = {
            readContext,
            useContext: useContext12,
            useMemo: useMemo7,
            useReducer: useReducer3,
            useRef: useRef9,
            useState: useState27,
            useLayoutEffect: useLayoutEffect6,
            useCallback: useCallback7,
            useImperativeHandle: noop3,
            useEffect: noop3,
            useDebugValue: noop3,
            useDeferredValue,
            useTransition,
            useOpaqueIdentifier,
            useMutableSource
          };
          var HTML_NAMESPACE = "http://www.w3.org/1999/xhtml";
          var MATH_NAMESPACE = "http://www.w3.org/1998/Math/MathML";
          var SVG_NAMESPACE = "http://www.w3.org/2000/svg";
          var Namespaces = {
            html: HTML_NAMESPACE,
            mathml: MATH_NAMESPACE,
            svg: SVG_NAMESPACE
          };
          function getIntrinsicNamespace(type) {
            switch (type) {
              case "svg":
                return SVG_NAMESPACE;
              case "math":
                return MATH_NAMESPACE;
              default:
                return HTML_NAMESPACE;
            }
          }
          function getChildNamespace(parentNamespace, type) {
            if (parentNamespace == null || parentNamespace === HTML_NAMESPACE) {
              return getIntrinsicNamespace(type);
            }
            if (parentNamespace === SVG_NAMESPACE && type === "foreignObject") {
              return HTML_NAMESPACE;
            }
            return parentNamespace;
          }
          var hasReadOnlyValue = {
            button: true,
            checkbox: true,
            image: true,
            hidden: true,
            radio: true,
            reset: true,
            submit: true
          };
          function checkControlledValueProps(tagName, props) {
            {
              if (!(hasReadOnlyValue[props.type] || props.onChange || props.onInput || props.readOnly || props.disabled || props.value == null)) {
                error2("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.");
              }
              if (!(props.onChange || props.readOnly || props.disabled || props.checked == null)) {
                error2("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.");
              }
            }
          }
          var omittedCloseTags = {
            area: true,
            base: true,
            br: true,
            col: true,
            embed: true,
            hr: true,
            img: true,
            input: true,
            keygen: true,
            link: true,
            meta: true,
            param: true,
            source: true,
            track: true,
            wbr: true
          };
          var voidElementTags = _assign({
            menuitem: true
          }, omittedCloseTags);
          var HTML = "__html";
          function assertValidProps(tag, props) {
            if (!props) {
              return;
            }
            if (voidElementTags[tag]) {
              if (!(props.children == null && props.dangerouslySetInnerHTML == null)) {
                {
                  throw Error(tag + " is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");
                }
              }
            }
            if (props.dangerouslySetInnerHTML != null) {
              if (!(props.children == null)) {
                {
                  throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");
                }
              }
              if (!(typeof props.dangerouslySetInnerHTML === "object" && HTML in props.dangerouslySetInnerHTML)) {
                {
                  throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.");
                }
              }
            }
            {
              if (!props.suppressContentEditableWarning && props.contentEditable && props.children != null) {
                error2("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.");
              }
            }
            if (!(props.style == null || typeof props.style === "object")) {
              {
                throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");
              }
            }
          }
          var isUnitlessNumber = {
            animationIterationCount: true,
            borderImageOutset: true,
            borderImageSlice: true,
            borderImageWidth: true,
            boxFlex: true,
            boxFlexGroup: true,
            boxOrdinalGroup: true,
            columnCount: true,
            columns: true,
            flex: true,
            flexGrow: true,
            flexPositive: true,
            flexShrink: true,
            flexNegative: true,
            flexOrder: true,
            gridArea: true,
            gridRow: true,
            gridRowEnd: true,
            gridRowSpan: true,
            gridRowStart: true,
            gridColumn: true,
            gridColumnEnd: true,
            gridColumnSpan: true,
            gridColumnStart: true,
            fontWeight: true,
            lineClamp: true,
            lineHeight: true,
            opacity: true,
            order: true,
            orphans: true,
            tabSize: true,
            widows: true,
            zIndex: true,
            zoom: true,
            fillOpacity: true,
            floodOpacity: true,
            stopOpacity: true,
            strokeDasharray: true,
            strokeDashoffset: true,
            strokeMiterlimit: true,
            strokeOpacity: true,
            strokeWidth: true
          };
          function prefixKey(prefix4, key) {
            return prefix4 + key.charAt(0).toUpperCase() + key.substring(1);
          }
          var prefixes = ["Webkit", "ms", "Moz", "O"];
          Object.keys(isUnitlessNumber).forEach(function(prop) {
            prefixes.forEach(function(prefix4) {
              isUnitlessNumber[prefixKey(prefix4, prop)] = isUnitlessNumber[prop];
            });
          });
          function dangerousStyleValue(name, value, isCustomProperty) {
            var isEmpty = value == null || typeof value === "boolean" || value === "";
            if (isEmpty) {
              return "";
            }
            if (!isCustomProperty && typeof value === "number" && value !== 0 && !(isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name])) {
              return value + "px";
            }
            return ("" + value).trim();
          }
          var uppercasePattern = /([A-Z])/g;
          var msPattern = /^ms-/;
          function hyphenateStyleName(name) {
            return name.replace(uppercasePattern, "-$1").toLowerCase().replace(msPattern, "-ms-");
          }
          function isCustomComponent(tagName, props) {
            if (tagName.indexOf("-") === -1) {
              return typeof props.is === "string";
            }
            switch (tagName) {
              case "annotation-xml":
              case "color-profile":
              case "font-face":
              case "font-face-src":
              case "font-face-uri":
              case "font-face-format":
              case "font-face-name":
              case "missing-glyph":
                return false;
              default:
                return true;
            }
          }
          var warnValidStyle = function() {
          };
          {
            var badVendoredStyleNamePattern = /^(?:webkit|moz|o)[A-Z]/;
            var msPattern$1 = /^-ms-/;
            var hyphenPattern = /-(.)/g;
            var badStyleValueWithSemicolonPattern = /;\s*$/;
            var warnedStyleNames = {};
            var warnedStyleValues = {};
            var warnedForNaNValue = false;
            var warnedForInfinityValue = false;
            var camelize = function(string) {
              return string.replace(hyphenPattern, function(_2, character) {
                return character.toUpperCase();
              });
            };
            var warnHyphenatedStyleName = function(name) {
              if (warnedStyleNames.hasOwnProperty(name) && warnedStyleNames[name]) {
                return;
              }
              warnedStyleNames[name] = true;
              error2("Unsupported style property %s. Did you mean %s?", name, camelize(name.replace(msPattern$1, "ms-")));
            };
            var warnBadVendoredStyleName = function(name) {
              if (warnedStyleNames.hasOwnProperty(name) && warnedStyleNames[name]) {
                return;
              }
              warnedStyleNames[name] = true;
              error2("Unsupported vendor-prefixed style property %s. Did you mean %s?", name, name.charAt(0).toUpperCase() + name.slice(1));
            };
            var warnStyleValueWithSemicolon = function(name, value) {
              if (warnedStyleValues.hasOwnProperty(value) && warnedStyleValues[value]) {
                return;
              }
              warnedStyleValues[value] = true;
              error2(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`, name, value.replace(badStyleValueWithSemicolonPattern, ""));
            };
            var warnStyleValueIsNaN = function(name, value) {
              if (warnedForNaNValue) {
                return;
              }
              warnedForNaNValue = true;
              error2("`NaN` is an invalid value for the `%s` css style property.", name);
            };
            var warnStyleValueIsInfinity = function(name, value) {
              if (warnedForInfinityValue) {
                return;
              }
              warnedForInfinityValue = true;
              error2("`Infinity` is an invalid value for the `%s` css style property.", name);
            };
            warnValidStyle = function(name, value) {
              if (name.indexOf("-") > -1) {
                warnHyphenatedStyleName(name);
              } else if (badVendoredStyleNamePattern.test(name)) {
                warnBadVendoredStyleName(name);
              } else if (badStyleValueWithSemicolonPattern.test(value)) {
                warnStyleValueWithSemicolon(name, value);
              }
              if (typeof value === "number") {
                if (isNaN(value)) {
                  warnStyleValueIsNaN(name, value);
                } else if (!isFinite(value)) {
                  warnStyleValueIsInfinity(name, value);
                }
              }
            };
          }
          var warnValidStyle$1 = warnValidStyle;
          var ariaProperties = {
            "aria-current": 0,
            "aria-details": 0,
            "aria-disabled": 0,
            "aria-hidden": 0,
            "aria-invalid": 0,
            "aria-keyshortcuts": 0,
            "aria-label": 0,
            "aria-roledescription": 0,
            "aria-autocomplete": 0,
            "aria-checked": 0,
            "aria-expanded": 0,
            "aria-haspopup": 0,
            "aria-level": 0,
            "aria-modal": 0,
            "aria-multiline": 0,
            "aria-multiselectable": 0,
            "aria-orientation": 0,
            "aria-placeholder": 0,
            "aria-pressed": 0,
            "aria-readonly": 0,
            "aria-required": 0,
            "aria-selected": 0,
            "aria-sort": 0,
            "aria-valuemax": 0,
            "aria-valuemin": 0,
            "aria-valuenow": 0,
            "aria-valuetext": 0,
            "aria-atomic": 0,
            "aria-busy": 0,
            "aria-live": 0,
            "aria-relevant": 0,
            "aria-dropeffect": 0,
            "aria-grabbed": 0,
            "aria-activedescendant": 0,
            "aria-colcount": 0,
            "aria-colindex": 0,
            "aria-colspan": 0,
            "aria-controls": 0,
            "aria-describedby": 0,
            "aria-errormessage": 0,
            "aria-flowto": 0,
            "aria-labelledby": 0,
            "aria-owns": 0,
            "aria-posinset": 0,
            "aria-rowcount": 0,
            "aria-rowindex": 0,
            "aria-rowspan": 0,
            "aria-setsize": 0
          };
          var warnedProperties = {};
          var rARIA = new RegExp("^(aria)-[" + ATTRIBUTE_NAME_CHAR + "]*$");
          var rARIACamel = new RegExp("^(aria)[A-Z][" + ATTRIBUTE_NAME_CHAR + "]*$");
          var hasOwnProperty$1 = Object.prototype.hasOwnProperty;
          function validateProperty(tagName, name) {
            {
              if (hasOwnProperty$1.call(warnedProperties, name) && warnedProperties[name]) {
                return true;
              }
              if (rARIACamel.test(name)) {
                var ariaName = "aria-" + name.slice(4).toLowerCase();
                var correctName = ariaProperties.hasOwnProperty(ariaName) ? ariaName : null;
                if (correctName == null) {
                  error2("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.", name);
                  warnedProperties[name] = true;
                  return true;
                }
                if (name !== correctName) {
                  error2("Invalid ARIA attribute `%s`. Did you mean `%s`?", name, correctName);
                  warnedProperties[name] = true;
                  return true;
                }
              }
              if (rARIA.test(name)) {
                var lowerCasedName = name.toLowerCase();
                var standardName = ariaProperties.hasOwnProperty(lowerCasedName) ? lowerCasedName : null;
                if (standardName == null) {
                  warnedProperties[name] = true;
                  return false;
                }
                if (name !== standardName) {
                  error2("Unknown ARIA attribute `%s`. Did you mean `%s`?", name, standardName);
                  warnedProperties[name] = true;
                  return true;
                }
              }
            }
            return true;
          }
          function warnInvalidARIAProps(type, props) {
            {
              var invalidProps = [];
              for (var key in props) {
                var isValid = validateProperty(type, key);
                if (!isValid) {
                  invalidProps.push(key);
                }
              }
              var unknownPropString = invalidProps.map(function(prop) {
                return "`" + prop + "`";
              }).join(", ");
              if (invalidProps.length === 1) {
                error2("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props", unknownPropString, type);
              } else if (invalidProps.length > 1) {
                error2("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props", unknownPropString, type);
              }
            }
          }
          function validateProperties(type, props) {
            if (isCustomComponent(type, props)) {
              return;
            }
            warnInvalidARIAProps(type, props);
          }
          var didWarnValueNull = false;
          function validateProperties$1(type, props) {
            {
              if (type !== "input" && type !== "textarea" && type !== "select") {
                return;
              }
              if (props != null && props.value === null && !didWarnValueNull) {
                didWarnValueNull = true;
                if (type === "select" && props.multiple) {
                  error2("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.", type);
                } else {
                  error2("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.", type);
                }
              }
            }
          }
          var possibleStandardNames = {
            accept: "accept",
            acceptcharset: "acceptCharset",
            "accept-charset": "acceptCharset",
            accesskey: "accessKey",
            action: "action",
            allowfullscreen: "allowFullScreen",
            alt: "alt",
            as: "as",
            async: "async",
            autocapitalize: "autoCapitalize",
            autocomplete: "autoComplete",
            autocorrect: "autoCorrect",
            autofocus: "autoFocus",
            autoplay: "autoPlay",
            autosave: "autoSave",
            capture: "capture",
            cellpadding: "cellPadding",
            cellspacing: "cellSpacing",
            challenge: "challenge",
            charset: "charSet",
            checked: "checked",
            children: "children",
            cite: "cite",
            class: "className",
            classid: "classID",
            classname: "className",
            cols: "cols",
            colspan: "colSpan",
            content: "content",
            contenteditable: "contentEditable",
            contextmenu: "contextMenu",
            controls: "controls",
            controlslist: "controlsList",
            coords: "coords",
            crossorigin: "crossOrigin",
            dangerouslysetinnerhtml: "dangerouslySetInnerHTML",
            data: "data",
            datetime: "dateTime",
            default: "default",
            defaultchecked: "defaultChecked",
            defaultvalue: "defaultValue",
            defer: "defer",
            dir: "dir",
            disabled: "disabled",
            disablepictureinpicture: "disablePictureInPicture",
            disableremoteplayback: "disableRemotePlayback",
            download: "download",
            draggable: "draggable",
            enctype: "encType",
            enterkeyhint: "enterKeyHint",
            for: "htmlFor",
            form: "form",
            formmethod: "formMethod",
            formaction: "formAction",
            formenctype: "formEncType",
            formnovalidate: "formNoValidate",
            formtarget: "formTarget",
            frameborder: "frameBorder",
            headers: "headers",
            height: "height",
            hidden: "hidden",
            high: "high",
            href: "href",
            hreflang: "hrefLang",
            htmlfor: "htmlFor",
            httpequiv: "httpEquiv",
            "http-equiv": "httpEquiv",
            icon: "icon",
            id: "id",
            innerhtml: "innerHTML",
            inputmode: "inputMode",
            integrity: "integrity",
            is: "is",
            itemid: "itemID",
            itemprop: "itemProp",
            itemref: "itemRef",
            itemscope: "itemScope",
            itemtype: "itemType",
            keyparams: "keyParams",
            keytype: "keyType",
            kind: "kind",
            label: "label",
            lang: "lang",
            list: "list",
            loop: "loop",
            low: "low",
            manifest: "manifest",
            marginwidth: "marginWidth",
            marginheight: "marginHeight",
            max: "max",
            maxlength: "maxLength",
            media: "media",
            mediagroup: "mediaGroup",
            method: "method",
            min: "min",
            minlength: "minLength",
            multiple: "multiple",
            muted: "muted",
            name: "name",
            nomodule: "noModule",
            nonce: "nonce",
            novalidate: "noValidate",
            open: "open",
            optimum: "optimum",
            pattern: "pattern",
            placeholder: "placeholder",
            playsinline: "playsInline",
            poster: "poster",
            preload: "preload",
            profile: "profile",
            radiogroup: "radioGroup",
            readonly: "readOnly",
            referrerpolicy: "referrerPolicy",
            rel: "rel",
            required: "required",
            reversed: "reversed",
            role: "role",
            rows: "rows",
            rowspan: "rowSpan",
            sandbox: "sandbox",
            scope: "scope",
            scoped: "scoped",
            scrolling: "scrolling",
            seamless: "seamless",
            selected: "selected",
            shape: "shape",
            size: "size",
            sizes: "sizes",
            span: "span",
            spellcheck: "spellCheck",
            src: "src",
            srcdoc: "srcDoc",
            srclang: "srcLang",
            srcset: "srcSet",
            start: "start",
            step: "step",
            style: "style",
            summary: "summary",
            tabindex: "tabIndex",
            target: "target",
            title: "title",
            type: "type",
            usemap: "useMap",
            value: "value",
            width: "width",
            wmode: "wmode",
            wrap: "wrap",
            about: "about",
            accentheight: "accentHeight",
            "accent-height": "accentHeight",
            accumulate: "accumulate",
            additive: "additive",
            alignmentbaseline: "alignmentBaseline",
            "alignment-baseline": "alignmentBaseline",
            allowreorder: "allowReorder",
            alphabetic: "alphabetic",
            amplitude: "amplitude",
            arabicform: "arabicForm",
            "arabic-form": "arabicForm",
            ascent: "ascent",
            attributename: "attributeName",
            attributetype: "attributeType",
            autoreverse: "autoReverse",
            azimuth: "azimuth",
            basefrequency: "baseFrequency",
            baselineshift: "baselineShift",
            "baseline-shift": "baselineShift",
            baseprofile: "baseProfile",
            bbox: "bbox",
            begin: "begin",
            bias: "bias",
            by: "by",
            calcmode: "calcMode",
            capheight: "capHeight",
            "cap-height": "capHeight",
            clip: "clip",
            clippath: "clipPath",
            "clip-path": "clipPath",
            clippathunits: "clipPathUnits",
            cliprule: "clipRule",
            "clip-rule": "clipRule",
            color: "color",
            colorinterpolation: "colorInterpolation",
            "color-interpolation": "colorInterpolation",
            colorinterpolationfilters: "colorInterpolationFilters",
            "color-interpolation-filters": "colorInterpolationFilters",
            colorprofile: "colorProfile",
            "color-profile": "colorProfile",
            colorrendering: "colorRendering",
            "color-rendering": "colorRendering",
            contentscripttype: "contentScriptType",
            contentstyletype: "contentStyleType",
            cursor: "cursor",
            cx: "cx",
            cy: "cy",
            d: "d",
            datatype: "datatype",
            decelerate: "decelerate",
            descent: "descent",
            diffuseconstant: "diffuseConstant",
            direction: "direction",
            display: "display",
            divisor: "divisor",
            dominantbaseline: "dominantBaseline",
            "dominant-baseline": "dominantBaseline",
            dur: "dur",
            dx: "dx",
            dy: "dy",
            edgemode: "edgeMode",
            elevation: "elevation",
            enablebackground: "enableBackground",
            "enable-background": "enableBackground",
            end: "end",
            exponent: "exponent",
            externalresourcesrequired: "externalResourcesRequired",
            fill: "fill",
            fillopacity: "fillOpacity",
            "fill-opacity": "fillOpacity",
            fillrule: "fillRule",
            "fill-rule": "fillRule",
            filter: "filter",
            filterres: "filterRes",
            filterunits: "filterUnits",
            floodopacity: "floodOpacity",
            "flood-opacity": "floodOpacity",
            floodcolor: "floodColor",
            "flood-color": "floodColor",
            focusable: "focusable",
            fontfamily: "fontFamily",
            "font-family": "fontFamily",
            fontsize: "fontSize",
            "font-size": "fontSize",
            fontsizeadjust: "fontSizeAdjust",
            "font-size-adjust": "fontSizeAdjust",
            fontstretch: "fontStretch",
            "font-stretch": "fontStretch",
            fontstyle: "fontStyle",
            "font-style": "fontStyle",
            fontvariant: "fontVariant",
            "font-variant": "fontVariant",
            fontweight: "fontWeight",
            "font-weight": "fontWeight",
            format: "format",
            from: "from",
            fx: "fx",
            fy: "fy",
            g1: "g1",
            g2: "g2",
            glyphname: "glyphName",
            "glyph-name": "glyphName",
            glyphorientationhorizontal: "glyphOrientationHorizontal",
            "glyph-orientation-horizontal": "glyphOrientationHorizontal",
            glyphorientationvertical: "glyphOrientationVertical",
            "glyph-orientation-vertical": "glyphOrientationVertical",
            glyphref: "glyphRef",
            gradienttransform: "gradientTransform",
            gradientunits: "gradientUnits",
            hanging: "hanging",
            horizadvx: "horizAdvX",
            "horiz-adv-x": "horizAdvX",
            horizoriginx: "horizOriginX",
            "horiz-origin-x": "horizOriginX",
            ideographic: "ideographic",
            imagerendering: "imageRendering",
            "image-rendering": "imageRendering",
            in2: "in2",
            in: "in",
            inlist: "inlist",
            intercept: "intercept",
            k1: "k1",
            k2: "k2",
            k3: "k3",
            k4: "k4",
            k: "k",
            kernelmatrix: "kernelMatrix",
            kernelunitlength: "kernelUnitLength",
            kerning: "kerning",
            keypoints: "keyPoints",
            keysplines: "keySplines",
            keytimes: "keyTimes",
            lengthadjust: "lengthAdjust",
            letterspacing: "letterSpacing",
            "letter-spacing": "letterSpacing",
            lightingcolor: "lightingColor",
            "lighting-color": "lightingColor",
            limitingconeangle: "limitingConeAngle",
            local: "local",
            markerend: "markerEnd",
            "marker-end": "markerEnd",
            markerheight: "markerHeight",
            markermid: "markerMid",
            "marker-mid": "markerMid",
            markerstart: "markerStart",
            "marker-start": "markerStart",
            markerunits: "markerUnits",
            markerwidth: "markerWidth",
            mask: "mask",
            maskcontentunits: "maskContentUnits",
            maskunits: "maskUnits",
            mathematical: "mathematical",
            mode: "mode",
            numoctaves: "numOctaves",
            offset: "offset",
            opacity: "opacity",
            operator: "operator",
            order: "order",
            orient: "orient",
            orientation: "orientation",
            origin: "origin",
            overflow: "overflow",
            overlineposition: "overlinePosition",
            "overline-position": "overlinePosition",
            overlinethickness: "overlineThickness",
            "overline-thickness": "overlineThickness",
            paintorder: "paintOrder",
            "paint-order": "paintOrder",
            panose1: "panose1",
            "panose-1": "panose1",
            pathlength: "pathLength",
            patterncontentunits: "patternContentUnits",
            patterntransform: "patternTransform",
            patternunits: "patternUnits",
            pointerevents: "pointerEvents",
            "pointer-events": "pointerEvents",
            points: "points",
            pointsatx: "pointsAtX",
            pointsaty: "pointsAtY",
            pointsatz: "pointsAtZ",
            prefix: "prefix",
            preservealpha: "preserveAlpha",
            preserveaspectratio: "preserveAspectRatio",
            primitiveunits: "primitiveUnits",
            property: "property",
            r: "r",
            radius: "radius",
            refx: "refX",
            refy: "refY",
            renderingintent: "renderingIntent",
            "rendering-intent": "renderingIntent",
            repeatcount: "repeatCount",
            repeatdur: "repeatDur",
            requiredextensions: "requiredExtensions",
            requiredfeatures: "requiredFeatures",
            resource: "resource",
            restart: "restart",
            result: "result",
            results: "results",
            rotate: "rotate",
            rx: "rx",
            ry: "ry",
            scale: "scale",
            security: "security",
            seed: "seed",
            shaperendering: "shapeRendering",
            "shape-rendering": "shapeRendering",
            slope: "slope",
            spacing: "spacing",
            specularconstant: "specularConstant",
            specularexponent: "specularExponent",
            speed: "speed",
            spreadmethod: "spreadMethod",
            startoffset: "startOffset",
            stddeviation: "stdDeviation",
            stemh: "stemh",
            stemv: "stemv",
            stitchtiles: "stitchTiles",
            stopcolor: "stopColor",
            "stop-color": "stopColor",
            stopopacity: "stopOpacity",
            "stop-opacity": "stopOpacity",
            strikethroughposition: "strikethroughPosition",
            "strikethrough-position": "strikethroughPosition",
            strikethroughthickness: "strikethroughThickness",
            "strikethrough-thickness": "strikethroughThickness",
            string: "string",
            stroke: "stroke",
            strokedasharray: "strokeDasharray",
            "stroke-dasharray": "strokeDasharray",
            strokedashoffset: "strokeDashoffset",
            "stroke-dashoffset": "strokeDashoffset",
            strokelinecap: "strokeLinecap",
            "stroke-linecap": "strokeLinecap",
            strokelinejoin: "strokeLinejoin",
            "stroke-linejoin": "strokeLinejoin",
            strokemiterlimit: "strokeMiterlimit",
            "stroke-miterlimit": "strokeMiterlimit",
            strokewidth: "strokeWidth",
            "stroke-width": "strokeWidth",
            strokeopacity: "strokeOpacity",
            "stroke-opacity": "strokeOpacity",
            suppresscontenteditablewarning: "suppressContentEditableWarning",
            suppresshydrationwarning: "suppressHydrationWarning",
            surfacescale: "surfaceScale",
            systemlanguage: "systemLanguage",
            tablevalues: "tableValues",
            targetx: "targetX",
            targety: "targetY",
            textanchor: "textAnchor",
            "text-anchor": "textAnchor",
            textdecoration: "textDecoration",
            "text-decoration": "textDecoration",
            textlength: "textLength",
            textrendering: "textRendering",
            "text-rendering": "textRendering",
            to: "to",
            transform: "transform",
            typeof: "typeof",
            u1: "u1",
            u2: "u2",
            underlineposition: "underlinePosition",
            "underline-position": "underlinePosition",
            underlinethickness: "underlineThickness",
            "underline-thickness": "underlineThickness",
            unicode: "unicode",
            unicodebidi: "unicodeBidi",
            "unicode-bidi": "unicodeBidi",
            unicoderange: "unicodeRange",
            "unicode-range": "unicodeRange",
            unitsperem: "unitsPerEm",
            "units-per-em": "unitsPerEm",
            unselectable: "unselectable",
            valphabetic: "vAlphabetic",
            "v-alphabetic": "vAlphabetic",
            values: "values",
            vectoreffect: "vectorEffect",
            "vector-effect": "vectorEffect",
            version: "version",
            vertadvy: "vertAdvY",
            "vert-adv-y": "vertAdvY",
            vertoriginx: "vertOriginX",
            "vert-origin-x": "vertOriginX",
            vertoriginy: "vertOriginY",
            "vert-origin-y": "vertOriginY",
            vhanging: "vHanging",
            "v-hanging": "vHanging",
            videographic: "vIdeographic",
            "v-ideographic": "vIdeographic",
            viewbox: "viewBox",
            viewtarget: "viewTarget",
            visibility: "visibility",
            vmathematical: "vMathematical",
            "v-mathematical": "vMathematical",
            vocab: "vocab",
            widths: "widths",
            wordspacing: "wordSpacing",
            "word-spacing": "wordSpacing",
            writingmode: "writingMode",
            "writing-mode": "writingMode",
            x1: "x1",
            x2: "x2",
            x: "x",
            xchannelselector: "xChannelSelector",
            xheight: "xHeight",
            "x-height": "xHeight",
            xlinkactuate: "xlinkActuate",
            "xlink:actuate": "xlinkActuate",
            xlinkarcrole: "xlinkArcrole",
            "xlink:arcrole": "xlinkArcrole",
            xlinkhref: "xlinkHref",
            "xlink:href": "xlinkHref",
            xlinkrole: "xlinkRole",
            "xlink:role": "xlinkRole",
            xlinkshow: "xlinkShow",
            "xlink:show": "xlinkShow",
            xlinktitle: "xlinkTitle",
            "xlink:title": "xlinkTitle",
            xlinktype: "xlinkType",
            "xlink:type": "xlinkType",
            xmlbase: "xmlBase",
            "xml:base": "xmlBase",
            xmllang: "xmlLang",
            "xml:lang": "xmlLang",
            xmlns: "xmlns",
            "xml:space": "xmlSpace",
            xmlnsxlink: "xmlnsXlink",
            "xmlns:xlink": "xmlnsXlink",
            xmlspace: "xmlSpace",
            y1: "y1",
            y2: "y2",
            y: "y",
            ychannelselector: "yChannelSelector",
            z: "z",
            zoomandpan: "zoomAndPan"
          };
          var validateProperty$1 = function() {
          };
          {
            var warnedProperties$1 = {};
            var _hasOwnProperty = Object.prototype.hasOwnProperty;
            var EVENT_NAME_REGEX = /^on./;
            var INVALID_EVENT_NAME_REGEX = /^on[^A-Z]/;
            var rARIA$1 = new RegExp("^(aria)-[" + ATTRIBUTE_NAME_CHAR + "]*$");
            var rARIACamel$1 = new RegExp("^(aria)[A-Z][" + ATTRIBUTE_NAME_CHAR + "]*$");
            validateProperty$1 = function(tagName, name, value, eventRegistry) {
              if (_hasOwnProperty.call(warnedProperties$1, name) && warnedProperties$1[name]) {
                return true;
              }
              var lowerCasedName = name.toLowerCase();
              if (lowerCasedName === "onfocusin" || lowerCasedName === "onfocusout") {
                error2("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React.");
                warnedProperties$1[name] = true;
                return true;
              }
              if (eventRegistry != null) {
                var registrationNameDependencies = eventRegistry.registrationNameDependencies, possibleRegistrationNames = eventRegistry.possibleRegistrationNames;
                if (registrationNameDependencies.hasOwnProperty(name)) {
                  return true;
                }
                var registrationName = possibleRegistrationNames.hasOwnProperty(lowerCasedName) ? possibleRegistrationNames[lowerCasedName] : null;
                if (registrationName != null) {
                  error2("Invalid event handler property `%s`. Did you mean `%s`?", name, registrationName);
                  warnedProperties$1[name] = true;
                  return true;
                }
                if (EVENT_NAME_REGEX.test(name)) {
                  error2("Unknown event handler property `%s`. It will be ignored.", name);
                  warnedProperties$1[name] = true;
                  return true;
                }
              } else if (EVENT_NAME_REGEX.test(name)) {
                if (INVALID_EVENT_NAME_REGEX.test(name)) {
                  error2("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.", name);
                }
                warnedProperties$1[name] = true;
                return true;
              }
              if (rARIA$1.test(name) || rARIACamel$1.test(name)) {
                return true;
              }
              if (lowerCasedName === "innerhtml") {
                error2("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`.");
                warnedProperties$1[name] = true;
                return true;
              }
              if (lowerCasedName === "aria") {
                error2("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead.");
                warnedProperties$1[name] = true;
                return true;
              }
              if (lowerCasedName === "is" && value !== null && value !== void 0 && typeof value !== "string") {
                error2("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.", typeof value);
                warnedProperties$1[name] = true;
                return true;
              }
              if (typeof value === "number" && isNaN(value)) {
                error2("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.", name);
                warnedProperties$1[name] = true;
                return true;
              }
              var propertyInfo = getPropertyInfo(name);
              var isReserved = propertyInfo !== null && propertyInfo.type === RESERVED;
              if (possibleStandardNames.hasOwnProperty(lowerCasedName)) {
                var standardName = possibleStandardNames[lowerCasedName];
                if (standardName !== name) {
                  error2("Invalid DOM property `%s`. Did you mean `%s`?", name, standardName);
                  warnedProperties$1[name] = true;
                  return true;
                }
              } else if (!isReserved && name !== lowerCasedName) {
                error2("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.", name, lowerCasedName);
                warnedProperties$1[name] = true;
                return true;
              }
              if (typeof value === "boolean" && shouldRemoveAttributeWithWarning(name, value, propertyInfo, false)) {
                if (value) {
                  error2('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.', value, name, name, value, name);
                } else {
                  error2('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.', value, name, name, value, name, name, name);
                }
                warnedProperties$1[name] = true;
                return true;
              }
              if (isReserved) {
                return true;
              }
              if (shouldRemoveAttributeWithWarning(name, value, propertyInfo, false)) {
                warnedProperties$1[name] = true;
                return false;
              }
              if ((value === "false" || value === "true") && propertyInfo !== null && propertyInfo.type === BOOLEAN) {
                error2("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?", value, name, value === "false" ? "The browser will interpret it as a truthy value." : 'Although this works, it will not work as expected if you pass the string "false".', name, value);
                warnedProperties$1[name] = true;
                return true;
              }
              return true;
            };
          }
          var warnUnknownProperties = function(type, props, eventRegistry) {
            {
              var unknownProps = [];
              for (var key in props) {
                var isValid = validateProperty$1(type, key, props[key], eventRegistry);
                if (!isValid) {
                  unknownProps.push(key);
                }
              }
              var unknownPropString = unknownProps.map(function(prop) {
                return "`" + prop + "`";
              }).join(", ");
              if (unknownProps.length === 1) {
                error2("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ", unknownPropString, type);
              } else if (unknownProps.length > 1) {
                error2("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ", unknownPropString, type);
              }
            }
          };
          function validateProperties$2(type, props, eventRegistry) {
            if (isCustomComponent(type, props)) {
              return;
            }
            warnUnknownProperties(type, props, eventRegistry);
          }
          var toArray2 = React30.Children.toArray;
          var currentDebugStacks = [];
          var ReactCurrentDispatcher$1 = ReactSharedInternals.ReactCurrentDispatcher;
          var ReactDebugCurrentFrame$1;
          var prevGetCurrentStackImpl = null;
          var getCurrentServerStackImpl = function() {
            return "";
          };
          var describeStackFrame = function(element) {
            return "";
          };
          var validatePropertiesInDevelopment = function(type, props) {
          };
          var pushCurrentDebugStack = function(stack) {
          };
          var pushElementToDebugStack = function(element) {
          };
          var popCurrentDebugStack = function() {
          };
          var hasWarnedAboutUsingContextAsConsumer = false;
          {
            ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;
            validatePropertiesInDevelopment = function(type, props) {
              validateProperties(type, props);
              validateProperties$1(type, props);
              validateProperties$2(type, props, null);
            };
            describeStackFrame = function(element) {
              return describeUnknownElementTypeFrameInDEV(element.type, element._source, null);
            };
            pushCurrentDebugStack = function(stack) {
              currentDebugStacks.push(stack);
              if (currentDebugStacks.length === 1) {
                prevGetCurrentStackImpl = ReactDebugCurrentFrame$1.getCurrentStack;
                ReactDebugCurrentFrame$1.getCurrentStack = getCurrentServerStackImpl;
              }
            };
            pushElementToDebugStack = function(element) {
              var stack = currentDebugStacks[currentDebugStacks.length - 1];
              var frame = stack[stack.length - 1];
              frame.debugElementStack.push(element);
            };
            popCurrentDebugStack = function() {
              currentDebugStacks.pop();
              if (currentDebugStacks.length === 0) {
                ReactDebugCurrentFrame$1.getCurrentStack = prevGetCurrentStackImpl;
                prevGetCurrentStackImpl = null;
              }
            };
            getCurrentServerStackImpl = function() {
              if (currentDebugStacks.length === 0) {
                return "";
              }
              var frames = currentDebugStacks[currentDebugStacks.length - 1];
              var stack = "";
              for (var i4 = frames.length - 1; i4 >= 0; i4--) {
                var frame = frames[i4];
                var debugElementStack = frame.debugElementStack;
                for (var ii = debugElementStack.length - 1; ii >= 0; ii--) {
                  stack += describeStackFrame(debugElementStack[ii]);
                }
              }
              return stack;
            };
          }
          var didWarnDefaultInputValue = false;
          var didWarnDefaultChecked = false;
          var didWarnDefaultSelectValue = false;
          var didWarnDefaultTextareaValue = false;
          var didWarnInvalidOptionChildren = false;
          var didWarnAboutNoopUpdateForComponent = {};
          var didWarnAboutBadClass = {};
          var didWarnAboutModulePatternComponent = {};
          var didWarnAboutDeprecatedWillMount = {};
          var didWarnAboutUndefinedDerivedState = {};
          var didWarnAboutUninitializedState = {};
          var valuePropNames = ["value", "defaultValue"];
          var newlineEatingTags = {
            listing: true,
            pre: true,
            textarea: true
          };
          var VALID_TAG_REGEX = /^[a-zA-Z][a-zA-Z:_\.\-\d]*$/;
          var validatedTagCache = {};
          function validateDangerousTag(tag) {
            if (!validatedTagCache.hasOwnProperty(tag)) {
              if (!VALID_TAG_REGEX.test(tag)) {
                {
                  throw Error("Invalid tag: " + tag);
                }
              }
              validatedTagCache[tag] = true;
            }
          }
          var styleNameCache = {};
          var processStyleName = function(styleName) {
            if (styleNameCache.hasOwnProperty(styleName)) {
              return styleNameCache[styleName];
            }
            var result = hyphenateStyleName(styleName);
            styleNameCache[styleName] = result;
            return result;
          };
          function createMarkupForStyles(styles) {
            var serialized = "";
            var delimiter = "";
            for (var styleName in styles) {
              if (!styles.hasOwnProperty(styleName)) {
                continue;
              }
              var isCustomProperty = styleName.indexOf("--") === 0;
              var styleValue = styles[styleName];
              {
                if (!isCustomProperty) {
                  warnValidStyle$1(styleName, styleValue);
                }
              }
              if (styleValue != null) {
                serialized += delimiter + (isCustomProperty ? styleName : processStyleName(styleName)) + ":";
                serialized += dangerousStyleValue(styleName, styleValue, isCustomProperty);
                delimiter = ";";
              }
            }
            return serialized || null;
          }
          function warnNoop(publicInstance, callerName) {
            {
              var _constructor = publicInstance.constructor;
              var componentName = _constructor && getComponentName(_constructor) || "ReactClass";
              var warningKey = componentName + "." + callerName;
              if (didWarnAboutNoopUpdateForComponent[warningKey]) {
                return;
              }
              error2("%s(...): Can only update a mounting component. This usually means you called %s() outside componentWillMount() on the server. This is a no-op.\n\nPlease check the code for the %s component.", callerName, callerName, componentName);
              didWarnAboutNoopUpdateForComponent[warningKey] = true;
            }
          }
          function shouldConstruct$1(Component2) {
            return Component2.prototype && Component2.prototype.isReactComponent;
          }
          function getNonChildrenInnerMarkup(props) {
            var innerHTML3 = props.dangerouslySetInnerHTML;
            if (innerHTML3 != null) {
              if (innerHTML3.__html != null) {
                return innerHTML3.__html;
              }
            } else {
              var content = props.children;
              if (typeof content === "string" || typeof content === "number") {
                return escapeTextForBrowser(content);
              }
            }
            return null;
          }
          function flattenTopLevelChildren(children) {
            if (!React30.isValidElement(children)) {
              return toArray2(children);
            }
            var element = children;
            if (element.type !== REACT_FRAGMENT_TYPE) {
              return [element];
            }
            var fragmentChildren = element.props.children;
            if (!React30.isValidElement(fragmentChildren)) {
              return toArray2(fragmentChildren);
            }
            var fragmentChildElement = fragmentChildren;
            return [fragmentChildElement];
          }
          function flattenOptionChildren(children) {
            if (children === void 0 || children === null) {
              return children;
            }
            var content = "";
            React30.Children.forEach(children, function(child) {
              if (child == null) {
                return;
              }
              content += child;
              {
                if (!didWarnInvalidOptionChildren && typeof child !== "string" && typeof child !== "number") {
                  didWarnInvalidOptionChildren = true;
                  error2("Only strings and numbers are supported as <option> children.");
                }
              }
            });
            return content;
          }
          var hasOwnProperty$2 = Object.prototype.hasOwnProperty;
          var STYLE = "style";
          var RESERVED_PROPS = {
            children: null,
            dangerouslySetInnerHTML: null,
            suppressContentEditableWarning: null,
            suppressHydrationWarning: null
          };
          function createOpenTagMarkup(tagVerbatim, tagLowercase, props, namespace, makeStaticMarkup, isRootElement) {
            var ret = "<" + tagVerbatim;
            var isCustomComponent$1 = isCustomComponent(tagLowercase, props);
            for (var propKey in props) {
              if (!hasOwnProperty$2.call(props, propKey)) {
                continue;
              }
              var propValue = props[propKey];
              if (propValue == null) {
                continue;
              }
              if (propKey === STYLE) {
                propValue = createMarkupForStyles(propValue);
              }
              var markup = null;
              if (isCustomComponent$1) {
                if (!RESERVED_PROPS.hasOwnProperty(propKey)) {
                  markup = createMarkupForCustomAttribute(propKey, propValue);
                }
              } else {
                markup = createMarkupForProperty(propKey, propValue);
              }
              if (markup) {
                ret += " " + markup;
              }
            }
            if (makeStaticMarkup) {
              return ret;
            }
            if (isRootElement) {
              ret += " " + createMarkupForRoot();
            }
            return ret;
          }
          function validateRenderResult(child, type) {
            if (child === void 0) {
              {
                {
                  throw Error((getComponentName(type) || "Component") + "(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.");
                }
              }
            }
          }
          function resolve(child, context, threadID) {
            while (React30.isValidElement(child)) {
              var element = child;
              var Component2 = element.type;
              {
                pushElementToDebugStack(element);
              }
              if (typeof Component2 !== "function") {
                break;
              }
              processChild(element, Component2);
            }
            function processChild(element2, Component3) {
              var isClass = shouldConstruct$1(Component3);
              var publicContext = processContext(Component3, context, threadID, isClass);
              var queue = [];
              var replace = false;
              var updater = {
                isMounted: function(publicInstance) {
                  return false;
                },
                enqueueForceUpdate: function(publicInstance) {
                  if (queue === null) {
                    warnNoop(publicInstance, "forceUpdate");
                    return null;
                  }
                },
                enqueueReplaceState: function(publicInstance, completeState) {
                  replace = true;
                  queue = [completeState];
                },
                enqueueSetState: function(publicInstance, currentPartialState) {
                  if (queue === null) {
                    warnNoop(publicInstance, "setState");
                    return null;
                  }
                  queue.push(currentPartialState);
                }
              };
              var inst;
              if (isClass) {
                inst = new Component3(element2.props, publicContext, updater);
                if (typeof Component3.getDerivedStateFromProps === "function") {
                  {
                    if (inst.state === null || inst.state === void 0) {
                      var componentName = getComponentName(Component3) || "Unknown";
                      if (!didWarnAboutUninitializedState[componentName]) {
                        error2("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.", componentName, inst.state === null ? "null" : "undefined", componentName);
                        didWarnAboutUninitializedState[componentName] = true;
                      }
                    }
                  }
                  var partialState = Component3.getDerivedStateFromProps.call(null, element2.props, inst.state);
                  {
                    if (partialState === void 0) {
                      var _componentName = getComponentName(Component3) || "Unknown";
                      if (!didWarnAboutUndefinedDerivedState[_componentName]) {
                        error2("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.", _componentName);
                        didWarnAboutUndefinedDerivedState[_componentName] = true;
                      }
                    }
                  }
                  if (partialState != null) {
                    inst.state = _assign({}, inst.state, partialState);
                  }
                }
              } else {
                {
                  if (Component3.prototype && typeof Component3.prototype.render === "function") {
                    var _componentName2 = getComponentName(Component3) || "Unknown";
                    if (!didWarnAboutBadClass[_componentName2]) {
                      error2("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.", _componentName2, _componentName2);
                      didWarnAboutBadClass[_componentName2] = true;
                    }
                  }
                }
                var componentIdentity = {};
                prepareToUseHooks(componentIdentity);
                inst = Component3(element2.props, publicContext, updater);
                inst = finishHooks(Component3, element2.props, inst, publicContext);
                {
                  if (inst != null && inst.render != null) {
                    var _componentName3 = getComponentName(Component3) || "Unknown";
                    if (!didWarnAboutModulePatternComponent[_componentName3]) {
                      error2("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.", _componentName3, _componentName3, _componentName3);
                      didWarnAboutModulePatternComponent[_componentName3] = true;
                    }
                  }
                }
                if (inst == null || inst.render == null) {
                  child = inst;
                  validateRenderResult(child, Component3);
                  return;
                }
              }
              inst.props = element2.props;
              inst.context = publicContext;
              inst.updater = updater;
              var initialState = inst.state;
              if (initialState === void 0) {
                inst.state = initialState = null;
              }
              if (typeof inst.UNSAFE_componentWillMount === "function" || typeof inst.componentWillMount === "function") {
                if (typeof inst.componentWillMount === "function") {
                  {
                    if (inst.componentWillMount.__suppressDeprecationWarning !== true) {
                      var _componentName4 = getComponentName(Component3) || "Unknown";
                      if (!didWarnAboutDeprecatedWillMount[_componentName4]) {
                        warn("componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code from componentWillMount to componentDidMount (preferred in most cases) or the constructor.\n\nPlease update the following components: %s", _componentName4);
                        didWarnAboutDeprecatedWillMount[_componentName4] = true;
                      }
                    }
                  }
                  if (typeof Component3.getDerivedStateFromProps !== "function") {
                    inst.componentWillMount();
                  }
                }
                if (typeof inst.UNSAFE_componentWillMount === "function" && typeof Component3.getDerivedStateFromProps !== "function") {
                  inst.UNSAFE_componentWillMount();
                }
                if (queue.length) {
                  var oldQueue = queue;
                  var oldReplace = replace;
                  queue = null;
                  replace = false;
                  if (oldReplace && oldQueue.length === 1) {
                    inst.state = oldQueue[0];
                  } else {
                    var nextState = oldReplace ? oldQueue[0] : inst.state;
                    var dontMutate = true;
                    for (var i4 = oldReplace ? 1 : 0; i4 < oldQueue.length; i4++) {
                      var partial = oldQueue[i4];
                      var _partialState = typeof partial === "function" ? partial.call(inst, nextState, element2.props, publicContext) : partial;
                      if (_partialState != null) {
                        if (dontMutate) {
                          dontMutate = false;
                          nextState = _assign({}, nextState, _partialState);
                        } else {
                          _assign(nextState, _partialState);
                        }
                      }
                    }
                    inst.state = nextState;
                  }
                } else {
                  queue = null;
                }
              }
              child = inst.render();
              {
                if (child === void 0 && inst.render._isMockFunction) {
                  child = null;
                }
              }
              validateRenderResult(child, Component3);
              var childContext;
              {
                if (typeof inst.getChildContext === "function") {
                  var _childContextTypes = Component3.childContextTypes;
                  if (typeof _childContextTypes === "object") {
                    childContext = inst.getChildContext();
                    for (var contextKey in childContext) {
                      if (!(contextKey in _childContextTypes)) {
                        {
                          throw Error((getComponentName(Component3) || "Unknown") + '.getChildContext(): key "' + contextKey + '" is not defined in childContextTypes.');
                        }
                      }
                    }
                  } else {
                    {
                      error2("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().", getComponentName(Component3) || "Unknown");
                    }
                  }
                }
                if (childContext) {
                  context = _assign({}, context, childContext);
                }
              }
            }
            return {
              child,
              context
            };
          }
          var ReactDOMServerRenderer = /* @__PURE__ */ function() {
            function ReactDOMServerRenderer2(children, makeStaticMarkup, options) {
              var flatChildren = flattenTopLevelChildren(children);
              var topFrame = {
                type: null,
                domNamespace: Namespaces.html,
                children: flatChildren,
                childIndex: 0,
                context: emptyObject,
                footer: ""
              };
              {
                topFrame.debugElementStack = [];
              }
              this.threadID = allocThreadID();
              this.stack = [topFrame];
              this.exhausted = false;
              this.currentSelectValue = null;
              this.previousWasTextNode = false;
              this.makeStaticMarkup = makeStaticMarkup;
              this.suspenseDepth = 0;
              this.contextIndex = -1;
              this.contextStack = [];
              this.contextValueStack = [];
              this.uniqueID = 0;
              this.identifierPrefix = options && options.identifierPrefix || "";
              {
                this.contextProviderStack = [];
              }
            }
            var _proto = ReactDOMServerRenderer2.prototype;
            _proto.destroy = function destroy() {
              if (!this.exhausted) {
                this.exhausted = true;
                this.clearProviders();
                freeThreadID(this.threadID);
              }
            };
            _proto.pushProvider = function pushProvider(provider) {
              var index2 = ++this.contextIndex;
              var context = provider.type._context;
              var threadID = this.threadID;
              validateContextBounds(context, threadID);
              var previousValue = context[threadID];
              this.contextStack[index2] = context;
              this.contextValueStack[index2] = previousValue;
              {
                this.contextProviderStack[index2] = provider;
              }
              context[threadID] = provider.props.value;
            };
            _proto.popProvider = function popProvider(provider) {
              var index2 = this.contextIndex;
              {
                if (index2 < 0 || provider !== this.contextProviderStack[index2]) {
                  error2("Unexpected pop.");
                }
              }
              var context = this.contextStack[index2];
              var previousValue = this.contextValueStack[index2];
              this.contextStack[index2] = null;
              this.contextValueStack[index2] = null;
              {
                this.contextProviderStack[index2] = null;
              }
              this.contextIndex--;
              context[this.threadID] = previousValue;
            };
            _proto.clearProviders = function clearProviders() {
              for (var index2 = this.contextIndex; index2 >= 0; index2--) {
                var context = this.contextStack[index2];
                var previousValue = this.contextValueStack[index2];
                context[this.threadID] = previousValue;
              }
            };
            _proto.read = function read2(bytes) {
              if (this.exhausted) {
                return null;
              }
              var prevPartialRenderer = currentPartialRenderer;
              setCurrentPartialRenderer(this);
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = Dispatcher;
              try {
                var out = [""];
                var suspended = false;
                while (out[0].length < bytes) {
                  if (this.stack.length === 0) {
                    this.exhausted = true;
                    freeThreadID(this.threadID);
                    break;
                  }
                  var frame = this.stack[this.stack.length - 1];
                  if (suspended || frame.childIndex >= frame.children.length) {
                    var footer = frame.footer;
                    if (footer !== "") {
                      this.previousWasTextNode = false;
                    }
                    this.stack.pop();
                    if (frame.type === "select") {
                      this.currentSelectValue = null;
                    } else if (frame.type != null && frame.type.type != null && frame.type.type.$$typeof === REACT_PROVIDER_TYPE) {
                      var provider = frame.type;
                      this.popProvider(provider);
                    } else if (frame.type === REACT_SUSPENSE_TYPE) {
                      this.suspenseDepth--;
                      var buffered = out.pop();
                      if (suspended) {
                        suspended = false;
                        var fallbackFrame = frame.fallbackFrame;
                        if (!fallbackFrame) {
                          {
                            throw Error(true ? "ReactDOMServer did not find an internal fallback frame for Suspense. This is a bug in React. Please file an issue." : formatProdErrorMessage(303));
                          }
                        }
                        this.stack.push(fallbackFrame);
                        out[this.suspenseDepth] += "<!--$!-->";
                        continue;
                      } else {
                        out[this.suspenseDepth] += buffered;
                      }
                    }
                    out[this.suspenseDepth] += footer;
                    continue;
                  }
                  var child = frame.children[frame.childIndex++];
                  var outBuffer = "";
                  if (true) {
                    pushCurrentDebugStack(this.stack);
                    frame.debugElementStack.length = 0;
                  }
                  try {
                    outBuffer += this.render(child, frame.context, frame.domNamespace);
                  } catch (err) {
                    if (err != null && typeof err.then === "function") {
                      if (enableSuspenseServerRenderer) {
                        if (!(this.suspenseDepth > 0)) {
                          {
                            throw Error(true ? "A React component suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display." : formatProdErrorMessage(342));
                          }
                        }
                        suspended = true;
                      } else {
                        if (true) {
                          {
                            throw Error(true ? "ReactDOMServer does not yet support Suspense." : formatProdErrorMessage(294));
                          }
                        }
                      }
                    } else {
                      throw err;
                    }
                  } finally {
                    if (true) {
                      popCurrentDebugStack();
                    }
                  }
                  if (out.length <= this.suspenseDepth) {
                    out.push("");
                  }
                  out[this.suspenseDepth] += outBuffer;
                }
                return out[0];
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
                setCurrentPartialRenderer(prevPartialRenderer);
                resetHooksState();
              }
            };
            _proto.render = function render2(child, context, parentNamespace) {
              if (typeof child === "string" || typeof child === "number") {
                var text = "" + child;
                if (text === "") {
                  return "";
                }
                if (this.makeStaticMarkup) {
                  return escapeTextForBrowser(text);
                }
                if (this.previousWasTextNode) {
                  return "<!-- -->" + escapeTextForBrowser(text);
                }
                this.previousWasTextNode = true;
                return escapeTextForBrowser(text);
              } else {
                var nextChild;
                var _resolve = resolve(child, context, this.threadID);
                nextChild = _resolve.child;
                context = _resolve.context;
                if (nextChild === null || nextChild === false) {
                  return "";
                } else if (!React30.isValidElement(nextChild)) {
                  if (nextChild != null && nextChild.$$typeof != null) {
                    var $$typeof = nextChild.$$typeof;
                    if (!($$typeof !== REACT_PORTAL_TYPE)) {
                      {
                        throw Error("Portals are not currently supported by the server renderer. Render them conditionally so that they only appear on the client render.");
                      }
                    }
                    {
                      {
                        throw Error("Unknown element-like object type: " + $$typeof.toString() + ". This is likely a bug in React. Please file an issue.");
                      }
                    }
                  }
                  var nextChildren = toArray2(nextChild);
                  var frame = {
                    type: null,
                    domNamespace: parentNamespace,
                    children: nextChildren,
                    childIndex: 0,
                    context,
                    footer: ""
                  };
                  {
                    frame.debugElementStack = [];
                  }
                  this.stack.push(frame);
                  return "";
                }
                var nextElement = nextChild;
                var elementType = nextElement.type;
                if (typeof elementType === "string") {
                  return this.renderDOM(nextElement, context, parentNamespace);
                }
                switch (elementType) {
                  case REACT_LEGACY_HIDDEN_TYPE:
                  case REACT_DEBUG_TRACING_MODE_TYPE:
                  case REACT_STRICT_MODE_TYPE:
                  case REACT_PROFILER_TYPE:
                  case REACT_SUSPENSE_LIST_TYPE:
                  case REACT_FRAGMENT_TYPE: {
                    var _nextChildren = toArray2(nextChild.props.children);
                    var _frame = {
                      type: null,
                      domNamespace: parentNamespace,
                      children: _nextChildren,
                      childIndex: 0,
                      context,
                      footer: ""
                    };
                    {
                      _frame.debugElementStack = [];
                    }
                    this.stack.push(_frame);
                    return "";
                  }
                  case REACT_SUSPENSE_TYPE: {
                    {
                      {
                        {
                          throw Error("ReactDOMServer does not yet support Suspense.");
                        }
                      }
                    }
                  }
                  case REACT_SCOPE_TYPE: {
                    {
                      {
                        throw Error("ReactDOMServer does not yet support scope components.");
                      }
                    }
                  }
                }
                if (typeof elementType === "object" && elementType !== null) {
                  switch (elementType.$$typeof) {
                    case REACT_FORWARD_REF_TYPE: {
                      var element = nextChild;
                      var _nextChildren5;
                      var componentIdentity = {};
                      prepareToUseHooks(componentIdentity);
                      _nextChildren5 = elementType.render(element.props, element.ref);
                      _nextChildren5 = finishHooks(elementType.render, element.props, _nextChildren5, element.ref);
                      _nextChildren5 = toArray2(_nextChildren5);
                      var _frame5 = {
                        type: null,
                        domNamespace: parentNamespace,
                        children: _nextChildren5,
                        childIndex: 0,
                        context,
                        footer: ""
                      };
                      {
                        _frame5.debugElementStack = [];
                      }
                      this.stack.push(_frame5);
                      return "";
                    }
                    case REACT_MEMO_TYPE: {
                      var _element = nextChild;
                      var _nextChildren6 = [React30.createElement(elementType.type, _assign({
                        ref: _element.ref
                      }, _element.props))];
                      var _frame6 = {
                        type: null,
                        domNamespace: parentNamespace,
                        children: _nextChildren6,
                        childIndex: 0,
                        context,
                        footer: ""
                      };
                      {
                        _frame6.debugElementStack = [];
                      }
                      this.stack.push(_frame6);
                      return "";
                    }
                    case REACT_PROVIDER_TYPE: {
                      var provider = nextChild;
                      var nextProps = provider.props;
                      var _nextChildren7 = toArray2(nextProps.children);
                      var _frame7 = {
                        type: provider,
                        domNamespace: parentNamespace,
                        children: _nextChildren7,
                        childIndex: 0,
                        context,
                        footer: ""
                      };
                      {
                        _frame7.debugElementStack = [];
                      }
                      this.pushProvider(provider);
                      this.stack.push(_frame7);
                      return "";
                    }
                    case REACT_CONTEXT_TYPE: {
                      var reactContext = nextChild.type;
                      {
                        if (reactContext._context === void 0) {
                          if (reactContext !== reactContext.Consumer) {
                            if (!hasWarnedAboutUsingContextAsConsumer) {
                              hasWarnedAboutUsingContextAsConsumer = true;
                              error2("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?");
                            }
                          }
                        } else {
                          reactContext = reactContext._context;
                        }
                      }
                      var _nextProps = nextChild.props;
                      var threadID = this.threadID;
                      validateContextBounds(reactContext, threadID);
                      var nextValue = reactContext[threadID];
                      var _nextChildren8 = toArray2(_nextProps.children(nextValue));
                      var _frame8 = {
                        type: nextChild,
                        domNamespace: parentNamespace,
                        children: _nextChildren8,
                        childIndex: 0,
                        context,
                        footer: ""
                      };
                      {
                        _frame8.debugElementStack = [];
                      }
                      this.stack.push(_frame8);
                      return "";
                    }
                    case REACT_FUNDAMENTAL_TYPE: {
                      {
                        {
                          throw Error("ReactDOMServer does not yet support the fundamental API.");
                        }
                      }
                    }
                    case REACT_LAZY_TYPE: {
                      var _element2 = nextChild;
                      var lazyComponent = nextChild.type;
                      var payload = lazyComponent._payload;
                      var init = lazyComponent._init;
                      var result = init(payload);
                      var _nextChildren10 = [React30.createElement(result, _assign({
                        ref: _element2.ref
                      }, _element2.props))];
                      var _frame10 = {
                        type: null,
                        domNamespace: parentNamespace,
                        children: _nextChildren10,
                        childIndex: 0,
                        context,
                        footer: ""
                      };
                      {
                        _frame10.debugElementStack = [];
                      }
                      this.stack.push(_frame10);
                      return "";
                    }
                  }
                }
                var info = "";
                {
                  var owner = nextElement._owner;
                  if (elementType === void 0 || typeof elementType === "object" && elementType !== null && Object.keys(elementType).length === 0) {
                    info += " You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";
                  }
                  var ownerName = owner ? getComponentName(owner) : null;
                  if (ownerName) {
                    info += "\n\nCheck the render method of `" + ownerName + "`.";
                  }
                }
                {
                  {
                    throw Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: " + (elementType == null ? elementType : typeof elementType) + "." + info);
                  }
                }
              }
            };
            _proto.renderDOM = function renderDOM(element, context, parentNamespace) {
              var tag = element.type.toLowerCase();
              var namespace = parentNamespace;
              if (parentNamespace === Namespaces.html) {
                namespace = getIntrinsicNamespace(tag);
              }
              {
                if (namespace === Namespaces.html) {
                  if (tag !== element.type) {
                    error2("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.", element.type);
                  }
                }
              }
              validateDangerousTag(tag);
              var props = element.props;
              if (tag === "input") {
                {
                  checkControlledValueProps("input", props);
                  if (props.checked !== void 0 && props.defaultChecked !== void 0 && !didWarnDefaultChecked) {
                    error2("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components", "A component", props.type);
                    didWarnDefaultChecked = true;
                  }
                  if (props.value !== void 0 && props.defaultValue !== void 0 && !didWarnDefaultInputValue) {
                    error2("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components", "A component", props.type);
                    didWarnDefaultInputValue = true;
                  }
                }
                props = _assign({
                  type: void 0
                }, props, {
                  defaultChecked: void 0,
                  defaultValue: void 0,
                  value: props.value != null ? props.value : props.defaultValue,
                  checked: props.checked != null ? props.checked : props.defaultChecked
                });
              } else if (tag === "textarea") {
                {
                  checkControlledValueProps("textarea", props);
                  if (props.value !== void 0 && props.defaultValue !== void 0 && !didWarnDefaultTextareaValue) {
                    error2("Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components");
                    didWarnDefaultTextareaValue = true;
                  }
                }
                var initialValue = props.value;
                if (initialValue == null) {
                  var defaultValue = props.defaultValue;
                  var textareaChildren = props.children;
                  if (textareaChildren != null) {
                    {
                      error2("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");
                    }
                    if (!(defaultValue == null)) {
                      {
                        throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");
                      }
                    }
                    if (Array.isArray(textareaChildren)) {
                      if (!(textareaChildren.length <= 1)) {
                        {
                          throw Error("<textarea> can only have at most one child.");
                        }
                      }
                      textareaChildren = textareaChildren[0];
                    }
                    defaultValue = "" + textareaChildren;
                  }
                  if (defaultValue == null) {
                    defaultValue = "";
                  }
                  initialValue = defaultValue;
                }
                props = _assign({}, props, {
                  value: void 0,
                  children: "" + initialValue
                });
              } else if (tag === "select") {
                {
                  checkControlledValueProps("select", props);
                  for (var i4 = 0; i4 < valuePropNames.length; i4++) {
                    var propName = valuePropNames[i4];
                    if (props[propName] == null) {
                      continue;
                    }
                    var isArray = Array.isArray(props[propName]);
                    if (props.multiple && !isArray) {
                      error2("The `%s` prop supplied to <select> must be an array if `multiple` is true.", propName);
                    } else if (!props.multiple && isArray) {
                      error2("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.", propName);
                    }
                  }
                  if (props.value !== void 0 && props.defaultValue !== void 0 && !didWarnDefaultSelectValue) {
                    error2("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components");
                    didWarnDefaultSelectValue = true;
                  }
                }
                this.currentSelectValue = props.value != null ? props.value : props.defaultValue;
                props = _assign({}, props, {
                  value: void 0
                });
              } else if (tag === "option") {
                var selected = null;
                var selectValue = this.currentSelectValue;
                var optionChildren = flattenOptionChildren(props.children);
                if (selectValue != null) {
                  var value;
                  if (props.value != null) {
                    value = props.value + "";
                  } else {
                    value = optionChildren;
                  }
                  selected = false;
                  if (Array.isArray(selectValue)) {
                    for (var j3 = 0; j3 < selectValue.length; j3++) {
                      if ("" + selectValue[j3] === value) {
                        selected = true;
                        break;
                      }
                    }
                  } else {
                    selected = "" + selectValue === value;
                  }
                  props = _assign({
                    selected: void 0,
                    children: void 0
                  }, props, {
                    selected,
                    children: optionChildren
                  });
                }
              }
              {
                validatePropertiesInDevelopment(tag, props);
              }
              assertValidProps(tag, props);
              var out = createOpenTagMarkup(element.type, tag, props, namespace, this.makeStaticMarkup, this.stack.length === 1);
              var footer = "";
              if (omittedCloseTags.hasOwnProperty(tag)) {
                out += "/>";
              } else {
                out += ">";
                footer = "</" + element.type + ">";
              }
              var children;
              var innerMarkup = getNonChildrenInnerMarkup(props);
              if (innerMarkup != null) {
                children = [];
                if (newlineEatingTags.hasOwnProperty(tag) && innerMarkup.charAt(0) === "\n") {
                  out += "\n";
                }
                out += innerMarkup;
              } else {
                children = toArray2(props.children);
              }
              var frame = {
                domNamespace: getChildNamespace(parentNamespace, element.type),
                type: tag,
                children,
                childIndex: 0,
                context,
                footer
              };
              {
                frame.debugElementStack = [];
              }
              this.stack.push(frame);
              this.previousWasTextNode = false;
              return out;
            };
            return ReactDOMServerRenderer2;
          }();
          function renderToString(element, options) {
            var renderer = new ReactDOMServerRenderer(element, false, options);
            try {
              var markup = renderer.read(Infinity);
              return markup;
            } finally {
              renderer.destroy();
            }
          }
          function renderToStaticMarkup(element, options) {
            var renderer = new ReactDOMServerRenderer(element, true, options);
            try {
              var markup = renderer.read(Infinity);
              return markup;
            } finally {
              renderer.destroy();
            }
          }
          function renderToNodeStream() {
            {
              {
                throw Error("ReactDOMServer.renderToNodeStream(): The streaming API is not available in the browser. Use ReactDOMServer.renderToString() instead.");
              }
            }
          }
          function renderToStaticNodeStream() {
            {
              {
                throw Error("ReactDOMServer.renderToStaticNodeStream(): The streaming API is not available in the browser. Use ReactDOMServer.renderToStaticMarkup() instead.");
              }
            }
          }
          exports.renderToNodeStream = renderToNodeStream;
          exports.renderToStaticMarkup = renderToStaticMarkup;
          exports.renderToStaticNodeStream = renderToStaticNodeStream;
          exports.renderToString = renderToString;
          exports.version = ReactVersion;
        })();
      }
    }
  });

  // ../../node_modules/react-dom/server.browser.js
  var require_server_browser = __commonJS({
    "../../node_modules/react-dom/server.browser.js"(exports, module) {
      "use strict";
      if (false) {
        module.exports = null;
      } else {
        module.exports = require_react_dom_server_browser_development();
      }
    }
  });

  // ../../node_modules/react-quill/lib/toolbar.js
  var require_toolbar = __commonJS({
    "../../node_modules/react-quill/lib/toolbar.js"(exports, module) {
      "use strict";
      var React30 = require_react();
      var ReactDOMServer = require_server_browser();
      var createClass = require_create_react_class();
      var find2 = require_find();
      var isEqual5 = require_isEqual();
      var T = require_prop_types();
      var DOM = require_react_dom_factories();
      var defaultColors = [
        "rgb(  0,   0,   0)",
        "rgb(230,   0,   0)",
        "rgb(255, 153,   0)",
        "rgb(255, 255,   0)",
        "rgb(  0, 138,   0)",
        "rgb(  0, 102, 204)",
        "rgb(153,  51, 255)",
        "rgb(255, 255, 255)",
        "rgb(250, 204, 204)",
        "rgb(255, 235, 204)",
        "rgb(255, 255, 204)",
        "rgb(204, 232, 204)",
        "rgb(204, 224, 245)",
        "rgb(235, 214, 255)",
        "rgb(187, 187, 187)",
        "rgb(240, 102, 102)",
        "rgb(255, 194, 102)",
        "rgb(255, 255, 102)",
        "rgb(102, 185, 102)",
        "rgb(102, 163, 224)",
        "rgb(194, 133, 255)",
        "rgb(136, 136, 136)",
        "rgb(161,   0,   0)",
        "rgb(178, 107,   0)",
        "rgb(178, 178,   0)",
        "rgb(  0,  97,   0)",
        "rgb(  0,  71, 178)",
        "rgb(107,  36, 178)",
        "rgb( 68,  68,  68)",
        "rgb( 92,   0,   0)",
        "rgb(102,  61,   0)",
        "rgb(102, 102,   0)",
        "rgb(  0,  55,   0)",
        "rgb(  0,  41, 102)",
        "rgb( 61,  20,  10)"
      ].map(function(color) {
        return { value: color };
      });
      var defaultItems = [
        { label: "Formats", type: "group", items: [
          { label: "Font", type: "font", items: [
            { label: "Sans Serif", value: "sans-serif", selected: true },
            { label: "Serif", value: "serif" },
            { label: "Monospace", value: "monospace" }
          ] },
          { label: "Size", type: "size", items: [
            { label: "Small", value: "10px" },
            { label: "Normal", value: "13px", selected: true },
            { label: "Large", value: "18px" },
            { label: "Huge", value: "32px" }
          ] },
          { label: "Alignment", type: "align", items: [
            { label: "", value: "", selected: true },
            { label: "", value: "center" },
            { label: "", value: "right" },
            { label: "", value: "justify" }
          ] }
        ] },
        { label: "Text", type: "group", items: [
          { type: "bold", label: "Bold" },
          { type: "italic", label: "Italic" },
          { type: "strike", label: "Strike" },
          { type: "underline", label: "Underline" },
          { type: "color", label: "Color", items: defaultColors },
          { type: "background", label: "Background color", items: defaultColors },
          { type: "link", label: "Link" }
        ] },
        { label: "Blocks", type: "group", items: [
          { type: "list", value: "bullet" },
          { type: "list", value: "ordered" }
        ] },
        { label: "Blocks", type: "group", items: [
          { type: "image", label: "Image" }
        ] }
      ];
      var QuillToolbar = createClass({
        displayName: "Quill Toolbar",
        propTypes: {
          id: T.string,
          className: T.string,
          style: T.object,
          items: T.array
        },
        getDefaultProps: function() {
          return {
            items: defaultItems
          };
        },
        componentDidMount: function() {
          console.warn("QuillToolbar is deprecated. Consider switching to the official Quill toolbar format, or providing your own toolbar instead. See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v1-0-0");
        },
        shouldComponentUpdate: function(nextProps, nextState) {
          return !isEqual5(nextProps, this.props);
        },
        renderGroup: function(item, key) {
          return DOM.span({
            key: item.label || key,
            className: "ql-formats"
          }, item.items.map(this.renderItem));
        },
        renderChoiceItem: function(item, key) {
          return DOM.option({
            key: item.label || item.value || key,
            value: item.value
          }, item.label);
        },
        renderChoices: function(item, key) {
          var choiceItems = item.items.map(this.renderChoiceItem);
          var selectedItem = find2(item.items, function(item2) {
            return item2.selected;
          });
          var attrs = {
            key: item.label || key,
            title: item.label,
            className: "ql-" + item.type,
            value: selectedItem.value
          };
          return DOM.select(attrs, choiceItems);
        },
        renderButton: function(item, key) {
          return DOM.button({
            type: "button",
            key: item.label || item.value || key,
            value: item.value,
            className: "ql-" + item.type,
            title: item.label
          }, item.children);
        },
        renderAction: function(item, key) {
          return DOM.button({
            key: item.label || item.value || key,
            className: "ql-" + item.type,
            title: item.label
          }, item.children);
        },
        renderItem: function(item, key) {
          switch (item.type) {
            case "group":
              return this.renderGroup(item, key);
            case "font":
            case "header":
            case "align":
            case "size":
            case "color":
            case "background":
              return this.renderChoices(item, key);
            case "bold":
            case "italic":
            case "underline":
            case "strike":
            case "link":
            case "list":
            case "bullet":
            case "ordered":
            case "indent":
            case "image":
            case "video":
              return this.renderButton(item, key);
            default:
              return this.renderAction(item, key);
          }
        },
        getClassName: function() {
          return "quill-toolbar " + (this.props.className || "");
        },
        render: function() {
          var children = this.props.items.map(this.renderItem);
          var html = children.map(ReactDOMServer.renderToStaticMarkup).join("");
          return DOM.div({
            id: this.props.id,
            className: this.getClassName(),
            style: this.props.style,
            dangerouslySetInnerHTML: { __html: html }
          });
        }
      });
      module.exports = QuillToolbar;
      QuillToolbar.defaultItems = defaultItems;
      QuillToolbar.defaultColors = defaultColors;
    }
  });

  // ../../node_modules/react-quill/lib/index.js
  var require_lib2 = __commonJS({
    "../../node_modules/react-quill/lib/index.js"(exports, module) {
      var Quill2 = require_quill();
      var Component2 = require_component();
      module.exports = Component2;
      module.exports.default = Component2;
      module.exports.Quill = Quill2;
      module.exports.Mixin = require_mixin();
      module.exports.Toolbar = require_toolbar();
    }
  });

  // ../../node_modules/ace-builds/src-noconflict/ace.js
  var require_ace = __commonJS({
    "../../node_modules/ace-builds/src-noconflict/ace.js"(exports, module) {
      (function() {
        var ACE_NAMESPACE = "ace";
        var global2 = function() {
          return this;
        }();
        if (!global2 && typeof window != "undefined")
          global2 = window;
        if (!ACE_NAMESPACE && typeof requirejs !== "undefined")
          return;
        var define2 = function(module2, deps, payload) {
          if (typeof module2 !== "string") {
            if (define2.original)
              define2.original.apply(this, arguments);
            else {
              console.error("dropping module because define wasn't a string.");
              console.trace();
            }
            return;
          }
          if (arguments.length == 2)
            payload = deps;
          if (!define2.modules[module2]) {
            define2.payloads[module2] = payload;
            define2.modules[module2] = null;
          }
        };
        define2.modules = {};
        define2.payloads = {};
        var _require = function(parentId, module2, callback) {
          if (typeof module2 === "string") {
            var payload = lookup(parentId, module2);
            if (payload != void 0) {
              callback && callback();
              return payload;
            }
          } else if (Object.prototype.toString.call(module2) === "[object Array]") {
            var params = [];
            for (var i3 = 0, l3 = module2.length; i3 < l3; ++i3) {
              var dep = lookup(parentId, module2[i3]);
              if (dep == void 0 && require2.original)
                return;
              params.push(dep);
            }
            return callback && callback.apply(null, params) || true;
          }
        };
        var require2 = function(module2, callback) {
          var packagedModule = _require("", module2, callback);
          if (packagedModule == void 0 && require2.original)
            return require2.original.apply(this, arguments);
          return packagedModule;
        };
        var normalizeModule = function(parentId, moduleName) {
          if (moduleName.indexOf("!") !== -1) {
            var chunks = moduleName.split("!");
            return normalizeModule(parentId, chunks[0]) + "!" + normalizeModule(parentId, chunks[1]);
          }
          if (moduleName.charAt(0) == ".") {
            var base = parentId.split("/").slice(0, -1).join("/");
            moduleName = base + "/" + moduleName;
            while (moduleName.indexOf(".") !== -1 && previous != moduleName) {
              var previous = moduleName;
              moduleName = moduleName.replace(/\/\.\//, "/").replace(/[^\/]+\/\.\.\//, "");
            }
          }
          return moduleName;
        };
        var lookup = function(parentId, moduleName) {
          moduleName = normalizeModule(parentId, moduleName);
          var module2 = define2.modules[moduleName];
          if (!module2) {
            module2 = define2.payloads[moduleName];
            if (typeof module2 === "function") {
              var exports2 = {};
              var mod = {
                id: moduleName,
                uri: "",
                exports: exports2,
                packaged: true
              };
              var req = function(module3, callback) {
                return _require(moduleName, module3, callback);
              };
              var returnValue = module2(req, exports2, mod);
              exports2 = returnValue || mod.exports;
              define2.modules[moduleName] = exports2;
              delete define2.payloads[moduleName];
            }
            module2 = define2.modules[moduleName] = exports2 || module2;
          }
          return module2;
        };
        function exportAce(ns) {
          var root = global2;
          if (ns) {
            if (!global2[ns])
              global2[ns] = {};
            root = global2[ns];
          }
          if (!root.define || !root.define.packaged) {
            define2.original = root.define;
            root.define = define2;
            root.define.packaged = true;
          }
          if (!root.require || !root.require.packaged) {
            require2.original = root.require;
            root.require = require2;
            root.require.packaged = true;
          }
        }
        exportAce(ACE_NAMESPACE);
      })();
      ace.define("ace/lib/es6-shim", ["require", "exports", "module"], function(require2, exports2, module2) {
        function defineProp(obj, name, val) {
          Object.defineProperty(obj, name, {
            value: val,
            enumerable: false,
            writable: true,
            configurable: true
          });
        }
        if (!String.prototype.startsWith) {
          defineProp(String.prototype, "startsWith", function(searchString, position3) {
            position3 = position3 || 0;
            return this.lastIndexOf(searchString, position3) === position3;
          });
        }
        if (!String.prototype.endsWith) {
          defineProp(String.prototype, "endsWith", function(searchString, position3) {
            var subjectString = this;
            if (position3 === void 0 || position3 > subjectString.length) {
              position3 = subjectString.length;
            }
            position3 -= searchString.length;
            var lastIndex = subjectString.indexOf(searchString, position3);
            return lastIndex !== -1 && lastIndex === position3;
          });
        }
        if (!String.prototype.repeat) {
          defineProp(String.prototype, "repeat", function(count2) {
            var result = "";
            var string = this;
            while (count2 > 0) {
              if (count2 & 1)
                result += string;
              if (count2 >>= 1)
                string += string;
            }
            return result;
          });
        }
        if (!String.prototype.includes) {
          defineProp(String.prototype, "includes", function(str, position3) {
            return this.indexOf(str, position3) != -1;
          });
        }
        if (!Object.assign) {
          Object.assign = function(target) {
            if (target === void 0 || target === null) {
              throw new TypeError("Cannot convert undefined or null to object");
            }
            var output = Object(target);
            for (var index2 = 1; index2 < arguments.length; index2++) {
              var source = arguments[index2];
              if (source !== void 0 && source !== null) {
                Object.keys(source).forEach(function(key) {
                  output[key] = source[key];
                });
              }
            }
            return output;
          };
        }
        if (!Object.values) {
          Object.values = function(o3) {
            return Object.keys(o3).map(function(k2) {
              return o3[k2];
            });
          };
        }
        if (!Array.prototype.find) {
          defineProp(Array.prototype, "find", function(predicate) {
            var len = this.length;
            var thisArg = arguments[1];
            for (var k2 = 0; k2 < len; k2++) {
              var kValue = this[k2];
              if (predicate.call(thisArg, kValue, k2, this)) {
                return kValue;
              }
            }
          });
        }
        if (!Array.prototype.findIndex) {
          defineProp(Array.prototype, "findIndex", function(predicate) {
            var len = this.length;
            var thisArg = arguments[1];
            for (var k2 = 0; k2 < len; k2++) {
              var kValue = this[k2];
              if (predicate.call(thisArg, kValue, k2, this)) {
                return k2;
              }
            }
          });
        }
        if (!Array.prototype.includes) {
          defineProp(Array.prototype, "includes", function(item, position3) {
            return this.indexOf(item, position3) != -1;
          });
        }
        if (!Array.prototype.fill) {
          defineProp(Array.prototype, "fill", function(value) {
            var O2 = this;
            var len = O2.length >>> 0;
            var start4 = arguments[1];
            var relativeStart = start4 >> 0;
            var k2 = relativeStart < 0 ? Math.max(len + relativeStart, 0) : Math.min(relativeStart, len);
            var end3 = arguments[2];
            var relativeEnd = end3 === void 0 ? len : end3 >> 0;
            var final = relativeEnd < 0 ? Math.max(len + relativeEnd, 0) : Math.min(relativeEnd, len);
            while (k2 < final) {
              O2[k2] = value;
              k2++;
            }
            return O2;
          });
        }
        if (!Array.of) {
          defineProp(Array, "of", function() {
            return Array.prototype.slice.call(arguments);
          });
        }
      });
      ace.define("ace/lib/fixoldbrowsers", ["require", "exports", "module", "ace/lib/es6-shim"], function(require2, exports2, module2) {
        "use strict";
        require2("./es6-shim");
      });
      ace.define("ace/lib/useragent", ["require", "exports", "module"], function(require2, exports2, module2) {
        "use strict";
        exports2.OS = {
          LINUX: "LINUX",
          MAC: "MAC",
          WINDOWS: "WINDOWS"
        };
        exports2.getOS = function() {
          if (exports2.isMac) {
            return exports2.OS.MAC;
          } else if (exports2.isLinux) {
            return exports2.OS.LINUX;
          } else {
            return exports2.OS.WINDOWS;
          }
        };
        var _navigator = typeof navigator == "object" ? navigator : {};
        var os = (/mac|win|linux/i.exec(_navigator.platform) || ["other"])[0].toLowerCase();
        var ua = _navigator.userAgent || "";
        var appName = _navigator.appName || "";
        exports2.isWin = os == "win";
        exports2.isMac = os == "mac";
        exports2.isLinux = os == "linux";
        exports2.isIE = appName == "Microsoft Internet Explorer" || appName.indexOf("MSAppHost") >= 0 ? parseFloat((ua.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]) : parseFloat((ua.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]);
        exports2.isOldIE = exports2.isIE && exports2.isIE < 9;
        exports2.isGecko = exports2.isMozilla = ua.match(/ Gecko\/\d+/);
        exports2.isOpera = typeof opera == "object" && Object.prototype.toString.call(window.opera) == "[object Opera]";
        exports2.isWebKit = parseFloat(ua.split("WebKit/")[1]) || void 0;
        exports2.isChrome = parseFloat(ua.split(" Chrome/")[1]) || void 0;
        exports2.isEdge = parseFloat(ua.split(" Edge/")[1]) || void 0;
        exports2.isAIR = ua.indexOf("AdobeAIR") >= 0;
        exports2.isAndroid = ua.indexOf("Android") >= 0;
        exports2.isChromeOS = ua.indexOf(" CrOS ") >= 0;
        exports2.isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;
        if (exports2.isIOS)
          exports2.isMac = true;
        exports2.isMobile = exports2.isIOS || exports2.isAndroid;
      });
      ace.define("ace/lib/dom", ["require", "exports", "module", "ace/lib/useragent"], function(require2, exports2, module2) {
        "use strict";
        var useragent = require2("./useragent");
        var XHTML_NS = "http://www.w3.org/1999/xhtml";
        exports2.buildDom = function buildDom(arr, parent, refs) {
          if (typeof arr == "string" && arr) {
            var txt = document.createTextNode(arr);
            if (parent)
              parent.appendChild(txt);
            return txt;
          }
          if (!Array.isArray(arr)) {
            if (arr && arr.appendChild && parent)
              parent.appendChild(arr);
            return arr;
          }
          if (typeof arr[0] != "string" || !arr[0]) {
            var els = [];
            for (var i3 = 0; i3 < arr.length; i3++) {
              var ch = buildDom(arr[i3], parent, refs);
              ch && els.push(ch);
            }
            return els;
          }
          var el = document.createElement(arr[0]);
          var options = arr[1];
          var childIndex = 1;
          if (options && typeof options == "object" && !Array.isArray(options))
            childIndex = 2;
          for (var i3 = childIndex; i3 < arr.length; i3++)
            buildDom(arr[i3], el, refs);
          if (childIndex == 2) {
            Object.keys(options).forEach(function(n3) {
              var val = options[n3];
              if (n3 === "class") {
                el.className = Array.isArray(val) ? val.join(" ") : val;
              } else if (typeof val == "function" || n3 == "value" || n3[0] == "$") {
                el[n3] = val;
              } else if (n3 === "ref") {
                if (refs)
                  refs[val] = el;
              } else if (n3 === "style") {
                if (typeof val == "string")
                  el.style.cssText = val;
              } else if (val != null) {
                el.setAttribute(n3, val);
              }
            });
          }
          if (parent)
            parent.appendChild(el);
          return el;
        };
        exports2.getDocumentHead = function(doc) {
          if (!doc)
            doc = document;
          return doc.head || doc.getElementsByTagName("head")[0] || doc.documentElement;
        };
        exports2.createElement = function(tag, ns) {
          return document.createElementNS ? document.createElementNS(ns || XHTML_NS, tag) : document.createElement(tag);
        };
        exports2.removeChildren = function(element) {
          element.innerHTML = "";
        };
        exports2.createTextNode = function(textContent, element) {
          var doc = element ? element.ownerDocument : document;
          return doc.createTextNode(textContent);
        };
        exports2.createFragment = function(element) {
          var doc = element ? element.ownerDocument : document;
          return doc.createDocumentFragment();
        };
        exports2.hasCssClass = function(el, name) {
          var classes = (el.className + "").split(/\s+/g);
          return classes.indexOf(name) !== -1;
        };
        exports2.addCssClass = function(el, name) {
          if (!exports2.hasCssClass(el, name)) {
            el.className += " " + name;
          }
        };
        exports2.removeCssClass = function(el, name) {
          var classes = el.className.split(/\s+/g);
          while (true) {
            var index2 = classes.indexOf(name);
            if (index2 == -1) {
              break;
            }
            classes.splice(index2, 1);
          }
          el.className = classes.join(" ");
        };
        exports2.toggleCssClass = function(el, name) {
          var classes = el.className.split(/\s+/g), add3 = true;
          while (true) {
            var index2 = classes.indexOf(name);
            if (index2 == -1) {
              break;
            }
            add3 = false;
            classes.splice(index2, 1);
          }
          if (add3)
            classes.push(name);
          el.className = classes.join(" ");
          return add3;
        };
        exports2.setCssClass = function(node, className, include) {
          if (include) {
            exports2.addCssClass(node, className);
          } else {
            exports2.removeCssClass(node, className);
          }
        };
        exports2.hasCssString = function(id, doc) {
          var index2 = 0, sheets;
          doc = doc || document;
          if (sheets = doc.querySelectorAll("style")) {
            while (index2 < sheets.length) {
              if (sheets[index2++].id === id) {
                return true;
              }
            }
          }
        };
        exports2.removeElementById = function(id, doc) {
          doc = doc || document;
          if (doc.getElementById(id)) {
            doc.getElementById(id).remove();
          }
        };
        var strictCSP;
        var cssCache = [];
        exports2.useStrictCSP = function(value) {
          strictCSP = value;
          if (value == false)
            insertPendingStyles();
          else if (!cssCache)
            cssCache = [];
        };
        function insertPendingStyles() {
          var cache = cssCache;
          cssCache = null;
          cache && cache.forEach(function(item) {
            importCssString(item[0], item[1]);
          });
        }
        function importCssString(cssText, id, target) {
          if (typeof document == "undefined")
            return;
          if (cssCache) {
            if (target) {
              insertPendingStyles();
            } else if (target === false) {
              return cssCache.push([cssText, id]);
            }
          }
          if (strictCSP)
            return;
          var container = target;
          if (!target || !target.getRootNode) {
            container = document;
          } else {
            container = target.getRootNode();
            if (!container || container == target)
              container = document;
          }
          var doc = container.ownerDocument || container;
          if (id && exports2.hasCssString(id, container))
            return null;
          if (id)
            cssText += "\n/*# sourceURL=ace/css/" + id + " */";
          var style2 = exports2.createElement("style");
          style2.appendChild(doc.createTextNode(cssText));
          if (id)
            style2.id = id;
          if (container == doc)
            container = exports2.getDocumentHead(doc);
          container.insertBefore(style2, container.firstChild);
        }
        exports2.importCssString = importCssString;
        exports2.importCssStylsheet = function(uri, doc) {
          exports2.buildDom(["link", { rel: "stylesheet", href: uri }], exports2.getDocumentHead(doc));
        };
        exports2.scrollbarWidth = function(document2) {
          var inner = exports2.createElement("ace_inner");
          inner.style.width = "100%";
          inner.style.minWidth = "0px";
          inner.style.height = "200px";
          inner.style.display = "block";
          var outer = exports2.createElement("ace_outer");
          var style2 = outer.style;
          style2.position = "absolute";
          style2.left = "-10000px";
          style2.overflow = "hidden";
          style2.width = "200px";
          style2.minWidth = "0px";
          style2.height = "150px";
          style2.display = "block";
          outer.appendChild(inner);
          var body = document2.documentElement;
          body.appendChild(outer);
          var noScrollbar = inner.offsetWidth;
          style2.overflow = "scroll";
          var withScrollbar = inner.offsetWidth;
          if (noScrollbar == withScrollbar) {
            withScrollbar = outer.clientWidth;
          }
          body.removeChild(outer);
          return noScrollbar - withScrollbar;
        };
        exports2.computedStyle = function(element, style2) {
          return window.getComputedStyle(element, "") || {};
        };
        exports2.setStyle = function(styles, property, value) {
          if (styles[property] !== value) {
            styles[property] = value;
          }
        };
        exports2.HAS_CSS_ANIMATION = false;
        exports2.HAS_CSS_TRANSFORMS = false;
        exports2.HI_DPI = useragent.isWin ? typeof window !== "undefined" && window.devicePixelRatio >= 1.5 : true;
        if (useragent.isChromeOS)
          exports2.HI_DPI = false;
        if (typeof document !== "undefined") {
          var div2 = document.createElement("div");
          if (exports2.HI_DPI && div2.style.transform !== void 0)
            exports2.HAS_CSS_TRANSFORMS = true;
          if (!useragent.isEdge && typeof div2.style.animationName !== "undefined")
            exports2.HAS_CSS_ANIMATION = true;
          div2 = null;
        }
        if (exports2.HAS_CSS_TRANSFORMS) {
          exports2.translate = function(element, tx, ty) {
            element.style.transform = "translate(" + Math.round(tx) + "px, " + Math.round(ty) + "px)";
          };
        } else {
          exports2.translate = function(element, tx, ty) {
            element.style.top = Math.round(ty) + "px";
            element.style.left = Math.round(tx) + "px";
          };
        }
      });
      ace.define("ace/lib/oop", ["require", "exports", "module"], function(require2, exports2, module2) {
        "use strict";
        exports2.inherits = function(ctor, superCtor) {
          ctor.super_ = superCtor;
          ctor.prototype = Object.create(superCtor.prototype, {
            constructor: {
              value: ctor,
              enumerable: false,
              writable: true,
              configurable: true
            }
          });
        };
        exports2.mixin = function(obj, mixin) {
          for (var key in mixin) {
            obj[key] = mixin[key];
          }
          return obj;
        };
        exports2.implement = function(proto, mixin) {
          exports2.mixin(proto, mixin);
        };
      });
      ace.define("ace/lib/keys", ["require", "exports", "module", "ace/lib/oop"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("./oop");
        var Keys = function() {
          var ret = {
            MODIFIER_KEYS: {
              16: "Shift",
              17: "Ctrl",
              18: "Alt",
              224: "Meta",
              91: "MetaLeft",
              92: "MetaRight",
              93: "ContextMenu"
            },
            KEY_MODS: {
              "ctrl": 1,
              "alt": 2,
              "option": 2,
              "shift": 4,
              "super": 8,
              "meta": 8,
              "command": 8,
              "cmd": 8,
              "control": 1
            },
            FUNCTION_KEYS: {
              8: "Backspace",
              9: "Tab",
              13: "Return",
              19: "Pause",
              27: "Esc",
              32: "Space",
              33: "PageUp",
              34: "PageDown",
              35: "End",
              36: "Home",
              37: "Left",
              38: "Up",
              39: "Right",
              40: "Down",
              44: "Print",
              45: "Insert",
              46: "Delete",
              96: "Numpad0",
              97: "Numpad1",
              98: "Numpad2",
              99: "Numpad3",
              100: "Numpad4",
              101: "Numpad5",
              102: "Numpad6",
              103: "Numpad7",
              104: "Numpad8",
              105: "Numpad9",
              "-13": "NumpadEnter",
              112: "F1",
              113: "F2",
              114: "F3",
              115: "F4",
              116: "F5",
              117: "F6",
              118: "F7",
              119: "F8",
              120: "F9",
              121: "F10",
              122: "F11",
              123: "F12",
              144: "Numlock",
              145: "Scrolllock"
            },
            PRINTABLE_KEYS: {
              32: " ",
              48: "0",
              49: "1",
              50: "2",
              51: "3",
              52: "4",
              53: "5",
              54: "6",
              55: "7",
              56: "8",
              57: "9",
              59: ";",
              61: "=",
              65: "a",
              66: "b",
              67: "c",
              68: "d",
              69: "e",
              70: "f",
              71: "g",
              72: "h",
              73: "i",
              74: "j",
              75: "k",
              76: "l",
              77: "m",
              78: "n",
              79: "o",
              80: "p",
              81: "q",
              82: "r",
              83: "s",
              84: "t",
              85: "u",
              86: "v",
              87: "w",
              88: "x",
              89: "y",
              90: "z",
              107: "+",
              109: "-",
              110: ".",
              186: ";",
              187: "=",
              188: ",",
              189: "-",
              190: ".",
              191: "/",
              192: "`",
              219: "[",
              220: "\\",
              221: "]",
              222: "'",
              111: "/",
              106: "*"
            }
          };
          var name, i3;
          for (i3 in ret.FUNCTION_KEYS) {
            name = ret.FUNCTION_KEYS[i3].toLowerCase();
            ret[name] = parseInt(i3, 10);
          }
          for (i3 in ret.PRINTABLE_KEYS) {
            name = ret.PRINTABLE_KEYS[i3].toLowerCase();
            ret[name] = parseInt(i3, 10);
          }
          oop.mixin(ret, ret.MODIFIER_KEYS);
          oop.mixin(ret, ret.PRINTABLE_KEYS);
          oop.mixin(ret, ret.FUNCTION_KEYS);
          ret.enter = ret["return"];
          ret.escape = ret.esc;
          ret.del = ret["delete"];
          ret[173] = "-";
          (function() {
            var mods = ["cmd", "ctrl", "alt", "shift"];
            for (var i4 = Math.pow(2, mods.length); i4--; ) {
              ret.KEY_MODS[i4] = mods.filter(function(x2) {
                return i4 & ret.KEY_MODS[x2];
              }).join("-") + "-";
            }
          })();
          ret.KEY_MODS[0] = "";
          ret.KEY_MODS[-1] = "input-";
          return ret;
        }();
        oop.mixin(exports2, Keys);
        exports2.keyCodeToString = function(keyCode) {
          var keyString = Keys[keyCode];
          if (typeof keyString != "string")
            keyString = String.fromCharCode(keyCode);
          return keyString.toLowerCase();
        };
      });
      ace.define("ace/lib/event", ["require", "exports", "module", "ace/lib/keys", "ace/lib/useragent"], function(require2, exports2, module2) {
        "use strict";
        var keys = require2("./keys");
        var useragent = require2("./useragent");
        var pressedKeys = null;
        var ts = 0;
        var activeListenerOptions;
        function detectListenerOptionsSupport() {
          activeListenerOptions = false;
          try {
            document.createComment("").addEventListener("test", function() {
            }, {
              get passive() {
                activeListenerOptions = { passive: false };
              }
            });
          } catch (e2) {
          }
        }
        function getListenerOptions2() {
          if (activeListenerOptions == void 0)
            detectListenerOptionsSupport();
          return activeListenerOptions;
        }
        function EventListener(elem, type, callback) {
          this.elem = elem;
          this.type = type;
          this.callback = callback;
        }
        EventListener.prototype.destroy = function() {
          removeListener(this.elem, this.type, this.callback);
          this.elem = this.type = this.callback = void 0;
        };
        var addListener = exports2.addListener = function(elem, type, callback, destroyer) {
          elem.addEventListener(type, callback, getListenerOptions2());
          if (destroyer)
            destroyer.$toDestroy.push(new EventListener(elem, type, callback));
        };
        var removeListener = exports2.removeListener = function(elem, type, callback) {
          elem.removeEventListener(type, callback, getListenerOptions2());
        };
        exports2.stopEvent = function(e2) {
          exports2.stopPropagation(e2);
          exports2.preventDefault(e2);
          return false;
        };
        exports2.stopPropagation = function(e2) {
          if (e2.stopPropagation)
            e2.stopPropagation();
        };
        exports2.preventDefault = function(e2) {
          if (e2.preventDefault)
            e2.preventDefault();
        };
        exports2.getButton = function(e2) {
          if (e2.type == "dblclick")
            return 0;
          if (e2.type == "contextmenu" || useragent.isMac && (e2.ctrlKey && !e2.altKey && !e2.shiftKey))
            return 2;
          return e2.button;
        };
        exports2.capture = function(el, eventHandler, releaseCaptureHandler) {
          var ownerDocument = el && el.ownerDocument || document;
          function onMouseUp(e2) {
            eventHandler && eventHandler(e2);
            releaseCaptureHandler && releaseCaptureHandler(e2);
            removeListener(ownerDocument, "mousemove", eventHandler);
            removeListener(ownerDocument, "mouseup", onMouseUp);
            removeListener(ownerDocument, "dragstart", onMouseUp);
          }
          addListener(ownerDocument, "mousemove", eventHandler);
          addListener(ownerDocument, "mouseup", onMouseUp);
          addListener(ownerDocument, "dragstart", onMouseUp);
          return onMouseUp;
        };
        exports2.addMouseWheelListener = function(el, callback, destroyer) {
          addListener(el, "wheel", function(e2) {
            var factor = 0.15;
            var deltaX = e2.deltaX || 0;
            var deltaY = e2.deltaY || 0;
            switch (e2.deltaMode) {
              case e2.DOM_DELTA_PIXEL:
                e2.wheelX = deltaX * factor;
                e2.wheelY = deltaY * factor;
                break;
              case e2.DOM_DELTA_LINE:
                var linePixels = 15;
                e2.wheelX = deltaX * linePixels;
                e2.wheelY = deltaY * linePixels;
                break;
              case e2.DOM_DELTA_PAGE:
                var pagePixels = 150;
                e2.wheelX = deltaX * pagePixels;
                e2.wheelY = deltaY * pagePixels;
                break;
            }
            callback(e2);
          }, destroyer);
        };
        exports2.addMultiMouseDownListener = function(elements, timeouts, eventHandler, callbackName, destroyer) {
          var clicks = 0;
          var startX, startY, timer;
          var eventNames = {
            2: "dblclick",
            3: "tripleclick",
            4: "quadclick"
          };
          function onMousedown(e2) {
            if (exports2.getButton(e2) !== 0) {
              clicks = 0;
            } else if (e2.detail > 1) {
              clicks++;
              if (clicks > 4)
                clicks = 1;
            } else {
              clicks = 1;
            }
            if (useragent.isIE) {
              var isNewClick = Math.abs(e2.clientX - startX) > 5 || Math.abs(e2.clientY - startY) > 5;
              if (!timer || isNewClick)
                clicks = 1;
              if (timer)
                clearTimeout(timer);
              timer = setTimeout(function() {
                timer = null;
              }, timeouts[clicks - 1] || 600);
              if (clicks == 1) {
                startX = e2.clientX;
                startY = e2.clientY;
              }
            }
            e2._clicks = clicks;
            eventHandler[callbackName]("mousedown", e2);
            if (clicks > 4)
              clicks = 0;
            else if (clicks > 1)
              return eventHandler[callbackName](eventNames[clicks], e2);
          }
          if (!Array.isArray(elements))
            elements = [elements];
          elements.forEach(function(el) {
            addListener(el, "mousedown", onMousedown, destroyer);
          });
        };
        var getModifierHash = function(e2) {
          return 0 | (e2.ctrlKey ? 1 : 0) | (e2.altKey ? 2 : 0) | (e2.shiftKey ? 4 : 0) | (e2.metaKey ? 8 : 0);
        };
        exports2.getModifierString = function(e2) {
          return keys.KEY_MODS[getModifierHash(e2)];
        };
        function normalizeCommandKeys(callback, e2, keyCode) {
          var hashId = getModifierHash(e2);
          if (!useragent.isMac && pressedKeys) {
            if (e2.getModifierState && (e2.getModifierState("OS") || e2.getModifierState("Win")))
              hashId |= 8;
            if (pressedKeys.altGr) {
              if ((3 & hashId) != 3)
                pressedKeys.altGr = 0;
              else
                return;
            }
            if (keyCode === 18 || keyCode === 17) {
              var location = "location" in e2 ? e2.location : e2.keyLocation;
              if (keyCode === 17 && location === 1) {
                if (pressedKeys[keyCode] == 1)
                  ts = e2.timeStamp;
              } else if (keyCode === 18 && hashId === 3 && location === 2) {
                var dt = e2.timeStamp - ts;
                if (dt < 50)
                  pressedKeys.altGr = true;
              }
            }
          }
          if (keyCode in keys.MODIFIER_KEYS) {
            keyCode = -1;
          }
          if (!hashId && keyCode === 13) {
            var location = "location" in e2 ? e2.location : e2.keyLocation;
            if (location === 3) {
              callback(e2, hashId, -keyCode);
              if (e2.defaultPrevented)
                return;
            }
          }
          if (useragent.isChromeOS && hashId & 8) {
            callback(e2, hashId, keyCode);
            if (e2.defaultPrevented)
              return;
            else
              hashId &= ~8;
          }
          if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {
            return false;
          }
          return callback(e2, hashId, keyCode);
        }
        exports2.addCommandKeyListener = function(el, callback, destroyer) {
          if (useragent.isOldGecko || useragent.isOpera && !("KeyboardEvent" in window)) {
            var lastKeyDownKeyCode = null;
            addListener(el, "keydown", function(e2) {
              lastKeyDownKeyCode = e2.keyCode;
            }, destroyer);
            addListener(el, "keypress", function(e2) {
              return normalizeCommandKeys(callback, e2, lastKeyDownKeyCode);
            }, destroyer);
          } else {
            var lastDefaultPrevented = null;
            addListener(el, "keydown", function(e2) {
              pressedKeys[e2.keyCode] = (pressedKeys[e2.keyCode] || 0) + 1;
              var result = normalizeCommandKeys(callback, e2, e2.keyCode);
              lastDefaultPrevented = e2.defaultPrevented;
              return result;
            }, destroyer);
            addListener(el, "keypress", function(e2) {
              if (lastDefaultPrevented && (e2.ctrlKey || e2.altKey || e2.shiftKey || e2.metaKey)) {
                exports2.stopEvent(e2);
                lastDefaultPrevented = null;
              }
            }, destroyer);
            addListener(el, "keyup", function(e2) {
              pressedKeys[e2.keyCode] = null;
            }, destroyer);
            if (!pressedKeys) {
              resetPressedKeys();
              addListener(window, "focus", resetPressedKeys);
            }
          }
        };
        function resetPressedKeys() {
          pressedKeys = /* @__PURE__ */ Object.create(null);
        }
        if (typeof window == "object" && window.postMessage && !useragent.isOldIE) {
          var postMessageId = 1;
          exports2.nextTick = function(callback, win) {
            win = win || window;
            var messageName = "zero-timeout-message-" + postMessageId++;
            var listener = function(e2) {
              if (e2.data == messageName) {
                exports2.stopPropagation(e2);
                removeListener(win, "message", listener);
                callback();
              }
            };
            addListener(win, "message", listener);
            win.postMessage(messageName, "*");
          };
        }
        exports2.$idleBlocked = false;
        exports2.onIdle = function(cb, timeout) {
          return setTimeout(function handler() {
            if (!exports2.$idleBlocked) {
              cb();
            } else {
              setTimeout(handler, 100);
            }
          }, timeout);
        };
        exports2.$idleBlockId = null;
        exports2.blockIdle = function(delay) {
          if (exports2.$idleBlockId)
            clearTimeout(exports2.$idleBlockId);
          exports2.$idleBlocked = true;
          exports2.$idleBlockId = setTimeout(function() {
            exports2.$idleBlocked = false;
          }, delay || 100);
        };
        exports2.nextFrame = typeof window == "object" && (window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame);
        if (exports2.nextFrame)
          exports2.nextFrame = exports2.nextFrame.bind(window);
        else
          exports2.nextFrame = function(callback) {
            setTimeout(callback, 17);
          };
      });
      ace.define("ace/range", ["require", "exports", "module"], function(require2, exports2, module2) {
        "use strict";
        var comparePoints = function(p1, p22) {
          return p1.row - p22.row || p1.column - p22.column;
        };
        var Range = function(startRow, startColumn, endRow, endColumn) {
          this.start = {
            row: startRow,
            column: startColumn
          };
          this.end = {
            row: endRow,
            column: endColumn
          };
        };
        (function() {
          this.isEqual = function(range) {
            return this.start.row === range.start.row && this.end.row === range.end.row && this.start.column === range.start.column && this.end.column === range.end.column;
          };
          this.toString = function() {
            return "Range: [" + this.start.row + "/" + this.start.column + "] -> [" + this.end.row + "/" + this.end.column + "]";
          };
          this.contains = function(row, column) {
            return this.compare(row, column) == 0;
          };
          this.compareRange = function(range) {
            var cmp, end3 = range.end, start4 = range.start;
            cmp = this.compare(end3.row, end3.column);
            if (cmp == 1) {
              cmp = this.compare(start4.row, start4.column);
              if (cmp == 1) {
                return 2;
              } else if (cmp == 0) {
                return 1;
              } else {
                return 0;
              }
            } else if (cmp == -1) {
              return -2;
            } else {
              cmp = this.compare(start4.row, start4.column);
              if (cmp == -1) {
                return -1;
              } else if (cmp == 1) {
                return 42;
              } else {
                return 0;
              }
            }
          };
          this.comparePoint = function(p3) {
            return this.compare(p3.row, p3.column);
          };
          this.containsRange = function(range) {
            return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;
          };
          this.intersects = function(range) {
            var cmp = this.compareRange(range);
            return cmp == -1 || cmp == 0 || cmp == 1;
          };
          this.isEnd = function(row, column) {
            return this.end.row == row && this.end.column == column;
          };
          this.isStart = function(row, column) {
            return this.start.row == row && this.start.column == column;
          };
          this.setStart = function(row, column) {
            if (typeof row == "object") {
              this.start.column = row.column;
              this.start.row = row.row;
            } else {
              this.start.row = row;
              this.start.column = column;
            }
          };
          this.setEnd = function(row, column) {
            if (typeof row == "object") {
              this.end.column = row.column;
              this.end.row = row.row;
            } else {
              this.end.row = row;
              this.end.column = column;
            }
          };
          this.inside = function(row, column) {
            if (this.compare(row, column) == 0) {
              if (this.isEnd(row, column) || this.isStart(row, column)) {
                return false;
              } else {
                return true;
              }
            }
            return false;
          };
          this.insideStart = function(row, column) {
            if (this.compare(row, column) == 0) {
              if (this.isEnd(row, column)) {
                return false;
              } else {
                return true;
              }
            }
            return false;
          };
          this.insideEnd = function(row, column) {
            if (this.compare(row, column) == 0) {
              if (this.isStart(row, column)) {
                return false;
              } else {
                return true;
              }
            }
            return false;
          };
          this.compare = function(row, column) {
            if (!this.isMultiLine()) {
              if (row === this.start.row) {
                return column < this.start.column ? -1 : column > this.end.column ? 1 : 0;
              }
            }
            if (row < this.start.row)
              return -1;
            if (row > this.end.row)
              return 1;
            if (this.start.row === row)
              return column >= this.start.column ? 0 : -1;
            if (this.end.row === row)
              return column <= this.end.column ? 0 : 1;
            return 0;
          };
          this.compareStart = function(row, column) {
            if (this.start.row == row && this.start.column == column) {
              return -1;
            } else {
              return this.compare(row, column);
            }
          };
          this.compareEnd = function(row, column) {
            if (this.end.row == row && this.end.column == column) {
              return 1;
            } else {
              return this.compare(row, column);
            }
          };
          this.compareInside = function(row, column) {
            if (this.end.row == row && this.end.column == column) {
              return 1;
            } else if (this.start.row == row && this.start.column == column) {
              return -1;
            } else {
              return this.compare(row, column);
            }
          };
          this.clipRows = function(firstRow, lastRow) {
            if (this.end.row > lastRow)
              var end3 = { row: lastRow + 1, column: 0 };
            else if (this.end.row < firstRow)
              var end3 = { row: firstRow, column: 0 };
            if (this.start.row > lastRow)
              var start4 = { row: lastRow + 1, column: 0 };
            else if (this.start.row < firstRow)
              var start4 = { row: firstRow, column: 0 };
            return Range.fromPoints(start4 || this.start, end3 || this.end);
          };
          this.extend = function(row, column) {
            var cmp = this.compare(row, column);
            if (cmp == 0)
              return this;
            else if (cmp == -1)
              var start4 = { row, column };
            else
              var end3 = { row, column };
            return Range.fromPoints(start4 || this.start, end3 || this.end);
          };
          this.isEmpty = function() {
            return this.start.row === this.end.row && this.start.column === this.end.column;
          };
          this.isMultiLine = function() {
            return this.start.row !== this.end.row;
          };
          this.clone = function() {
            return Range.fromPoints(this.start, this.end);
          };
          this.collapseRows = function() {
            if (this.end.column == 0)
              return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0);
            else
              return new Range(this.start.row, 0, this.end.row, 0);
          };
          this.toScreenRange = function(session) {
            var screenPosStart = session.documentToScreenPosition(this.start);
            var screenPosEnd = session.documentToScreenPosition(this.end);
            return new Range(screenPosStart.row, screenPosStart.column, screenPosEnd.row, screenPosEnd.column);
          };
          this.moveBy = function(row, column) {
            this.start.row += row;
            this.start.column += column;
            this.end.row += row;
            this.end.column += column;
          };
        }).call(Range.prototype);
        Range.fromPoints = function(start4, end3) {
          return new Range(start4.row, start4.column, end3.row, end3.column);
        };
        Range.comparePoints = comparePoints;
        Range.comparePoints = function(p1, p22) {
          return p1.row - p22.row || p1.column - p22.column;
        };
        exports2.Range = Range;
      });
      ace.define("ace/lib/lang", ["require", "exports", "module"], function(require2, exports2, module2) {
        "use strict";
        exports2.last = function(a3) {
          return a3[a3.length - 1];
        };
        exports2.stringReverse = function(string) {
          return string.split("").reverse().join("");
        };
        exports2.stringRepeat = function(string, count2) {
          var result = "";
          while (count2 > 0) {
            if (count2 & 1)
              result += string;
            if (count2 >>= 1)
              string += string;
          }
          return result;
        };
        var trimBeginRegexp = /^\s\s*/;
        var trimEndRegexp = /\s\s*$/;
        exports2.stringTrimLeft = function(string) {
          return string.replace(trimBeginRegexp, "");
        };
        exports2.stringTrimRight = function(string) {
          return string.replace(trimEndRegexp, "");
        };
        exports2.copyObject = function(obj) {
          var copy = {};
          for (var key in obj) {
            copy[key] = obj[key];
          }
          return copy;
        };
        exports2.copyArray = function(array) {
          var copy = [];
          for (var i3 = 0, l3 = array.length; i3 < l3; i3++) {
            if (array[i3] && typeof array[i3] == "object")
              copy[i3] = this.copyObject(array[i3]);
            else
              copy[i3] = array[i3];
          }
          return copy;
        };
        exports2.deepCopy = function deepCopy(obj) {
          if (typeof obj !== "object" || !obj)
            return obj;
          var copy;
          if (Array.isArray(obj)) {
            copy = [];
            for (var key = 0; key < obj.length; key++) {
              copy[key] = deepCopy(obj[key]);
            }
            return copy;
          }
          if (Object.prototype.toString.call(obj) !== "[object Object]")
            return obj;
          copy = {};
          for (var key in obj)
            copy[key] = deepCopy(obj[key]);
          return copy;
        };
        exports2.arrayToMap = function(arr) {
          var map = {};
          for (var i3 = 0; i3 < arr.length; i3++) {
            map[arr[i3]] = 1;
          }
          return map;
        };
        exports2.createMap = function(props) {
          var map = /* @__PURE__ */ Object.create(null);
          for (var i3 in props) {
            map[i3] = props[i3];
          }
          return map;
        };
        exports2.arrayRemove = function(array, value) {
          for (var i3 = 0; i3 <= array.length; i3++) {
            if (value === array[i3]) {
              array.splice(i3, 1);
            }
          }
        };
        exports2.escapeRegExp = function(str) {
          return str.replace(/([.*+?^${}()|[\]\/\\])/g, "\\$1");
        };
        exports2.escapeHTML = function(str) {
          return ("" + str).replace(/&/g, "&#38;").replace(/"/g, "&#34;").replace(/'/g, "&#39;").replace(/</g, "&#60;");
        };
        exports2.getMatchOffsets = function(string, regExp) {
          var matches = [];
          string.replace(regExp, function(str) {
            matches.push({
              offset: arguments[arguments.length - 2],
              length: str.length
            });
          });
          return matches;
        };
        exports2.deferredCall = function(fcn) {
          var timer = null;
          var callback = function() {
            timer = null;
            fcn();
          };
          var deferred = function(timeout) {
            deferred.cancel();
            timer = setTimeout(callback, timeout || 0);
            return deferred;
          };
          deferred.schedule = deferred;
          deferred.call = function() {
            this.cancel();
            fcn();
            return deferred;
          };
          deferred.cancel = function() {
            clearTimeout(timer);
            timer = null;
            return deferred;
          };
          deferred.isPending = function() {
            return timer;
          };
          return deferred;
        };
        exports2.delayedCall = function(fcn, defaultTimeout) {
          var timer = null;
          var callback = function() {
            timer = null;
            fcn();
          };
          var _self = function(timeout) {
            if (timer == null)
              timer = setTimeout(callback, timeout || defaultTimeout);
          };
          _self.delay = function(timeout) {
            timer && clearTimeout(timer);
            timer = setTimeout(callback, timeout || defaultTimeout);
          };
          _self.schedule = _self;
          _self.call = function() {
            this.cancel();
            fcn();
          };
          _self.cancel = function() {
            timer && clearTimeout(timer);
            timer = null;
          };
          _self.isPending = function() {
            return timer;
          };
          return _self;
        };
      });
      ace.define("ace/clipboard", ["require", "exports", "module"], function(require2, exports2, module2) {
        "use strict";
        var $cancelT;
        module2.exports = {
          lineMode: false,
          pasteCancelled: function() {
            if ($cancelT && $cancelT > Date.now() - 50)
              return true;
            return $cancelT = false;
          },
          cancel: function() {
            $cancelT = Date.now();
          }
        };
      });
      ace.define("ace/keyboard/textinput", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/lib/dom", "ace/lib/lang", "ace/clipboard", "ace/lib/keys"], function(require2, exports2, module2) {
        "use strict";
        var event = require2("../lib/event");
        var useragent = require2("../lib/useragent");
        var dom = require2("../lib/dom");
        var lang = require2("../lib/lang");
        var clipboard = require2("../clipboard");
        var BROKEN_SETDATA = useragent.isChrome < 18;
        var USE_IE_MIME_TYPE = useragent.isIE;
        var HAS_FOCUS_ARGS = useragent.isChrome > 63;
        var MAX_LINE_LENGTH = 400;
        var KEYS = require2("../lib/keys");
        var MODS = KEYS.KEY_MODS;
        var isIOS = useragent.isIOS;
        var valueResetRegex = isIOS ? /\s/ : /\n/;
        var isMobile = useragent.isMobile;
        var TextInput = function(parentNode, host) {
          var text = dom.createElement("textarea");
          text.className = "ace_text-input";
          text.setAttribute("wrap", "off");
          text.setAttribute("autocorrect", "off");
          text.setAttribute("autocapitalize", "off");
          text.setAttribute("spellcheck", false);
          text.style.opacity = "0";
          parentNode.insertBefore(text, parentNode.firstChild);
          var copied = false;
          var pasted = false;
          var inComposition = false;
          var sendingText = false;
          var tempStyle = "";
          if (!isMobile)
            text.style.fontSize = "1px";
          var commandMode = false;
          var ignoreFocusEvents = false;
          var lastValue = "";
          var lastSelectionStart = 0;
          var lastSelectionEnd = 0;
          var lastRestoreEnd = 0;
          try {
            var isFocused = document.activeElement === text;
          } catch (e2) {
          }
          event.addListener(text, "blur", function(e2) {
            if (ignoreFocusEvents)
              return;
            host.onBlur(e2);
            isFocused = false;
          }, host);
          event.addListener(text, "focus", function(e2) {
            if (ignoreFocusEvents)
              return;
            isFocused = true;
            if (useragent.isEdge) {
              try {
                if (!document.hasFocus())
                  return;
              } catch (e3) {
              }
            }
            host.onFocus(e2);
            if (useragent.isEdge)
              setTimeout(resetSelection);
            else
              resetSelection();
          }, host);
          this.$focusScroll = false;
          this.focus = function() {
            if (tempStyle || HAS_FOCUS_ARGS || this.$focusScroll == "browser")
              return text.focus({ preventScroll: true });
            var top2 = text.style.top;
            text.style.position = "fixed";
            text.style.top = "0px";
            try {
              var isTransformed = text.getBoundingClientRect().top != 0;
            } catch (e2) {
              return;
            }
            var ancestors = [];
            if (isTransformed) {
              var t3 = text.parentElement;
              while (t3 && t3.nodeType == 1) {
                ancestors.push(t3);
                t3.setAttribute("ace_nocontext", true);
                if (!t3.parentElement && t3.getRootNode)
                  t3 = t3.getRootNode().host;
                else
                  t3 = t3.parentElement;
              }
            }
            text.focus({ preventScroll: true });
            if (isTransformed) {
              ancestors.forEach(function(p3) {
                p3.removeAttribute("ace_nocontext");
              });
            }
            setTimeout(function() {
              text.style.position = "";
              if (text.style.top == "0px")
                text.style.top = top2;
            }, 0);
          };
          this.blur = function() {
            text.blur();
          };
          this.isFocused = function() {
            return isFocused;
          };
          host.on("beforeEndOperation", function() {
            var curOp = host.curOp;
            var commandName = curOp && curOp.command && curOp.command.name;
            if (commandName == "insertstring")
              return;
            var isUserAction = commandName && (curOp.docChanged || curOp.selectionChanged);
            if (inComposition && isUserAction) {
              lastValue = text.value = "";
              onCompositionEnd();
            }
            resetSelection();
          });
          var resetSelection = isIOS ? function(value) {
            if (!isFocused || copied && !value || sendingText)
              return;
            if (!value)
              value = "";
            var newValue = "\n ab" + value + "cde fg\n";
            if (newValue != text.value)
              text.value = lastValue = newValue;
            var selectionStart = 4;
            var selectionEnd = 4 + (value.length || (host.selection.isEmpty() ? 0 : 1));
            if (lastSelectionStart != selectionStart || lastSelectionEnd != selectionEnd) {
              text.setSelectionRange(selectionStart, selectionEnd);
            }
            lastSelectionStart = selectionStart;
            lastSelectionEnd = selectionEnd;
          } : function() {
            if (inComposition || sendingText)
              return;
            if (!isFocused && !afterContextMenu)
              return;
            inComposition = true;
            var selectionStart = 0;
            var selectionEnd = 0;
            var line = "";
            if (host.session) {
              var selection = host.selection;
              var range = selection.getRange();
              var row = selection.cursor.row;
              selectionStart = range.start.column;
              selectionEnd = range.end.column;
              line = host.session.getLine(row);
              if (range.start.row != row) {
                var prevLine = host.session.getLine(row - 1);
                selectionStart = range.start.row < row - 1 ? 0 : selectionStart;
                selectionEnd += prevLine.length + 1;
                line = prevLine + "\n" + line;
              } else if (range.end.row != row) {
                var nextLine = host.session.getLine(row + 1);
                selectionEnd = range.end.row > row + 1 ? nextLine.length : selectionEnd;
                selectionEnd += line.length + 1;
                line = line + "\n" + nextLine;
              } else if (isMobile && row > 0) {
                line = "\n" + line;
                selectionEnd += 1;
                selectionStart += 1;
              }
              if (line.length > MAX_LINE_LENGTH) {
                if (selectionStart < MAX_LINE_LENGTH && selectionEnd < MAX_LINE_LENGTH) {
                  line = line.slice(0, MAX_LINE_LENGTH);
                } else {
                  line = "\n";
                  if (selectionStart == selectionEnd) {
                    selectionStart = selectionEnd = 0;
                  } else {
                    selectionStart = 0;
                    selectionEnd = 1;
                  }
                }
              }
            }
            var newValue = line + "\n\n";
            if (newValue != lastValue) {
              text.value = lastValue = newValue;
              lastSelectionStart = lastSelectionEnd = newValue.length;
            }
            if (afterContextMenu) {
              lastSelectionStart = text.selectionStart;
              lastSelectionEnd = text.selectionEnd;
            }
            if (lastSelectionEnd != selectionEnd || lastSelectionStart != selectionStart || text.selectionEnd != lastSelectionEnd) {
              try {
                text.setSelectionRange(selectionStart, selectionEnd);
                lastSelectionStart = selectionStart;
                lastSelectionEnd = selectionEnd;
              } catch (e2) {
              }
            }
            inComposition = false;
          };
          this.resetSelection = resetSelection;
          if (isFocused)
            host.onFocus();
          var isAllSelected = function(text2) {
            return text2.selectionStart === 0 && text2.selectionEnd >= lastValue.length && text2.value === lastValue && lastValue && text2.selectionEnd !== lastSelectionEnd;
          };
          var onSelect = function(e2) {
            if (inComposition)
              return;
            if (copied) {
              copied = false;
            } else if (isAllSelected(text)) {
              host.selectAll();
              resetSelection();
            } else if (isMobile && text.selectionStart != lastSelectionStart) {
              resetSelection();
            }
          };
          var inputHandler = null;
          this.setInputHandler = function(cb) {
            inputHandler = cb;
          };
          this.getInputHandler = function() {
            return inputHandler;
          };
          var afterContextMenu = false;
          var sendText = function(value, fromInput) {
            if (afterContextMenu)
              afterContextMenu = false;
            if (pasted) {
              resetSelection();
              if (value)
                host.onPaste(value);
              pasted = false;
              return "";
            } else {
              var selectionStart = text.selectionStart;
              var selectionEnd = text.selectionEnd;
              var extendLeft = lastSelectionStart;
              var extendRight = lastValue.length - lastSelectionEnd;
              var inserted = value;
              var restoreStart = value.length - selectionStart;
              var restoreEnd = value.length - selectionEnd;
              var i3 = 0;
              while (extendLeft > 0 && lastValue[i3] == value[i3]) {
                i3++;
                extendLeft--;
              }
              inserted = inserted.slice(i3);
              i3 = 1;
              while (extendRight > 0 && lastValue.length - i3 > lastSelectionStart - 1 && lastValue[lastValue.length - i3] == value[value.length - i3]) {
                i3++;
                extendRight--;
              }
              restoreStart -= i3 - 1;
              restoreEnd -= i3 - 1;
              var endIndex = inserted.length - i3 + 1;
              if (endIndex < 0) {
                extendLeft = -endIndex;
                endIndex = 0;
              }
              inserted = inserted.slice(0, endIndex);
              if (!fromInput && !inserted && !restoreStart && !extendLeft && !extendRight && !restoreEnd)
                return "";
              sendingText = true;
              var shouldReset = false;
              if (useragent.isAndroid && inserted == ". ") {
                inserted = "  ";
                shouldReset = true;
              }
              if (inserted && !extendLeft && !extendRight && !restoreStart && !restoreEnd || commandMode) {
                host.onTextInput(inserted);
              } else {
                host.onTextInput(inserted, {
                  extendLeft,
                  extendRight,
                  restoreStart,
                  restoreEnd
                });
              }
              sendingText = false;
              lastValue = value;
              lastSelectionStart = selectionStart;
              lastSelectionEnd = selectionEnd;
              lastRestoreEnd = restoreEnd;
              return shouldReset ? "\n" : inserted;
            }
          };
          var onInput = function(e2) {
            if (inComposition)
              return onCompositionUpdate();
            if (e2 && e2.inputType) {
              if (e2.inputType == "historyUndo")
                return host.execCommand("undo");
              if (e2.inputType == "historyRedo")
                return host.execCommand("redo");
            }
            var data = text.value;
            var inserted = sendText(data, true);
            if (data.length > MAX_LINE_LENGTH + 100 || valueResetRegex.test(inserted) || isMobile && lastSelectionStart < 1 && lastSelectionStart == lastSelectionEnd) {
              resetSelection();
            }
          };
          var handleClipboardData = function(e2, data, forceIEMime) {
            var clipboardData = e2.clipboardData || window.clipboardData;
            if (!clipboardData || BROKEN_SETDATA)
              return;
            var mime = USE_IE_MIME_TYPE || forceIEMime ? "Text" : "text/plain";
            try {
              if (data) {
                return clipboardData.setData(mime, data) !== false;
              } else {
                return clipboardData.getData(mime);
              }
            } catch (e3) {
              if (!forceIEMime)
                return handleClipboardData(e3, data, true);
            }
          };
          var doCopy = function(e2, isCut) {
            var data = host.getCopyText();
            if (!data)
              return event.preventDefault(e2);
            if (handleClipboardData(e2, data)) {
              if (isIOS) {
                resetSelection(data);
                copied = data;
                setTimeout(function() {
                  copied = false;
                }, 10);
              }
              isCut ? host.onCut() : host.onCopy();
              event.preventDefault(e2);
            } else {
              copied = true;
              text.value = data;
              text.select();
              setTimeout(function() {
                copied = false;
                resetSelection();
                isCut ? host.onCut() : host.onCopy();
              });
            }
          };
          var onCut = function(e2) {
            doCopy(e2, true);
          };
          var onCopy = function(e2) {
            doCopy(e2, false);
          };
          var onPaste = function(e2) {
            var data = handleClipboardData(e2);
            if (clipboard.pasteCancelled())
              return;
            if (typeof data == "string") {
              if (data)
                host.onPaste(data, e2);
              if (useragent.isIE)
                setTimeout(resetSelection);
              event.preventDefault(e2);
            } else {
              text.value = "";
              pasted = true;
            }
          };
          event.addCommandKeyListener(text, host.onCommandKey.bind(host), host);
          event.addListener(text, "select", onSelect, host);
          event.addListener(text, "input", onInput, host);
          event.addListener(text, "cut", onCut, host);
          event.addListener(text, "copy", onCopy, host);
          event.addListener(text, "paste", onPaste, host);
          if (!("oncut" in text) || !("oncopy" in text) || !("onpaste" in text)) {
            event.addListener(parentNode, "keydown", function(e2) {
              if (useragent.isMac && !e2.metaKey || !e2.ctrlKey)
                return;
              switch (e2.keyCode) {
                case 67:
                  onCopy(e2);
                  break;
                case 86:
                  onPaste(e2);
                  break;
                case 88:
                  onCut(e2);
                  break;
              }
            }, host);
          }
          var onCompositionStart = function(e2) {
            if (inComposition || !host.onCompositionStart || host.$readOnly)
              return;
            inComposition = {};
            if (commandMode)
              return;
            if (e2.data)
              inComposition.useTextareaForIME = false;
            setTimeout(onCompositionUpdate, 0);
            host._signal("compositionStart");
            host.on("mousedown", cancelComposition);
            var range = host.getSelectionRange();
            range.end.row = range.start.row;
            range.end.column = range.start.column;
            inComposition.markerRange = range;
            inComposition.selectionStart = lastSelectionStart;
            host.onCompositionStart(inComposition);
            if (inComposition.useTextareaForIME) {
              lastValue = text.value = "";
              lastSelectionStart = 0;
              lastSelectionEnd = 0;
            } else {
              if (text.msGetInputContext)
                inComposition.context = text.msGetInputContext();
              if (text.getInputContext)
                inComposition.context = text.getInputContext();
            }
          };
          var onCompositionUpdate = function() {
            if (!inComposition || !host.onCompositionUpdate || host.$readOnly)
              return;
            if (commandMode)
              return cancelComposition();
            if (inComposition.useTextareaForIME) {
              host.onCompositionUpdate(text.value);
            } else {
              var data = text.value;
              sendText(data);
              if (inComposition.markerRange) {
                if (inComposition.context) {
                  inComposition.markerRange.start.column = inComposition.selectionStart = inComposition.context.compositionStartOffset;
                }
                inComposition.markerRange.end.column = inComposition.markerRange.start.column + lastSelectionEnd - inComposition.selectionStart + lastRestoreEnd;
              }
            }
          };
          var onCompositionEnd = function(e2) {
            if (!host.onCompositionEnd || host.$readOnly)
              return;
            inComposition = false;
            host.onCompositionEnd();
            host.off("mousedown", cancelComposition);
            if (e2)
              onInput();
          };
          function cancelComposition() {
            ignoreFocusEvents = true;
            text.blur();
            text.focus();
            ignoreFocusEvents = false;
          }
          var syncComposition = lang.delayedCall(onCompositionUpdate, 50).schedule.bind(null, null);
          function onKeyup(e2) {
            if (e2.keyCode == 27 && text.value.length < text.selectionStart) {
              if (!inComposition)
                lastValue = text.value;
              lastSelectionStart = lastSelectionEnd = -1;
              resetSelection();
            }
            syncComposition();
          }
          event.addListener(text, "compositionstart", onCompositionStart, host);
          event.addListener(text, "compositionupdate", onCompositionUpdate, host);
          event.addListener(text, "keyup", onKeyup, host);
          event.addListener(text, "keydown", syncComposition, host);
          event.addListener(text, "compositionend", onCompositionEnd, host);
          this.getElement = function() {
            return text;
          };
          this.setCommandMode = function(value) {
            commandMode = value;
            text.readOnly = false;
          };
          this.setReadOnly = function(readOnly) {
            if (!commandMode)
              text.readOnly = readOnly;
          };
          this.setCopyWithEmptySelection = function(value) {
          };
          this.onContextMenu = function(e2) {
            afterContextMenu = true;
            resetSelection();
            host._emit("nativecontextmenu", { target: host, domEvent: e2 });
            this.moveToMouse(e2, true);
          };
          this.moveToMouse = function(e2, bringToFront) {
            if (!tempStyle)
              tempStyle = text.style.cssText;
            text.style.cssText = (bringToFront ? "z-index:100000;" : "") + (useragent.isIE ? "opacity:0.1;" : "") + "text-indent: -" + (lastSelectionStart + lastSelectionEnd) * host.renderer.characterWidth * 0.5 + "px;";
            var rect = host.container.getBoundingClientRect();
            var style2 = dom.computedStyle(host.container);
            var top2 = rect.top + (parseInt(style2.borderTopWidth) || 0);
            var left2 = rect.left + (parseInt(rect.borderLeftWidth) || 0);
            var maxTop = rect.bottom - top2 - text.clientHeight - 2;
            var move3 = function(e3) {
              dom.translate(text, e3.clientX - left2 - 2, Math.min(e3.clientY - top2 - 2, maxTop));
            };
            move3(e2);
            if (e2.type != "mousedown")
              return;
            host.renderer.$isMousePressed = true;
            clearTimeout(closeTimeout);
            if (useragent.isWin)
              event.capture(host.container, move3, onContextMenuClose);
          };
          this.onContextMenuClose = onContextMenuClose;
          var closeTimeout;
          function onContextMenuClose() {
            clearTimeout(closeTimeout);
            closeTimeout = setTimeout(function() {
              if (tempStyle) {
                text.style.cssText = tempStyle;
                tempStyle = "";
              }
              host.renderer.$isMousePressed = false;
              if (host.renderer.$keepTextAreaAtCursor)
                host.renderer.$moveTextAreaToCursor();
            }, 0);
          }
          var onContextMenu = function(e2) {
            host.textInput.onContextMenu(e2);
            onContextMenuClose();
          };
          event.addListener(text, "mouseup", onContextMenu, host);
          event.addListener(text, "mousedown", function(e2) {
            e2.preventDefault();
            onContextMenuClose();
          }, host);
          event.addListener(host.renderer.scroller, "contextmenu", onContextMenu, host);
          event.addListener(text, "contextmenu", onContextMenu, host);
          if (isIOS)
            addIosSelectionHandler(parentNode, host, text);
          function addIosSelectionHandler(parentNode2, host2, text2) {
            var typingResetTimeout = null;
            var typing = false;
            text2.addEventListener("keydown", function(e2) {
              if (typingResetTimeout)
                clearTimeout(typingResetTimeout);
              typing = true;
            }, true);
            text2.addEventListener("keyup", function(e2) {
              typingResetTimeout = setTimeout(function() {
                typing = false;
              }, 100);
            }, true);
            var detectArrowKeys = function(e2) {
              if (document.activeElement !== text2)
                return;
              if (typing || inComposition || host2.$mouseHandler.isMousePressed)
                return;
              if (copied) {
                return;
              }
              var selectionStart = text2.selectionStart;
              var selectionEnd = text2.selectionEnd;
              var key = null;
              var modifier = 0;
              if (selectionStart == 0) {
                key = KEYS.up;
              } else if (selectionStart == 1) {
                key = KEYS.home;
              } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd] == "\n") {
                key = KEYS.end;
              } else if (selectionStart < lastSelectionStart && lastValue[selectionStart - 1] == " ") {
                key = KEYS.left;
                modifier = MODS.option;
              } else if (selectionStart < lastSelectionStart || selectionStart == lastSelectionStart && lastSelectionEnd != lastSelectionStart && selectionStart == selectionEnd) {
                key = KEYS.left;
              } else if (selectionEnd > lastSelectionEnd && lastValue.slice(0, selectionEnd).split("\n").length > 2) {
                key = KEYS.down;
              } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd - 1] == " ") {
                key = KEYS.right;
                modifier = MODS.option;
              } else if (selectionEnd > lastSelectionEnd || selectionEnd == lastSelectionEnd && lastSelectionEnd != lastSelectionStart && selectionStart == selectionEnd) {
                key = KEYS.right;
              }
              if (selectionStart !== selectionEnd)
                modifier |= MODS.shift;
              if (key) {
                var result = host2.onCommandKey({}, modifier, key);
                if (!result && host2.commands) {
                  key = KEYS.keyCodeToString(key);
                  var command = host2.commands.findKeyCommand(modifier, key);
                  if (command)
                    host2.execCommand(command);
                }
                lastSelectionStart = selectionStart;
                lastSelectionEnd = selectionEnd;
                resetSelection("");
              }
            };
            document.addEventListener("selectionchange", detectArrowKeys);
            host2.on("destroy", function() {
              document.removeEventListener("selectionchange", detectArrowKeys);
            });
          }
          this.destroy = function() {
            if (text.parentElement)
              text.parentElement.removeChild(text);
          };
        };
        exports2.TextInput = TextInput;
        exports2.$setUserAgentForTests = function(_isMobile, _isIOS) {
          isMobile = _isMobile;
          isIOS = _isIOS;
        };
      });
      ace.define("ace/mouse/default_handlers", ["require", "exports", "module", "ace/lib/useragent"], function(require2, exports2, module2) {
        "use strict";
        var useragent = require2("../lib/useragent");
        var DRAG_OFFSET = 0;
        var SCROLL_COOLDOWN_T = 550;
        function DefaultHandlers(mouseHandler) {
          mouseHandler.$clickSelection = null;
          var editor = mouseHandler.editor;
          editor.setDefaultHandler("mousedown", this.onMouseDown.bind(mouseHandler));
          editor.setDefaultHandler("dblclick", this.onDoubleClick.bind(mouseHandler));
          editor.setDefaultHandler("tripleclick", this.onTripleClick.bind(mouseHandler));
          editor.setDefaultHandler("quadclick", this.onQuadClick.bind(mouseHandler));
          editor.setDefaultHandler("mousewheel", this.onMouseWheel.bind(mouseHandler));
          var exports3 = [
            "select",
            "startSelect",
            "selectEnd",
            "selectAllEnd",
            "selectByWordsEnd",
            "selectByLinesEnd",
            "dragWait",
            "dragWaitEnd",
            "focusWait"
          ];
          exports3.forEach(function(x2) {
            mouseHandler[x2] = this[x2];
          }, this);
          mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, "getLineRange");
          mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, "getWordRange");
        }
        (function() {
          this.onMouseDown = function(ev) {
            var inSelection = ev.inSelection();
            var pos = ev.getDocumentPosition();
            this.mousedownEvent = ev;
            var editor = this.editor;
            var button = ev.getButton();
            if (button !== 0) {
              var selectionRange = editor.getSelectionRange();
              var selectionEmpty = selectionRange.isEmpty();
              if (selectionEmpty || button == 1)
                editor.selection.moveToPosition(pos);
              if (button == 2) {
                editor.textInput.onContextMenu(ev.domEvent);
                if (!useragent.isMozilla)
                  ev.preventDefault();
              }
              return;
            }
            this.mousedownEvent.time = Date.now();
            if (inSelection && !editor.isFocused()) {
              editor.focus();
              if (this.$focusTimeout && !this.$clickSelection && !editor.inMultiSelectMode) {
                this.setState("focusWait");
                this.captureMouse(ev);
                return;
              }
            }
            this.captureMouse(ev);
            this.startSelect(pos, ev.domEvent._clicks > 1);
            return ev.preventDefault();
          };
          this.startSelect = function(pos, waitForClickSelection) {
            pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);
            var editor = this.editor;
            if (!this.mousedownEvent)
              return;
            if (this.mousedownEvent.getShiftKey())
              editor.selection.selectToPosition(pos);
            else if (!waitForClickSelection)
              editor.selection.moveToPosition(pos);
            if (!waitForClickSelection)
              this.select();
            if (editor.renderer.scroller.setCapture) {
              editor.renderer.scroller.setCapture();
            }
            editor.setStyle("ace_selecting");
            this.setState("select");
          };
          this.select = function() {
            var anchor, editor = this.editor;
            var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);
            if (this.$clickSelection) {
              var cmp = this.$clickSelection.comparePoint(cursor);
              if (cmp == -1) {
                anchor = this.$clickSelection.end;
              } else if (cmp == 1) {
                anchor = this.$clickSelection.start;
              } else {
                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);
                cursor = orientedRange.cursor;
                anchor = orientedRange.anchor;
              }
              editor.selection.setSelectionAnchor(anchor.row, anchor.column);
            }
            editor.selection.selectToPosition(cursor);
            editor.renderer.scrollCursorIntoView();
          };
          this.extendSelectionBy = function(unitName) {
            var anchor, editor = this.editor;
            var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);
            var range = editor.selection[unitName](cursor.row, cursor.column);
            if (this.$clickSelection) {
              var cmpStart = this.$clickSelection.comparePoint(range.start);
              var cmpEnd = this.$clickSelection.comparePoint(range.end);
              if (cmpStart == -1 && cmpEnd <= 0) {
                anchor = this.$clickSelection.end;
                if (range.end.row != cursor.row || range.end.column != cursor.column)
                  cursor = range.start;
              } else if (cmpEnd == 1 && cmpStart >= 0) {
                anchor = this.$clickSelection.start;
                if (range.start.row != cursor.row || range.start.column != cursor.column)
                  cursor = range.end;
              } else if (cmpStart == -1 && cmpEnd == 1) {
                cursor = range.end;
                anchor = range.start;
              } else {
                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);
                cursor = orientedRange.cursor;
                anchor = orientedRange.anchor;
              }
              editor.selection.setSelectionAnchor(anchor.row, anchor.column);
            }
            editor.selection.selectToPosition(cursor);
            editor.renderer.scrollCursorIntoView();
          };
          this.selectEnd = this.selectAllEnd = this.selectByWordsEnd = this.selectByLinesEnd = function() {
            this.$clickSelection = null;
            this.editor.unsetStyle("ace_selecting");
            if (this.editor.renderer.scroller.releaseCapture) {
              this.editor.renderer.scroller.releaseCapture();
            }
          };
          this.focusWait = function() {
            var distance3 = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
            var time = Date.now();
            if (distance3 > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimeout)
              this.startSelect(this.mousedownEvent.getDocumentPosition());
          };
          this.onDoubleClick = function(ev) {
            var pos = ev.getDocumentPosition();
            var editor = this.editor;
            var session = editor.session;
            var range = session.getBracketRange(pos);
            if (range) {
              if (range.isEmpty()) {
                range.start.column--;
                range.end.column++;
              }
              this.setState("select");
            } else {
              range = editor.selection.getWordRange(pos.row, pos.column);
              this.setState("selectByWords");
            }
            this.$clickSelection = range;
            this.select();
          };
          this.onTripleClick = function(ev) {
            var pos = ev.getDocumentPosition();
            var editor = this.editor;
            this.setState("selectByLines");
            var range = editor.getSelectionRange();
            if (range.isMultiLine() && range.contains(pos.row, pos.column)) {
              this.$clickSelection = editor.selection.getLineRange(range.start.row);
              this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;
            } else {
              this.$clickSelection = editor.selection.getLineRange(pos.row);
            }
            this.select();
          };
          this.onQuadClick = function(ev) {
            var editor = this.editor;
            editor.selectAll();
            this.$clickSelection = editor.getSelectionRange();
            this.setState("selectAll");
          };
          this.onMouseWheel = function(ev) {
            if (ev.getAccelKey())
              return;
            if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {
              ev.wheelX = ev.wheelY;
              ev.wheelY = 0;
            }
            var editor = this.editor;
            if (!this.$lastScroll)
              this.$lastScroll = { t: 0, vx: 0, vy: 0, allowed: 0 };
            var prevScroll = this.$lastScroll;
            var t3 = ev.domEvent.timeStamp;
            var dt = t3 - prevScroll.t;
            var vx = dt ? ev.wheelX / dt : prevScroll.vx;
            var vy = dt ? ev.wheelY / dt : prevScroll.vy;
            if (dt < SCROLL_COOLDOWN_T) {
              vx = (vx + prevScroll.vx) / 2;
              vy = (vy + prevScroll.vy) / 2;
            }
            var direction = Math.abs(vx / vy);
            var canScroll = false;
            if (direction >= 1 && editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0))
              canScroll = true;
            if (direction <= 1 && editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed))
              canScroll = true;
            if (canScroll) {
              prevScroll.allowed = t3;
            } else if (t3 - prevScroll.allowed < SCROLL_COOLDOWN_T) {
              var isSlower = Math.abs(vx) <= 1.5 * Math.abs(prevScroll.vx) && Math.abs(vy) <= 1.5 * Math.abs(prevScroll.vy);
              if (isSlower) {
                canScroll = true;
                prevScroll.allowed = t3;
              } else {
                prevScroll.allowed = 0;
              }
            }
            prevScroll.t = t3;
            prevScroll.vx = vx;
            prevScroll.vy = vy;
            if (canScroll) {
              editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);
              return ev.stop();
            }
          };
        }).call(DefaultHandlers.prototype);
        exports2.DefaultHandlers = DefaultHandlers;
        function calcDistance(ax, ay, bx, by) {
          return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));
        }
        function calcRangeOrientation(range, cursor) {
          if (range.start.row == range.end.row)
            var cmp = 2 * cursor.column - range.start.column - range.end.column;
          else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)
            var cmp = cursor.column - 4;
          else
            var cmp = 2 * cursor.row - range.start.row - range.end.row;
          if (cmp < 0)
            return { cursor: range.start, anchor: range.end };
          else
            return { cursor: range.end, anchor: range.start };
        }
      });
      ace.define("ace/tooltip", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("./lib/oop");
        var dom = require2("./lib/dom");
        var CLASSNAME = "ace_tooltip";
        function Tooltip(parentNode) {
          this.isOpen = false;
          this.$element = null;
          this.$parentNode = parentNode;
        }
        (function() {
          this.$init = function() {
            this.$element = dom.createElement("div");
            this.$element.className = CLASSNAME;
            this.$element.style.display = "none";
            this.$parentNode.appendChild(this.$element);
            return this.$element;
          };
          this.getElement = function() {
            return this.$element || this.$init();
          };
          this.setText = function(text) {
            this.getElement().textContent = text;
          };
          this.setHtml = function(html) {
            this.getElement().innerHTML = html;
          };
          this.setPosition = function(x2, y2) {
            this.getElement().style.left = x2 + "px";
            this.getElement().style.top = y2 + "px";
          };
          this.setClassName = function(className) {
            dom.addCssClass(this.getElement(), className);
          };
          this.show = function(text, x2, y2) {
            if (text != null)
              this.setText(text);
            if (x2 != null && y2 != null)
              this.setPosition(x2, y2);
            if (!this.isOpen) {
              this.getElement().style.display = "block";
              this.isOpen = true;
            }
          };
          this.hide = function() {
            if (this.isOpen) {
              this.getElement().style.display = "none";
              this.getElement().className = CLASSNAME;
              this.isOpen = false;
            }
          };
          this.getHeight = function() {
            return this.getElement().offsetHeight;
          };
          this.getWidth = function() {
            return this.getElement().offsetWidth;
          };
          this.destroy = function() {
            this.isOpen = false;
            if (this.$element && this.$element.parentNode) {
              this.$element.parentNode.removeChild(this.$element);
            }
          };
        }).call(Tooltip.prototype);
        exports2.Tooltip = Tooltip;
      });
      ace.define("ace/mouse/default_gutter_handler", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/event", "ace/tooltip"], function(require2, exports2, module2) {
        "use strict";
        var dom = require2("../lib/dom");
        var oop = require2("../lib/oop");
        var event = require2("../lib/event");
        var Tooltip = require2("../tooltip").Tooltip;
        function GutterHandler(mouseHandler) {
          var editor = mouseHandler.editor;
          var gutter = editor.renderer.$gutterLayer;
          var tooltip = new GutterTooltip(editor.container);
          mouseHandler.editor.setDefaultHandler("guttermousedown", function(e2) {
            if (!editor.isFocused() || e2.getButton() != 0)
              return;
            var gutterRegion = gutter.getRegion(e2);
            if (gutterRegion == "foldWidgets")
              return;
            var row = e2.getDocumentPosition().row;
            var selection = editor.session.selection;
            if (e2.getShiftKey())
              selection.selectTo(row, 0);
            else {
              if (e2.domEvent.detail == 2) {
                editor.selectAll();
                return e2.preventDefault();
              }
              mouseHandler.$clickSelection = editor.selection.getLineRange(row);
            }
            mouseHandler.setState("selectByLines");
            mouseHandler.captureMouse(e2);
            return e2.preventDefault();
          });
          var tooltipTimeout, mouseEvent, tooltipAnnotation;
          function showTooltip() {
            var row = mouseEvent.getDocumentPosition().row;
            var annotation = gutter.$annotations[row];
            if (!annotation)
              return hideTooltip();
            var maxRow = editor.session.getLength();
            if (row == maxRow) {
              var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;
              var pos = mouseEvent.$pos;
              if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))
                return hideTooltip();
            }
            if (tooltipAnnotation == annotation)
              return;
            tooltipAnnotation = annotation.text.join("<br/>");
            tooltip.setHtml(tooltipAnnotation);
            var annotationClassName = annotation.className;
            if (annotationClassName) {
              tooltip.setClassName(annotationClassName.trim());
            }
            tooltip.show();
            editor._signal("showGutterTooltip", tooltip);
            editor.on("mousewheel", hideTooltip);
            if (mouseHandler.$tooltipFollowsMouse) {
              moveTooltip(mouseEvent);
            } else {
              var gutterElement = mouseEvent.domEvent.target;
              var rect = gutterElement.getBoundingClientRect();
              var style2 = tooltip.getElement().style;
              style2.left = rect.right + "px";
              style2.top = rect.bottom + "px";
            }
          }
          function hideTooltip() {
            if (tooltipTimeout)
              tooltipTimeout = clearTimeout(tooltipTimeout);
            if (tooltipAnnotation) {
              tooltip.hide();
              tooltipAnnotation = null;
              editor._signal("hideGutterTooltip", tooltip);
              editor.off("mousewheel", hideTooltip);
            }
          }
          function moveTooltip(e2) {
            tooltip.setPosition(e2.x, e2.y);
          }
          mouseHandler.editor.setDefaultHandler("guttermousemove", function(e2) {
            var target = e2.domEvent.target || e2.domEvent.srcElement;
            if (dom.hasCssClass(target, "ace_fold-widget"))
              return hideTooltip();
            if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse)
              moveTooltip(e2);
            mouseEvent = e2;
            if (tooltipTimeout)
              return;
            tooltipTimeout = setTimeout(function() {
              tooltipTimeout = null;
              if (mouseEvent && !mouseHandler.isMousePressed)
                showTooltip();
              else
                hideTooltip();
            }, 50);
          });
          event.addListener(editor.renderer.$gutter, "mouseout", function(e2) {
            mouseEvent = null;
            if (!tooltipAnnotation || tooltipTimeout)
              return;
            tooltipTimeout = setTimeout(function() {
              tooltipTimeout = null;
              hideTooltip();
            }, 50);
          }, editor);
          editor.on("changeSession", hideTooltip);
        }
        function GutterTooltip(parentNode) {
          Tooltip.call(this, parentNode);
        }
        oop.inherits(GutterTooltip, Tooltip);
        (function() {
          this.setPosition = function(x2, y2) {
            var windowWidth = window.innerWidth || document.documentElement.clientWidth;
            var windowHeight = window.innerHeight || document.documentElement.clientHeight;
            var width = this.getWidth();
            var height = this.getHeight();
            x2 += 15;
            y2 += 15;
            if (x2 + width > windowWidth) {
              x2 -= x2 + width - windowWidth;
            }
            if (y2 + height > windowHeight) {
              y2 -= 20 + height;
            }
            Tooltip.prototype.setPosition.call(this, x2, y2);
          };
        }).call(GutterTooltip.prototype);
        exports2.GutterHandler = GutterHandler;
      });
      ace.define("ace/mouse/mouse_event", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent"], function(require2, exports2, module2) {
        "use strict";
        var event = require2("../lib/event");
        var useragent = require2("../lib/useragent");
        var MouseEvent = exports2.MouseEvent = function(domEvent, editor) {
          this.domEvent = domEvent;
          this.editor = editor;
          this.x = this.clientX = domEvent.clientX;
          this.y = this.clientY = domEvent.clientY;
          this.$pos = null;
          this.$inSelection = null;
          this.propagationStopped = false;
          this.defaultPrevented = false;
        };
        (function() {
          this.stopPropagation = function() {
            event.stopPropagation(this.domEvent);
            this.propagationStopped = true;
          };
          this.preventDefault = function() {
            event.preventDefault(this.domEvent);
            this.defaultPrevented = true;
          };
          this.stop = function() {
            this.stopPropagation();
            this.preventDefault();
          };
          this.getDocumentPosition = function() {
            if (this.$pos)
              return this.$pos;
            this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);
            return this.$pos;
          };
          this.inSelection = function() {
            if (this.$inSelection !== null)
              return this.$inSelection;
            var editor = this.editor;
            var selectionRange = editor.getSelectionRange();
            if (selectionRange.isEmpty())
              this.$inSelection = false;
            else {
              var pos = this.getDocumentPosition();
              this.$inSelection = selectionRange.contains(pos.row, pos.column);
            }
            return this.$inSelection;
          };
          this.getButton = function() {
            return event.getButton(this.domEvent);
          };
          this.getShiftKey = function() {
            return this.domEvent.shiftKey;
          };
          this.getAccelKey = useragent.isMac ? function() {
            return this.domEvent.metaKey;
          } : function() {
            return this.domEvent.ctrlKey;
          };
        }).call(MouseEvent.prototype);
      });
      ace.define("ace/mouse/dragdrop_handler", ["require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/lib/useragent"], function(require2, exports2, module2) {
        "use strict";
        var dom = require2("../lib/dom");
        var event = require2("../lib/event");
        var useragent = require2("../lib/useragent");
        var AUTOSCROLL_DELAY = 200;
        var SCROLL_CURSOR_DELAY = 200;
        var SCROLL_CURSOR_HYSTERESIS = 5;
        function DragdropHandler(mouseHandler) {
          var editor = mouseHandler.editor;
          var dragImage = dom.createElement("div");
          dragImage.style.cssText = "top:-100px;position:absolute;z-index:2147483647;opacity:0.5";
          dragImage.textContent = "\xA0";
          var exports3 = ["dragWait", "dragWaitEnd", "startDrag", "dragReadyEnd", "onMouseDrag"];
          exports3.forEach(function(x3) {
            mouseHandler[x3] = this[x3];
          }, this);
          editor.on("mousedown", this.onMouseDown.bind(mouseHandler));
          var mouseTarget = editor.container;
          var dragSelectionMarker, x2, y2;
          var timerId, range;
          var dragCursor, counter = 0;
          var dragOperation;
          var isInternal;
          var autoScrollStartTime;
          var cursorMovedTime;
          var cursorPointOnCaretMoved;
          this.onDragStart = function(e2) {
            if (this.cancelDrag || !mouseTarget.draggable) {
              var self2 = this;
              setTimeout(function() {
                self2.startSelect();
                self2.captureMouse(e2);
              }, 0);
              return e2.preventDefault();
            }
            range = editor.getSelectionRange();
            var dataTransfer = e2.dataTransfer;
            dataTransfer.effectAllowed = editor.getReadOnly() ? "copy" : "copyMove";
            editor.container.appendChild(dragImage);
            dataTransfer.setDragImage && dataTransfer.setDragImage(dragImage, 0, 0);
            setTimeout(function() {
              editor.container.removeChild(dragImage);
            });
            dataTransfer.clearData();
            dataTransfer.setData("Text", editor.session.getTextRange());
            isInternal = true;
            this.setState("drag");
          };
          this.onDragEnd = function(e2) {
            mouseTarget.draggable = false;
            isInternal = false;
            this.setState(null);
            if (!editor.getReadOnly()) {
              var dropEffect = e2.dataTransfer.dropEffect;
              if (!dragOperation && dropEffect == "move")
                editor.session.remove(editor.getSelectionRange());
              editor.$resetCursorStyle();
            }
            this.editor.unsetStyle("ace_dragging");
            this.editor.renderer.setCursorStyle("");
          };
          this.onDragEnter = function(e2) {
            if (editor.getReadOnly() || !canAccept(e2.dataTransfer))
              return;
            x2 = e2.clientX;
            y2 = e2.clientY;
            if (!dragSelectionMarker)
              addDragMarker();
            counter++;
            e2.dataTransfer.dropEffect = dragOperation = getDropEffect(e2);
            return event.preventDefault(e2);
          };
          this.onDragOver = function(e2) {
            if (editor.getReadOnly() || !canAccept(e2.dataTransfer))
              return;
            x2 = e2.clientX;
            y2 = e2.clientY;
            if (!dragSelectionMarker) {
              addDragMarker();
              counter++;
            }
            if (onMouseMoveTimer !== null)
              onMouseMoveTimer = null;
            e2.dataTransfer.dropEffect = dragOperation = getDropEffect(e2);
            return event.preventDefault(e2);
          };
          this.onDragLeave = function(e2) {
            counter--;
            if (counter <= 0 && dragSelectionMarker) {
              clearDragMarker();
              dragOperation = null;
              return event.preventDefault(e2);
            }
          };
          this.onDrop = function(e2) {
            if (!dragCursor)
              return;
            var dataTransfer = e2.dataTransfer;
            if (isInternal) {
              switch (dragOperation) {
                case "move":
                  if (range.contains(dragCursor.row, dragCursor.column)) {
                    range = {
                      start: dragCursor,
                      end: dragCursor
                    };
                  } else {
                    range = editor.moveText(range, dragCursor);
                  }
                  break;
                case "copy":
                  range = editor.moveText(range, dragCursor, true);
                  break;
              }
            } else {
              var dropData = dataTransfer.getData("Text");
              range = {
                start: dragCursor,
                end: editor.session.insert(dragCursor, dropData)
              };
              editor.focus();
              dragOperation = null;
            }
            clearDragMarker();
            return event.preventDefault(e2);
          };
          event.addListener(mouseTarget, "dragstart", this.onDragStart.bind(mouseHandler), editor);
          event.addListener(mouseTarget, "dragend", this.onDragEnd.bind(mouseHandler), editor);
          event.addListener(mouseTarget, "dragenter", this.onDragEnter.bind(mouseHandler), editor);
          event.addListener(mouseTarget, "dragover", this.onDragOver.bind(mouseHandler), editor);
          event.addListener(mouseTarget, "dragleave", this.onDragLeave.bind(mouseHandler), editor);
          event.addListener(mouseTarget, "drop", this.onDrop.bind(mouseHandler), editor);
          function scrollCursorIntoView(cursor, prevCursor) {
            var now = Date.now();
            var vMovement = !prevCursor || cursor.row != prevCursor.row;
            var hMovement = !prevCursor || cursor.column != prevCursor.column;
            if (!cursorMovedTime || vMovement || hMovement) {
              editor.moveCursorToPosition(cursor);
              cursorMovedTime = now;
              cursorPointOnCaretMoved = { x: x2, y: y2 };
            } else {
              var distance3 = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x2, y2);
              if (distance3 > SCROLL_CURSOR_HYSTERESIS) {
                cursorMovedTime = null;
              } else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {
                editor.renderer.scrollCursorIntoView();
                cursorMovedTime = null;
              }
            }
          }
          function autoScroll2(cursor, prevCursor) {
            var now = Date.now();
            var lineHeight = editor.renderer.layerConfig.lineHeight;
            var characterWidth = editor.renderer.layerConfig.characterWidth;
            var editorRect = editor.renderer.scroller.getBoundingClientRect();
            var offsets = {
              x: {
                left: x2 - editorRect.left,
                right: editorRect.right - x2
              },
              y: {
                top: y2 - editorRect.top,
                bottom: editorRect.bottom - y2
              }
            };
            var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);
            var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);
            var scrollCursor = { row: cursor.row, column: cursor.column };
            if (nearestXOffset / characterWidth <= 2) {
              scrollCursor.column += offsets.x.left < offsets.x.right ? -3 : 2;
            }
            if (nearestYOffset / lineHeight <= 1) {
              scrollCursor.row += offsets.y.top < offsets.y.bottom ? -1 : 1;
            }
            var vScroll = cursor.row != scrollCursor.row;
            var hScroll = cursor.column != scrollCursor.column;
            var vMovement = !prevCursor || cursor.row != prevCursor.row;
            if (vScroll || hScroll && !vMovement) {
              if (!autoScrollStartTime)
                autoScrollStartTime = now;
              else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)
                editor.renderer.scrollCursorIntoView(scrollCursor);
            } else {
              autoScrollStartTime = null;
            }
          }
          function onDragInterval() {
            var prevCursor = dragCursor;
            dragCursor = editor.renderer.screenToTextCoordinates(x2, y2);
            scrollCursorIntoView(dragCursor, prevCursor);
            autoScroll2(dragCursor, prevCursor);
          }
          function addDragMarker() {
            range = editor.selection.toOrientedRange();
            dragSelectionMarker = editor.session.addMarker(range, "ace_selection", editor.getSelectionStyle());
            editor.clearSelection();
            if (editor.isFocused())
              editor.renderer.$cursorLayer.setBlinking(false);
            clearInterval(timerId);
            onDragInterval();
            timerId = setInterval(onDragInterval, 20);
            counter = 0;
            event.addListener(document, "mousemove", onMouseMove);
          }
          function clearDragMarker() {
            clearInterval(timerId);
            editor.session.removeMarker(dragSelectionMarker);
            dragSelectionMarker = null;
            editor.selection.fromOrientedRange(range);
            if (editor.isFocused() && !isInternal)
              editor.$resetCursorStyle();
            range = null;
            dragCursor = null;
            counter = 0;
            autoScrollStartTime = null;
            cursorMovedTime = null;
            event.removeListener(document, "mousemove", onMouseMove);
          }
          var onMouseMoveTimer = null;
          function onMouseMove() {
            if (onMouseMoveTimer == null) {
              onMouseMoveTimer = setTimeout(function() {
                if (onMouseMoveTimer != null && dragSelectionMarker)
                  clearDragMarker();
              }, 20);
            }
          }
          function canAccept(dataTransfer) {
            var types3 = dataTransfer.types;
            return !types3 || Array.prototype.some.call(types3, function(type) {
              return type == "text/plain" || type == "Text";
            });
          }
          function getDropEffect(e2) {
            var copyAllowed = ["copy", "copymove", "all", "uninitialized"];
            var moveAllowed = ["move", "copymove", "linkmove", "all", "uninitialized"];
            var copyModifierState = useragent.isMac ? e2.altKey : e2.ctrlKey;
            var effectAllowed = "uninitialized";
            try {
              effectAllowed = e2.dataTransfer.effectAllowed.toLowerCase();
            } catch (e3) {
            }
            var dropEffect = "none";
            if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)
              dropEffect = "copy";
            else if (moveAllowed.indexOf(effectAllowed) >= 0)
              dropEffect = "move";
            else if (copyAllowed.indexOf(effectAllowed) >= 0)
              dropEffect = "copy";
            return dropEffect;
          }
        }
        (function() {
          this.dragWait = function() {
            var interval = Date.now() - this.mousedownEvent.time;
            if (interval > this.editor.getDragDelay())
              this.startDrag();
          };
          this.dragWaitEnd = function() {
            var target = this.editor.container;
            target.draggable = false;
            this.startSelect(this.mousedownEvent.getDocumentPosition());
            this.selectEnd();
          };
          this.dragReadyEnd = function(e2) {
            this.editor.$resetCursorStyle();
            this.editor.unsetStyle("ace_dragging");
            this.editor.renderer.setCursorStyle("");
            this.dragWaitEnd();
          };
          this.startDrag = function() {
            this.cancelDrag = false;
            var editor = this.editor;
            var target = editor.container;
            target.draggable = true;
            editor.renderer.$cursorLayer.setBlinking(false);
            editor.setStyle("ace_dragging");
            var cursorStyle = useragent.isWin ? "default" : "move";
            editor.renderer.setCursorStyle(cursorStyle);
            this.setState("dragReady");
          };
          this.onMouseDrag = function(e2) {
            var target = this.editor.container;
            if (useragent.isIE && this.state == "dragReady") {
              var distance3 = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
              if (distance3 > 3)
                target.dragDrop();
            }
            if (this.state === "dragWait") {
              var distance3 = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
              if (distance3 > 0) {
                target.draggable = false;
                this.startSelect(this.mousedownEvent.getDocumentPosition());
              }
            }
          };
          this.onMouseDown = function(e2) {
            if (!this.$dragEnabled)
              return;
            this.mousedownEvent = e2;
            var editor = this.editor;
            var inSelection = e2.inSelection();
            var button = e2.getButton();
            var clickCount = e2.domEvent.detail || 1;
            if (clickCount === 1 && button === 0 && inSelection) {
              if (e2.editor.inMultiSelectMode && (e2.getAccelKey() || e2.getShiftKey()))
                return;
              this.mousedownEvent.time = Date.now();
              var eventTarget = e2.domEvent.target || e2.domEvent.srcElement;
              if ("unselectable" in eventTarget)
                eventTarget.unselectable = "on";
              if (editor.getDragDelay()) {
                if (useragent.isWebKit) {
                  this.cancelDrag = true;
                  var mouseTarget = editor.container;
                  mouseTarget.draggable = true;
                }
                this.setState("dragWait");
              } else {
                this.startDrag();
              }
              this.captureMouse(e2, this.onMouseDrag.bind(this));
              e2.defaultPrevented = true;
            }
          };
        }).call(DragdropHandler.prototype);
        function calcDistance(ax, ay, bx, by) {
          return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));
        }
        exports2.DragdropHandler = DragdropHandler;
      });
      ace.define("ace/mouse/touch_handler", ["require", "exports", "module", "ace/mouse/mouse_event", "ace/lib/event", "ace/lib/dom"], function(require2, exports2, module2) {
        "use strict";
        var MouseEvent = require2("./mouse_event").MouseEvent;
        var event = require2("../lib/event");
        var dom = require2("../lib/dom");
        exports2.addTouchListeners = function(el, editor) {
          var mode = "scroll";
          var startX;
          var startY;
          var touchStartT;
          var lastT;
          var longTouchTimer;
          var animationTimer;
          var animationSteps = 0;
          var pos;
          var clickCount = 0;
          var vX = 0;
          var vY = 0;
          var pressed;
          var contextMenu;
          function createContextMenu() {
            var clipboard = window.navigator && window.navigator.clipboard;
            var isOpen = false;
            var updateMenu = function() {
              var selected = editor.getCopyText();
              var hasUndo = editor.session.getUndoManager().hasUndo();
              contextMenu.replaceChild(dom.buildDom(isOpen ? [
                "span",
                !selected && ["span", { class: "ace_mobile-button", action: "selectall" }, "Select All"],
                selected && ["span", { class: "ace_mobile-button", action: "copy" }, "Copy"],
                selected && ["span", { class: "ace_mobile-button", action: "cut" }, "Cut"],
                clipboard && ["span", { class: "ace_mobile-button", action: "paste" }, "Paste"],
                hasUndo && ["span", { class: "ace_mobile-button", action: "undo" }, "Undo"],
                ["span", { class: "ace_mobile-button", action: "find" }, "Find"],
                ["span", { class: "ace_mobile-button", action: "openCommandPallete" }, "Pallete"]
              ] : ["span"]), contextMenu.firstChild);
            };
            var handleClick = function(e2) {
              var action = e2.target.getAttribute("action");
              if (action == "more" || !isOpen) {
                isOpen = !isOpen;
                return updateMenu();
              }
              if (action == "paste") {
                clipboard.readText().then(function(text) {
                  editor.execCommand(action, text);
                });
              } else if (action) {
                if (action == "cut" || action == "copy") {
                  if (clipboard)
                    clipboard.writeText(editor.getCopyText());
                  else
                    document.execCommand("copy");
                }
                editor.execCommand(action);
              }
              contextMenu.firstChild.style.display = "none";
              isOpen = false;
              if (action != "openCommandPallete")
                editor.focus();
            };
            contextMenu = dom.buildDom([
              "div",
              {
                class: "ace_mobile-menu",
                ontouchstart: function(e2) {
                  mode = "menu";
                  e2.stopPropagation();
                  e2.preventDefault();
                  editor.textInput.focus();
                },
                ontouchend: function(e2) {
                  e2.stopPropagation();
                  e2.preventDefault();
                  handleClick(e2);
                },
                onclick: handleClick
              },
              ["span"],
              ["span", { class: "ace_mobile-button", action: "more" }, "..."]
            ], editor.container);
          }
          function showContextMenu() {
            if (!contextMenu)
              createContextMenu();
            var cursor = editor.selection.cursor;
            var pagePos = editor.renderer.textToScreenCoordinates(cursor.row, cursor.column);
            var leftOffset = editor.renderer.textToScreenCoordinates(0, 0).pageX;
            var scrollLeft = editor.renderer.scrollLeft;
            var rect = editor.container.getBoundingClientRect();
            contextMenu.style.top = pagePos.pageY - rect.top - 3 + "px";
            if (pagePos.pageX - rect.left < rect.width - 70) {
              contextMenu.style.left = "";
              contextMenu.style.right = "10px";
            } else {
              contextMenu.style.right = "";
              contextMenu.style.left = leftOffset + scrollLeft - rect.left + "px";
            }
            contextMenu.style.display = "";
            contextMenu.firstChild.style.display = "none";
            editor.on("input", hideContextMenu);
          }
          function hideContextMenu(e2) {
            if (contextMenu)
              contextMenu.style.display = "none";
            editor.off("input", hideContextMenu);
          }
          function handleLongTap() {
            longTouchTimer = null;
            clearTimeout(longTouchTimer);
            var range = editor.selection.getRange();
            var inSelection = range.contains(pos.row, pos.column);
            if (range.isEmpty() || !inSelection) {
              editor.selection.moveToPosition(pos);
              editor.selection.selectWord();
            }
            mode = "wait";
            showContextMenu();
          }
          function switchToSelectionMode() {
            longTouchTimer = null;
            clearTimeout(longTouchTimer);
            editor.selection.moveToPosition(pos);
            var range = clickCount >= 2 ? editor.selection.getLineRange(pos.row) : editor.session.getBracketRange(pos);
            if (range && !range.isEmpty()) {
              editor.selection.setRange(range);
            } else {
              editor.selection.selectWord();
            }
            mode = "wait";
          }
          event.addListener(el, "contextmenu", function(e2) {
            if (!pressed)
              return;
            var textarea = editor.textInput.getElement();
            textarea.focus();
          }, editor);
          event.addListener(el, "touchstart", function(e2) {
            var touches = e2.touches;
            if (longTouchTimer || touches.length > 1) {
              clearTimeout(longTouchTimer);
              longTouchTimer = null;
              touchStartT = -1;
              mode = "zoom";
              return;
            }
            pressed = editor.$mouseHandler.isMousePressed = true;
            var h3 = editor.renderer.layerConfig.lineHeight;
            var w2 = editor.renderer.layerConfig.lineHeight;
            var t3 = e2.timeStamp;
            lastT = t3;
            var touchObj = touches[0];
            var x2 = touchObj.clientX;
            var y2 = touchObj.clientY;
            if (Math.abs(startX - x2) + Math.abs(startY - y2) > h3)
              touchStartT = -1;
            startX = e2.clientX = x2;
            startY = e2.clientY = y2;
            vX = vY = 0;
            var ev = new MouseEvent(e2, editor);
            pos = ev.getDocumentPosition();
            if (t3 - touchStartT < 500 && touches.length == 1 && !animationSteps) {
              clickCount++;
              e2.preventDefault();
              e2.button = 0;
              switchToSelectionMode();
            } else {
              clickCount = 0;
              var cursor = editor.selection.cursor;
              var anchor = editor.selection.isEmpty() ? cursor : editor.selection.anchor;
              var cursorPos = editor.renderer.$cursorLayer.getPixelPosition(cursor, true);
              var anchorPos = editor.renderer.$cursorLayer.getPixelPosition(anchor, true);
              var rect = editor.renderer.scroller.getBoundingClientRect();
              var offsetTop = editor.renderer.layerConfig.offset;
              var offsetLeft = editor.renderer.scrollLeft;
              var weightedDistance = function(x3, y3) {
                x3 = x3 / w2;
                y3 = y3 / h3 - 0.75;
                return x3 * x3 + y3 * y3;
              };
              if (e2.clientX < rect.left) {
                mode = "zoom";
                return;
              }
              var diff1 = weightedDistance(e2.clientX - rect.left - cursorPos.left + offsetLeft, e2.clientY - rect.top - cursorPos.top + offsetTop);
              var diff2 = weightedDistance(e2.clientX - rect.left - anchorPos.left + offsetLeft, e2.clientY - rect.top - anchorPos.top + offsetTop);
              if (diff1 < 3.5 && diff2 < 3.5)
                mode = diff1 > diff2 ? "cursor" : "anchor";
              if (diff2 < 3.5)
                mode = "anchor";
              else if (diff1 < 3.5)
                mode = "cursor";
              else
                mode = "scroll";
              longTouchTimer = setTimeout(handleLongTap, 450);
            }
            touchStartT = t3;
          }, editor);
          event.addListener(el, "touchend", function(e2) {
            pressed = editor.$mouseHandler.isMousePressed = false;
            if (animationTimer)
              clearInterval(animationTimer);
            if (mode == "zoom") {
              mode = "";
              animationSteps = 0;
            } else if (longTouchTimer) {
              editor.selection.moveToPosition(pos);
              animationSteps = 0;
              showContextMenu();
            } else if (mode == "scroll") {
              animate();
              hideContextMenu();
            } else {
              showContextMenu();
            }
            clearTimeout(longTouchTimer);
            longTouchTimer = null;
          }, editor);
          event.addListener(el, "touchmove", function(e2) {
            if (longTouchTimer) {
              clearTimeout(longTouchTimer);
              longTouchTimer = null;
            }
            var touches = e2.touches;
            if (touches.length > 1 || mode == "zoom")
              return;
            var touchObj = touches[0];
            var wheelX = startX - touchObj.clientX;
            var wheelY = startY - touchObj.clientY;
            if (mode == "wait") {
              if (wheelX * wheelX + wheelY * wheelY > 4)
                mode = "cursor";
              else
                return e2.preventDefault();
            }
            startX = touchObj.clientX;
            startY = touchObj.clientY;
            e2.clientX = touchObj.clientX;
            e2.clientY = touchObj.clientY;
            var t3 = e2.timeStamp;
            var dt = t3 - lastT;
            lastT = t3;
            if (mode == "scroll") {
              var mouseEvent = new MouseEvent(e2, editor);
              mouseEvent.speed = 1;
              mouseEvent.wheelX = wheelX;
              mouseEvent.wheelY = wheelY;
              if (10 * Math.abs(wheelX) < Math.abs(wheelY))
                wheelX = 0;
              if (10 * Math.abs(wheelY) < Math.abs(wheelX))
                wheelY = 0;
              if (dt != 0) {
                vX = wheelX / dt;
                vY = wheelY / dt;
              }
              editor._emit("mousewheel", mouseEvent);
              if (!mouseEvent.propagationStopped) {
                vX = vY = 0;
              }
            } else {
              var ev = new MouseEvent(e2, editor);
              var pos2 = ev.getDocumentPosition();
              if (mode == "cursor")
                editor.selection.moveCursorToPosition(pos2);
              else if (mode == "anchor")
                editor.selection.setSelectionAnchor(pos2.row, pos2.column);
              editor.renderer.scrollCursorIntoView(pos2);
              e2.preventDefault();
            }
          }, editor);
          function animate() {
            animationSteps += 60;
            animationTimer = setInterval(function() {
              if (animationSteps-- <= 0) {
                clearInterval(animationTimer);
                animationTimer = null;
              }
              if (Math.abs(vX) < 0.01)
                vX = 0;
              if (Math.abs(vY) < 0.01)
                vY = 0;
              if (animationSteps < 20)
                vX = 0.9 * vX;
              if (animationSteps < 20)
                vY = 0.9 * vY;
              var oldScrollTop = editor.session.getScrollTop();
              editor.renderer.scrollBy(10 * vX, 10 * vY);
              if (oldScrollTop == editor.session.getScrollTop())
                animationSteps = 0;
            }, 10);
          }
        };
      });
      ace.define("ace/lib/net", ["require", "exports", "module", "ace/lib/dom"], function(require2, exports2, module2) {
        "use strict";
        var dom = require2("./dom");
        exports2.get = function(url, callback) {
          var xhr = new XMLHttpRequest();
          xhr.open("GET", url, true);
          xhr.onreadystatechange = function() {
            if (xhr.readyState === 4) {
              callback(xhr.responseText);
            }
          };
          xhr.send(null);
        };
        exports2.loadScript = function(path, callback) {
          var head = dom.getDocumentHead();
          var s3 = document.createElement("script");
          s3.src = path;
          head.appendChild(s3);
          s3.onload = s3.onreadystatechange = function(_2, isAbort) {
            if (isAbort || !s3.readyState || s3.readyState == "loaded" || s3.readyState == "complete") {
              s3 = s3.onload = s3.onreadystatechange = null;
              if (!isAbort)
                callback();
            }
          };
        };
        exports2.qualifyURL = function(url) {
          var a3 = document.createElement("a");
          a3.href = url;
          return a3.href;
        };
      });
      ace.define("ace/lib/event_emitter", ["require", "exports", "module"], function(require2, exports2, module2) {
        "use strict";
        var EventEmitter = {};
        var stopPropagation = function() {
          this.propagationStopped = true;
        };
        var preventDefault2 = function() {
          this.defaultPrevented = true;
        };
        EventEmitter._emit = EventEmitter._dispatchEvent = function(eventName, e2) {
          this._eventRegistry || (this._eventRegistry = {});
          this._defaultHandlers || (this._defaultHandlers = {});
          var listeners2 = this._eventRegistry[eventName] || [];
          var defaultHandler = this._defaultHandlers[eventName];
          if (!listeners2.length && !defaultHandler)
            return;
          if (typeof e2 != "object" || !e2)
            e2 = {};
          if (!e2.type)
            e2.type = eventName;
          if (!e2.stopPropagation)
            e2.stopPropagation = stopPropagation;
          if (!e2.preventDefault)
            e2.preventDefault = preventDefault2;
          listeners2 = listeners2.slice();
          for (var i3 = 0; i3 < listeners2.length; i3++) {
            listeners2[i3](e2, this);
            if (e2.propagationStopped)
              break;
          }
          if (defaultHandler && !e2.defaultPrevented)
            return defaultHandler(e2, this);
        };
        EventEmitter._signal = function(eventName, e2) {
          var listeners2 = (this._eventRegistry || {})[eventName];
          if (!listeners2)
            return;
          listeners2 = listeners2.slice();
          for (var i3 = 0; i3 < listeners2.length; i3++)
            listeners2[i3](e2, this);
        };
        EventEmitter.once = function(eventName, callback) {
          var _self = this;
          this.on(eventName, function newCallback() {
            _self.off(eventName, newCallback);
            callback.apply(null, arguments);
          });
          if (!callback) {
            return new Promise(function(resolve) {
              callback = resolve;
            });
          }
        };
        EventEmitter.setDefaultHandler = function(eventName, callback) {
          var handlers = this._defaultHandlers;
          if (!handlers)
            handlers = this._defaultHandlers = { _disabled_: {} };
          if (handlers[eventName]) {
            var old = handlers[eventName];
            var disabled = handlers._disabled_[eventName];
            if (!disabled)
              handlers._disabled_[eventName] = disabled = [];
            disabled.push(old);
            var i3 = disabled.indexOf(callback);
            if (i3 != -1)
              disabled.splice(i3, 1);
          }
          handlers[eventName] = callback;
        };
        EventEmitter.removeDefaultHandler = function(eventName, callback) {
          var handlers = this._defaultHandlers;
          if (!handlers)
            return;
          var disabled = handlers._disabled_[eventName];
          if (handlers[eventName] == callback) {
            if (disabled)
              this.setDefaultHandler(eventName, disabled.pop());
          } else if (disabled) {
            var i3 = disabled.indexOf(callback);
            if (i3 != -1)
              disabled.splice(i3, 1);
          }
        };
        EventEmitter.on = EventEmitter.addEventListener = function(eventName, callback, capturing) {
          this._eventRegistry = this._eventRegistry || {};
          var listeners2 = this._eventRegistry[eventName];
          if (!listeners2)
            listeners2 = this._eventRegistry[eventName] = [];
          if (listeners2.indexOf(callback) == -1)
            listeners2[capturing ? "unshift" : "push"](callback);
          return callback;
        };
        EventEmitter.off = EventEmitter.removeListener = EventEmitter.removeEventListener = function(eventName, callback) {
          this._eventRegistry = this._eventRegistry || {};
          var listeners2 = this._eventRegistry[eventName];
          if (!listeners2)
            return;
          var index2 = listeners2.indexOf(callback);
          if (index2 !== -1)
            listeners2.splice(index2, 1);
        };
        EventEmitter.removeAllListeners = function(eventName) {
          if (!eventName)
            this._eventRegistry = this._defaultHandlers = void 0;
          if (this._eventRegistry)
            this._eventRegistry[eventName] = void 0;
          if (this._defaultHandlers)
            this._defaultHandlers[eventName] = void 0;
        };
        exports2.EventEmitter = EventEmitter;
      });
      ace.define("ace/lib/app_config", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(require2, exports2, module2) {
        "no use strict";
        var oop = require2("./oop");
        var EventEmitter = require2("./event_emitter").EventEmitter;
        var optionsProvider = {
          setOptions: function(optList) {
            Object.keys(optList).forEach(function(key) {
              this.setOption(key, optList[key]);
            }, this);
          },
          getOptions: function(optionNames) {
            var result = {};
            if (!optionNames) {
              var options = this.$options;
              optionNames = Object.keys(options).filter(function(key) {
                return !options[key].hidden;
              });
            } else if (!Array.isArray(optionNames)) {
              result = optionNames;
              optionNames = Object.keys(result);
            }
            optionNames.forEach(function(key) {
              result[key] = this.getOption(key);
            }, this);
            return result;
          },
          setOption: function(name, value) {
            if (this["$" + name] === value)
              return;
            var opt = this.$options[name];
            if (!opt) {
              return warn('misspelled option "' + name + '"');
            }
            if (opt.forwardTo)
              return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);
            if (!opt.handlesSet)
              this["$" + name] = value;
            if (opt && opt.set)
              opt.set.call(this, value);
          },
          getOption: function(name) {
            var opt = this.$options[name];
            if (!opt) {
              return warn('misspelled option "' + name + '"');
            }
            if (opt.forwardTo)
              return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);
            return opt && opt.get ? opt.get.call(this) : this["$" + name];
          }
        };
        function warn(message) {
          if (typeof console != "undefined" && console.warn)
            console.warn.apply(console, arguments);
        }
        function reportError(msg, data) {
          var e2 = new Error(msg);
          e2.data = data;
          if (typeof console == "object" && console.error)
            console.error(e2);
          setTimeout(function() {
            throw e2;
          });
        }
        var AppConfig = function() {
          this.$defaultOptions = {};
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.defineOptions = function(obj, path, options) {
            if (!obj.$options)
              this.$defaultOptions[path] = obj.$options = {};
            Object.keys(options).forEach(function(key) {
              var opt = options[key];
              if (typeof opt == "string")
                opt = { forwardTo: opt };
              opt.name || (opt.name = key);
              obj.$options[opt.name] = opt;
              if ("initialValue" in opt)
                obj["$" + opt.name] = opt.initialValue;
            });
            oop.implement(obj, optionsProvider);
            return this;
          };
          this.resetOptions = function(obj) {
            Object.keys(obj.$options).forEach(function(key) {
              var opt = obj.$options[key];
              if ("value" in opt)
                obj.setOption(key, opt.value);
            });
          };
          this.setDefaultValue = function(path, name, value) {
            if (!path) {
              for (path in this.$defaultOptions)
                if (this.$defaultOptions[path][name])
                  break;
              if (!this.$defaultOptions[path][name])
                return false;
            }
            var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});
            if (opts[name]) {
              if (opts.forwardTo)
                this.setDefaultValue(opts.forwardTo, name, value);
              else
                opts[name].value = value;
            }
          };
          this.setDefaultValues = function(path, optionHash) {
            Object.keys(optionHash).forEach(function(key) {
              this.setDefaultValue(path, key, optionHash[key]);
            }, this);
          };
          this.warn = warn;
          this.reportError = reportError;
        }).call(AppConfig.prototype);
        exports2.AppConfig = AppConfig;
      });
      ace.define("ace/config", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/lib/net", "ace/lib/dom", "ace/lib/app_config"], function(require2, exports2, module2) {
        "no use strict";
        var lang = require2("./lib/lang");
        var oop = require2("./lib/oop");
        var net = require2("./lib/net");
        var dom = require2("./lib/dom");
        var AppConfig = require2("./lib/app_config").AppConfig;
        module2.exports = exports2 = new AppConfig();
        var global2 = function() {
          return this || typeof window != "undefined" && window;
        }();
        var options = {
          packaged: false,
          workerPath: null,
          modePath: null,
          themePath: null,
          basePath: "",
          suffix: ".js",
          $moduleUrls: {},
          loadWorkerFromBlob: true,
          sharedPopups: false,
          useStrictCSP: null
        };
        exports2.get = function(key) {
          if (!options.hasOwnProperty(key))
            throw new Error("Unknown config key: " + key);
          return options[key];
        };
        exports2.set = function(key, value) {
          if (options.hasOwnProperty(key))
            options[key] = value;
          else if (this.setDefaultValue("", key, value) == false)
            throw new Error("Unknown config key: " + key);
          if (key == "useStrictCSP")
            dom.useStrictCSP(value);
        };
        exports2.all = function() {
          return lang.copyObject(options);
        };
        exports2.$modes = {};
        exports2.moduleUrl = function(name, component) {
          if (options.$moduleUrls[name])
            return options.$moduleUrls[name];
          var parts = name.split("/");
          component = component || parts[parts.length - 2] || "";
          var sep = component == "snippets" ? "/" : "-";
          var base = parts[parts.length - 1];
          if (component == "worker" && sep == "-") {
            var re = new RegExp("^" + component + "[\\-_]|[\\-_]" + component + "$", "g");
            base = base.replace(re, "");
          }
          if ((!base || base == component) && parts.length > 1)
            base = parts[parts.length - 2];
          var path = options[component + "Path"];
          if (path == null) {
            path = options.basePath;
          } else if (sep == "/") {
            component = sep = "";
          }
          if (path && path.slice(-1) != "/")
            path += "/";
          return path + component + sep + base + this.get("suffix");
        };
        exports2.setModuleUrl = function(name, subst) {
          return options.$moduleUrls[name] = subst;
        };
        exports2.$loading = {};
        exports2.loadModule = function(moduleName, onLoad) {
          var module3, moduleType11;
          if (Array.isArray(moduleName)) {
            moduleType11 = moduleName[0];
            moduleName = moduleName[1];
          }
          try {
            module3 = require2(moduleName);
          } catch (e2) {
          }
          if (module3 && !exports2.$loading[moduleName])
            return onLoad && onLoad(module3);
          if (!exports2.$loading[moduleName])
            exports2.$loading[moduleName] = [];
          exports2.$loading[moduleName].push(onLoad);
          if (exports2.$loading[moduleName].length > 1)
            return;
          var afterLoad = function() {
            require2([moduleName], function(module4) {
              exports2._emit("load.module", { name: moduleName, module: module4 });
              var listeners2 = exports2.$loading[moduleName];
              exports2.$loading[moduleName] = null;
              listeners2.forEach(function(onLoad2) {
                onLoad2 && onLoad2(module4);
              });
            });
          };
          if (!exports2.get("packaged"))
            return afterLoad();
          net.loadScript(exports2.moduleUrl(moduleName, moduleType11), afterLoad);
          reportErrorIfPathIsNotConfigured();
        };
        var reportErrorIfPathIsNotConfigured = function() {
          if (!options.basePath && !options.workerPath && !options.modePath && !options.themePath && !Object.keys(options.$moduleUrls).length) {
            console.error("Unable to infer path to ace from script src,", "use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes", "or with webpack use ace/webpack-resolver");
            reportErrorIfPathIsNotConfigured = function() {
            };
          }
        };
        init(true);
        function init(packaged) {
          if (!global2 || !global2.document)
            return;
          options.packaged = packaged || require2.packaged || module2.packaged || global2.define && define.packaged;
          var scriptOptions = {};
          var scriptUrl = "";
          var currentScript = document.currentScript || document._currentScript;
          var currentDocument = currentScript && currentScript.ownerDocument || document;
          var scripts = currentDocument.getElementsByTagName("script");
          for (var i3 = 0; i3 < scripts.length; i3++) {
            var script = scripts[i3];
            var src = script.src || script.getAttribute("src");
            if (!src)
              continue;
            var attributes = script.attributes;
            for (var j3 = 0, l3 = attributes.length; j3 < l3; j3++) {
              var attr = attributes[j3];
              if (attr.name.indexOf("data-ace-") === 0) {
                scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, ""))] = attr.value;
              }
            }
            var m2 = src.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);
            if (m2)
              scriptUrl = m2[1];
          }
          if (scriptUrl) {
            scriptOptions.base = scriptOptions.base || scriptUrl;
            scriptOptions.packaged = true;
          }
          scriptOptions.basePath = scriptOptions.base;
          scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;
          scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;
          scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;
          delete scriptOptions.base;
          for (var key in scriptOptions)
            if (typeof scriptOptions[key] !== "undefined")
              exports2.set(key, scriptOptions[key]);
        }
        exports2.init = init;
        function deHyphenate(str) {
          return str.replace(/-(.)/g, function(m2, m1) {
            return m1.toUpperCase();
          });
        }
        exports2.version = "1.7.1";
      });
      ace.define("ace/mouse/mouse_handler", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/mouse/default_handlers", "ace/mouse/default_gutter_handler", "ace/mouse/mouse_event", "ace/mouse/dragdrop_handler", "ace/mouse/touch_handler", "ace/config"], function(require2, exports2, module2) {
        "use strict";
        var event = require2("../lib/event");
        var useragent = require2("../lib/useragent");
        var DefaultHandlers = require2("./default_handlers").DefaultHandlers;
        var DefaultGutterHandler = require2("./default_gutter_handler").GutterHandler;
        var MouseEvent = require2("./mouse_event").MouseEvent;
        var DragdropHandler = require2("./dragdrop_handler").DragdropHandler;
        var addTouchListeners = require2("./touch_handler").addTouchListeners;
        var config2 = require2("../config");
        var MouseHandler = function(editor) {
          var _self = this;
          this.editor = editor;
          new DefaultHandlers(this);
          new DefaultGutterHandler(this);
          new DragdropHandler(this);
          var focusEditor = function(e2) {
            var windowBlurred = !document.hasFocus || !document.hasFocus() || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement());
            if (windowBlurred)
              window.focus();
            editor.focus();
            setTimeout(function() {
              if (!editor.isFocused())
                editor.focus();
            });
          };
          var mouseTarget = editor.renderer.getMouseEventTarget();
          event.addListener(mouseTarget, "click", this.onMouseEvent.bind(this, "click"), editor);
          event.addListener(mouseTarget, "mousemove", this.onMouseMove.bind(this, "mousemove"), editor);
          event.addMultiMouseDownListener([
            mouseTarget,
            editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner,
            editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner,
            editor.textInput && editor.textInput.getElement()
          ].filter(Boolean), [400, 300, 250], this, "onMouseEvent", editor);
          event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, "mousewheel"), editor);
          addTouchListeners(editor.container, editor);
          var gutterEl = editor.renderer.$gutter;
          event.addListener(gutterEl, "mousedown", this.onMouseEvent.bind(this, "guttermousedown"), editor);
          event.addListener(gutterEl, "click", this.onMouseEvent.bind(this, "gutterclick"), editor);
          event.addListener(gutterEl, "dblclick", this.onMouseEvent.bind(this, "gutterdblclick"), editor);
          event.addListener(gutterEl, "mousemove", this.onMouseEvent.bind(this, "guttermousemove"), editor);
          event.addListener(mouseTarget, "mousedown", focusEditor, editor);
          event.addListener(gutterEl, "mousedown", focusEditor, editor);
          if (useragent.isIE && editor.renderer.scrollBarV) {
            event.addListener(editor.renderer.scrollBarV.element, "mousedown", focusEditor, editor);
            event.addListener(editor.renderer.scrollBarH.element, "mousedown", focusEditor, editor);
          }
          editor.on("mousemove", function(e2) {
            if (_self.state || _self.$dragDelay || !_self.$dragEnabled)
              return;
            var character = editor.renderer.screenToTextCoordinates(e2.x, e2.y);
            var range = editor.session.selection.getRange();
            var renderer = editor.renderer;
            if (!range.isEmpty() && range.insideStart(character.row, character.column)) {
              renderer.setCursorStyle("default");
            } else {
              renderer.setCursorStyle("");
            }
          }, editor);
        };
        (function() {
          this.onMouseEvent = function(name, e2) {
            if (!this.editor.session)
              return;
            this.editor._emit(name, new MouseEvent(e2, this.editor));
          };
          this.onMouseMove = function(name, e2) {
            var listeners2 = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;
            if (!listeners2 || !listeners2.length)
              return;
            this.editor._emit(name, new MouseEvent(e2, this.editor));
          };
          this.onMouseWheel = function(name, e2) {
            var mouseEvent = new MouseEvent(e2, this.editor);
            mouseEvent.speed = this.$scrollSpeed * 2;
            mouseEvent.wheelX = e2.wheelX;
            mouseEvent.wheelY = e2.wheelY;
            this.editor._emit(name, mouseEvent);
          };
          this.setState = function(state) {
            this.state = state;
          };
          this.captureMouse = function(ev, mouseMoveHandler) {
            this.x = ev.x;
            this.y = ev.y;
            this.isMousePressed = true;
            var editor = this.editor;
            var renderer = this.editor.renderer;
            renderer.$isMousePressed = true;
            var self2 = this;
            var onMouseMove = function(e2) {
              if (!e2)
                return;
              if (useragent.isWebKit && !e2.which && self2.releaseMouse)
                return self2.releaseMouse();
              self2.x = e2.clientX;
              self2.y = e2.clientY;
              mouseMoveHandler && mouseMoveHandler(e2);
              self2.mouseEvent = new MouseEvent(e2, self2.editor);
              self2.$mouseMoved = true;
            };
            var onCaptureEnd = function(e2) {
              editor.off("beforeEndOperation", onOperationEnd);
              clearInterval(timerId);
              if (editor.session)
                onCaptureInterval();
              self2[self2.state + "End"] && self2[self2.state + "End"](e2);
              self2.state = "";
              self2.isMousePressed = renderer.$isMousePressed = false;
              if (renderer.$keepTextAreaAtCursor)
                renderer.$moveTextAreaToCursor();
              self2.$onCaptureMouseMove = self2.releaseMouse = null;
              e2 && self2.onMouseEvent("mouseup", e2);
              editor.endOperation();
            };
            var onCaptureInterval = function() {
              self2[self2.state] && self2[self2.state]();
              self2.$mouseMoved = false;
            };
            if (useragent.isOldIE && ev.domEvent.type == "dblclick") {
              return setTimeout(function() {
                onCaptureEnd(ev);
              });
            }
            var onOperationEnd = function(e2) {
              if (!self2.releaseMouse)
                return;
              if (editor.curOp.command.name && editor.curOp.selectionChanged) {
                self2[self2.state + "End"] && self2[self2.state + "End"]();
                self2.state = "";
                self2.releaseMouse();
              }
            };
            editor.on("beforeEndOperation", onOperationEnd);
            editor.startOperation({ command: { name: "mouse" } });
            self2.$onCaptureMouseMove = onMouseMove;
            self2.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);
            var timerId = setInterval(onCaptureInterval, 20);
          };
          this.releaseMouse = null;
          this.cancelContextMenu = function() {
            var stop = function(e2) {
              if (e2 && e2.domEvent && e2.domEvent.type != "contextmenu")
                return;
              this.editor.off("nativecontextmenu", stop);
              if (e2 && e2.domEvent)
                event.stopEvent(e2.domEvent);
            }.bind(this);
            setTimeout(stop, 10);
            this.editor.on("nativecontextmenu", stop);
          };
          this.destroy = function() {
            if (this.releaseMouse)
              this.releaseMouse();
          };
        }).call(MouseHandler.prototype);
        config2.defineOptions(MouseHandler.prototype, "mouseHandler", {
          scrollSpeed: { initialValue: 2 },
          dragDelay: { initialValue: useragent.isMac ? 150 : 0 },
          dragEnabled: { initialValue: true },
          focusTimeout: { initialValue: 0 },
          tooltipFollowsMouse: { initialValue: true }
        });
        exports2.MouseHandler = MouseHandler;
      });
      ace.define("ace/mouse/fold_handler", ["require", "exports", "module", "ace/lib/dom"], function(require2, exports2, module2) {
        "use strict";
        var dom = require2("../lib/dom");
        function FoldHandler(editor) {
          editor.on("click", function(e2) {
            var position3 = e2.getDocumentPosition();
            var session = editor.session;
            var fold = session.getFoldAt(position3.row, position3.column, 1);
            if (fold) {
              if (e2.getAccelKey())
                session.removeFold(fold);
              else
                session.expandFold(fold);
              e2.stop();
            }
            var target = e2.domEvent && e2.domEvent.target;
            if (target && dom.hasCssClass(target, "ace_inline_button")) {
              if (dom.hasCssClass(target, "ace_toggle_wrap")) {
                session.setOption("wrap", !session.getUseWrapMode());
                editor.renderer.scrollCursorIntoView();
              }
            }
          });
          editor.on("gutterclick", function(e2) {
            var gutterRegion = editor.renderer.$gutterLayer.getRegion(e2);
            if (gutterRegion == "foldWidgets") {
              var row = e2.getDocumentPosition().row;
              var session = editor.session;
              if (session.foldWidgets && session.foldWidgets[row])
                editor.session.onFoldWidgetClick(row, e2);
              if (!editor.isFocused())
                editor.focus();
              e2.stop();
            }
          });
          editor.on("gutterdblclick", function(e2) {
            var gutterRegion = editor.renderer.$gutterLayer.getRegion(e2);
            if (gutterRegion == "foldWidgets") {
              var row = e2.getDocumentPosition().row;
              var session = editor.session;
              var data = session.getParentFoldRangeData(row, true);
              var range = data.range || data.firstRange;
              if (range) {
                row = range.start.row;
                var fold = session.getFoldAt(row, session.getLine(row).length, 1);
                if (fold) {
                  session.removeFold(fold);
                } else {
                  session.addFold("...", range);
                  editor.renderer.scrollCursorIntoView({ row: range.start.row, column: 0 });
                }
              }
              e2.stop();
            }
          });
        }
        exports2.FoldHandler = FoldHandler;
      });
      ace.define("ace/keyboard/keybinding", ["require", "exports", "module", "ace/lib/keys", "ace/lib/event"], function(require2, exports2, module2) {
        "use strict";
        var keyUtil = require2("../lib/keys");
        var event = require2("../lib/event");
        var KeyBinding = function(editor) {
          this.$editor = editor;
          this.$data = { editor };
          this.$handlers = [];
          this.setDefaultHandler(editor.commands);
        };
        (function() {
          this.setDefaultHandler = function(kb) {
            this.removeKeyboardHandler(this.$defaultHandler);
            this.$defaultHandler = kb;
            this.addKeyboardHandler(kb, 0);
          };
          this.setKeyboardHandler = function(kb) {
            var h3 = this.$handlers;
            if (h3[h3.length - 1] == kb)
              return;
            while (h3[h3.length - 1] && h3[h3.length - 1] != this.$defaultHandler)
              this.removeKeyboardHandler(h3[h3.length - 1]);
            this.addKeyboardHandler(kb, 1);
          };
          this.addKeyboardHandler = function(kb, pos) {
            if (!kb)
              return;
            if (typeof kb == "function" && !kb.handleKeyboard)
              kb.handleKeyboard = kb;
            var i3 = this.$handlers.indexOf(kb);
            if (i3 != -1)
              this.$handlers.splice(i3, 1);
            if (pos == void 0)
              this.$handlers.push(kb);
            else
              this.$handlers.splice(pos, 0, kb);
            if (i3 == -1 && kb.attach)
              kb.attach(this.$editor);
          };
          this.removeKeyboardHandler = function(kb) {
            var i3 = this.$handlers.indexOf(kb);
            if (i3 == -1)
              return false;
            this.$handlers.splice(i3, 1);
            kb.detach && kb.detach(this.$editor);
            return true;
          };
          this.getKeyboardHandler = function() {
            return this.$handlers[this.$handlers.length - 1];
          };
          this.getStatusText = function() {
            var data = this.$data;
            var editor = data.editor;
            return this.$handlers.map(function(h3) {
              return h3.getStatusText && h3.getStatusText(editor, data) || "";
            }).filter(Boolean).join(" ");
          };
          this.$callKeyboardHandlers = function(hashId, keyString, keyCode, e2) {
            var toExecute;
            var success = false;
            var commands = this.$editor.commands;
            for (var i3 = this.$handlers.length; i3--; ) {
              toExecute = this.$handlers[i3].handleKeyboard(this.$data, hashId, keyString, keyCode, e2);
              if (!toExecute || !toExecute.command)
                continue;
              if (toExecute.command == "null") {
                success = true;
              } else {
                success = commands.exec(toExecute.command, this.$editor, toExecute.args, e2);
              }
              if (success && e2 && hashId != -1 && toExecute.passEvent != true && toExecute.command.passEvent != true) {
                event.stopEvent(e2);
              }
              if (success)
                break;
            }
            if (!success && hashId == -1) {
              toExecute = { command: "insertstring" };
              success = commands.exec("insertstring", this.$editor, keyString);
            }
            if (success && this.$editor._signal)
              this.$editor._signal("keyboardActivity", toExecute);
            return success;
          };
          this.onCommandKey = function(e2, hashId, keyCode) {
            var keyString = keyUtil.keyCodeToString(keyCode);
            return this.$callKeyboardHandlers(hashId, keyString, keyCode, e2);
          };
          this.onTextInput = function(text) {
            return this.$callKeyboardHandlers(-1, text);
          };
        }).call(KeyBinding.prototype);
        exports2.KeyBinding = KeyBinding;
      });
      ace.define("ace/lib/bidiutil", ["require", "exports", "module"], function(require2, exports2, module2) {
        "use strict";
        var ArabicAlefBetIntervalsBegine = ["\u0621", "\u0641"];
        var ArabicAlefBetIntervalsEnd = ["\u063A", "\u064A"];
        var dir = 0, hiLevel = 0;
        var lastArabic = false, hasUBAT_AL = false, hasUBAT_B = false, hasUBAT_S = false, hasBlockSep = false, hasSegSep = false;
        var impTab_LTR = [
          [0, 3, 0, 1, 0, 0, 0],
          [0, 3, 0, 1, 2, 2, 0],
          [0, 3, 0, 17, 2, 0, 1],
          [0, 3, 5, 5, 4, 1, 0],
          [0, 3, 21, 21, 4, 0, 1],
          [0, 3, 5, 5, 4, 2, 0]
        ];
        var impTab_RTL = [
          [2, 0, 1, 1, 0, 1, 0],
          [2, 0, 1, 1, 0, 2, 0],
          [2, 0, 2, 1, 3, 2, 0],
          [2, 0, 2, 33, 3, 1, 1]
        ];
        var LTR = 0, RTL = 1;
        var L2 = 0;
        var R2 = 1;
        var EN = 2;
        var AN = 3;
        var ON = 4;
        var B2 = 5;
        var S2 = 6;
        var AL = 7;
        var WS = 8;
        var CS = 9;
        var ES = 10;
        var ET = 11;
        var NSM = 12;
        var LRE = 13;
        var RLE = 14;
        var PDF = 15;
        var LRO = 16;
        var RLO = 17;
        var BN = 18;
        var UnicodeTBL00 = [
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          S2,
          B2,
          S2,
          WS,
          B2,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          B2,
          B2,
          B2,
          S2,
          WS,
          ON,
          ON,
          ET,
          ET,
          ET,
          ON,
          ON,
          ON,
          ON,
          ON,
          ES,
          CS,
          ES,
          CS,
          CS,
          EN,
          EN,
          EN,
          EN,
          EN,
          EN,
          EN,
          EN,
          EN,
          EN,
          CS,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          ON,
          ON,
          ON,
          ON,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          B2,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          CS,
          ON,
          ET,
          ET,
          ET,
          ET,
          ON,
          ON,
          ON,
          ON,
          L2,
          ON,
          ON,
          BN,
          ON,
          ON,
          ET,
          ET,
          EN,
          EN,
          ON,
          L2,
          ON,
          ON,
          ON,
          EN,
          L2,
          ON,
          ON,
          ON,
          ON,
          ON
        ];
        var UnicodeTBL20 = [
          WS,
          WS,
          WS,
          WS,
          WS,
          WS,
          WS,
          WS,
          WS,
          WS,
          WS,
          BN,
          BN,
          BN,
          L2,
          R2,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          WS,
          B2,
          LRE,
          RLE,
          PDF,
          LRO,
          RLO,
          CS,
          ET,
          ET,
          ET,
          ET,
          ET,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          CS,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          WS
        ];
        function _computeLevels(chars, levels2, len, charTypes) {
          var impTab = dir ? impTab_RTL : impTab_LTR, prevState = null, newClass = null, newLevel = null, newState = 0, action = null, cond = null, condPos = -1, i3 = null, ix = null, classes = [];
          if (!charTypes) {
            for (i3 = 0, charTypes = []; i3 < len; i3++) {
              charTypes[i3] = _getCharacterType(chars[i3]);
            }
          }
          hiLevel = dir;
          lastArabic = false;
          hasUBAT_AL = false;
          hasUBAT_B = false;
          hasUBAT_S = false;
          for (ix = 0; ix < len; ix++) {
            prevState = newState;
            classes[ix] = newClass = _getCharClass(chars, charTypes, classes, ix);
            newState = impTab[prevState][newClass];
            action = newState & 240;
            newState &= 15;
            levels2[ix] = newLevel = impTab[newState][5];
            if (action > 0) {
              if (action == 16) {
                for (i3 = condPos; i3 < ix; i3++) {
                  levels2[i3] = 1;
                }
                condPos = -1;
              } else {
                condPos = -1;
              }
            }
            cond = impTab[newState][6];
            if (cond) {
              if (condPos == -1) {
                condPos = ix;
              }
            } else {
              if (condPos > -1) {
                for (i3 = condPos; i3 < ix; i3++) {
                  levels2[i3] = newLevel;
                }
                condPos = -1;
              }
            }
            if (charTypes[ix] == B2) {
              levels2[ix] = 0;
            }
            hiLevel |= newLevel;
          }
          if (hasUBAT_S) {
            for (i3 = 0; i3 < len; i3++) {
              if (charTypes[i3] == S2) {
                levels2[i3] = dir;
                for (var j3 = i3 - 1; j3 >= 0; j3--) {
                  if (charTypes[j3] == WS) {
                    levels2[j3] = dir;
                  } else {
                    break;
                  }
                }
              }
            }
          }
        }
        function _invertLevel(lev, levels2, _array) {
          if (hiLevel < lev) {
            return;
          }
          if (lev == 1 && dir == RTL && !hasUBAT_B) {
            _array.reverse();
            return;
          }
          var len = _array.length, start4 = 0, end3, lo, hi, tmp;
          while (start4 < len) {
            if (levels2[start4] >= lev) {
              end3 = start4 + 1;
              while (end3 < len && levels2[end3] >= lev) {
                end3++;
              }
              for (lo = start4, hi = end3 - 1; lo < hi; lo++, hi--) {
                tmp = _array[lo];
                _array[lo] = _array[hi];
                _array[hi] = tmp;
              }
              start4 = end3;
            }
            start4++;
          }
        }
        function _getCharClass(chars, types3, classes, ix) {
          var cType = types3[ix], wType, nType, len, i3;
          switch (cType) {
            case L2:
            case R2:
              lastArabic = false;
            case ON:
            case AN:
              return cType;
            case EN:
              return lastArabic ? AN : EN;
            case AL:
              lastArabic = true;
              hasUBAT_AL = true;
              return R2;
            case WS:
              return ON;
            case CS:
              if (ix < 1 || ix + 1 >= types3.length || (wType = classes[ix - 1]) != EN && wType != AN || (nType = types3[ix + 1]) != EN && nType != AN) {
                return ON;
              }
              if (lastArabic) {
                nType = AN;
              }
              return nType == wType ? nType : ON;
            case ES:
              wType = ix > 0 ? classes[ix - 1] : B2;
              if (wType == EN && ix + 1 < types3.length && types3[ix + 1] == EN) {
                return EN;
              }
              return ON;
            case ET:
              if (ix > 0 && classes[ix - 1] == EN) {
                return EN;
              }
              if (lastArabic) {
                return ON;
              }
              i3 = ix + 1;
              len = types3.length;
              while (i3 < len && types3[i3] == ET) {
                i3++;
              }
              if (i3 < len && types3[i3] == EN) {
                return EN;
              }
              return ON;
            case NSM:
              len = types3.length;
              i3 = ix + 1;
              while (i3 < len && types3[i3] == NSM) {
                i3++;
              }
              if (i3 < len) {
                var c3 = chars[ix], rtlCandidate = c3 >= 1425 && c3 <= 2303 || c3 == 64286;
                wType = types3[i3];
                if (rtlCandidate && (wType == R2 || wType == AL)) {
                  return R2;
                }
              }
              if (ix < 1 || (wType = types3[ix - 1]) == B2) {
                return ON;
              }
              return classes[ix - 1];
            case B2:
              lastArabic = false;
              hasUBAT_B = true;
              return dir;
            case S2:
              hasUBAT_S = true;
              return ON;
            case LRE:
            case RLE:
            case LRO:
            case RLO:
            case PDF:
              lastArabic = false;
            case BN:
              return ON;
          }
        }
        function _getCharacterType(ch) {
          var uc = ch.charCodeAt(0), hi = uc >> 8;
          if (hi == 0) {
            return uc > 191 ? L2 : UnicodeTBL00[uc];
          } else if (hi == 5) {
            return /[\u0591-\u05f4]/.test(ch) ? R2 : L2;
          } else if (hi == 6) {
            if (/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(ch))
              return NSM;
            else if (/[\u0660-\u0669\u066b-\u066c]/.test(ch))
              return AN;
            else if (uc == 1642)
              return ET;
            else if (/[\u06f0-\u06f9]/.test(ch))
              return EN;
            else
              return AL;
          } else if (hi == 32 && uc <= 8287) {
            return UnicodeTBL20[uc & 255];
          } else if (hi == 254) {
            return uc >= 65136 ? AL : ON;
          }
          return ON;
        }
        function _isArabicDiacritics(ch) {
          return ch >= "\u064B" && ch <= "\u0655";
        }
        exports2.L = L2;
        exports2.R = R2;
        exports2.EN = EN;
        exports2.ON_R = 3;
        exports2.AN = 4;
        exports2.R_H = 5;
        exports2.B = 6;
        exports2.RLE = 7;
        exports2.DOT = "\xB7";
        exports2.doBidiReorder = function(text, textCharTypes, isRtl) {
          if (text.length < 2)
            return {};
          var chars = text.split(""), logicalFromVisual = new Array(chars.length), bidiLevels = new Array(chars.length), levels2 = [];
          dir = isRtl ? RTL : LTR;
          _computeLevels(chars, levels2, chars.length, textCharTypes);
          for (var i3 = 0; i3 < logicalFromVisual.length; logicalFromVisual[i3] = i3, i3++)
            ;
          _invertLevel(2, levels2, logicalFromVisual);
          _invertLevel(1, levels2, logicalFromVisual);
          for (var i3 = 0; i3 < logicalFromVisual.length - 1; i3++) {
            if (textCharTypes[i3] === AN) {
              levels2[i3] = exports2.AN;
            } else if (levels2[i3] === R2 && (textCharTypes[i3] > AL && textCharTypes[i3] < LRE || textCharTypes[i3] === ON || textCharTypes[i3] === BN)) {
              levels2[i3] = exports2.ON_R;
            } else if (i3 > 0 && chars[i3 - 1] === "\u0644" && /\u0622|\u0623|\u0625|\u0627/.test(chars[i3])) {
              levels2[i3 - 1] = levels2[i3] = exports2.R_H;
              i3++;
            }
          }
          if (chars[chars.length - 1] === exports2.DOT)
            levels2[chars.length - 1] = exports2.B;
          if (chars[0] === "\u202B")
            levels2[0] = exports2.RLE;
          for (var i3 = 0; i3 < logicalFromVisual.length; i3++) {
            bidiLevels[i3] = levels2[logicalFromVisual[i3]];
          }
          return { "logicalFromVisual": logicalFromVisual, "bidiLevels": bidiLevels };
        };
        exports2.hasBidiCharacters = function(text, textCharTypes) {
          var ret = false;
          for (var i3 = 0; i3 < text.length; i3++) {
            textCharTypes[i3] = _getCharacterType(text.charAt(i3));
            if (!ret && (textCharTypes[i3] == R2 || textCharTypes[i3] == AL || textCharTypes[i3] == AN))
              ret = true;
          }
          return ret;
        };
        exports2.getVisualFromLogicalIdx = function(logIdx, rowMap) {
          for (var i3 = 0; i3 < rowMap.logicalFromVisual.length; i3++) {
            if (rowMap.logicalFromVisual[i3] == logIdx)
              return i3;
          }
          return 0;
        };
      });
      ace.define("ace/bidihandler", ["require", "exports", "module", "ace/lib/bidiutil", "ace/lib/lang"], function(require2, exports2, module2) {
        "use strict";
        var bidiUtil = require2("./lib/bidiutil");
        var lang = require2("./lib/lang");
        var bidiRE = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/;
        var BidiHandler = function(session) {
          this.session = session;
          this.bidiMap = {};
          this.currentRow = null;
          this.bidiUtil = bidiUtil;
          this.charWidths = [];
          this.EOL = "\xAC";
          this.showInvisibles = true;
          this.isRtlDir = false;
          this.$isRtl = false;
          this.line = "";
          this.wrapIndent = 0;
          this.EOF = "\xB6";
          this.RLE = "\u202B";
          this.contentWidth = 0;
          this.fontMetrics = null;
          this.rtlLineOffset = 0;
          this.wrapOffset = 0;
          this.isMoveLeftOperation = false;
          this.seenBidi = bidiRE.test(session.getValue());
        };
        (function() {
          this.isBidiRow = function(screenRow, docRow, splitIndex) {
            if (!this.seenBidi)
              return false;
            if (screenRow !== this.currentRow) {
              this.currentRow = screenRow;
              this.updateRowLine(docRow, splitIndex);
              this.updateBidiMap();
            }
            return this.bidiMap.bidiLevels;
          };
          this.onChange = function(delta) {
            if (!this.seenBidi) {
              if (delta.action == "insert" && bidiRE.test(delta.lines.join("\n"))) {
                this.seenBidi = true;
                this.currentRow = null;
              }
            } else {
              this.currentRow = null;
            }
          };
          this.getDocumentRow = function() {
            var docRow = 0;
            var rowCache = this.session.$screenRowCache;
            if (rowCache.length) {
              var index2 = this.session.$getRowCacheIndex(rowCache, this.currentRow);
              if (index2 >= 0)
                docRow = this.session.$docRowCache[index2];
            }
            return docRow;
          };
          this.getSplitIndex = function() {
            var splitIndex = 0;
            var rowCache = this.session.$screenRowCache;
            if (rowCache.length) {
              var currentIndex, prevIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow);
              while (this.currentRow - splitIndex > 0) {
                currentIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow - splitIndex - 1);
                if (currentIndex !== prevIndex)
                  break;
                prevIndex = currentIndex;
                splitIndex++;
              }
            } else {
              splitIndex = this.currentRow;
            }
            return splitIndex;
          };
          this.updateRowLine = function(docRow, splitIndex) {
            if (docRow === void 0)
              docRow = this.getDocumentRow();
            var isLastRow = docRow === this.session.getLength() - 1, endOfLine = isLastRow ? this.EOF : this.EOL;
            this.wrapIndent = 0;
            this.line = this.session.getLine(docRow);
            this.isRtlDir = this.$isRtl || this.line.charAt(0) === this.RLE;
            if (this.session.$useWrapMode) {
              var splits = this.session.$wrapData[docRow];
              if (splits) {
                if (splitIndex === void 0)
                  splitIndex = this.getSplitIndex();
                if (splitIndex > 0 && splits.length) {
                  this.wrapIndent = splits.indent;
                  this.wrapOffset = this.wrapIndent * this.charWidths[bidiUtil.L];
                  this.line = splitIndex < splits.length ? this.line.substring(splits[splitIndex - 1], splits[splitIndex]) : this.line.substring(splits[splits.length - 1]);
                } else {
                  this.line = this.line.substring(0, splits[splitIndex]);
                }
              }
              if (splitIndex == splits.length)
                this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;
            } else {
              this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;
            }
            var session = this.session, shift3 = 0, size;
            this.line = this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g, function(ch, i3) {
              if (ch === "	" || session.isFullWidth(ch.charCodeAt(0))) {
                size = ch === "	" ? session.getScreenTabSize(i3 + shift3) : 2;
                shift3 += size - 1;
                return lang.stringRepeat(bidiUtil.DOT, size);
              }
              return ch;
            });
            if (this.isRtlDir) {
              this.fontMetrics.$main.textContent = this.line.charAt(this.line.length - 1) == bidiUtil.DOT ? this.line.substr(0, this.line.length - 1) : this.line;
              this.rtlLineOffset = this.contentWidth - this.fontMetrics.$main.getBoundingClientRect().width;
            }
          };
          this.updateBidiMap = function() {
            var textCharTypes = [];
            if (bidiUtil.hasBidiCharacters(this.line, textCharTypes) || this.isRtlDir) {
              this.bidiMap = bidiUtil.doBidiReorder(this.line, textCharTypes, this.isRtlDir);
            } else {
              this.bidiMap = {};
            }
          };
          this.markAsDirty = function() {
            this.currentRow = null;
          };
          this.updateCharacterWidths = function(fontMetrics) {
            if (this.characterWidth === fontMetrics.$characterSize.width)
              return;
            this.fontMetrics = fontMetrics;
            var characterWidth = this.characterWidth = fontMetrics.$characterSize.width;
            var bidiCharWidth = fontMetrics.$measureCharWidth("\u05D4");
            this.charWidths[bidiUtil.L] = this.charWidths[bidiUtil.EN] = this.charWidths[bidiUtil.ON_R] = characterWidth;
            this.charWidths[bidiUtil.R] = this.charWidths[bidiUtil.AN] = bidiCharWidth;
            this.charWidths[bidiUtil.R_H] = bidiCharWidth * 0.45;
            this.charWidths[bidiUtil.B] = this.charWidths[bidiUtil.RLE] = 0;
            this.currentRow = null;
          };
          this.setShowInvisibles = function(showInvisibles) {
            this.showInvisibles = showInvisibles;
            this.currentRow = null;
          };
          this.setEolChar = function(eolChar) {
            this.EOL = eolChar;
          };
          this.setContentWidth = function(width) {
            this.contentWidth = width;
          };
          this.isRtlLine = function(row) {
            if (this.$isRtl)
              return true;
            if (row != void 0)
              return this.session.getLine(row).charAt(0) == this.RLE;
            else
              return this.isRtlDir;
          };
          this.setRtlDirection = function(editor, isRtlDir) {
            var cursor = editor.getCursorPosition();
            for (var row = editor.selection.getSelectionAnchor().row; row <= cursor.row; row++) {
              if (!isRtlDir && editor.session.getLine(row).charAt(0) === editor.session.$bidiHandler.RLE)
                editor.session.doc.removeInLine(row, 0, 1);
              else if (isRtlDir && editor.session.getLine(row).charAt(0) !== editor.session.$bidiHandler.RLE)
                editor.session.doc.insert({ column: 0, row }, editor.session.$bidiHandler.RLE);
            }
          };
          this.getPosLeft = function(col) {
            col -= this.wrapIndent;
            var leftBoundary = this.line.charAt(0) === this.RLE ? 1 : 0;
            var logicalIdx = col > leftBoundary ? this.session.getOverwrite() ? col : col - 1 : leftBoundary;
            var visualIdx = bidiUtil.getVisualFromLogicalIdx(logicalIdx, this.bidiMap), levels2 = this.bidiMap.bidiLevels, left2 = 0;
            if (!this.session.getOverwrite() && col <= leftBoundary && levels2[visualIdx] % 2 !== 0)
              visualIdx++;
            for (var i3 = 0; i3 < visualIdx; i3++) {
              left2 += this.charWidths[levels2[i3]];
            }
            if (!this.session.getOverwrite() && col > leftBoundary && levels2[visualIdx] % 2 === 0)
              left2 += this.charWidths[levels2[visualIdx]];
            if (this.wrapIndent)
              left2 += this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset;
            if (this.isRtlDir)
              left2 += this.rtlLineOffset;
            return left2;
          };
          this.getSelections = function(startCol, endCol) {
            var map = this.bidiMap, levels2 = map.bidiLevels, level, selections = [], offset4 = 0, selColMin = Math.min(startCol, endCol) - this.wrapIndent, selColMax = Math.max(startCol, endCol) - this.wrapIndent, isSelected = false, isSelectedPrev = false, selectionStart = 0;
            if (this.wrapIndent)
              offset4 += this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset;
            for (var logIdx, visIdx = 0; visIdx < levels2.length; visIdx++) {
              logIdx = map.logicalFromVisual[visIdx];
              level = levels2[visIdx];
              isSelected = logIdx >= selColMin && logIdx < selColMax;
              if (isSelected && !isSelectedPrev) {
                selectionStart = offset4;
              } else if (!isSelected && isSelectedPrev) {
                selections.push({ left: selectionStart, width: offset4 - selectionStart });
              }
              offset4 += this.charWidths[level];
              isSelectedPrev = isSelected;
            }
            if (isSelected && visIdx === levels2.length) {
              selections.push({ left: selectionStart, width: offset4 - selectionStart });
            }
            if (this.isRtlDir) {
              for (var i3 = 0; i3 < selections.length; i3++) {
                selections[i3].left += this.rtlLineOffset;
              }
            }
            return selections;
          };
          this.offsetToCol = function(posX) {
            if (this.isRtlDir)
              posX -= this.rtlLineOffset;
            var logicalIdx = 0, posX = Math.max(posX, 0), offset4 = 0, visualIdx = 0, levels2 = this.bidiMap.bidiLevels, charWidth = this.charWidths[levels2[visualIdx]];
            if (this.wrapIndent)
              posX -= this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset;
            while (posX > offset4 + charWidth / 2) {
              offset4 += charWidth;
              if (visualIdx === levels2.length - 1) {
                charWidth = 0;
                break;
              }
              charWidth = this.charWidths[levels2[++visualIdx]];
            }
            if (visualIdx > 0 && levels2[visualIdx - 1] % 2 !== 0 && levels2[visualIdx] % 2 === 0) {
              if (posX < offset4)
                visualIdx--;
              logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];
            } else if (visualIdx > 0 && levels2[visualIdx - 1] % 2 === 0 && levels2[visualIdx] % 2 !== 0) {
              logicalIdx = 1 + (posX > offset4 ? this.bidiMap.logicalFromVisual[visualIdx] : this.bidiMap.logicalFromVisual[visualIdx - 1]);
            } else if (this.isRtlDir && visualIdx === levels2.length - 1 && charWidth === 0 && levels2[visualIdx - 1] % 2 === 0 || !this.isRtlDir && visualIdx === 0 && levels2[visualIdx] % 2 !== 0) {
              logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];
            } else {
              if (visualIdx > 0 && levels2[visualIdx - 1] % 2 !== 0 && charWidth !== 0)
                visualIdx--;
              logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];
            }
            if (logicalIdx === 0 && this.isRtlDir)
              logicalIdx++;
            return logicalIdx + this.wrapIndent;
          };
        }).call(BidiHandler.prototype);
        exports2.BidiHandler = BidiHandler;
      });
      ace.define("ace/selection", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter", "ace/range"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("./lib/oop");
        var lang = require2("./lib/lang");
        var EventEmitter = require2("./lib/event_emitter").EventEmitter;
        var Range = require2("./range").Range;
        var Selection = function(session) {
          this.session = session;
          this.doc = session.getDocument();
          this.clearSelection();
          this.cursor = this.lead = this.doc.createAnchor(0, 0);
          this.anchor = this.doc.createAnchor(0, 0);
          this.$silent = false;
          var self2 = this;
          this.cursor.on("change", function(e2) {
            self2.$cursorChanged = true;
            if (!self2.$silent)
              self2._emit("changeCursor");
            if (!self2.$isEmpty && !self2.$silent)
              self2._emit("changeSelection");
            if (!self2.$keepDesiredColumnOnChange && e2.old.column != e2.value.column)
              self2.$desiredColumn = null;
          });
          this.anchor.on("change", function() {
            self2.$anchorChanged = true;
            if (!self2.$isEmpty && !self2.$silent)
              self2._emit("changeSelection");
          });
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.isEmpty = function() {
            return this.$isEmpty || this.anchor.row == this.lead.row && this.anchor.column == this.lead.column;
          };
          this.isMultiLine = function() {
            return !this.$isEmpty && this.anchor.row != this.cursor.row;
          };
          this.getCursor = function() {
            return this.lead.getPosition();
          };
          this.setSelectionAnchor = function(row, column) {
            this.$isEmpty = false;
            this.anchor.setPosition(row, column);
          };
          this.getAnchor = this.getSelectionAnchor = function() {
            if (this.$isEmpty)
              return this.getSelectionLead();
            return this.anchor.getPosition();
          };
          this.getSelectionLead = function() {
            return this.lead.getPosition();
          };
          this.isBackwards = function() {
            var anchor = this.anchor;
            var lead = this.lead;
            return anchor.row > lead.row || anchor.row == lead.row && anchor.column > lead.column;
          };
          this.getRange = function() {
            var anchor = this.anchor;
            var lead = this.lead;
            if (this.$isEmpty)
              return Range.fromPoints(lead, lead);
            return this.isBackwards() ? Range.fromPoints(lead, anchor) : Range.fromPoints(anchor, lead);
          };
          this.clearSelection = function() {
            if (!this.$isEmpty) {
              this.$isEmpty = true;
              this._emit("changeSelection");
            }
          };
          this.selectAll = function() {
            this.$setSelection(0, 0, Number.MAX_VALUE, Number.MAX_VALUE);
          };
          this.setRange = this.setSelectionRange = function(range, reverse) {
            var start4 = reverse ? range.end : range.start;
            var end3 = reverse ? range.start : range.end;
            this.$setSelection(start4.row, start4.column, end3.row, end3.column);
          };
          this.$setSelection = function(anchorRow, anchorColumn, cursorRow, cursorColumn) {
            if (this.$silent)
              return;
            var wasEmpty = this.$isEmpty;
            var wasMultiselect = this.inMultiSelectMode;
            this.$silent = true;
            this.$cursorChanged = this.$anchorChanged = false;
            this.anchor.setPosition(anchorRow, anchorColumn);
            this.cursor.setPosition(cursorRow, cursorColumn);
            this.$isEmpty = !Range.comparePoints(this.anchor, this.cursor);
            this.$silent = false;
            if (this.$cursorChanged)
              this._emit("changeCursor");
            if (this.$cursorChanged || this.$anchorChanged || wasEmpty != this.$isEmpty || wasMultiselect)
              this._emit("changeSelection");
          };
          this.$moveSelection = function(mover) {
            var lead = this.lead;
            if (this.$isEmpty)
              this.setSelectionAnchor(lead.row, lead.column);
            mover.call(this);
          };
          this.selectTo = function(row, column) {
            this.$moveSelection(function() {
              this.moveCursorTo(row, column);
            });
          };
          this.selectToPosition = function(pos) {
            this.$moveSelection(function() {
              this.moveCursorToPosition(pos);
            });
          };
          this.moveTo = function(row, column) {
            this.clearSelection();
            this.moveCursorTo(row, column);
          };
          this.moveToPosition = function(pos) {
            this.clearSelection();
            this.moveCursorToPosition(pos);
          };
          this.selectUp = function() {
            this.$moveSelection(this.moveCursorUp);
          };
          this.selectDown = function() {
            this.$moveSelection(this.moveCursorDown);
          };
          this.selectRight = function() {
            this.$moveSelection(this.moveCursorRight);
          };
          this.selectLeft = function() {
            this.$moveSelection(this.moveCursorLeft);
          };
          this.selectLineStart = function() {
            this.$moveSelection(this.moveCursorLineStart);
          };
          this.selectLineEnd = function() {
            this.$moveSelection(this.moveCursorLineEnd);
          };
          this.selectFileEnd = function() {
            this.$moveSelection(this.moveCursorFileEnd);
          };
          this.selectFileStart = function() {
            this.$moveSelection(this.moveCursorFileStart);
          };
          this.selectWordRight = function() {
            this.$moveSelection(this.moveCursorWordRight);
          };
          this.selectWordLeft = function() {
            this.$moveSelection(this.moveCursorWordLeft);
          };
          this.getWordRange = function(row, column) {
            if (typeof column == "undefined") {
              var cursor = row || this.lead;
              row = cursor.row;
              column = cursor.column;
            }
            return this.session.getWordRange(row, column);
          };
          this.selectWord = function() {
            this.setSelectionRange(this.getWordRange());
          };
          this.selectAWord = function() {
            var cursor = this.getCursor();
            var range = this.session.getAWordRange(cursor.row, cursor.column);
            this.setSelectionRange(range);
          };
          this.getLineRange = function(row, excludeLastChar) {
            var rowStart = typeof row == "number" ? row : this.lead.row;
            var rowEnd;
            var foldLine = this.session.getFoldLine(rowStart);
            if (foldLine) {
              rowStart = foldLine.start.row;
              rowEnd = foldLine.end.row;
            } else {
              rowEnd = rowStart;
            }
            if (excludeLastChar === true)
              return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);
            else
              return new Range(rowStart, 0, rowEnd + 1, 0);
          };
          this.selectLine = function() {
            this.setSelectionRange(this.getLineRange());
          };
          this.moveCursorUp = function() {
            this.moveCursorBy(-1, 0);
          };
          this.moveCursorDown = function() {
            this.moveCursorBy(1, 0);
          };
          this.wouldMoveIntoSoftTab = function(cursor, tabSize, direction) {
            var start4 = cursor.column;
            var end3 = cursor.column + tabSize;
            if (direction < 0) {
              start4 = cursor.column - tabSize;
              end3 = cursor.column;
            }
            return this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(start4, end3).split(" ").length - 1 == tabSize;
          };
          this.moveCursorLeft = function() {
            var cursor = this.lead.getPosition(), fold;
            if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {
              this.moveCursorTo(fold.start.row, fold.start.column);
            } else if (cursor.column === 0) {
              if (cursor.row > 0) {
                this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);
              }
            } else {
              var tabSize = this.session.getTabSize();
              if (this.wouldMoveIntoSoftTab(cursor, tabSize, -1) && !this.session.getNavigateWithinSoftTabs()) {
                this.moveCursorBy(0, -tabSize);
              } else {
                this.moveCursorBy(0, -1);
              }
            }
          };
          this.moveCursorRight = function() {
            var cursor = this.lead.getPosition(), fold;
            if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {
              this.moveCursorTo(fold.end.row, fold.end.column);
            } else if (this.lead.column == this.doc.getLine(this.lead.row).length) {
              if (this.lead.row < this.doc.getLength() - 1) {
                this.moveCursorTo(this.lead.row + 1, 0);
              }
            } else {
              var tabSize = this.session.getTabSize();
              var cursor = this.lead;
              if (this.wouldMoveIntoSoftTab(cursor, tabSize, 1) && !this.session.getNavigateWithinSoftTabs()) {
                this.moveCursorBy(0, tabSize);
              } else {
                this.moveCursorBy(0, 1);
              }
            }
          };
          this.moveCursorLineStart = function() {
            var row = this.lead.row;
            var column = this.lead.column;
            var screenRow = this.session.documentToScreenRow(row, column);
            var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);
            var beforeCursor = this.session.getDisplayLine(row, null, firstColumnPosition.row, firstColumnPosition.column);
            var leadingSpace = beforeCursor.match(/^\s*/);
            if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)
              firstColumnPosition.column += leadingSpace[0].length;
            this.moveCursorToPosition(firstColumnPosition);
          };
          this.moveCursorLineEnd = function() {
            var lead = this.lead;
            var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);
            if (this.lead.column == lineEnd.column) {
              var line = this.session.getLine(lineEnd.row);
              if (lineEnd.column == line.length) {
                var textEnd = line.search(/\s+$/);
                if (textEnd > 0)
                  lineEnd.column = textEnd;
              }
            }
            this.moveCursorTo(lineEnd.row, lineEnd.column);
          };
          this.moveCursorFileEnd = function() {
            var row = this.doc.getLength() - 1;
            var column = this.doc.getLine(row).length;
            this.moveCursorTo(row, column);
          };
          this.moveCursorFileStart = function() {
            this.moveCursorTo(0, 0);
          };
          this.moveCursorLongWordRight = function() {
            var row = this.lead.row;
            var column = this.lead.column;
            var line = this.doc.getLine(row);
            var rightOfCursor = line.substring(column);
            this.session.nonTokenRe.lastIndex = 0;
            this.session.tokenRe.lastIndex = 0;
            var fold = this.session.getFoldAt(row, column, 1);
            if (fold) {
              this.moveCursorTo(fold.end.row, fold.end.column);
              return;
            }
            if (this.session.nonTokenRe.exec(rightOfCursor)) {
              column += this.session.nonTokenRe.lastIndex;
              this.session.nonTokenRe.lastIndex = 0;
              rightOfCursor = line.substring(column);
            }
            if (column >= line.length) {
              this.moveCursorTo(row, line.length);
              this.moveCursorRight();
              if (row < this.doc.getLength() - 1)
                this.moveCursorWordRight();
              return;
            }
            if (this.session.tokenRe.exec(rightOfCursor)) {
              column += this.session.tokenRe.lastIndex;
              this.session.tokenRe.lastIndex = 0;
            }
            this.moveCursorTo(row, column);
          };
          this.moveCursorLongWordLeft = function() {
            var row = this.lead.row;
            var column = this.lead.column;
            var fold;
            if (fold = this.session.getFoldAt(row, column, -1)) {
              this.moveCursorTo(fold.start.row, fold.start.column);
              return;
            }
            var str = this.session.getFoldStringAt(row, column, -1);
            if (str == null) {
              str = this.doc.getLine(row).substring(0, column);
            }
            var leftOfCursor = lang.stringReverse(str);
            this.session.nonTokenRe.lastIndex = 0;
            this.session.tokenRe.lastIndex = 0;
            if (this.session.nonTokenRe.exec(leftOfCursor)) {
              column -= this.session.nonTokenRe.lastIndex;
              leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);
              this.session.nonTokenRe.lastIndex = 0;
            }
            if (column <= 0) {
              this.moveCursorTo(row, 0);
              this.moveCursorLeft();
              if (row > 0)
                this.moveCursorWordLeft();
              return;
            }
            if (this.session.tokenRe.exec(leftOfCursor)) {
              column -= this.session.tokenRe.lastIndex;
              this.session.tokenRe.lastIndex = 0;
            }
            this.moveCursorTo(row, column);
          };
          this.$shortWordEndIndex = function(rightOfCursor) {
            var index2 = 0, ch;
            var whitespaceRe = /\s/;
            var tokenRe = this.session.tokenRe;
            tokenRe.lastIndex = 0;
            if (this.session.tokenRe.exec(rightOfCursor)) {
              index2 = this.session.tokenRe.lastIndex;
            } else {
              while ((ch = rightOfCursor[index2]) && whitespaceRe.test(ch))
                index2++;
              if (index2 < 1) {
                tokenRe.lastIndex = 0;
                while ((ch = rightOfCursor[index2]) && !tokenRe.test(ch)) {
                  tokenRe.lastIndex = 0;
                  index2++;
                  if (whitespaceRe.test(ch)) {
                    if (index2 > 2) {
                      index2--;
                      break;
                    } else {
                      while ((ch = rightOfCursor[index2]) && whitespaceRe.test(ch))
                        index2++;
                      if (index2 > 2)
                        break;
                    }
                  }
                }
              }
            }
            tokenRe.lastIndex = 0;
            return index2;
          };
          this.moveCursorShortWordRight = function() {
            var row = this.lead.row;
            var column = this.lead.column;
            var line = this.doc.getLine(row);
            var rightOfCursor = line.substring(column);
            var fold = this.session.getFoldAt(row, column, 1);
            if (fold)
              return this.moveCursorTo(fold.end.row, fold.end.column);
            if (column == line.length) {
              var l3 = this.doc.getLength();
              do {
                row++;
                rightOfCursor = this.doc.getLine(row);
              } while (row < l3 && /^\s*$/.test(rightOfCursor));
              if (!/^\s+/.test(rightOfCursor))
                rightOfCursor = "";
              column = 0;
            }
            var index2 = this.$shortWordEndIndex(rightOfCursor);
            this.moveCursorTo(row, column + index2);
          };
          this.moveCursorShortWordLeft = function() {
            var row = this.lead.row;
            var column = this.lead.column;
            var fold;
            if (fold = this.session.getFoldAt(row, column, -1))
              return this.moveCursorTo(fold.start.row, fold.start.column);
            var line = this.session.getLine(row).substring(0, column);
            if (column === 0) {
              do {
                row--;
                line = this.doc.getLine(row);
              } while (row > 0 && /^\s*$/.test(line));
              column = line.length;
              if (!/\s+$/.test(line))
                line = "";
            }
            var leftOfCursor = lang.stringReverse(line);
            var index2 = this.$shortWordEndIndex(leftOfCursor);
            return this.moveCursorTo(row, column - index2);
          };
          this.moveCursorWordRight = function() {
            if (this.session.$selectLongWords)
              this.moveCursorLongWordRight();
            else
              this.moveCursorShortWordRight();
          };
          this.moveCursorWordLeft = function() {
            if (this.session.$selectLongWords)
              this.moveCursorLongWordLeft();
            else
              this.moveCursorShortWordLeft();
          };
          this.moveCursorBy = function(rows, chars) {
            var screenPos = this.session.documentToScreenPosition(this.lead.row, this.lead.column);
            var offsetX;
            if (chars === 0) {
              if (rows !== 0) {
                if (this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)) {
                  offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);
                  screenPos.column = Math.round(offsetX / this.session.$bidiHandler.charWidths[0]);
                } else {
                  offsetX = screenPos.column * this.session.$bidiHandler.charWidths[0];
                }
              }
              if (this.$desiredColumn)
                screenPos.column = this.$desiredColumn;
              else
                this.$desiredColumn = screenPos.column;
            }
            if (rows != 0 && this.session.lineWidgets && this.session.lineWidgets[this.lead.row]) {
              var widget = this.session.lineWidgets[this.lead.row];
              if (rows < 0)
                rows -= widget.rowsAbove || 0;
              else if (rows > 0)
                rows += widget.rowCount - (widget.rowsAbove || 0);
            }
            var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column, offsetX);
            if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {
            }
            this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);
          };
          this.moveCursorToPosition = function(position3) {
            this.moveCursorTo(position3.row, position3.column);
          };
          this.moveCursorTo = function(row, column, keepDesiredColumn) {
            var fold = this.session.getFoldAt(row, column, 1);
            if (fold) {
              row = fold.start.row;
              column = fold.start.column;
            }
            this.$keepDesiredColumnOnChange = true;
            var line = this.session.getLine(row);
            if (/[\uDC00-\uDFFF]/.test(line.charAt(column)) && line.charAt(column - 1)) {
              if (this.lead.row == row && this.lead.column == column + 1)
                column = column - 1;
              else
                column = column + 1;
            }
            this.lead.setPosition(row, column);
            this.$keepDesiredColumnOnChange = false;
            if (!keepDesiredColumn)
              this.$desiredColumn = null;
          };
          this.moveCursorToScreen = function(row, column, keepDesiredColumn) {
            var pos = this.session.screenToDocumentPosition(row, column);
            this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);
          };
          this.detach = function() {
            this.lead.detach();
            this.anchor.detach();
          };
          this.fromOrientedRange = function(range) {
            this.setSelectionRange(range, range.cursor == range.start);
            this.$desiredColumn = range.desiredColumn || this.$desiredColumn;
          };
          this.toOrientedRange = function(range) {
            var r2 = this.getRange();
            if (range) {
              range.start.column = r2.start.column;
              range.start.row = r2.start.row;
              range.end.column = r2.end.column;
              range.end.row = r2.end.row;
            } else {
              range = r2;
            }
            range.cursor = this.isBackwards() ? range.start : range.end;
            range.desiredColumn = this.$desiredColumn;
            return range;
          };
          this.getRangeOfMovements = function(func) {
            var start4 = this.getCursor();
            try {
              func(this);
              var end3 = this.getCursor();
              return Range.fromPoints(start4, end3);
            } catch (e2) {
              return Range.fromPoints(start4, start4);
            } finally {
              this.moveCursorToPosition(start4);
            }
          };
          this.toJSON = function() {
            if (this.rangeCount) {
              var data = this.ranges.map(function(r2) {
                var r1 = r2.clone();
                r1.isBackwards = r2.cursor == r2.start;
                return r1;
              });
            } else {
              var data = this.getRange();
              data.isBackwards = this.isBackwards();
            }
            return data;
          };
          this.fromJSON = function(data) {
            if (data.start == void 0) {
              if (this.rangeList && data.length > 1) {
                this.toSingleRange(data[0]);
                for (var i3 = data.length; i3--; ) {
                  var r2 = Range.fromPoints(data[i3].start, data[i3].end);
                  if (data[i3].isBackwards)
                    r2.cursor = r2.start;
                  this.addRange(r2, true);
                }
                return;
              } else {
                data = data[0];
              }
            }
            if (this.rangeList)
              this.toSingleRange(data);
            this.setSelectionRange(data, data.isBackwards);
          };
          this.isEqual = function(data) {
            if ((data.length || this.rangeCount) && data.length != this.rangeCount)
              return false;
            if (!data.length || !this.ranges)
              return this.getRange().isEqual(data);
            for (var i3 = this.ranges.length; i3--; ) {
              if (!this.ranges[i3].isEqual(data[i3]))
                return false;
            }
            return true;
          };
        }).call(Selection.prototype);
        exports2.Selection = Selection;
      });
      ace.define("ace/tokenizer", ["require", "exports", "module", "ace/config"], function(require2, exports2, module2) {
        "use strict";
        var config2 = require2("./config");
        var MAX_TOKEN_COUNT = 2e3;
        var Tokenizer = function(rules) {
          this.states = rules;
          this.regExps = {};
          this.matchMappings = {};
          for (var key in this.states) {
            var state = this.states[key];
            var ruleRegExps = [];
            var matchTotal = 0;
            var mapping = this.matchMappings[key] = { defaultToken: "text" };
            var flag = "g";
            var splitterRurles = [];
            for (var i3 = 0; i3 < state.length; i3++) {
              var rule = state[i3];
              if (rule.defaultToken)
                mapping.defaultToken = rule.defaultToken;
              if (rule.caseInsensitive && flag.indexOf("i") === -1)
                flag += "i";
              if (rule.unicode && flag.indexOf("u") === -1)
                flag += "u";
              if (rule.regex == null)
                continue;
              if (rule.regex instanceof RegExp)
                rule.regex = rule.regex.toString().slice(1, -1);
              var adjustedregex = rule.regex;
              var matchcount = new RegExp("(?:(" + adjustedregex + ")|(.))").exec("a").length - 2;
              if (Array.isArray(rule.token)) {
                if (rule.token.length == 1 || matchcount == 1) {
                  rule.token = rule.token[0];
                } else if (matchcount - 1 != rule.token.length) {
                  this.reportError("number of classes and regexp groups doesn't match", {
                    rule,
                    groupCount: matchcount - 1
                  });
                  rule.token = rule.token[0];
                } else {
                  rule.tokenArray = rule.token;
                  rule.token = null;
                  rule.onMatch = this.$arrayTokens;
                }
              } else if (typeof rule.token == "function" && !rule.onMatch) {
                if (matchcount > 1)
                  rule.onMatch = this.$applyToken;
                else
                  rule.onMatch = rule.token;
              }
              if (matchcount > 1) {
                if (/\\\d/.test(rule.regex)) {
                  adjustedregex = rule.regex.replace(/\\([0-9]+)/g, function(match2, digit) {
                    return "\\" + (parseInt(digit, 10) + matchTotal + 1);
                  });
                } else {
                  matchcount = 1;
                  adjustedregex = this.removeCapturingGroups(rule.regex);
                }
                if (!rule.splitRegex && typeof rule.token != "string")
                  splitterRurles.push(rule);
              }
              mapping[matchTotal] = i3;
              matchTotal += matchcount;
              ruleRegExps.push(adjustedregex);
              if (!rule.onMatch)
                rule.onMatch = null;
            }
            if (!ruleRegExps.length) {
              mapping[0] = 0;
              ruleRegExps.push("$");
            }
            splitterRurles.forEach(function(rule2) {
              rule2.splitRegex = this.createSplitterRegexp(rule2.regex, flag);
            }, this);
            this.regExps[key] = new RegExp("(" + ruleRegExps.join(")|(") + ")|($)", flag);
          }
        };
        (function() {
          this.$setMaxTokenCount = function(m2) {
            MAX_TOKEN_COUNT = m2 | 0;
          };
          this.$applyToken = function(str) {
            var values2 = this.splitRegex.exec(str).slice(1);
            var types3 = this.token.apply(this, values2);
            if (typeof types3 === "string")
              return [{ type: types3, value: str }];
            var tokens = [];
            for (var i3 = 0, l3 = types3.length; i3 < l3; i3++) {
              if (values2[i3])
                tokens[tokens.length] = {
                  type: types3[i3],
                  value: values2[i3]
                };
            }
            return tokens;
          };
          this.$arrayTokens = function(str) {
            if (!str)
              return [];
            var values2 = this.splitRegex.exec(str);
            if (!values2)
              return "text";
            var tokens = [];
            var types3 = this.tokenArray;
            for (var i3 = 0, l3 = types3.length; i3 < l3; i3++) {
              if (values2[i3 + 1])
                tokens[tokens.length] = {
                  type: types3[i3],
                  value: values2[i3 + 1]
                };
            }
            return tokens;
          };
          this.removeCapturingGroups = function(src) {
            var r2 = src.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g, function(x2, y2) {
              return y2 ? "(?:" : x2;
            });
            return r2;
          };
          this.createSplitterRegexp = function(src, flag) {
            if (src.indexOf("(?=") != -1) {
              var stack = 0;
              var inChClass = false;
              var lastCapture = {};
              src.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g, function(m2, esc, parenOpen, parenClose, square, index2) {
                if (inChClass) {
                  inChClass = square != "]";
                } else if (square) {
                  inChClass = true;
                } else if (parenClose) {
                  if (stack == lastCapture.stack) {
                    lastCapture.end = index2 + 1;
                    lastCapture.stack = -1;
                  }
                  stack--;
                } else if (parenOpen) {
                  stack++;
                  if (parenOpen.length != 1) {
                    lastCapture.stack = stack;
                    lastCapture.start = index2;
                  }
                }
                return m2;
              });
              if (lastCapture.end != null && /^\)*$/.test(src.substr(lastCapture.end)))
                src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);
            }
            if (src.charAt(0) != "^")
              src = "^" + src;
            if (src.charAt(src.length - 1) != "$")
              src += "$";
            return new RegExp(src, (flag || "").replace("g", ""));
          };
          this.getLineTokens = function(line, startState) {
            if (startState && typeof startState != "string") {
              var stack = startState.slice(0);
              startState = stack[0];
              if (startState === "#tmp") {
                stack.shift();
                startState = stack.shift();
              }
            } else
              var stack = [];
            var currentState = startState || "start";
            var state = this.states[currentState];
            if (!state) {
              currentState = "start";
              state = this.states[currentState];
            }
            var mapping = this.matchMappings[currentState];
            var re = this.regExps[currentState];
            re.lastIndex = 0;
            var match2, tokens = [];
            var lastIndex = 0;
            var matchAttempts = 0;
            var token = { type: null, value: "" };
            while (match2 = re.exec(line)) {
              var type = mapping.defaultToken;
              var rule = null;
              var value = match2[0];
              var index2 = re.lastIndex;
              if (index2 - value.length > lastIndex) {
                var skipped = line.substring(lastIndex, index2 - value.length);
                if (token.type == type) {
                  token.value += skipped;
                } else {
                  if (token.type)
                    tokens.push(token);
                  token = { type, value: skipped };
                }
              }
              for (var i3 = 0; i3 < match2.length - 2; i3++) {
                if (match2[i3 + 1] === void 0)
                  continue;
                rule = state[mapping[i3]];
                if (rule.onMatch)
                  type = rule.onMatch(value, currentState, stack, line);
                else
                  type = rule.token;
                if (rule.next) {
                  if (typeof rule.next == "string") {
                    currentState = rule.next;
                  } else {
                    currentState = rule.next(currentState, stack);
                  }
                  state = this.states[currentState];
                  if (!state) {
                    this.reportError("state doesn't exist", currentState);
                    currentState = "start";
                    state = this.states[currentState];
                  }
                  mapping = this.matchMappings[currentState];
                  lastIndex = index2;
                  re = this.regExps[currentState];
                  re.lastIndex = index2;
                }
                if (rule.consumeLineEnd)
                  lastIndex = index2;
                break;
              }
              if (value) {
                if (typeof type === "string") {
                  if ((!rule || rule.merge !== false) && token.type === type) {
                    token.value += value;
                  } else {
                    if (token.type)
                      tokens.push(token);
                    token = { type, value };
                  }
                } else if (type) {
                  if (token.type)
                    tokens.push(token);
                  token = { type: null, value: "" };
                  for (var i3 = 0; i3 < type.length; i3++)
                    tokens.push(type[i3]);
                }
              }
              if (lastIndex == line.length)
                break;
              lastIndex = index2;
              if (matchAttempts++ > MAX_TOKEN_COUNT) {
                if (matchAttempts > 2 * line.length) {
                  this.reportError("infinite loop with in ace tokenizer", {
                    startState,
                    line
                  });
                }
                while (lastIndex < line.length) {
                  if (token.type)
                    tokens.push(token);
                  token = {
                    value: line.substring(lastIndex, lastIndex += 500),
                    type: "overflow"
                  };
                }
                currentState = "start";
                stack = [];
                break;
              }
            }
            if (token.type)
              tokens.push(token);
            if (stack.length > 1) {
              if (stack[0] !== currentState)
                stack.unshift("#tmp", currentState);
            }
            return {
              tokens,
              state: stack.length ? stack : currentState
            };
          };
          this.reportError = config2.reportError;
        }).call(Tokenizer.prototype);
        exports2.Tokenizer = Tokenizer;
      });
      ace.define("ace/mode/text_highlight_rules", ["require", "exports", "module", "ace/lib/lang"], function(require2, exports2, module2) {
        "use strict";
        var lang = require2("../lib/lang");
        var TextHighlightRules = function() {
          this.$rules = {
            "start": [{
              token: "empty_line",
              regex: "^$"
            }, {
              defaultToken: "text"
            }]
          };
        };
        (function() {
          this.addRules = function(rules, prefix3) {
            if (!prefix3) {
              for (var key in rules)
                this.$rules[key] = rules[key];
              return;
            }
            for (var key in rules) {
              var state = rules[key];
              for (var i3 = 0; i3 < state.length; i3++) {
                var rule = state[i3];
                if (rule.next || rule.onMatch) {
                  if (typeof rule.next == "string") {
                    if (rule.next.indexOf(prefix3) !== 0)
                      rule.next = prefix3 + rule.next;
                  }
                  if (rule.nextState && rule.nextState.indexOf(prefix3) !== 0)
                    rule.nextState = prefix3 + rule.nextState;
                }
              }
              this.$rules[prefix3 + key] = state;
            }
          };
          this.getRules = function() {
            return this.$rules;
          };
          this.embedRules = function(HighlightRules, prefix3, escapeRules, states, append) {
            var embedRules = typeof HighlightRules == "function" ? new HighlightRules().getRules() : HighlightRules;
            if (states) {
              for (var i3 = 0; i3 < states.length; i3++)
                states[i3] = prefix3 + states[i3];
            } else {
              states = [];
              for (var key in embedRules)
                states.push(prefix3 + key);
            }
            this.addRules(embedRules, prefix3);
            if (escapeRules) {
              var addRules = Array.prototype[append ? "push" : "unshift"];
              for (var i3 = 0; i3 < states.length; i3++)
                addRules.apply(this.$rules[states[i3]], lang.deepCopy(escapeRules));
            }
            if (!this.$embeds)
              this.$embeds = [];
            this.$embeds.push(prefix3);
          };
          this.getEmbeds = function() {
            return this.$embeds;
          };
          var pushState = function(currentState, stack) {
            if (currentState != "start" || stack.length)
              stack.unshift(this.nextState, currentState);
            return this.nextState;
          };
          var popState = function(currentState, stack) {
            stack.shift();
            return stack.shift() || "start";
          };
          this.normalizeRules = function() {
            var id = 0;
            var rules = this.$rules;
            function processState(key) {
              var state = rules[key];
              state.processed = true;
              for (var i3 = 0; i3 < state.length; i3++) {
                var rule = state[i3];
                var toInsert = null;
                if (Array.isArray(rule)) {
                  toInsert = rule;
                  rule = {};
                }
                if (!rule.regex && rule.start) {
                  rule.regex = rule.start;
                  if (!rule.next)
                    rule.next = [];
                  rule.next.push({
                    defaultToken: rule.token
                  }, {
                    token: rule.token + ".end",
                    regex: rule.end || rule.start,
                    next: "pop"
                  });
                  rule.token = rule.token + ".start";
                  rule.push = true;
                }
                var next = rule.next || rule.push;
                if (next && Array.isArray(next)) {
                  var stateName = rule.stateName;
                  if (!stateName) {
                    stateName = rule.token;
                    if (typeof stateName != "string")
                      stateName = stateName[0] || "";
                    if (rules[stateName])
                      stateName += id++;
                  }
                  rules[stateName] = next;
                  rule.next = stateName;
                  processState(stateName);
                } else if (next == "pop") {
                  rule.next = popState;
                }
                if (rule.push) {
                  rule.nextState = rule.next || rule.push;
                  rule.next = pushState;
                  delete rule.push;
                }
                if (rule.rules) {
                  for (var r2 in rule.rules) {
                    if (rules[r2]) {
                      if (rules[r2].push)
                        rules[r2].push.apply(rules[r2], rule.rules[r2]);
                    } else {
                      rules[r2] = rule.rules[r2];
                    }
                  }
                }
                var includeName = typeof rule == "string" ? rule : rule.include;
                if (includeName) {
                  if (Array.isArray(includeName))
                    toInsert = includeName.map(function(x2) {
                      return rules[x2];
                    });
                  else
                    toInsert = rules[includeName];
                }
                if (toInsert) {
                  var args = [i3, 1].concat(toInsert);
                  if (rule.noEscape)
                    args = args.filter(function(x2) {
                      return !x2.next;
                    });
                  state.splice.apply(state, args);
                  i3--;
                }
                if (rule.keywordMap) {
                  rule.token = this.createKeywordMapper(rule.keywordMap, rule.defaultToken || "text", rule.caseInsensitive);
                  delete rule.defaultToken;
                }
              }
            }
            Object.keys(rules).forEach(processState, this);
          };
          this.createKeywordMapper = function(map, defaultToken, ignoreCase, splitChar) {
            var keywords = /* @__PURE__ */ Object.create(null);
            this.$keywordList = [];
            Object.keys(map).forEach(function(className) {
              var a3 = map[className];
              var list = a3.split(splitChar || "|");
              for (var i3 = list.length; i3--; ) {
                var word = list[i3];
                this.$keywordList.push(word);
                if (ignoreCase)
                  word = word.toLowerCase();
                keywords[word] = className;
              }
            }, this);
            map = null;
            return ignoreCase ? function(value) {
              return keywords[value.toLowerCase()] || defaultToken;
            } : function(value) {
              return keywords[value] || defaultToken;
            };
          };
          this.getKeywords = function() {
            return this.$keywords;
          };
        }).call(TextHighlightRules.prototype);
        exports2.TextHighlightRules = TextHighlightRules;
      });
      ace.define("ace/mode/behaviour", ["require", "exports", "module"], function(require2, exports2, module2) {
        "use strict";
        var Behaviour = function() {
          this.$behaviours = {};
        };
        (function() {
          this.add = function(name, action, callback) {
            switch (void 0) {
              case this.$behaviours:
                this.$behaviours = {};
              case this.$behaviours[name]:
                this.$behaviours[name] = {};
            }
            this.$behaviours[name][action] = callback;
          };
          this.addBehaviours = function(behaviours) {
            for (var key in behaviours) {
              for (var action in behaviours[key]) {
                this.add(key, action, behaviours[key][action]);
              }
            }
          };
          this.remove = function(name) {
            if (this.$behaviours && this.$behaviours[name]) {
              delete this.$behaviours[name];
            }
          };
          this.inherit = function(mode, filter) {
            if (typeof mode === "function") {
              var behaviours = new mode().getBehaviours(filter);
            } else {
              var behaviours = mode.getBehaviours(filter);
            }
            this.addBehaviours(behaviours);
          };
          this.getBehaviours = function(filter) {
            if (!filter) {
              return this.$behaviours;
            } else {
              var ret = {};
              for (var i3 = 0; i3 < filter.length; i3++) {
                if (this.$behaviours[filter[i3]]) {
                  ret[filter[i3]] = this.$behaviours[filter[i3]];
                }
              }
              return ret;
            }
          };
        }).call(Behaviour.prototype);
        exports2.Behaviour = Behaviour;
      });
      ace.define("ace/token_iterator", ["require", "exports", "module", "ace/range"], function(require2, exports2, module2) {
        "use strict";
        var Range = require2("./range").Range;
        var TokenIterator = function(session, initialRow, initialColumn) {
          this.$session = session;
          this.$row = initialRow;
          this.$rowTokens = session.getTokens(initialRow);
          var token = session.getTokenAt(initialRow, initialColumn);
          this.$tokenIndex = token ? token.index : -1;
        };
        (function() {
          this.stepBackward = function() {
            this.$tokenIndex -= 1;
            while (this.$tokenIndex < 0) {
              this.$row -= 1;
              if (this.$row < 0) {
                this.$row = 0;
                return null;
              }
              this.$rowTokens = this.$session.getTokens(this.$row);
              this.$tokenIndex = this.$rowTokens.length - 1;
            }
            return this.$rowTokens[this.$tokenIndex];
          };
          this.stepForward = function() {
            this.$tokenIndex += 1;
            var rowCount;
            while (this.$tokenIndex >= this.$rowTokens.length) {
              this.$row += 1;
              if (!rowCount)
                rowCount = this.$session.getLength();
              if (this.$row >= rowCount) {
                this.$row = rowCount - 1;
                return null;
              }
              this.$rowTokens = this.$session.getTokens(this.$row);
              this.$tokenIndex = 0;
            }
            return this.$rowTokens[this.$tokenIndex];
          };
          this.getCurrentToken = function() {
            return this.$rowTokens[this.$tokenIndex];
          };
          this.getCurrentTokenRow = function() {
            return this.$row;
          };
          this.getCurrentTokenColumn = function() {
            var rowTokens = this.$rowTokens;
            var tokenIndex = this.$tokenIndex;
            var column = rowTokens[tokenIndex].start;
            if (column !== void 0)
              return column;
            column = 0;
            while (tokenIndex > 0) {
              tokenIndex -= 1;
              column += rowTokens[tokenIndex].value.length;
            }
            return column;
          };
          this.getCurrentTokenPosition = function() {
            return { row: this.$row, column: this.getCurrentTokenColumn() };
          };
          this.getCurrentTokenRange = function() {
            var token = this.$rowTokens[this.$tokenIndex];
            var column = this.getCurrentTokenColumn();
            return new Range(this.$row, column, this.$row, column + token.value.length);
          };
        }).call(TokenIterator.prototype);
        exports2.TokenIterator = TokenIterator;
      });
      ace.define("ace/mode/behaviour/cstyle", ["require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/token_iterator", "ace/lib/lang"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("../../lib/oop");
        var Behaviour = require2("../behaviour").Behaviour;
        var TokenIterator = require2("../../token_iterator").TokenIterator;
        var lang = require2("../../lib/lang");
        var SAFE_INSERT_IN_TOKENS = ["text", "paren.rparen", "rparen", "paren", "punctuation.operator"];
        var SAFE_INSERT_BEFORE_TOKENS = ["text", "paren.rparen", "rparen", "paren", "punctuation.operator", "comment"];
        var context;
        var contextCache = {};
        var defaultQuotes = { '"': '"', "'": "'" };
        var initContext = function(editor) {
          var id = -1;
          if (editor.multiSelect) {
            id = editor.selection.index;
            if (contextCache.rangeCount != editor.multiSelect.rangeCount)
              contextCache = { rangeCount: editor.multiSelect.rangeCount };
          }
          if (contextCache[id])
            return context = contextCache[id];
          context = contextCache[id] = {
            autoInsertedBrackets: 0,
            autoInsertedRow: -1,
            autoInsertedLineEnd: "",
            maybeInsertedBrackets: 0,
            maybeInsertedRow: -1,
            maybeInsertedLineStart: "",
            maybeInsertedLineEnd: ""
          };
        };
        var getWrapped = function(selection, selected, opening, closing) {
          var rowDiff = selection.end.row - selection.start.row;
          return {
            text: opening + selected + closing,
            selection: [
              0,
              selection.start.column + 1,
              rowDiff,
              selection.end.column + (rowDiff ? 0 : 1)
            ]
          };
        };
        var CstyleBehaviour = function(options) {
          this.add("braces", "insertion", function(state, action, editor, session, text) {
            var cursor = editor.getCursorPosition();
            var line = session.doc.getLine(cursor.row);
            if (text == "{") {
              initContext(editor);
              var selection = editor.getSelectionRange();
              var selected = session.doc.getTextRange(selection);
              if (selected !== "" && selected !== "{" && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, "{", "}");
              } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                if (/[\]\}\)]/.test(line[cursor.column]) || editor.inMultiSelectMode || options && options.braces) {
                  CstyleBehaviour.recordAutoInsert(editor, session, "}");
                  return {
                    text: "{}",
                    selection: [1, 1]
                  };
                } else {
                  CstyleBehaviour.recordMaybeInsert(editor, session, "{");
                  return {
                    text: "{",
                    selection: [1, 1]
                  };
                }
              }
            } else if (text == "}") {
              initContext(editor);
              var rightChar = line.substring(cursor.column, cursor.column + 1);
              if (rightChar == "}") {
                var matching = session.$findOpeningBracket("}", { column: cursor.column + 1, row: cursor.row });
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                  CstyleBehaviour.popAutoInsertedClosing();
                  return {
                    text: "",
                    selection: [1, 1]
                  };
                }
              }
            } else if (text == "\n" || text == "\r\n") {
              initContext(editor);
              var closing = "";
              if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {
                closing = lang.stringRepeat("}", context.maybeInsertedBrackets);
                CstyleBehaviour.clearMaybeInsertedClosing();
              }
              var rightChar = line.substring(cursor.column, cursor.column + 1);
              if (rightChar === "}") {
                var openBracePos = session.findMatchingBracket({ row: cursor.row, column: cursor.column + 1 }, "}");
                if (!openBracePos)
                  return null;
                var next_indent = this.$getIndent(session.getLine(openBracePos.row));
              } else if (closing) {
                var next_indent = this.$getIndent(line);
              } else {
                CstyleBehaviour.clearMaybeInsertedClosing();
                return;
              }
              var indent = next_indent + session.getTabString();
              return {
                text: "\n" + indent + "\n" + next_indent + closing,
                selection: [1, indent.length, 1, indent.length]
              };
            } else {
              CstyleBehaviour.clearMaybeInsertedClosing();
            }
          });
          this.add("braces", "deletion", function(state, action, editor, session, range) {
            var selected = session.doc.getTextRange(range);
            if (!range.isMultiLine() && selected == "{") {
              initContext(editor);
              var line = session.doc.getLine(range.start.row);
              var rightChar = line.substring(range.end.column, range.end.column + 1);
              if (rightChar == "}") {
                range.end.column++;
                return range;
              } else {
                context.maybeInsertedBrackets--;
              }
            }
          });
          this.add("parens", "insertion", function(state, action, editor, session, text) {
            if (text == "(") {
              initContext(editor);
              var selection = editor.getSelectionRange();
              var selected = session.doc.getTextRange(selection);
              if (selected !== "" && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, "(", ")");
              } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                CstyleBehaviour.recordAutoInsert(editor, session, ")");
                return {
                  text: "()",
                  selection: [1, 1]
                };
              }
            } else if (text == ")") {
              initContext(editor);
              var cursor = editor.getCursorPosition();
              var line = session.doc.getLine(cursor.row);
              var rightChar = line.substring(cursor.column, cursor.column + 1);
              if (rightChar == ")") {
                var matching = session.$findOpeningBracket(")", { column: cursor.column + 1, row: cursor.row });
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                  CstyleBehaviour.popAutoInsertedClosing();
                  return {
                    text: "",
                    selection: [1, 1]
                  };
                }
              }
            }
          });
          this.add("parens", "deletion", function(state, action, editor, session, range) {
            var selected = session.doc.getTextRange(range);
            if (!range.isMultiLine() && selected == "(") {
              initContext(editor);
              var line = session.doc.getLine(range.start.row);
              var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
              if (rightChar == ")") {
                range.end.column++;
                return range;
              }
            }
          });
          this.add("brackets", "insertion", function(state, action, editor, session, text) {
            if (text == "[") {
              initContext(editor);
              var selection = editor.getSelectionRange();
              var selected = session.doc.getTextRange(selection);
              if (selected !== "" && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, "[", "]");
              } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                CstyleBehaviour.recordAutoInsert(editor, session, "]");
                return {
                  text: "[]",
                  selection: [1, 1]
                };
              }
            } else if (text == "]") {
              initContext(editor);
              var cursor = editor.getCursorPosition();
              var line = session.doc.getLine(cursor.row);
              var rightChar = line.substring(cursor.column, cursor.column + 1);
              if (rightChar == "]") {
                var matching = session.$findOpeningBracket("]", { column: cursor.column + 1, row: cursor.row });
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                  CstyleBehaviour.popAutoInsertedClosing();
                  return {
                    text: "",
                    selection: [1, 1]
                  };
                }
              }
            }
          });
          this.add("brackets", "deletion", function(state, action, editor, session, range) {
            var selected = session.doc.getTextRange(range);
            if (!range.isMultiLine() && selected == "[") {
              initContext(editor);
              var line = session.doc.getLine(range.start.row);
              var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
              if (rightChar == "]") {
                range.end.column++;
                return range;
              }
            }
          });
          this.add("string_dquotes", "insertion", function(state, action, editor, session, text) {
            var quotes = session.$mode.$quotes || defaultQuotes;
            if (text.length == 1 && quotes[text]) {
              if (this.lineCommentStart && this.lineCommentStart.indexOf(text) != -1)
                return;
              initContext(editor);
              var quote = text;
              var selection = editor.getSelectionRange();
              var selected = session.doc.getTextRange(selection);
              if (selected !== "" && (selected.length != 1 || !quotes[selected]) && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, quote, quote);
              } else if (!selected) {
                var cursor = editor.getCursorPosition();
                var line = session.doc.getLine(cursor.row);
                var leftChar = line.substring(cursor.column - 1, cursor.column);
                var rightChar = line.substring(cursor.column, cursor.column + 1);
                var token = session.getTokenAt(cursor.row, cursor.column);
                var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);
                if (leftChar == "\\" && token && /escape/.test(token.type))
                  return null;
                var stringBefore = token && /string|escape/.test(token.type);
                var stringAfter = !rightToken || /string|escape/.test(rightToken.type);
                var pair;
                if (rightChar == quote) {
                  pair = stringBefore !== stringAfter;
                  if (pair && /string\.end/.test(rightToken.type))
                    pair = false;
                } else {
                  if (stringBefore && !stringAfter)
                    return null;
                  if (stringBefore && stringAfter)
                    return null;
                  var wordRe = session.$mode.tokenRe;
                  wordRe.lastIndex = 0;
                  var isWordBefore = wordRe.test(leftChar);
                  wordRe.lastIndex = 0;
                  var isWordAfter = wordRe.test(leftChar);
                  if (isWordBefore || isWordAfter)
                    return null;
                  if (rightChar && !/[\s;,.})\]\\]/.test(rightChar))
                    return null;
                  var charBefore = line[cursor.column - 2];
                  if (leftChar == quote && (charBefore == quote || wordRe.test(charBefore)))
                    return null;
                  pair = true;
                }
                return {
                  text: pair ? quote + quote : "",
                  selection: [1, 1]
                };
              }
            }
          });
          this.add("string_dquotes", "deletion", function(state, action, editor, session, range) {
            var quotes = session.$mode.$quotes || defaultQuotes;
            var selected = session.doc.getTextRange(range);
            if (!range.isMultiLine() && quotes.hasOwnProperty(selected)) {
              initContext(editor);
              var line = session.doc.getLine(range.start.row);
              var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
              if (rightChar == selected) {
                range.end.column++;
                return range;
              }
            }
          });
        };
        CstyleBehaviour.isSaneInsertion = function(editor, session) {
          var cursor = editor.getCursorPosition();
          var iterator = new TokenIterator(session, cursor.row, cursor.column);
          if (!this.$matchTokenType(iterator.getCurrentToken() || "text", SAFE_INSERT_IN_TOKENS)) {
            if (/[)}\]]/.test(editor.session.getLine(cursor.row)[cursor.column]))
              return true;
            var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);
            if (!this.$matchTokenType(iterator2.getCurrentToken() || "text", SAFE_INSERT_IN_TOKENS))
              return false;
          }
          iterator.stepForward();
          return iterator.getCurrentTokenRow() !== cursor.row || this.$matchTokenType(iterator.getCurrentToken() || "text", SAFE_INSERT_BEFORE_TOKENS);
        };
        CstyleBehaviour.$matchTokenType = function(token, types3) {
          return types3.indexOf(token.type || token) > -1;
        };
        CstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {
          var cursor = editor.getCursorPosition();
          var line = session.doc.getLine(cursor.row);
          if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))
            context.autoInsertedBrackets = 0;
          context.autoInsertedRow = cursor.row;
          context.autoInsertedLineEnd = bracket + line.substr(cursor.column);
          context.autoInsertedBrackets++;
        };
        CstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {
          var cursor = editor.getCursorPosition();
          var line = session.doc.getLine(cursor.row);
          if (!this.isMaybeInsertedClosing(cursor, line))
            context.maybeInsertedBrackets = 0;
          context.maybeInsertedRow = cursor.row;
          context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;
          context.maybeInsertedLineEnd = line.substr(cursor.column);
          context.maybeInsertedBrackets++;
        };
        CstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {
          return context.autoInsertedBrackets > 0 && cursor.row === context.autoInsertedRow && bracket === context.autoInsertedLineEnd[0] && line.substr(cursor.column) === context.autoInsertedLineEnd;
        };
        CstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {
          return context.maybeInsertedBrackets > 0 && cursor.row === context.maybeInsertedRow && line.substr(cursor.column) === context.maybeInsertedLineEnd && line.substr(0, cursor.column) == context.maybeInsertedLineStart;
        };
        CstyleBehaviour.popAutoInsertedClosing = function() {
          context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);
          context.autoInsertedBrackets--;
        };
        CstyleBehaviour.clearMaybeInsertedClosing = function() {
          if (context) {
            context.maybeInsertedBrackets = 0;
            context.maybeInsertedRow = -1;
          }
        };
        oop.inherits(CstyleBehaviour, Behaviour);
        exports2.CstyleBehaviour = CstyleBehaviour;
      });
      ace.define("ace/unicode", ["require", "exports", "module"], function(require2, exports2, module2) {
        "use strict";
        var wordChars = [48, 9, 8, 25, 5, 0, 2, 25, 48, 0, 11, 0, 5, 0, 6, 22, 2, 30, 2, 457, 5, 11, 15, 4, 8, 0, 2, 0, 18, 116, 2, 1, 3, 3, 9, 0, 2, 2, 2, 0, 2, 19, 2, 82, 2, 138, 2, 4, 3, 155, 12, 37, 3, 0, 8, 38, 10, 44, 2, 0, 2, 1, 2, 1, 2, 0, 9, 26, 6, 2, 30, 10, 7, 61, 2, 9, 5, 101, 2, 7, 3, 9, 2, 18, 3, 0, 17, 58, 3, 100, 15, 53, 5, 0, 6, 45, 211, 57, 3, 18, 2, 5, 3, 11, 3, 9, 2, 1, 7, 6, 2, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 0, 4, 3, 3, 8, 3, 1, 3, 3, 9, 0, 5, 1, 2, 4, 3, 11, 16, 2, 2, 5, 5, 1, 3, 21, 2, 6, 2, 1, 2, 1, 2, 1, 3, 0, 2, 4, 5, 1, 3, 2, 4, 0, 8, 3, 2, 0, 8, 15, 12, 2, 2, 8, 2, 2, 2, 21, 2, 6, 2, 1, 2, 4, 3, 9, 2, 2, 2, 2, 3, 0, 16, 3, 3, 9, 18, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 3, 8, 3, 1, 3, 2, 9, 1, 5, 1, 2, 4, 3, 9, 2, 0, 17, 1, 2, 5, 4, 2, 2, 3, 4, 1, 2, 0, 2, 1, 4, 1, 4, 2, 4, 11, 5, 4, 4, 2, 2, 3, 3, 0, 7, 0, 15, 9, 18, 2, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 4, 7, 2, 2, 2, 3, 8, 1, 2, 1, 7, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 3, 8, 2, 2, 2, 3, 8, 1, 8, 0, 2, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 15, 4, 7, 2, 2, 2, 3, 10, 0, 9, 3, 3, 9, 11, 5, 3, 1, 2, 17, 4, 23, 2, 8, 2, 0, 3, 6, 4, 0, 5, 5, 2, 0, 2, 7, 19, 1, 14, 57, 6, 14, 2, 9, 40, 1, 2, 0, 3, 1, 2, 0, 3, 0, 7, 3, 2, 6, 2, 2, 2, 0, 2, 0, 3, 1, 2, 12, 2, 2, 3, 4, 2, 0, 2, 5, 3, 9, 3, 1, 35, 0, 24, 1, 7, 9, 12, 0, 2, 0, 2, 0, 5, 9, 2, 35, 5, 19, 2, 5, 5, 7, 2, 35, 10, 0, 58, 73, 7, 77, 3, 37, 11, 42, 2, 0, 4, 328, 2, 3, 3, 6, 2, 0, 2, 3, 3, 40, 2, 3, 3, 32, 2, 3, 3, 6, 2, 0, 2, 3, 3, 14, 2, 56, 2, 3, 3, 66, 5, 0, 33, 15, 17, 84, 13, 619, 3, 16, 2, 25, 6, 74, 22, 12, 2, 6, 12, 20, 12, 19, 13, 12, 2, 2, 2, 1, 13, 51, 3, 29, 4, 0, 5, 1, 3, 9, 34, 2, 3, 9, 7, 87, 9, 42, 6, 69, 11, 28, 4, 11, 5, 11, 11, 39, 3, 4, 12, 43, 5, 25, 7, 10, 38, 27, 5, 62, 2, 28, 3, 10, 7, 9, 14, 0, 89, 75, 5, 9, 18, 8, 13, 42, 4, 11, 71, 55, 9, 9, 4, 48, 83, 2, 2, 30, 14, 230, 23, 280, 3, 5, 3, 37, 3, 5, 3, 7, 2, 0, 2, 0, 2, 0, 2, 30, 3, 52, 2, 6, 2, 0, 4, 2, 2, 6, 4, 3, 3, 5, 5, 12, 6, 2, 2, 6, 67, 1, 20, 0, 29, 0, 14, 0, 17, 4, 60, 12, 5, 0, 4, 11, 18, 0, 5, 0, 3, 9, 2, 0, 4, 4, 7, 0, 2, 0, 2, 0, 2, 3, 2, 10, 3, 3, 6, 4, 5, 0, 53, 1, 2684, 46, 2, 46, 2, 132, 7, 6, 15, 37, 11, 53, 10, 0, 17, 22, 10, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 31, 48, 0, 470, 1, 36, 5, 2, 4, 6, 1, 5, 85, 3, 1, 3, 2, 2, 89, 2, 3, 6, 40, 4, 93, 18, 23, 57, 15, 513, 6581, 75, 20939, 53, 1164, 68, 45, 3, 268, 4, 27, 21, 31, 3, 13, 13, 1, 2, 24, 9, 69, 11, 1, 38, 8, 3, 102, 3, 1, 111, 44, 25, 51, 13, 68, 12, 9, 7, 23, 4, 0, 5, 45, 3, 35, 13, 28, 4, 64, 15, 10, 39, 54, 10, 13, 3, 9, 7, 22, 4, 1, 5, 66, 25, 2, 227, 42, 2, 1, 3, 9, 7, 11171, 13, 22, 5, 48, 8453, 301, 3, 61, 3, 105, 39, 6, 13, 4, 6, 11, 2, 12, 2, 4, 2, 0, 2, 1, 2, 1, 2, 107, 34, 362, 19, 63, 3, 53, 41, 11, 5, 15, 17, 6, 13, 1, 25, 2, 33, 4, 2, 134, 20, 9, 8, 25, 5, 0, 2, 25, 12, 88, 4, 5, 3, 5, 3, 5, 3, 2];
        var code = 0;
        var str = [];
        for (var i3 = 0; i3 < wordChars.length; i3 += 2) {
          str.push(code += wordChars[i3]);
          if (wordChars[i3 + 1])
            str.push(45, code += wordChars[i3 + 1]);
        }
        exports2.wordChars = String.fromCharCode.apply(null, str);
      });
      ace.define("ace/mode/text", ["require", "exports", "module", "ace/config", "ace/tokenizer", "ace/mode/text_highlight_rules", "ace/mode/behaviour/cstyle", "ace/unicode", "ace/lib/lang", "ace/token_iterator", "ace/range"], function(require2, exports2, module2) {
        "use strict";
        var config2 = require2("../config");
        var Tokenizer = require2("../tokenizer").Tokenizer;
        var TextHighlightRules = require2("./text_highlight_rules").TextHighlightRules;
        var CstyleBehaviour = require2("./behaviour/cstyle").CstyleBehaviour;
        var unicode = require2("../unicode");
        var lang = require2("../lib/lang");
        var TokenIterator = require2("../token_iterator").TokenIterator;
        var Range = require2("../range").Range;
        var Mode = function() {
          this.HighlightRules = TextHighlightRules;
        };
        (function() {
          this.$defaultBehaviour = new CstyleBehaviour();
          this.tokenRe = new RegExp("^[" + unicode.wordChars + "\\$_]+", "g");
          this.nonTokenRe = new RegExp("^(?:[^" + unicode.wordChars + "\\$_]|\\s])+", "g");
          this.getTokenizer = function() {
            if (!this.$tokenizer) {
              this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig);
              this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());
            }
            return this.$tokenizer;
          };
          this.lineCommentStart = "";
          this.blockComment = "";
          this.toggleCommentLines = function(state, session, startRow, endRow) {
            var doc = session.doc;
            var ignoreBlankLines = true;
            var shouldRemove = true;
            var minIndent = Infinity;
            var tabSize = session.getTabSize();
            var insertAtTabStop = false;
            if (!this.lineCommentStart) {
              if (!this.blockComment)
                return false;
              var lineCommentStart = this.blockComment.start;
              var lineCommentEnd = this.blockComment.end;
              var regexpStart = new RegExp("^(\\s*)(?:" + lang.escapeRegExp(lineCommentStart) + ")");
              var regexpEnd = new RegExp("(?:" + lang.escapeRegExp(lineCommentEnd) + ")\\s*$");
              var comment = function(line, i3) {
                if (testRemove(line, i3))
                  return;
                if (!ignoreBlankLines || /\S/.test(line)) {
                  doc.insertInLine({ row: i3, column: line.length }, lineCommentEnd);
                  doc.insertInLine({ row: i3, column: minIndent }, lineCommentStart);
                }
              };
              var uncomment = function(line, i3) {
                var m2;
                if (m2 = line.match(regexpEnd))
                  doc.removeInLine(i3, line.length - m2[0].length, line.length);
                if (m2 = line.match(regexpStart))
                  doc.removeInLine(i3, m2[1].length, m2[0].length);
              };
              var testRemove = function(line, row) {
                if (regexpStart.test(line))
                  return true;
                var tokens = session.getTokens(row);
                for (var i3 = 0; i3 < tokens.length; i3++) {
                  if (tokens[i3].type === "comment")
                    return true;
                }
              };
            } else {
              if (Array.isArray(this.lineCommentStart)) {
                var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join("|");
                var lineCommentStart = this.lineCommentStart[0];
              } else {
                var regexpStart = lang.escapeRegExp(this.lineCommentStart);
                var lineCommentStart = this.lineCommentStart;
              }
              regexpStart = new RegExp("^(\\s*)(?:" + regexpStart + ") ?");
              insertAtTabStop = session.getUseSoftTabs();
              var uncomment = function(line, i3) {
                var m2 = line.match(regexpStart);
                if (!m2)
                  return;
                var start4 = m2[1].length, end3 = m2[0].length;
                if (!shouldInsertSpace(line, start4, end3) && m2[0][end3 - 1] == " ")
                  end3--;
                doc.removeInLine(i3, start4, end3);
              };
              var commentWithSpace = lineCommentStart + " ";
              var comment = function(line, i3) {
                if (!ignoreBlankLines || /\S/.test(line)) {
                  if (shouldInsertSpace(line, minIndent, minIndent))
                    doc.insertInLine({ row: i3, column: minIndent }, commentWithSpace);
                  else
                    doc.insertInLine({ row: i3, column: minIndent }, lineCommentStart);
                }
              };
              var testRemove = function(line, i3) {
                return regexpStart.test(line);
              };
              var shouldInsertSpace = function(line, before, after) {
                var spaces = 0;
                while (before-- && line.charAt(before) == " ")
                  spaces++;
                if (spaces % tabSize != 0)
                  return false;
                var spaces = 0;
                while (line.charAt(after++) == " ")
                  spaces++;
                if (tabSize > 2)
                  return spaces % tabSize != tabSize - 1;
                else
                  return spaces % tabSize == 0;
              };
            }
            function iter(fun) {
              for (var i3 = startRow; i3 <= endRow; i3++)
                fun(doc.getLine(i3), i3);
            }
            var minEmptyLength = Infinity;
            iter(function(line, i3) {
              var indent = line.search(/\S/);
              if (indent !== -1) {
                if (indent < minIndent)
                  minIndent = indent;
                if (shouldRemove && !testRemove(line, i3))
                  shouldRemove = false;
              } else if (minEmptyLength > line.length) {
                minEmptyLength = line.length;
              }
            });
            if (minIndent == Infinity) {
              minIndent = minEmptyLength;
              ignoreBlankLines = false;
              shouldRemove = false;
            }
            if (insertAtTabStop && minIndent % tabSize != 0)
              minIndent = Math.floor(minIndent / tabSize) * tabSize;
            iter(shouldRemove ? uncomment : comment);
          };
          this.toggleBlockComment = function(state, session, range, cursor) {
            var comment = this.blockComment;
            if (!comment)
              return;
            if (!comment.start && comment[0])
              comment = comment[0];
            var iterator = new TokenIterator(session, cursor.row, cursor.column);
            var token = iterator.getCurrentToken();
            var sel = session.selection;
            var initialRange = session.selection.toOrientedRange();
            var startRow, colDiff;
            if (token && /comment/.test(token.type)) {
              var startRange, endRange;
              while (token && /comment/.test(token.type)) {
                var i3 = token.value.indexOf(comment.start);
                if (i3 != -1) {
                  var row = iterator.getCurrentTokenRow();
                  var column = iterator.getCurrentTokenColumn() + i3;
                  startRange = new Range(row, column, row, column + comment.start.length);
                  break;
                }
                token = iterator.stepBackward();
              }
              var iterator = new TokenIterator(session, cursor.row, cursor.column);
              var token = iterator.getCurrentToken();
              while (token && /comment/.test(token.type)) {
                var i3 = token.value.indexOf(comment.end);
                if (i3 != -1) {
                  var row = iterator.getCurrentTokenRow();
                  var column = iterator.getCurrentTokenColumn() + i3;
                  endRange = new Range(row, column, row, column + comment.end.length);
                  break;
                }
                token = iterator.stepForward();
              }
              if (endRange)
                session.remove(endRange);
              if (startRange) {
                session.remove(startRange);
                startRow = startRange.start.row;
                colDiff = -comment.start.length;
              }
            } else {
              colDiff = comment.start.length;
              startRow = range.start.row;
              session.insert(range.end, comment.end);
              session.insert(range.start, comment.start);
            }
            if (initialRange.start.row == startRow)
              initialRange.start.column += colDiff;
            if (initialRange.end.row == startRow)
              initialRange.end.column += colDiff;
            session.selection.fromOrientedRange(initialRange);
          };
          this.getNextLineIndent = function(state, line, tab2) {
            return this.$getIndent(line);
          };
          this.checkOutdent = function(state, line, input) {
            return false;
          };
          this.autoOutdent = function(state, doc, row) {
          };
          this.$getIndent = function(line) {
            return line.match(/^\s*/)[0];
          };
          this.createWorker = function(session) {
            return null;
          };
          this.createModeDelegates = function(mapping) {
            this.$embeds = [];
            this.$modes = {};
            for (var i3 in mapping) {
              if (mapping[i3]) {
                var Mode2 = mapping[i3];
                var id = Mode2.prototype.$id;
                var mode = config2.$modes[id];
                if (!mode)
                  config2.$modes[id] = mode = new Mode2();
                if (!config2.$modes[i3])
                  config2.$modes[i3] = mode;
                this.$embeds.push(i3);
                this.$modes[i3] = mode;
              }
            }
            var delegations = [
              "toggleBlockComment",
              "toggleCommentLines",
              "getNextLineIndent",
              "checkOutdent",
              "autoOutdent",
              "transformAction",
              "getCompletions"
            ];
            for (var i3 = 0; i3 < delegations.length; i3++) {
              (function(scope) {
                var functionName = delegations[i3];
                var defaultHandler = scope[functionName];
                scope[delegations[i3]] = function() {
                  return this.$delegator(functionName, arguments, defaultHandler);
                };
              })(this);
            }
          };
          this.$delegator = function(method, args, defaultHandler) {
            var state = args[0] || "start";
            if (typeof state != "string") {
              if (Array.isArray(state[2])) {
                var language = state[2][state[2].length - 1];
                var mode = this.$modes[language];
                if (mode)
                  return mode[method].apply(mode, [state[1]].concat([].slice.call(args, 1)));
              }
              state = state[0] || "start";
            }
            for (var i3 = 0; i3 < this.$embeds.length; i3++) {
              if (!this.$modes[this.$embeds[i3]])
                continue;
              var split = state.split(this.$embeds[i3]);
              if (!split[0] && split[1]) {
                args[0] = split[1];
                var mode = this.$modes[this.$embeds[i3]];
                return mode[method].apply(mode, args);
              }
            }
            var ret = defaultHandler.apply(this, args);
            return defaultHandler ? ret : void 0;
          };
          this.transformAction = function(state, action, editor, session, param) {
            if (this.$behaviour) {
              var behaviours = this.$behaviour.getBehaviours();
              for (var key in behaviours) {
                if (behaviours[key][action]) {
                  var ret = behaviours[key][action].apply(this, arguments);
                  if (ret) {
                    return ret;
                  }
                }
              }
            }
          };
          this.getKeywords = function(append) {
            if (!this.completionKeywords) {
              var rules = this.$tokenizer.rules;
              var completionKeywords = [];
              for (var rule in rules) {
                var ruleItr = rules[rule];
                for (var r2 = 0, l3 = ruleItr.length; r2 < l3; r2++) {
                  if (typeof ruleItr[r2].token === "string") {
                    if (/keyword|support|storage/.test(ruleItr[r2].token))
                      completionKeywords.push(ruleItr[r2].regex);
                  } else if (typeof ruleItr[r2].token === "object") {
                    for (var a3 = 0, aLength = ruleItr[r2].token.length; a3 < aLength; a3++) {
                      if (/keyword|support|storage/.test(ruleItr[r2].token[a3])) {
                        var rule = ruleItr[r2].regex.match(/\(.+?\)/g)[a3];
                        completionKeywords.push(rule.substr(1, rule.length - 2));
                      }
                    }
                  }
                }
              }
              this.completionKeywords = completionKeywords;
            }
            if (!append)
              return this.$keywordList;
            return completionKeywords.concat(this.$keywordList || []);
          };
          this.$createKeywordList = function() {
            if (!this.$highlightRules)
              this.getTokenizer();
            return this.$keywordList = this.$highlightRules.$keywordList || [];
          };
          this.getCompletions = function(state, session, pos, prefix3) {
            var keywords = this.$keywordList || this.$createKeywordList();
            return keywords.map(function(word) {
              return {
                name: word,
                value: word,
                score: 0,
                meta: "keyword"
              };
            });
          };
          this.$id = "ace/mode/text";
        }).call(Mode.prototype);
        exports2.Mode = Mode;
      });
      ace.define("ace/apply_delta", ["require", "exports", "module"], function(require2, exports2, module2) {
        "use strict";
        function throwDeltaError(delta, errorText) {
          console.log("Invalid Delta:", delta);
          throw "Invalid Delta: " + errorText;
        }
        function positionInDocument(docLines, position3) {
          return position3.row >= 0 && position3.row < docLines.length && position3.column >= 0 && position3.column <= docLines[position3.row].length;
        }
        function validateDelta(docLines, delta) {
          if (delta.action != "insert" && delta.action != "remove")
            throwDeltaError(delta, "delta.action must be 'insert' or 'remove'");
          if (!(delta.lines instanceof Array))
            throwDeltaError(delta, "delta.lines must be an Array");
          if (!delta.start || !delta.end)
            throwDeltaError(delta, "delta.start/end must be an present");
          var start4 = delta.start;
          if (!positionInDocument(docLines, delta.start))
            throwDeltaError(delta, "delta.start must be contained in document");
          var end3 = delta.end;
          if (delta.action == "remove" && !positionInDocument(docLines, end3))
            throwDeltaError(delta, "delta.end must contained in document for 'remove' actions");
          var numRangeRows = end3.row - start4.row;
          var numRangeLastLineChars = end3.column - (numRangeRows == 0 ? start4.column : 0);
          if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)
            throwDeltaError(delta, "delta.range must match delta lines");
        }
        exports2.applyDelta = function(docLines, delta, doNotValidate) {
          var row = delta.start.row;
          var startColumn = delta.start.column;
          var line = docLines[row] || "";
          switch (delta.action) {
            case "insert":
              var lines = delta.lines;
              if (lines.length === 1) {
                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);
              } else {
                var args = [row, 1].concat(delta.lines);
                docLines.splice.apply(docLines, args);
                docLines[row] = line.substring(0, startColumn) + docLines[row];
                docLines[row + delta.lines.length - 1] += line.substring(startColumn);
              }
              break;
            case "remove":
              var endColumn = delta.end.column;
              var endRow = delta.end.row;
              if (row === endRow) {
                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);
              } else {
                docLines.splice(row, endRow - row + 1, line.substring(0, startColumn) + docLines[endRow].substring(endColumn));
              }
              break;
          }
        };
      });
      ace.define("ace/anchor", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("./lib/oop");
        var EventEmitter = require2("./lib/event_emitter").EventEmitter;
        var Anchor = exports2.Anchor = function(doc, row, column) {
          this.$onChange = this.onChange.bind(this);
          this.attach(doc);
          if (typeof column == "undefined")
            this.setPosition(row.row, row.column);
          else
            this.setPosition(row, column);
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.getPosition = function() {
            return this.$clipPositionToDocument(this.row, this.column);
          };
          this.getDocument = function() {
            return this.document;
          };
          this.$insertRight = false;
          this.onChange = function(delta) {
            if (delta.start.row == delta.end.row && delta.start.row != this.row)
              return;
            if (delta.start.row > this.row)
              return;
            var point = $getTransformedPoint(delta, { row: this.row, column: this.column }, this.$insertRight);
            this.setPosition(point.row, point.column, true);
          };
          function $pointsInOrder(point1, point2, equalPointsInOrder) {
            var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;
            return point1.row < point2.row || point1.row == point2.row && bColIsAfter;
          }
          function $getTransformedPoint(delta, point, moveIfEqual) {
            var deltaIsInsert = delta.action == "insert";
            var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row);
            var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);
            var deltaStart = delta.start;
            var deltaEnd = deltaIsInsert ? deltaStart : delta.end;
            if ($pointsInOrder(point, deltaStart, moveIfEqual)) {
              return {
                row: point.row,
                column: point.column
              };
            }
            if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {
              return {
                row: point.row + deltaRowShift,
                column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)
              };
            }
            return {
              row: deltaStart.row,
              column: deltaStart.column
            };
          }
          this.setPosition = function(row, column, noClip) {
            var pos;
            if (noClip) {
              pos = {
                row,
                column
              };
            } else {
              pos = this.$clipPositionToDocument(row, column);
            }
            if (this.row == pos.row && this.column == pos.column)
              return;
            var old = {
              row: this.row,
              column: this.column
            };
            this.row = pos.row;
            this.column = pos.column;
            this._signal("change", {
              old,
              value: pos
            });
          };
          this.detach = function() {
            this.document.off("change", this.$onChange);
          };
          this.attach = function(doc) {
            this.document = doc || this.document;
            this.document.on("change", this.$onChange);
          };
          this.$clipPositionToDocument = function(row, column) {
            var pos = {};
            if (row >= this.document.getLength()) {
              pos.row = Math.max(0, this.document.getLength() - 1);
              pos.column = this.document.getLine(pos.row).length;
            } else if (row < 0) {
              pos.row = 0;
              pos.column = 0;
            } else {
              pos.row = row;
              pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));
            }
            if (column < 0)
              pos.column = 0;
            return pos;
          };
        }).call(Anchor.prototype);
      });
      ace.define("ace/document", ["require", "exports", "module", "ace/lib/oop", "ace/apply_delta", "ace/lib/event_emitter", "ace/range", "ace/anchor"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("./lib/oop");
        var applyDelta = require2("./apply_delta").applyDelta;
        var EventEmitter = require2("./lib/event_emitter").EventEmitter;
        var Range = require2("./range").Range;
        var Anchor = require2("./anchor").Anchor;
        var Document = function(textOrLines) {
          this.$lines = [""];
          if (textOrLines.length === 0) {
            this.$lines = [""];
          } else if (Array.isArray(textOrLines)) {
            this.insertMergedLines({ row: 0, column: 0 }, textOrLines);
          } else {
            this.insert({ row: 0, column: 0 }, textOrLines);
          }
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.setValue = function(text) {
            var len = this.getLength() - 1;
            this.remove(new Range(0, 0, len, this.getLine(len).length));
            this.insert({ row: 0, column: 0 }, text);
          };
          this.getValue = function() {
            return this.getAllLines().join(this.getNewLineCharacter());
          };
          this.createAnchor = function(row, column) {
            return new Anchor(this, row, column);
          };
          if ("aaa".split(/a/).length === 0) {
            this.$split = function(text) {
              return text.replace(/\r\n|\r/g, "\n").split("\n");
            };
          } else {
            this.$split = function(text) {
              return text.split(/\r\n|\r|\n/);
            };
          }
          this.$detectNewLine = function(text) {
            var match2 = text.match(/^.*?(\r\n|\r|\n)/m);
            this.$autoNewLine = match2 ? match2[1] : "\n";
            this._signal("changeNewLineMode");
          };
          this.getNewLineCharacter = function() {
            switch (this.$newLineMode) {
              case "windows":
                return "\r\n";
              case "unix":
                return "\n";
              default:
                return this.$autoNewLine || "\n";
            }
          };
          this.$autoNewLine = "";
          this.$newLineMode = "auto";
          this.setNewLineMode = function(newLineMode) {
            if (this.$newLineMode === newLineMode)
              return;
            this.$newLineMode = newLineMode;
            this._signal("changeNewLineMode");
          };
          this.getNewLineMode = function() {
            return this.$newLineMode;
          };
          this.isNewLine = function(text) {
            return text == "\r\n" || text == "\r" || text == "\n";
          };
          this.getLine = function(row) {
            return this.$lines[row] || "";
          };
          this.getLines = function(firstRow, lastRow) {
            return this.$lines.slice(firstRow, lastRow + 1);
          };
          this.getAllLines = function() {
            return this.getLines(0, this.getLength());
          };
          this.getLength = function() {
            return this.$lines.length;
          };
          this.getTextRange = function(range) {
            return this.getLinesForRange(range).join(this.getNewLineCharacter());
          };
          this.getLinesForRange = function(range) {
            var lines;
            if (range.start.row === range.end.row) {
              lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];
            } else {
              lines = this.getLines(range.start.row, range.end.row);
              lines[0] = (lines[0] || "").substring(range.start.column);
              var l3 = lines.length - 1;
              if (range.end.row - range.start.row == l3)
                lines[l3] = lines[l3].substring(0, range.end.column);
            }
            return lines;
          };
          this.insertLines = function(row, lines) {
            console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead.");
            return this.insertFullLines(row, lines);
          };
          this.removeLines = function(firstRow, lastRow) {
            console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead.");
            return this.removeFullLines(firstRow, lastRow);
          };
          this.insertNewLine = function(position3) {
            console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.");
            return this.insertMergedLines(position3, ["", ""]);
          };
          this.insert = function(position3, text) {
            if (this.getLength() <= 1)
              this.$detectNewLine(text);
            return this.insertMergedLines(position3, this.$split(text));
          };
          this.insertInLine = function(position3, text) {
            var start4 = this.clippedPos(position3.row, position3.column);
            var end3 = this.pos(position3.row, position3.column + text.length);
            this.applyDelta({
              start: start4,
              end: end3,
              action: "insert",
              lines: [text]
            }, true);
            return this.clonePos(end3);
          };
          this.clippedPos = function(row, column) {
            var length = this.getLength();
            if (row === void 0) {
              row = length;
            } else if (row < 0) {
              row = 0;
            } else if (row >= length) {
              row = length - 1;
              column = void 0;
            }
            var line = this.getLine(row);
            if (column == void 0)
              column = line.length;
            column = Math.min(Math.max(column, 0), line.length);
            return { row, column };
          };
          this.clonePos = function(pos) {
            return { row: pos.row, column: pos.column };
          };
          this.pos = function(row, column) {
            return { row, column };
          };
          this.$clipPosition = function(position3) {
            var length = this.getLength();
            if (position3.row >= length) {
              position3.row = Math.max(0, length - 1);
              position3.column = this.getLine(length - 1).length;
            } else {
              position3.row = Math.max(0, position3.row);
              position3.column = Math.min(Math.max(position3.column, 0), this.getLine(position3.row).length);
            }
            return position3;
          };
          this.insertFullLines = function(row, lines) {
            row = Math.min(Math.max(row, 0), this.getLength());
            var column = 0;
            if (row < this.getLength()) {
              lines = lines.concat([""]);
              column = 0;
            } else {
              lines = [""].concat(lines);
              row--;
              column = this.$lines[row].length;
            }
            this.insertMergedLines({ row, column }, lines);
          };
          this.insertMergedLines = function(position3, lines) {
            var start4 = this.clippedPos(position3.row, position3.column);
            var end3 = {
              row: start4.row + lines.length - 1,
              column: (lines.length == 1 ? start4.column : 0) + lines[lines.length - 1].length
            };
            this.applyDelta({
              start: start4,
              end: end3,
              action: "insert",
              lines
            });
            return this.clonePos(end3);
          };
          this.remove = function(range) {
            var start4 = this.clippedPos(range.start.row, range.start.column);
            var end3 = this.clippedPos(range.end.row, range.end.column);
            this.applyDelta({
              start: start4,
              end: end3,
              action: "remove",
              lines: this.getLinesForRange({ start: start4, end: end3 })
            });
            return this.clonePos(start4);
          };
          this.removeInLine = function(row, startColumn, endColumn) {
            var start4 = this.clippedPos(row, startColumn);
            var end3 = this.clippedPos(row, endColumn);
            this.applyDelta({
              start: start4,
              end: end3,
              action: "remove",
              lines: this.getLinesForRange({ start: start4, end: end3 })
            }, true);
            return this.clonePos(start4);
          };
          this.removeFullLines = function(firstRow, lastRow) {
            firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);
            lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1);
            var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;
            var deleteLastNewLine = lastRow < this.getLength() - 1;
            var startRow = deleteFirstNewLine ? firstRow - 1 : firstRow;
            var startCol = deleteFirstNewLine ? this.getLine(startRow).length : 0;
            var endRow = deleteLastNewLine ? lastRow + 1 : lastRow;
            var endCol = deleteLastNewLine ? 0 : this.getLine(endRow).length;
            var range = new Range(startRow, startCol, endRow, endCol);
            var deletedLines = this.$lines.slice(firstRow, lastRow + 1);
            this.applyDelta({
              start: range.start,
              end: range.end,
              action: "remove",
              lines: this.getLinesForRange(range)
            });
            return deletedLines;
          };
          this.removeNewLine = function(row) {
            if (row < this.getLength() - 1 && row >= 0) {
              this.applyDelta({
                start: this.pos(row, this.getLine(row).length),
                end: this.pos(row + 1, 0),
                action: "remove",
                lines: ["", ""]
              });
            }
          };
          this.replace = function(range, text) {
            if (!(range instanceof Range))
              range = Range.fromPoints(range.start, range.end);
            if (text.length === 0 && range.isEmpty())
              return range.start;
            if (text == this.getTextRange(range))
              return range.end;
            this.remove(range);
            var end3;
            if (text) {
              end3 = this.insert(range.start, text);
            } else {
              end3 = range.start;
            }
            return end3;
          };
          this.applyDeltas = function(deltas) {
            for (var i3 = 0; i3 < deltas.length; i3++) {
              this.applyDelta(deltas[i3]);
            }
          };
          this.revertDeltas = function(deltas) {
            for (var i3 = deltas.length - 1; i3 >= 0; i3--) {
              this.revertDelta(deltas[i3]);
            }
          };
          this.applyDelta = function(delta, doNotValidate) {
            var isInsert = delta.action == "insert";
            if (isInsert ? delta.lines.length <= 1 && !delta.lines[0] : !Range.comparePoints(delta.start, delta.end)) {
              return;
            }
            if (isInsert && delta.lines.length > 2e4) {
              this.$splitAndapplyLargeDelta(delta, 2e4);
            } else {
              applyDelta(this.$lines, delta, doNotValidate);
              this._signal("change", delta);
            }
          };
          this.$safeApplyDelta = function(delta) {
            var docLength = this.$lines.length;
            if (delta.action == "remove" && delta.start.row < docLength && delta.end.row < docLength || delta.action == "insert" && delta.start.row <= docLength) {
              this.applyDelta(delta);
            }
          };
          this.$splitAndapplyLargeDelta = function(delta, MAX) {
            var lines = delta.lines;
            var l3 = lines.length - MAX + 1;
            var row = delta.start.row;
            var column = delta.start.column;
            for (var from = 0, to = 0; from < l3; from = to) {
              to += MAX - 1;
              var chunk = lines.slice(from, to);
              chunk.push("");
              this.applyDelta({
                start: this.pos(row + from, column),
                end: this.pos(row + to, column = 0),
                action: delta.action,
                lines: chunk
              }, true);
            }
            delta.lines = lines.slice(from);
            delta.start.row = row + from;
            delta.start.column = column;
            this.applyDelta(delta, true);
          };
          this.revertDelta = function(delta) {
            this.$safeApplyDelta({
              start: this.clonePos(delta.start),
              end: this.clonePos(delta.end),
              action: delta.action == "insert" ? "remove" : "insert",
              lines: delta.lines.slice()
            });
          };
          this.indexToPosition = function(index2, startRow) {
            var lines = this.$lines || this.getAllLines();
            var newlineLength = this.getNewLineCharacter().length;
            for (var i3 = startRow || 0, l3 = lines.length; i3 < l3; i3++) {
              index2 -= lines[i3].length + newlineLength;
              if (index2 < 0)
                return { row: i3, column: index2 + lines[i3].length + newlineLength };
            }
            return { row: l3 - 1, column: index2 + lines[l3 - 1].length + newlineLength };
          };
          this.positionToIndex = function(pos, startRow) {
            var lines = this.$lines || this.getAllLines();
            var newlineLength = this.getNewLineCharacter().length;
            var index2 = 0;
            var row = Math.min(pos.row, lines.length);
            for (var i3 = startRow || 0; i3 < row; ++i3)
              index2 += lines[i3].length + newlineLength;
            return index2 + pos.column;
          };
        }).call(Document.prototype);
        exports2.Document = Document;
      });
      ace.define("ace/background_tokenizer", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("./lib/oop");
        var EventEmitter = require2("./lib/event_emitter").EventEmitter;
        var BackgroundTokenizer = function(tokenizer, editor) {
          this.running = false;
          this.lines = [];
          this.states = [];
          this.currentLine = 0;
          this.tokenizer = tokenizer;
          var self2 = this;
          this.$worker = function() {
            if (!self2.running) {
              return;
            }
            var workerStart = new Date();
            var currentLine = self2.currentLine;
            var endLine = -1;
            var doc = self2.doc;
            var startLine = currentLine;
            while (self2.lines[currentLine])
              currentLine++;
            var len = doc.getLength();
            var processedLines = 0;
            self2.running = false;
            while (currentLine < len) {
              self2.$tokenizeRow(currentLine);
              endLine = currentLine;
              do {
                currentLine++;
              } while (self2.lines[currentLine]);
              processedLines++;
              if (processedLines % 5 === 0 && new Date() - workerStart > 20) {
                self2.running = setTimeout(self2.$worker, 20);
                break;
              }
            }
            self2.currentLine = currentLine;
            if (endLine == -1)
              endLine = currentLine;
            if (startLine <= endLine)
              self2.fireUpdateEvent(startLine, endLine);
          };
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.setTokenizer = function(tokenizer) {
            this.tokenizer = tokenizer;
            this.lines = [];
            this.states = [];
            this.start(0);
          };
          this.setDocument = function(doc) {
            this.doc = doc;
            this.lines = [];
            this.states = [];
            this.stop();
          };
          this.fireUpdateEvent = function(firstRow, lastRow) {
            var data = {
              first: firstRow,
              last: lastRow
            };
            this._signal("update", { data });
          };
          this.start = function(startRow) {
            this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());
            this.lines.splice(this.currentLine, this.lines.length);
            this.states.splice(this.currentLine, this.states.length);
            this.stop();
            this.running = setTimeout(this.$worker, 700);
          };
          this.scheduleStart = function() {
            if (!this.running)
              this.running = setTimeout(this.$worker, 700);
          };
          this.$updateOnChange = function(delta) {
            var startRow = delta.start.row;
            var len = delta.end.row - startRow;
            if (len === 0) {
              this.lines[startRow] = null;
            } else if (delta.action == "remove") {
              this.lines.splice(startRow, len + 1, null);
              this.states.splice(startRow, len + 1, null);
            } else {
              var args = Array(len + 1);
              args.unshift(startRow, 1);
              this.lines.splice.apply(this.lines, args);
              this.states.splice.apply(this.states, args);
            }
            this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());
            this.stop();
          };
          this.stop = function() {
            if (this.running)
              clearTimeout(this.running);
            this.running = false;
          };
          this.getTokens = function(row) {
            return this.lines[row] || this.$tokenizeRow(row);
          };
          this.getState = function(row) {
            if (this.currentLine == row)
              this.$tokenizeRow(row);
            return this.states[row] || "start";
          };
          this.$tokenizeRow = function(row) {
            var line = this.doc.getLine(row);
            var state = this.states[row - 1];
            var data = this.tokenizer.getLineTokens(line, state, row);
            if (this.states[row] + "" !== data.state + "") {
              this.states[row] = data.state;
              this.lines[row + 1] = null;
              if (this.currentLine > row + 1)
                this.currentLine = row + 1;
            } else if (this.currentLine == row) {
              this.currentLine = row + 1;
            }
            return this.lines[row] = data.tokens;
          };
          this.cleanup = function() {
            this.running = false;
            this.lines = [];
            this.states = [];
            this.currentLine = 0;
            this.removeAllListeners();
          };
        }).call(BackgroundTokenizer.prototype);
        exports2.BackgroundTokenizer = BackgroundTokenizer;
      });
      ace.define("ace/search_highlight", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range"], function(require2, exports2, module2) {
        "use strict";
        var lang = require2("./lib/lang");
        var oop = require2("./lib/oop");
        var Range = require2("./range").Range;
        var SearchHighlight = function(regExp, clazz, type) {
          this.setRegexp(regExp);
          this.clazz = clazz;
          this.type = type || "text";
        };
        (function() {
          this.MAX_RANGES = 500;
          this.setRegexp = function(regExp) {
            if (this.regExp + "" == regExp + "")
              return;
            this.regExp = regExp;
            this.cache = [];
          };
          this.update = function(html, markerLayer, session, config2) {
            if (!this.regExp)
              return;
            var start4 = config2.firstRow, end3 = config2.lastRow;
            var renderedMarkerRanges = {};
            for (var i3 = start4; i3 <= end3; i3++) {
              var ranges = this.cache[i3];
              if (ranges == null) {
                ranges = lang.getMatchOffsets(session.getLine(i3), this.regExp);
                if (ranges.length > this.MAX_RANGES)
                  ranges = ranges.slice(0, this.MAX_RANGES);
                ranges = ranges.map(function(match2) {
                  return new Range(i3, match2.offset, i3, match2.offset + match2.length);
                });
                this.cache[i3] = ranges.length ? ranges : "";
              }
              for (var j3 = ranges.length; j3--; ) {
                var rangeToAddMarkerTo = ranges[j3].toScreenRange(session);
                var rangeAsString = rangeToAddMarkerTo.toString();
                if (renderedMarkerRanges[rangeAsString])
                  continue;
                renderedMarkerRanges[rangeAsString] = true;
                markerLayer.drawSingleLineMarker(html, rangeToAddMarkerTo, this.clazz, config2);
              }
            }
          };
        }).call(SearchHighlight.prototype);
        exports2.SearchHighlight = SearchHighlight;
      });
      ace.define("ace/edit_session/fold_line", ["require", "exports", "module", "ace/range"], function(require2, exports2, module2) {
        "use strict";
        var Range = require2("../range").Range;
        function FoldLine(foldData, folds) {
          this.foldData = foldData;
          if (Array.isArray(folds)) {
            this.folds = folds;
          } else {
            folds = this.folds = [folds];
          }
          var last = folds[folds.length - 1];
          this.range = new Range(folds[0].start.row, folds[0].start.column, last.end.row, last.end.column);
          this.start = this.range.start;
          this.end = this.range.end;
          this.folds.forEach(function(fold) {
            fold.setFoldLine(this);
          }, this);
        }
        (function() {
          this.shiftRow = function(shift3) {
            this.start.row += shift3;
            this.end.row += shift3;
            this.folds.forEach(function(fold) {
              fold.start.row += shift3;
              fold.end.row += shift3;
            });
          };
          this.addFold = function(fold) {
            if (fold.sameRow) {
              if (fold.start.row < this.startRow || fold.endRow > this.endRow) {
                throw new Error("Can't add a fold to this FoldLine as it has no connection");
              }
              this.folds.push(fold);
              this.folds.sort(function(a3, b3) {
                return -a3.range.compareEnd(b3.start.row, b3.start.column);
              });
              if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {
                this.end.row = fold.end.row;
                this.end.column = fold.end.column;
              } else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {
                this.start.row = fold.start.row;
                this.start.column = fold.start.column;
              }
            } else if (fold.start.row == this.end.row) {
              this.folds.push(fold);
              this.end.row = fold.end.row;
              this.end.column = fold.end.column;
            } else if (fold.end.row == this.start.row) {
              this.folds.unshift(fold);
              this.start.row = fold.start.row;
              this.start.column = fold.start.column;
            } else {
              throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");
            }
            fold.foldLine = this;
          };
          this.containsRow = function(row) {
            return row >= this.start.row && row <= this.end.row;
          };
          this.walk = function(callback, endRow, endColumn) {
            var lastEnd = 0, folds = this.folds, fold, cmp, stop, isNewRow = true;
            if (endRow == null) {
              endRow = this.end.row;
              endColumn = this.end.column;
            }
            for (var i3 = 0; i3 < folds.length; i3++) {
              fold = folds[i3];
              cmp = fold.range.compareStart(endRow, endColumn);
              if (cmp == -1) {
                callback(null, endRow, endColumn, lastEnd, isNewRow);
                return;
              }
              stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);
              stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);
              if (stop || cmp === 0) {
                return;
              }
              isNewRow = !fold.sameRow;
              lastEnd = fold.end.column;
            }
            callback(null, endRow, endColumn, lastEnd, isNewRow);
          };
          this.getNextFoldTo = function(row, column) {
            var fold, cmp;
            for (var i3 = 0; i3 < this.folds.length; i3++) {
              fold = this.folds[i3];
              cmp = fold.range.compareEnd(row, column);
              if (cmp == -1) {
                return {
                  fold,
                  kind: "after"
                };
              } else if (cmp === 0) {
                return {
                  fold,
                  kind: "inside"
                };
              }
            }
            return null;
          };
          this.addRemoveChars = function(row, column, len) {
            var ret = this.getNextFoldTo(row, column), fold, folds;
            if (ret) {
              fold = ret.fold;
              if (ret.kind == "inside" && fold.start.column != column && fold.start.row != row) {
                window.console && window.console.log(row, column, fold);
              } else if (fold.start.row == row) {
                folds = this.folds;
                var i3 = folds.indexOf(fold);
                if (i3 === 0) {
                  this.start.column += len;
                }
                for (i3; i3 < folds.length; i3++) {
                  fold = folds[i3];
                  fold.start.column += len;
                  if (!fold.sameRow) {
                    return;
                  }
                  fold.end.column += len;
                }
                this.end.column += len;
              }
            }
          };
          this.split = function(row, column) {
            var pos = this.getNextFoldTo(row, column);
            if (!pos || pos.kind == "inside")
              return null;
            var fold = pos.fold;
            var folds = this.folds;
            var foldData = this.foldData;
            var i3 = folds.indexOf(fold);
            var foldBefore = folds[i3 - 1];
            this.end.row = foldBefore.end.row;
            this.end.column = foldBefore.end.column;
            folds = folds.splice(i3, folds.length - i3);
            var newFoldLine = new FoldLine(foldData, folds);
            foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);
            return newFoldLine;
          };
          this.merge = function(foldLineNext) {
            var folds = foldLineNext.folds;
            for (var i3 = 0; i3 < folds.length; i3++) {
              this.addFold(folds[i3]);
            }
            var foldData = this.foldData;
            foldData.splice(foldData.indexOf(foldLineNext), 1);
          };
          this.toString = function() {
            var ret = [this.range.toString() + ": ["];
            this.folds.forEach(function(fold) {
              ret.push("  " + fold.toString());
            });
            ret.push("]");
            return ret.join("\n");
          };
          this.idxToPosition = function(idx) {
            var lastFoldEndColumn = 0;
            for (var i3 = 0; i3 < this.folds.length; i3++) {
              var fold = this.folds[i3];
              idx -= fold.start.column - lastFoldEndColumn;
              if (idx < 0) {
                return {
                  row: fold.start.row,
                  column: fold.start.column + idx
                };
              }
              idx -= fold.placeholder.length;
              if (idx < 0) {
                return fold.start;
              }
              lastFoldEndColumn = fold.end.column;
            }
            return {
              row: this.end.row,
              column: this.end.column + idx
            };
          };
        }).call(FoldLine.prototype);
        exports2.FoldLine = FoldLine;
      });
      ace.define("ace/range_list", ["require", "exports", "module", "ace/range"], function(require2, exports2, module2) {
        "use strict";
        var Range = require2("./range").Range;
        var comparePoints = Range.comparePoints;
        var RangeList = function() {
          this.ranges = [];
          this.$bias = 1;
        };
        (function() {
          this.comparePoints = comparePoints;
          this.pointIndex = function(pos, excludeEdges, startIndex) {
            var list = this.ranges;
            for (var i3 = startIndex || 0; i3 < list.length; i3++) {
              var range = list[i3];
              var cmpEnd = comparePoints(pos, range.end);
              if (cmpEnd > 0)
                continue;
              var cmpStart = comparePoints(pos, range.start);
              if (cmpEnd === 0)
                return excludeEdges && cmpStart !== 0 ? -i3 - 2 : i3;
              if (cmpStart > 0 || cmpStart === 0 && !excludeEdges)
                return i3;
              return -i3 - 1;
            }
            return -i3 - 1;
          };
          this.add = function(range) {
            var excludeEdges = !range.isEmpty();
            var startIndex = this.pointIndex(range.start, excludeEdges);
            if (startIndex < 0)
              startIndex = -startIndex - 1;
            var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);
            if (endIndex < 0)
              endIndex = -endIndex - 1;
            else
              endIndex++;
            return this.ranges.splice(startIndex, endIndex - startIndex, range);
          };
          this.addList = function(list) {
            var removed = [];
            for (var i3 = list.length; i3--; ) {
              removed.push.apply(removed, this.add(list[i3]));
            }
            return removed;
          };
          this.substractPoint = function(pos) {
            var i3 = this.pointIndex(pos);
            if (i3 >= 0)
              return this.ranges.splice(i3, 1);
          };
          this.merge = function() {
            var removed = [];
            var list = this.ranges;
            list = list.sort(function(a3, b3) {
              return comparePoints(a3.start, b3.start);
            });
            var next = list[0], range;
            for (var i3 = 1; i3 < list.length; i3++) {
              range = next;
              next = list[i3];
              var cmp = comparePoints(range.end, next.start);
              if (cmp < 0)
                continue;
              if (cmp == 0 && !range.isEmpty() && !next.isEmpty())
                continue;
              if (comparePoints(range.end, next.end) < 0) {
                range.end.row = next.end.row;
                range.end.column = next.end.column;
              }
              list.splice(i3, 1);
              removed.push(next);
              next = range;
              i3--;
            }
            this.ranges = list;
            return removed;
          };
          this.contains = function(row, column) {
            return this.pointIndex({ row, column }) >= 0;
          };
          this.containsPoint = function(pos) {
            return this.pointIndex(pos) >= 0;
          };
          this.rangeAtPoint = function(pos) {
            var i3 = this.pointIndex(pos);
            if (i3 >= 0)
              return this.ranges[i3];
          };
          this.clipRows = function(startRow, endRow) {
            var list = this.ranges;
            if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)
              return [];
            var startIndex = this.pointIndex({ row: startRow, column: 0 });
            if (startIndex < 0)
              startIndex = -startIndex - 1;
            var endIndex = this.pointIndex({ row: endRow, column: 0 }, startIndex);
            if (endIndex < 0)
              endIndex = -endIndex - 1;
            var clipped = [];
            for (var i3 = startIndex; i3 < endIndex; i3++) {
              clipped.push(list[i3]);
            }
            return clipped;
          };
          this.removeAll = function() {
            return this.ranges.splice(0, this.ranges.length);
          };
          this.attach = function(session) {
            if (this.session)
              this.detach();
            this.session = session;
            this.onChange = this.$onChange.bind(this);
            this.session.on("change", this.onChange);
          };
          this.detach = function() {
            if (!this.session)
              return;
            this.session.removeListener("change", this.onChange);
            this.session = null;
          };
          this.$onChange = function(delta) {
            var start4 = delta.start;
            var end3 = delta.end;
            var startRow = start4.row;
            var endRow = end3.row;
            var ranges = this.ranges;
            for (var i3 = 0, n3 = ranges.length; i3 < n3; i3++) {
              var r2 = ranges[i3];
              if (r2.end.row >= startRow)
                break;
            }
            if (delta.action == "insert") {
              var lineDif = endRow - startRow;
              var colDiff = -start4.column + end3.column;
              for (; i3 < n3; i3++) {
                var r2 = ranges[i3];
                if (r2.start.row > startRow)
                  break;
                if (r2.start.row == startRow && r2.start.column >= start4.column) {
                  if (r2.start.column == start4.column && this.$bias <= 0) {
                  } else {
                    r2.start.column += colDiff;
                    r2.start.row += lineDif;
                  }
                }
                if (r2.end.row == startRow && r2.end.column >= start4.column) {
                  if (r2.end.column == start4.column && this.$bias < 0) {
                    continue;
                  }
                  if (r2.end.column == start4.column && colDiff > 0 && i3 < n3 - 1) {
                    if (r2.end.column > r2.start.column && r2.end.column == ranges[i3 + 1].start.column)
                      r2.end.column -= colDiff;
                  }
                  r2.end.column += colDiff;
                  r2.end.row += lineDif;
                }
              }
            } else {
              var lineDif = startRow - endRow;
              var colDiff = start4.column - end3.column;
              for (; i3 < n3; i3++) {
                var r2 = ranges[i3];
                if (r2.start.row > endRow)
                  break;
                if (r2.end.row < endRow && (startRow < r2.end.row || startRow == r2.end.row && start4.column < r2.end.column)) {
                  r2.end.row = startRow;
                  r2.end.column = start4.column;
                } else if (r2.end.row == endRow) {
                  if (r2.end.column <= end3.column) {
                    if (lineDif || r2.end.column > start4.column) {
                      r2.end.column = start4.column;
                      r2.end.row = start4.row;
                    }
                  } else {
                    r2.end.column += colDiff;
                    r2.end.row += lineDif;
                  }
                } else if (r2.end.row > endRow) {
                  r2.end.row += lineDif;
                }
                if (r2.start.row < endRow && (startRow < r2.start.row || startRow == r2.start.row && start4.column < r2.start.column)) {
                  r2.start.row = startRow;
                  r2.start.column = start4.column;
                } else if (r2.start.row == endRow) {
                  if (r2.start.column <= end3.column) {
                    if (lineDif || r2.start.column > start4.column) {
                      r2.start.column = start4.column;
                      r2.start.row = start4.row;
                    }
                  } else {
                    r2.start.column += colDiff;
                    r2.start.row += lineDif;
                  }
                } else if (r2.start.row > endRow) {
                  r2.start.row += lineDif;
                }
              }
            }
            if (lineDif != 0 && i3 < n3) {
              for (; i3 < n3; i3++) {
                var r2 = ranges[i3];
                r2.start.row += lineDif;
                r2.end.row += lineDif;
              }
            }
          };
        }).call(RangeList.prototype);
        exports2.RangeList = RangeList;
      });
      ace.define("ace/edit_session/fold", ["require", "exports", "module", "ace/range_list", "ace/lib/oop"], function(require2, exports2, module2) {
        "use strict";
        var RangeList = require2("../range_list").RangeList;
        var oop = require2("../lib/oop");
        var Fold = exports2.Fold = function(range, placeholder2) {
          this.foldLine = null;
          this.placeholder = placeholder2;
          this.range = range;
          this.start = range.start;
          this.end = range.end;
          this.sameRow = range.start.row == range.end.row;
          this.subFolds = this.ranges = [];
        };
        oop.inherits(Fold, RangeList);
        (function() {
          this.toString = function() {
            return '"' + this.placeholder + '" ' + this.range.toString();
          };
          this.setFoldLine = function(foldLine) {
            this.foldLine = foldLine;
            this.subFolds.forEach(function(fold) {
              fold.setFoldLine(foldLine);
            });
          };
          this.clone = function() {
            var range = this.range.clone();
            var fold = new Fold(range, this.placeholder);
            this.subFolds.forEach(function(subFold) {
              fold.subFolds.push(subFold.clone());
            });
            fold.collapseChildren = this.collapseChildren;
            return fold;
          };
          this.addSubFold = function(fold) {
            if (this.range.isEqual(fold))
              return;
            consumeRange(fold, this.start);
            var row = fold.start.row, column = fold.start.column;
            for (var i3 = 0, cmp = -1; i3 < this.subFolds.length; i3++) {
              cmp = this.subFolds[i3].range.compare(row, column);
              if (cmp != 1)
                break;
            }
            var afterStart = this.subFolds[i3];
            var firstConsumed = 0;
            if (cmp == 0) {
              if (afterStart.range.containsRange(fold))
                return afterStart.addSubFold(fold);
              else
                firstConsumed = 1;
            }
            var row = fold.range.end.row, column = fold.range.end.column;
            for (var j3 = i3, cmp = -1; j3 < this.subFolds.length; j3++) {
              cmp = this.subFolds[j3].range.compare(row, column);
              if (cmp != 1)
                break;
            }
            if (cmp == 0)
              j3++;
            var consumedFolds = this.subFolds.splice(i3, j3 - i3, fold);
            var last = cmp == 0 ? consumedFolds.length - 1 : consumedFolds.length;
            for (var k2 = firstConsumed; k2 < last; k2++) {
              fold.addSubFold(consumedFolds[k2]);
            }
            fold.setFoldLine(this.foldLine);
            return fold;
          };
          this.restoreRange = function(range) {
            return restoreRange(range, this.start);
          };
        }).call(Fold.prototype);
        function consumePoint(point, anchor) {
          point.row -= anchor.row;
          if (point.row == 0)
            point.column -= anchor.column;
        }
        function consumeRange(range, anchor) {
          consumePoint(range.start, anchor);
          consumePoint(range.end, anchor);
        }
        function restorePoint(point, anchor) {
          if (point.row == 0)
            point.column += anchor.column;
          point.row += anchor.row;
        }
        function restoreRange(range, anchor) {
          restorePoint(range.start, anchor);
          restorePoint(range.end, anchor);
        }
      });
      ace.define("ace/edit_session/folding", ["require", "exports", "module", "ace/range", "ace/edit_session/fold_line", "ace/edit_session/fold", "ace/token_iterator"], function(require2, exports2, module2) {
        "use strict";
        var Range = require2("../range").Range;
        var FoldLine = require2("./fold_line").FoldLine;
        var Fold = require2("./fold").Fold;
        var TokenIterator = require2("../token_iterator").TokenIterator;
        function Folding() {
          this.getFoldAt = function(row, column, side) {
            var foldLine = this.getFoldLine(row);
            if (!foldLine)
              return null;
            var folds = foldLine.folds;
            for (var i3 = 0; i3 < folds.length; i3++) {
              var range = folds[i3].range;
              if (range.contains(row, column)) {
                if (side == 1 && range.isEnd(row, column) && !range.isEmpty()) {
                  continue;
                } else if (side == -1 && range.isStart(row, column) && !range.isEmpty()) {
                  continue;
                }
                return folds[i3];
              }
            }
          };
          this.getFoldsInRange = function(range) {
            var start4 = range.start;
            var end3 = range.end;
            var foldLines = this.$foldData;
            var foundFolds = [];
            start4.column += 1;
            end3.column -= 1;
            for (var i3 = 0; i3 < foldLines.length; i3++) {
              var cmp = foldLines[i3].range.compareRange(range);
              if (cmp == 2) {
                continue;
              } else if (cmp == -2) {
                break;
              }
              var folds = foldLines[i3].folds;
              for (var j3 = 0; j3 < folds.length; j3++) {
                var fold = folds[j3];
                cmp = fold.range.compareRange(range);
                if (cmp == -2) {
                  break;
                } else if (cmp == 2) {
                  continue;
                } else if (cmp == 42) {
                  break;
                }
                foundFolds.push(fold);
              }
            }
            start4.column -= 1;
            end3.column += 1;
            return foundFolds;
          };
          this.getFoldsInRangeList = function(ranges) {
            if (Array.isArray(ranges)) {
              var folds = [];
              ranges.forEach(function(range) {
                folds = folds.concat(this.getFoldsInRange(range));
              }, this);
            } else {
              var folds = this.getFoldsInRange(ranges);
            }
            return folds;
          };
          this.getAllFolds = function() {
            var folds = [];
            var foldLines = this.$foldData;
            for (var i3 = 0; i3 < foldLines.length; i3++)
              for (var j3 = 0; j3 < foldLines[i3].folds.length; j3++)
                folds.push(foldLines[i3].folds[j3]);
            return folds;
          };
          this.getFoldStringAt = function(row, column, trim, foldLine) {
            foldLine = foldLine || this.getFoldLine(row);
            if (!foldLine)
              return null;
            var lastFold = {
              end: { column: 0 }
            };
            var str, fold;
            for (var i3 = 0; i3 < foldLine.folds.length; i3++) {
              fold = foldLine.folds[i3];
              var cmp = fold.range.compareEnd(row, column);
              if (cmp == -1) {
                str = this.getLine(fold.start.row).substring(lastFold.end.column, fold.start.column);
                break;
              } else if (cmp === 0) {
                return null;
              }
              lastFold = fold;
            }
            if (!str)
              str = this.getLine(fold.start.row).substring(lastFold.end.column);
            if (trim == -1)
              return str.substring(0, column - lastFold.end.column);
            else if (trim == 1)
              return str.substring(column - lastFold.end.column);
            else
              return str;
          };
          this.getFoldLine = function(docRow, startFoldLine) {
            var foldData = this.$foldData;
            var i3 = 0;
            if (startFoldLine)
              i3 = foldData.indexOf(startFoldLine);
            if (i3 == -1)
              i3 = 0;
            for (i3; i3 < foldData.length; i3++) {
              var foldLine = foldData[i3];
              if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {
                return foldLine;
              } else if (foldLine.end.row > docRow) {
                return null;
              }
            }
            return null;
          };
          this.getNextFoldLine = function(docRow, startFoldLine) {
            var foldData = this.$foldData;
            var i3 = 0;
            if (startFoldLine)
              i3 = foldData.indexOf(startFoldLine);
            if (i3 == -1)
              i3 = 0;
            for (i3; i3 < foldData.length; i3++) {
              var foldLine = foldData[i3];
              if (foldLine.end.row >= docRow) {
                return foldLine;
              }
            }
            return null;
          };
          this.getFoldedRowCount = function(first, last) {
            var foldData = this.$foldData, rowCount = last - first + 1;
            for (var i3 = 0; i3 < foldData.length; i3++) {
              var foldLine = foldData[i3], end3 = foldLine.end.row, start4 = foldLine.start.row;
              if (end3 >= last) {
                if (start4 < last) {
                  if (start4 >= first)
                    rowCount -= last - start4;
                  else
                    rowCount = 0;
                }
                break;
              } else if (end3 >= first) {
                if (start4 >= first)
                  rowCount -= end3 - start4;
                else
                  rowCount -= end3 - first + 1;
              }
            }
            return rowCount;
          };
          this.$addFoldLine = function(foldLine) {
            this.$foldData.push(foldLine);
            this.$foldData.sort(function(a3, b3) {
              return a3.start.row - b3.start.row;
            });
            return foldLine;
          };
          this.addFold = function(placeholder2, range) {
            var foldData = this.$foldData;
            var added = false;
            var fold;
            if (placeholder2 instanceof Fold)
              fold = placeholder2;
            else {
              fold = new Fold(range, placeholder2);
              fold.collapseChildren = range.collapseChildren;
            }
            this.$clipRangeToDocument(fold.range);
            var startRow = fold.start.row;
            var startColumn = fold.start.column;
            var endRow = fold.end.row;
            var endColumn = fold.end.column;
            var startFold = this.getFoldAt(startRow, startColumn, 1);
            var endFold = this.getFoldAt(endRow, endColumn, -1);
            if (startFold && endFold == startFold)
              return startFold.addSubFold(fold);
            if (startFold && !startFold.range.isStart(startRow, startColumn))
              this.removeFold(startFold);
            if (endFold && !endFold.range.isEnd(endRow, endColumn))
              this.removeFold(endFold);
            var folds = this.getFoldsInRange(fold.range);
            if (folds.length > 0) {
              this.removeFolds(folds);
              if (!fold.collapseChildren) {
                folds.forEach(function(subFold) {
                  fold.addSubFold(subFold);
                });
              }
            }
            for (var i3 = 0; i3 < foldData.length; i3++) {
              var foldLine = foldData[i3];
              if (endRow == foldLine.start.row) {
                foldLine.addFold(fold);
                added = true;
                break;
              } else if (startRow == foldLine.end.row) {
                foldLine.addFold(fold);
                added = true;
                if (!fold.sameRow) {
                  var foldLineNext = foldData[i3 + 1];
                  if (foldLineNext && foldLineNext.start.row == endRow) {
                    foldLine.merge(foldLineNext);
                    break;
                  }
                }
                break;
              } else if (endRow <= foldLine.start.row) {
                break;
              }
            }
            if (!added)
              foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));
            if (this.$useWrapMode)
              this.$updateWrapData(foldLine.start.row, foldLine.start.row);
            else
              this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);
            this.$modified = true;
            this._signal("changeFold", { data: fold, action: "add" });
            return fold;
          };
          this.addFolds = function(folds) {
            folds.forEach(function(fold) {
              this.addFold(fold);
            }, this);
          };
          this.removeFold = function(fold) {
            var foldLine = fold.foldLine;
            var startRow = foldLine.start.row;
            var endRow = foldLine.end.row;
            var foldLines = this.$foldData;
            var folds = foldLine.folds;
            if (folds.length == 1) {
              foldLines.splice(foldLines.indexOf(foldLine), 1);
            } else if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {
              folds.pop();
              foldLine.end.row = folds[folds.length - 1].end.row;
              foldLine.end.column = folds[folds.length - 1].end.column;
            } else if (foldLine.range.isStart(fold.start.row, fold.start.column)) {
              folds.shift();
              foldLine.start.row = folds[0].start.row;
              foldLine.start.column = folds[0].start.column;
            } else if (fold.sameRow) {
              folds.splice(folds.indexOf(fold), 1);
            } else {
              var newFoldLine = foldLine.split(fold.start.row, fold.start.column);
              folds = newFoldLine.folds;
              folds.shift();
              newFoldLine.start.row = folds[0].start.row;
              newFoldLine.start.column = folds[0].start.column;
            }
            if (!this.$updating) {
              if (this.$useWrapMode)
                this.$updateWrapData(startRow, endRow);
              else
                this.$updateRowLengthCache(startRow, endRow);
            }
            this.$modified = true;
            this._signal("changeFold", { data: fold, action: "remove" });
          };
          this.removeFolds = function(folds) {
            var cloneFolds = [];
            for (var i3 = 0; i3 < folds.length; i3++) {
              cloneFolds.push(folds[i3]);
            }
            cloneFolds.forEach(function(fold) {
              this.removeFold(fold);
            }, this);
            this.$modified = true;
          };
          this.expandFold = function(fold) {
            this.removeFold(fold);
            fold.subFolds.forEach(function(subFold) {
              fold.restoreRange(subFold);
              this.addFold(subFold);
            }, this);
            if (fold.collapseChildren > 0) {
              this.foldAll(fold.start.row + 1, fold.end.row, fold.collapseChildren - 1);
            }
            fold.subFolds = [];
          };
          this.expandFolds = function(folds) {
            folds.forEach(function(fold) {
              this.expandFold(fold);
            }, this);
          };
          this.unfold = function(location, expandInner) {
            var range, folds;
            if (location == null) {
              range = new Range(0, 0, this.getLength(), 0);
              if (expandInner == null)
                expandInner = true;
            } else if (typeof location == "number") {
              range = new Range(location, 0, location, this.getLine(location).length);
            } else if ("row" in location) {
              range = Range.fromPoints(location, location);
            } else if (Array.isArray(location)) {
              folds = [];
              location.forEach(function(range2) {
                folds = folds.concat(this.unfold(range2));
              }, this);
              return folds;
            } else {
              range = location;
            }
            folds = this.getFoldsInRangeList(range);
            var outermostFolds = folds;
            while (folds.length == 1 && Range.comparePoints(folds[0].start, range.start) < 0 && Range.comparePoints(folds[0].end, range.end) > 0) {
              this.expandFolds(folds);
              folds = this.getFoldsInRangeList(range);
            }
            if (expandInner != false) {
              this.removeFolds(folds);
            } else {
              this.expandFolds(folds);
            }
            if (outermostFolds.length)
              return outermostFolds;
          };
          this.isRowFolded = function(docRow, startFoldRow) {
            return !!this.getFoldLine(docRow, startFoldRow);
          };
          this.getRowFoldEnd = function(docRow, startFoldRow) {
            var foldLine = this.getFoldLine(docRow, startFoldRow);
            return foldLine ? foldLine.end.row : docRow;
          };
          this.getRowFoldStart = function(docRow, startFoldRow) {
            var foldLine = this.getFoldLine(docRow, startFoldRow);
            return foldLine ? foldLine.start.row : docRow;
          };
          this.getFoldDisplayLine = function(foldLine, endRow, endColumn, startRow, startColumn) {
            if (startRow == null)
              startRow = foldLine.start.row;
            if (startColumn == null)
              startColumn = 0;
            if (endRow == null)
              endRow = foldLine.end.row;
            if (endColumn == null)
              endColumn = this.getLine(endRow).length;
            var doc = this.doc;
            var textLine = "";
            foldLine.walk(function(placeholder2, row, column, lastColumn) {
              if (row < startRow)
                return;
              if (row == startRow) {
                if (column < startColumn)
                  return;
                lastColumn = Math.max(startColumn, lastColumn);
              }
              if (placeholder2 != null) {
                textLine += placeholder2;
              } else {
                textLine += doc.getLine(row).substring(lastColumn, column);
              }
            }, endRow, endColumn);
            return textLine;
          };
          this.getDisplayLine = function(row, endColumn, startRow, startColumn) {
            var foldLine = this.getFoldLine(row);
            if (!foldLine) {
              var line;
              line = this.doc.getLine(row);
              return line.substring(startColumn || 0, endColumn || line.length);
            } else {
              return this.getFoldDisplayLine(foldLine, row, endColumn, startRow, startColumn);
            }
          };
          this.$cloneFoldData = function() {
            var fd = [];
            fd = this.$foldData.map(function(foldLine) {
              var folds = foldLine.folds.map(function(fold) {
                return fold.clone();
              });
              return new FoldLine(fd, folds);
            });
            return fd;
          };
          this.toggleFold = function(tryToUnfold) {
            var selection = this.selection;
            var range = selection.getRange();
            var fold;
            var bracketPos;
            if (range.isEmpty()) {
              var cursor = range.start;
              fold = this.getFoldAt(cursor.row, cursor.column);
              if (fold) {
                this.expandFold(fold);
                return;
              } else if (bracketPos = this.findMatchingBracket(cursor)) {
                if (range.comparePoint(bracketPos) == 1) {
                  range.end = bracketPos;
                } else {
                  range.start = bracketPos;
                  range.start.column++;
                  range.end.column--;
                }
              } else if (bracketPos = this.findMatchingBracket({ row: cursor.row, column: cursor.column + 1 })) {
                if (range.comparePoint(bracketPos) == 1)
                  range.end = bracketPos;
                else
                  range.start = bracketPos;
                range.start.column++;
              } else {
                range = this.getCommentFoldRange(cursor.row, cursor.column) || range;
              }
            } else {
              var folds = this.getFoldsInRange(range);
              if (tryToUnfold && folds.length) {
                this.expandFolds(folds);
                return;
              } else if (folds.length == 1) {
                fold = folds[0];
              }
            }
            if (!fold)
              fold = this.getFoldAt(range.start.row, range.start.column);
            if (fold && fold.range.toString() == range.toString()) {
              this.expandFold(fold);
              return;
            }
            var placeholder2 = "...";
            if (!range.isMultiLine()) {
              placeholder2 = this.getTextRange(range);
              if (placeholder2.length < 4)
                return;
              placeholder2 = placeholder2.trim().substring(0, 2) + "..";
            }
            this.addFold(placeholder2, range);
          };
          this.getCommentFoldRange = function(row, column, dir) {
            var iterator = new TokenIterator(this, row, column);
            var token = iterator.getCurrentToken();
            var type = token && token.type;
            if (token && /^comment|string/.test(type)) {
              type = type.match(/comment|string/)[0];
              if (type == "comment")
                type += "|doc-start";
              var re = new RegExp(type);
              var range = new Range();
              if (dir != 1) {
                do {
                  token = iterator.stepBackward();
                } while (token && re.test(token.type));
                iterator.stepForward();
              }
              range.start.row = iterator.getCurrentTokenRow();
              range.start.column = iterator.getCurrentTokenColumn() + 2;
              iterator = new TokenIterator(this, row, column);
              if (dir != -1) {
                var lastRow = -1;
                do {
                  token = iterator.stepForward();
                  if (lastRow == -1) {
                    var state = this.getState(iterator.$row);
                    if (!re.test(state))
                      lastRow = iterator.$row;
                  } else if (iterator.$row > lastRow) {
                    break;
                  }
                } while (token && re.test(token.type));
                token = iterator.stepBackward();
              } else
                token = iterator.getCurrentToken();
              range.end.row = iterator.getCurrentTokenRow();
              range.end.column = iterator.getCurrentTokenColumn() + token.value.length - 2;
              return range;
            }
          };
          this.foldAll = function(startRow, endRow, depth, test) {
            if (depth == void 0)
              depth = 1e5;
            var foldWidgets = this.foldWidgets;
            if (!foldWidgets)
              return;
            endRow = endRow || this.getLength();
            startRow = startRow || 0;
            for (var row = startRow; row < endRow; row++) {
              if (foldWidgets[row] == null)
                foldWidgets[row] = this.getFoldWidget(row);
              if (foldWidgets[row] != "start")
                continue;
              if (test && !test(row))
                continue;
              var range = this.getFoldWidgetRange(row);
              if (range && range.isMultiLine() && range.end.row <= endRow && range.start.row >= startRow) {
                row = range.end.row;
                range.collapseChildren = depth;
                this.addFold("...", range);
              }
            }
          };
          this.foldToLevel = function(level) {
            this.foldAll();
            while (level-- > 0)
              this.unfold(null, false);
          };
          this.foldAllComments = function() {
            var session = this;
            this.foldAll(null, null, null, function(row) {
              var tokens = session.getTokens(row);
              for (var i3 = 0; i3 < tokens.length; i3++) {
                var token = tokens[i3];
                if (token.type == "text" && /^\s+$/.test(token.value))
                  continue;
                if (/comment/.test(token.type))
                  return true;
                return false;
              }
            });
          };
          this.$foldStyles = {
            "manual": 1,
            "markbegin": 1,
            "markbeginend": 1
          };
          this.$foldStyle = "markbegin";
          this.setFoldStyle = function(style2) {
            if (!this.$foldStyles[style2])
              throw new Error("invalid fold style: " + style2 + "[" + Object.keys(this.$foldStyles).join(", ") + "]");
            if (this.$foldStyle == style2)
              return;
            this.$foldStyle = style2;
            if (style2 == "manual")
              this.unfold();
            var mode = this.$foldMode;
            this.$setFolding(null);
            this.$setFolding(mode);
          };
          this.$setFolding = function(foldMode) {
            if (this.$foldMode == foldMode)
              return;
            this.$foldMode = foldMode;
            this.off("change", this.$updateFoldWidgets);
            this.off("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets);
            this._signal("changeAnnotation");
            if (!foldMode || this.$foldStyle == "manual") {
              this.foldWidgets = null;
              return;
            }
            this.foldWidgets = [];
            this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);
            this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);
            this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);
            this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);
            this.on("change", this.$updateFoldWidgets);
            this.on("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets);
          };
          this.getParentFoldRangeData = function(row, ignoreCurrent) {
            var fw = this.foldWidgets;
            if (!fw || ignoreCurrent && fw[row])
              return {};
            var i3 = row - 1, firstRange;
            while (i3 >= 0) {
              var c3 = fw[i3];
              if (c3 == null)
                c3 = fw[i3] = this.getFoldWidget(i3);
              if (c3 == "start") {
                var range = this.getFoldWidgetRange(i3);
                if (!firstRange)
                  firstRange = range;
                if (range && range.end.row >= row)
                  break;
              }
              i3--;
            }
            return {
              range: i3 !== -1 && range,
              firstRange
            };
          };
          this.onFoldWidgetClick = function(row, e2) {
            e2 = e2.domEvent;
            var options = {
              children: e2.shiftKey,
              all: e2.ctrlKey || e2.metaKey,
              siblings: e2.altKey
            };
            var range = this.$toggleFoldWidget(row, options);
            if (!range) {
              var el = e2.target || e2.srcElement;
              if (el && /ace_fold-widget/.test(el.className))
                el.className += " ace_invalid";
            }
          };
          this.$toggleFoldWidget = function(row, options) {
            if (!this.getFoldWidget)
              return;
            var type = this.getFoldWidget(row);
            var line = this.getLine(row);
            var dir = type === "end" ? -1 : 1;
            var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);
            if (fold) {
              if (options.children || options.all)
                this.removeFold(fold);
              else
                this.expandFold(fold);
              return fold;
            }
            var range = this.getFoldWidgetRange(row, true);
            if (range && !range.isMultiLine()) {
              fold = this.getFoldAt(range.start.row, range.start.column, 1);
              if (fold && range.isEqual(fold.range)) {
                this.removeFold(fold);
                return fold;
              }
            }
            if (options.siblings) {
              var data = this.getParentFoldRangeData(row);
              if (data.range) {
                var startRow = data.range.start.row + 1;
                var endRow = data.range.end.row;
              }
              this.foldAll(startRow, endRow, options.all ? 1e4 : 0);
            } else if (options.children) {
              endRow = range ? range.end.row : this.getLength();
              this.foldAll(row + 1, endRow, options.all ? 1e4 : 0);
            } else if (range) {
              if (options.all)
                range.collapseChildren = 1e4;
              this.addFold("...", range);
            }
            return range;
          };
          this.toggleFoldWidget = function(toggleParent) {
            var row = this.selection.getCursor().row;
            row = this.getRowFoldStart(row);
            var range = this.$toggleFoldWidget(row, {});
            if (range)
              return;
            var data = this.getParentFoldRangeData(row, true);
            range = data.range || data.firstRange;
            if (range) {
              row = range.start.row;
              var fold = this.getFoldAt(row, this.getLine(row).length, 1);
              if (fold) {
                this.removeFold(fold);
              } else {
                this.addFold("...", range);
              }
            }
          };
          this.updateFoldWidgets = function(delta) {
            var firstRow = delta.start.row;
            var len = delta.end.row - firstRow;
            if (len === 0) {
              this.foldWidgets[firstRow] = null;
            } else if (delta.action == "remove") {
              this.foldWidgets.splice(firstRow, len + 1, null);
            } else {
              var args = Array(len + 1);
              args.unshift(firstRow, 1);
              this.foldWidgets.splice.apply(this.foldWidgets, args);
            }
          };
          this.tokenizerUpdateFoldWidgets = function(e2) {
            var rows = e2.data;
            if (rows.first != rows.last) {
              if (this.foldWidgets.length > rows.first)
                this.foldWidgets.splice(rows.first, this.foldWidgets.length);
            }
          };
        }
        exports2.Folding = Folding;
      });
      ace.define("ace/edit_session/bracket_match", ["require", "exports", "module", "ace/token_iterator", "ace/range"], function(require2, exports2, module2) {
        "use strict";
        var TokenIterator = require2("../token_iterator").TokenIterator;
        var Range = require2("../range").Range;
        function BracketMatch() {
          this.findMatchingBracket = function(position3, chr) {
            if (position3.column == 0)
              return null;
            var charBeforeCursor = chr || this.getLine(position3.row).charAt(position3.column - 1);
            if (charBeforeCursor == "")
              return null;
            var match2 = charBeforeCursor.match(/([\(\[\{])|([\)\]\}])/);
            if (!match2)
              return null;
            if (match2[1])
              return this.$findClosingBracket(match2[1], position3);
            else
              return this.$findOpeningBracket(match2[2], position3);
          };
          this.getBracketRange = function(pos) {
            var line = this.getLine(pos.row);
            var before = true, range;
            var chr = line.charAt(pos.column - 1);
            var match2 = chr && chr.match(/([\(\[\{])|([\)\]\}])/);
            if (!match2) {
              chr = line.charAt(pos.column);
              pos = { row: pos.row, column: pos.column + 1 };
              match2 = chr && chr.match(/([\(\[\{])|([\)\]\}])/);
              before = false;
            }
            if (!match2)
              return null;
            if (match2[1]) {
              var bracketPos = this.$findClosingBracket(match2[1], pos);
              if (!bracketPos)
                return null;
              range = Range.fromPoints(pos, bracketPos);
              if (!before) {
                range.end.column++;
                range.start.column--;
              }
              range.cursor = range.end;
            } else {
              var bracketPos = this.$findOpeningBracket(match2[2], pos);
              if (!bracketPos)
                return null;
              range = Range.fromPoints(bracketPos, pos);
              if (!before) {
                range.start.column++;
                range.end.column--;
              }
              range.cursor = range.start;
            }
            return range;
          };
          this.getMatchingBracketRanges = function(pos) {
            var line = this.getLine(pos.row);
            var chr = line.charAt(pos.column - 1);
            var match2 = chr && chr.match(/([\(\[\{])|([\)\]\}])/);
            if (!match2) {
              chr = line.charAt(pos.column);
              pos = { row: pos.row, column: pos.column + 1 };
              match2 = chr && chr.match(/([\(\[\{])|([\)\]\}])/);
            }
            if (!match2)
              return null;
            var startRange = new Range(pos.row, pos.column - 1, pos.row, pos.column);
            var bracketPos = match2[1] ? this.$findClosingBracket(match2[1], pos) : this.$findOpeningBracket(match2[2], pos);
            if (!bracketPos)
              return [startRange];
            var endRange = new Range(bracketPos.row, bracketPos.column, bracketPos.row, bracketPos.column + 1);
            return [startRange, endRange];
          };
          this.$brackets = {
            ")": "(",
            "(": ")",
            "]": "[",
            "[": "]",
            "{": "}",
            "}": "{",
            "<": ">",
            ">": "<"
          };
          this.$findOpeningBracket = function(bracket, position3, typeRe) {
            var openBracket = this.$brackets[bracket];
            var depth = 1;
            var iterator = new TokenIterator(this, position3.row, position3.column);
            var token = iterator.getCurrentToken();
            if (!token)
              token = iterator.stepForward();
            if (!token)
              return;
            if (!typeRe) {
              typeRe = new RegExp("(\\.?" + token.type.replace(".", "\\.").replace("rparen", ".paren").replace(/\b(?:end)\b/, "(?:start|begin|end)") + ")+");
            }
            var valueIndex = position3.column - iterator.getCurrentTokenColumn() - 2;
            var value = token.value;
            while (true) {
              while (valueIndex >= 0) {
                var chr = value.charAt(valueIndex);
                if (chr == openBracket) {
                  depth -= 1;
                  if (depth == 0) {
                    return {
                      row: iterator.getCurrentTokenRow(),
                      column: valueIndex + iterator.getCurrentTokenColumn()
                    };
                  }
                } else if (chr == bracket) {
                  depth += 1;
                }
                valueIndex -= 1;
              }
              do {
                token = iterator.stepBackward();
              } while (token && !typeRe.test(token.type));
              if (token == null)
                break;
              value = token.value;
              valueIndex = value.length - 1;
            }
            return null;
          };
          this.$findClosingBracket = function(bracket, position3, typeRe) {
            var closingBracket = this.$brackets[bracket];
            var depth = 1;
            var iterator = new TokenIterator(this, position3.row, position3.column);
            var token = iterator.getCurrentToken();
            if (!token)
              token = iterator.stepForward();
            if (!token)
              return;
            if (!typeRe) {
              typeRe = new RegExp("(\\.?" + token.type.replace(".", "\\.").replace("lparen", ".paren").replace(/\b(?:start|begin)\b/, "(?:start|begin|end)") + ")+");
            }
            var valueIndex = position3.column - iterator.getCurrentTokenColumn();
            while (true) {
              var value = token.value;
              var valueLength = value.length;
              while (valueIndex < valueLength) {
                var chr = value.charAt(valueIndex);
                if (chr == closingBracket) {
                  depth -= 1;
                  if (depth == 0) {
                    return {
                      row: iterator.getCurrentTokenRow(),
                      column: valueIndex + iterator.getCurrentTokenColumn()
                    };
                  }
                } else if (chr == bracket) {
                  depth += 1;
                }
                valueIndex += 1;
              }
              do {
                token = iterator.stepForward();
              } while (token && !typeRe.test(token.type));
              if (token == null)
                break;
              valueIndex = 0;
            }
            return null;
          };
        }
        exports2.BracketMatch = BracketMatch;
      });
      ace.define("ace/edit_session", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/bidihandler", "ace/config", "ace/lib/event_emitter", "ace/selection", "ace/mode/text", "ace/range", "ace/document", "ace/background_tokenizer", "ace/search_highlight", "ace/edit_session/folding", "ace/edit_session/bracket_match"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("./lib/oop");
        var lang = require2("./lib/lang");
        var BidiHandler = require2("./bidihandler").BidiHandler;
        var config2 = require2("./config");
        var EventEmitter = require2("./lib/event_emitter").EventEmitter;
        var Selection = require2("./selection").Selection;
        var TextMode = require2("./mode/text").Mode;
        var Range = require2("./range").Range;
        var Document = require2("./document").Document;
        var BackgroundTokenizer = require2("./background_tokenizer").BackgroundTokenizer;
        var SearchHighlight = require2("./search_highlight").SearchHighlight;
        var EditSession = function(text, mode) {
          this.$breakpoints = [];
          this.$decorations = [];
          this.$frontMarkers = {};
          this.$backMarkers = {};
          this.$markerId = 1;
          this.$undoSelect = true;
          this.$foldData = [];
          this.id = "session" + ++EditSession.$uid;
          this.$foldData.toString = function() {
            return this.join("\n");
          };
          this.bgTokenizer = new BackgroundTokenizer(new TextMode().getTokenizer(), this);
          var _self = this;
          this.bgTokenizer.on("update", function(e2) {
            _self._signal("tokenizerUpdate", e2);
          });
          this.on("changeFold", this.onChangeFold.bind(this));
          this.$onChange = this.onChange.bind(this);
          if (typeof text != "object" || !text.getLine)
            text = new Document(text);
          this.setDocument(text);
          this.selection = new Selection(this);
          this.$bidiHandler = new BidiHandler(this);
          config2.resetOptions(this);
          this.setMode(mode);
          config2._signal("session", this);
          this.destroyed = false;
        };
        EditSession.$uid = 0;
        (function() {
          oop.implement(this, EventEmitter);
          this.setDocument = function(doc) {
            if (this.doc)
              this.doc.off("change", this.$onChange);
            this.doc = doc;
            doc.on("change", this.$onChange);
            this.bgTokenizer.setDocument(this.getDocument());
            this.resetCaches();
          };
          this.getDocument = function() {
            return this.doc;
          };
          this.$resetRowCache = function(docRow) {
            if (!docRow) {
              this.$docRowCache = [];
              this.$screenRowCache = [];
              return;
            }
            var l3 = this.$docRowCache.length;
            var i3 = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;
            if (l3 > i3) {
              this.$docRowCache.splice(i3, l3);
              this.$screenRowCache.splice(i3, l3);
            }
          };
          this.$getRowCacheIndex = function(cacheArray, val) {
            var low = 0;
            var hi = cacheArray.length - 1;
            while (low <= hi) {
              var mid = low + hi >> 1;
              var c3 = cacheArray[mid];
              if (val > c3)
                low = mid + 1;
              else if (val < c3)
                hi = mid - 1;
              else
                return mid;
            }
            return low - 1;
          };
          this.resetCaches = function() {
            this.$modified = true;
            this.$wrapData = [];
            this.$rowLengthCache = [];
            this.$resetRowCache(0);
            if (!this.destroyed)
              this.bgTokenizer.start(0);
          };
          this.onChangeFold = function(e2) {
            var fold = e2.data;
            this.$resetRowCache(fold.start.row);
          };
          this.onChange = function(delta) {
            this.$modified = true;
            this.$bidiHandler.onChange(delta);
            this.$resetRowCache(delta.start.row);
            var removedFolds = this.$updateInternalDataOnChange(delta);
            if (!this.$fromUndo && this.$undoManager) {
              if (removedFolds && removedFolds.length) {
                this.$undoManager.add({
                  action: "removeFolds",
                  folds: removedFolds
                }, this.mergeUndoDeltas);
                this.mergeUndoDeltas = true;
              }
              this.$undoManager.add(delta, this.mergeUndoDeltas);
              this.mergeUndoDeltas = true;
              this.$informUndoManager.schedule();
            }
            this.bgTokenizer.$updateOnChange(delta);
            this._signal("change", delta);
          };
          this.setValue = function(text) {
            this.doc.setValue(text);
            this.selection.moveTo(0, 0);
            this.$resetRowCache(0);
            this.setUndoManager(this.$undoManager);
            this.getUndoManager().reset();
          };
          this.getValue = this.toString = function() {
            return this.doc.getValue();
          };
          this.getSelection = function() {
            return this.selection;
          };
          this.getState = function(row) {
            return this.bgTokenizer.getState(row);
          };
          this.getTokens = function(row) {
            return this.bgTokenizer.getTokens(row);
          };
          this.getTokenAt = function(row, column) {
            var tokens = this.bgTokenizer.getTokens(row);
            var token, c3 = 0;
            if (column == null) {
              var i3 = tokens.length - 1;
              c3 = this.getLine(row).length;
            } else {
              for (var i3 = 0; i3 < tokens.length; i3++) {
                c3 += tokens[i3].value.length;
                if (c3 >= column)
                  break;
              }
            }
            token = tokens[i3];
            if (!token)
              return null;
            token.index = i3;
            token.start = c3 - token.value.length;
            return token;
          };
          this.setUndoManager = function(undoManager) {
            this.$undoManager = undoManager;
            if (this.$informUndoManager)
              this.$informUndoManager.cancel();
            if (undoManager) {
              var self2 = this;
              undoManager.addSession(this);
              this.$syncInformUndoManager = function() {
                self2.$informUndoManager.cancel();
                self2.mergeUndoDeltas = false;
              };
              this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);
            } else {
              this.$syncInformUndoManager = function() {
              };
            }
          };
          this.markUndoGroup = function() {
            if (this.$syncInformUndoManager)
              this.$syncInformUndoManager();
          };
          this.$defaultUndoManager = {
            undo: function() {
            },
            redo: function() {
            },
            hasUndo: function() {
            },
            hasRedo: function() {
            },
            reset: function() {
            },
            add: function() {
            },
            addSelection: function() {
            },
            startNewGroup: function() {
            },
            addSession: function() {
            }
          };
          this.getUndoManager = function() {
            return this.$undoManager || this.$defaultUndoManager;
          };
          this.getTabString = function() {
            if (this.getUseSoftTabs()) {
              return lang.stringRepeat(" ", this.getTabSize());
            } else {
              return "	";
            }
          };
          this.setUseSoftTabs = function(val) {
            this.setOption("useSoftTabs", val);
          };
          this.getUseSoftTabs = function() {
            return this.$useSoftTabs && !this.$mode.$indentWithTabs;
          };
          this.setTabSize = function(tabSize) {
            this.setOption("tabSize", tabSize);
          };
          this.getTabSize = function() {
            return this.$tabSize;
          };
          this.isTabStop = function(position3) {
            return this.$useSoftTabs && position3.column % this.$tabSize === 0;
          };
          this.setNavigateWithinSoftTabs = function(navigateWithinSoftTabs) {
            this.setOption("navigateWithinSoftTabs", navigateWithinSoftTabs);
          };
          this.getNavigateWithinSoftTabs = function() {
            return this.$navigateWithinSoftTabs;
          };
          this.$overwrite = false;
          this.setOverwrite = function(overwrite) {
            this.setOption("overwrite", overwrite);
          };
          this.getOverwrite = function() {
            return this.$overwrite;
          };
          this.toggleOverwrite = function() {
            this.setOverwrite(!this.$overwrite);
          };
          this.addGutterDecoration = function(row, className) {
            if (!this.$decorations[row])
              this.$decorations[row] = "";
            this.$decorations[row] += " " + className;
            this._signal("changeBreakpoint", {});
          };
          this.removeGutterDecoration = function(row, className) {
            this.$decorations[row] = (this.$decorations[row] || "").replace(" " + className, "");
            this._signal("changeBreakpoint", {});
          };
          this.getBreakpoints = function() {
            return this.$breakpoints;
          };
          this.setBreakpoints = function(rows) {
            this.$breakpoints = [];
            for (var i3 = 0; i3 < rows.length; i3++) {
              this.$breakpoints[rows[i3]] = "ace_breakpoint";
            }
            this._signal("changeBreakpoint", {});
          };
          this.clearBreakpoints = function() {
            this.$breakpoints = [];
            this._signal("changeBreakpoint", {});
          };
          this.setBreakpoint = function(row, className) {
            if (className === void 0)
              className = "ace_breakpoint";
            if (className)
              this.$breakpoints[row] = className;
            else
              delete this.$breakpoints[row];
            this._signal("changeBreakpoint", {});
          };
          this.clearBreakpoint = function(row) {
            delete this.$breakpoints[row];
            this._signal("changeBreakpoint", {});
          };
          this.addMarker = function(range, clazz, type, inFront) {
            var id = this.$markerId++;
            var marker = {
              range,
              type: type || "line",
              renderer: typeof type == "function" ? type : null,
              clazz,
              inFront: !!inFront,
              id
            };
            if (inFront) {
              this.$frontMarkers[id] = marker;
              this._signal("changeFrontMarker");
            } else {
              this.$backMarkers[id] = marker;
              this._signal("changeBackMarker");
            }
            return id;
          };
          this.addDynamicMarker = function(marker, inFront) {
            if (!marker.update)
              return;
            var id = this.$markerId++;
            marker.id = id;
            marker.inFront = !!inFront;
            if (inFront) {
              this.$frontMarkers[id] = marker;
              this._signal("changeFrontMarker");
            } else {
              this.$backMarkers[id] = marker;
              this._signal("changeBackMarker");
            }
            return marker;
          };
          this.removeMarker = function(markerId) {
            var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];
            if (!marker)
              return;
            var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;
            delete markers[markerId];
            this._signal(marker.inFront ? "changeFrontMarker" : "changeBackMarker");
          };
          this.getMarkers = function(inFront) {
            return inFront ? this.$frontMarkers : this.$backMarkers;
          };
          this.highlight = function(re) {
            if (!this.$searchHighlight) {
              var highlight = new SearchHighlight(null, "ace_selected-word", "text");
              this.$searchHighlight = this.addDynamicMarker(highlight);
            }
            this.$searchHighlight.setRegexp(re);
          };
          this.highlightLines = function(startRow, endRow, clazz, inFront) {
            if (typeof endRow != "number") {
              clazz = endRow;
              endRow = startRow;
            }
            if (!clazz)
              clazz = "ace_step";
            var range = new Range(startRow, 0, endRow, Infinity);
            range.id = this.addMarker(range, clazz, "fullLine", inFront);
            return range;
          };
          this.setAnnotations = function(annotations) {
            this.$annotations = annotations;
            this._signal("changeAnnotation", {});
          };
          this.getAnnotations = function() {
            return this.$annotations || [];
          };
          this.clearAnnotations = function() {
            this.setAnnotations([]);
          };
          this.$detectNewLine = function(text) {
            var match2 = text.match(/^.*?(\r?\n)/m);
            if (match2) {
              this.$autoNewLine = match2[1];
            } else {
              this.$autoNewLine = "\n";
            }
          };
          this.getWordRange = function(row, column) {
            var line = this.getLine(row);
            var inToken = false;
            if (column > 0)
              inToken = !!line.charAt(column - 1).match(this.tokenRe);
            if (!inToken)
              inToken = !!line.charAt(column).match(this.tokenRe);
            if (inToken)
              var re = this.tokenRe;
            else if (/^\s+$/.test(line.slice(column - 1, column + 1)))
              var re = /\s/;
            else
              var re = this.nonTokenRe;
            var start4 = column;
            if (start4 > 0) {
              do {
                start4--;
              } while (start4 >= 0 && line.charAt(start4).match(re));
              start4++;
            }
            var end3 = column;
            while (end3 < line.length && line.charAt(end3).match(re)) {
              end3++;
            }
            return new Range(row, start4, row, end3);
          };
          this.getAWordRange = function(row, column) {
            var wordRange = this.getWordRange(row, column);
            var line = this.getLine(wordRange.end.row);
            while (line.charAt(wordRange.end.column).match(/[ \t]/)) {
              wordRange.end.column += 1;
            }
            return wordRange;
          };
          this.setNewLineMode = function(newLineMode) {
            this.doc.setNewLineMode(newLineMode);
          };
          this.getNewLineMode = function() {
            return this.doc.getNewLineMode();
          };
          this.setUseWorker = function(useWorker) {
            this.setOption("useWorker", useWorker);
          };
          this.getUseWorker = function() {
            return this.$useWorker;
          };
          this.onReloadTokenizer = function(e2) {
            var rows = e2.data;
            this.bgTokenizer.start(rows.first);
            this._signal("tokenizerUpdate", e2);
          };
          this.$modes = config2.$modes;
          this.$mode = null;
          this.$modeId = null;
          this.setMode = function(mode, cb) {
            if (mode && typeof mode === "object") {
              if (mode.getTokenizer)
                return this.$onChangeMode(mode);
              var options = mode;
              var path = options.path;
            } else {
              path = mode || "ace/mode/text";
            }
            if (!this.$modes["ace/mode/text"])
              this.$modes["ace/mode/text"] = new TextMode();
            if (this.$modes[path] && !options) {
              this.$onChangeMode(this.$modes[path]);
              cb && cb();
              return;
            }
            this.$modeId = path;
            config2.loadModule(["mode", path], function(m2) {
              if (this.$modeId !== path)
                return cb && cb();
              if (this.$modes[path] && !options) {
                this.$onChangeMode(this.$modes[path]);
              } else if (m2 && m2.Mode) {
                m2 = new m2.Mode(options);
                if (!options) {
                  this.$modes[path] = m2;
                  m2.$id = path;
                }
                this.$onChangeMode(m2);
              }
              cb && cb();
            }.bind(this));
            if (!this.$mode)
              this.$onChangeMode(this.$modes["ace/mode/text"], true);
          };
          this.$onChangeMode = function(mode, $isPlaceholder) {
            if (!$isPlaceholder)
              this.$modeId = mode.$id;
            if (this.$mode === mode)
              return;
            var oldMode = this.$mode;
            this.$mode = mode;
            this.$stopWorker();
            if (this.$useWorker)
              this.$startWorker();
            var tokenizer = mode.getTokenizer();
            if (tokenizer.on !== void 0) {
              var onReloadTokenizer = this.onReloadTokenizer.bind(this);
              tokenizer.on("update", onReloadTokenizer);
            }
            this.bgTokenizer.setTokenizer(tokenizer);
            this.bgTokenizer.setDocument(this.getDocument());
            this.tokenRe = mode.tokenRe;
            this.nonTokenRe = mode.nonTokenRe;
            if (!$isPlaceholder) {
              if (mode.attachToSession)
                mode.attachToSession(this);
              this.$options.wrapMethod.set.call(this, this.$wrapMethod);
              this.$setFolding(mode.foldingRules);
              this.bgTokenizer.start(0);
              this._emit("changeMode", { oldMode, mode });
            }
          };
          this.$stopWorker = function() {
            if (this.$worker) {
              this.$worker.terminate();
              this.$worker = null;
            }
          };
          this.$startWorker = function() {
            try {
              this.$worker = this.$mode.createWorker(this);
            } catch (e2) {
              config2.warn("Could not load worker", e2);
              this.$worker = null;
            }
          };
          this.getMode = function() {
            return this.$mode;
          };
          this.$scrollTop = 0;
          this.setScrollTop = function(scrollTop) {
            if (this.$scrollTop === scrollTop || isNaN(scrollTop))
              return;
            this.$scrollTop = scrollTop;
            this._signal("changeScrollTop", scrollTop);
          };
          this.getScrollTop = function() {
            return this.$scrollTop;
          };
          this.$scrollLeft = 0;
          this.setScrollLeft = function(scrollLeft) {
            if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))
              return;
            this.$scrollLeft = scrollLeft;
            this._signal("changeScrollLeft", scrollLeft);
          };
          this.getScrollLeft = function() {
            return this.$scrollLeft;
          };
          this.getScreenWidth = function() {
            this.$computeWidth();
            if (this.lineWidgets)
              return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);
            return this.screenWidth;
          };
          this.getLineWidgetMaxWidth = function() {
            if (this.lineWidgetsWidth != null)
              return this.lineWidgetsWidth;
            var width = 0;
            this.lineWidgets.forEach(function(w2) {
              if (w2 && w2.screenWidth > width)
                width = w2.screenWidth;
            });
            return this.lineWidgetWidth = width;
          };
          this.$computeWidth = function(force) {
            if (this.$modified || force) {
              this.$modified = false;
              if (this.$useWrapMode)
                return this.screenWidth = this.$wrapLimit;
              var lines = this.doc.getAllLines();
              var cache = this.$rowLengthCache;
              var longestScreenLine = 0;
              var foldIndex = 0;
              var foldLine = this.$foldData[foldIndex];
              var foldStart = foldLine ? foldLine.start.row : Infinity;
              var len = lines.length;
              for (var i3 = 0; i3 < len; i3++) {
                if (i3 > foldStart) {
                  i3 = foldLine.end.row + 1;
                  if (i3 >= len)
                    break;
                  foldLine = this.$foldData[foldIndex++];
                  foldStart = foldLine ? foldLine.start.row : Infinity;
                }
                if (cache[i3] == null)
                  cache[i3] = this.$getStringScreenWidth(lines[i3])[0];
                if (cache[i3] > longestScreenLine)
                  longestScreenLine = cache[i3];
              }
              this.screenWidth = longestScreenLine;
            }
          };
          this.getLine = function(row) {
            return this.doc.getLine(row);
          };
          this.getLines = function(firstRow, lastRow) {
            return this.doc.getLines(firstRow, lastRow);
          };
          this.getLength = function() {
            return this.doc.getLength();
          };
          this.getTextRange = function(range) {
            return this.doc.getTextRange(range || this.selection.getRange());
          };
          this.insert = function(position3, text) {
            return this.doc.insert(position3, text);
          };
          this.remove = function(range) {
            return this.doc.remove(range);
          };
          this.removeFullLines = function(firstRow, lastRow) {
            return this.doc.removeFullLines(firstRow, lastRow);
          };
          this.undoChanges = function(deltas, dontSelect) {
            if (!deltas.length)
              return;
            this.$fromUndo = true;
            for (var i3 = deltas.length - 1; i3 != -1; i3--) {
              var delta = deltas[i3];
              if (delta.action == "insert" || delta.action == "remove") {
                this.doc.revertDelta(delta);
              } else if (delta.folds) {
                this.addFolds(delta.folds);
              }
            }
            if (!dontSelect && this.$undoSelect) {
              if (deltas.selectionBefore)
                this.selection.fromJSON(deltas.selectionBefore);
              else
                this.selection.setRange(this.$getUndoSelection(deltas, true));
            }
            this.$fromUndo = false;
          };
          this.redoChanges = function(deltas, dontSelect) {
            if (!deltas.length)
              return;
            this.$fromUndo = true;
            for (var i3 = 0; i3 < deltas.length; i3++) {
              var delta = deltas[i3];
              if (delta.action == "insert" || delta.action == "remove") {
                this.doc.$safeApplyDelta(delta);
              }
            }
            if (!dontSelect && this.$undoSelect) {
              if (deltas.selectionAfter)
                this.selection.fromJSON(deltas.selectionAfter);
              else
                this.selection.setRange(this.$getUndoSelection(deltas, false));
            }
            this.$fromUndo = false;
          };
          this.setUndoSelect = function(enable) {
            this.$undoSelect = enable;
          };
          this.$getUndoSelection = function(deltas, isUndo) {
            function isInsert(delta2) {
              return isUndo ? delta2.action !== "insert" : delta2.action === "insert";
            }
            var range, point;
            for (var i3 = 0; i3 < deltas.length; i3++) {
              var delta = deltas[i3];
              if (!delta.start)
                continue;
              if (!range) {
                if (isInsert(delta)) {
                  range = Range.fromPoints(delta.start, delta.end);
                } else {
                  range = Range.fromPoints(delta.start, delta.start);
                }
                continue;
              }
              if (isInsert(delta)) {
                point = delta.start;
                if (range.compare(point.row, point.column) == -1) {
                  range.setStart(point);
                }
                point = delta.end;
                if (range.compare(point.row, point.column) == 1) {
                  range.setEnd(point);
                }
              } else {
                point = delta.start;
                if (range.compare(point.row, point.column) == -1) {
                  range = Range.fromPoints(delta.start, delta.start);
                }
              }
            }
            return range;
          };
          this.replace = function(range, text) {
            return this.doc.replace(range, text);
          };
          this.moveText = function(fromRange, toPosition, copy) {
            var text = this.getTextRange(fromRange);
            var folds = this.getFoldsInRange(fromRange);
            var toRange = Range.fromPoints(toPosition, toPosition);
            if (!copy) {
              this.remove(fromRange);
              var rowDiff = fromRange.start.row - fromRange.end.row;
              var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;
              if (collDiff) {
                if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)
                  toRange.start.column += collDiff;
                if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)
                  toRange.end.column += collDiff;
              }
              if (rowDiff && toRange.start.row >= fromRange.end.row) {
                toRange.start.row += rowDiff;
                toRange.end.row += rowDiff;
              }
            }
            toRange.end = this.insert(toRange.start, text);
            if (folds.length) {
              var oldStart = fromRange.start;
              var newStart = toRange.start;
              var rowDiff = newStart.row - oldStart.row;
              var collDiff = newStart.column - oldStart.column;
              this.addFolds(folds.map(function(x2) {
                x2 = x2.clone();
                if (x2.start.row == oldStart.row)
                  x2.start.column += collDiff;
                if (x2.end.row == oldStart.row)
                  x2.end.column += collDiff;
                x2.start.row += rowDiff;
                x2.end.row += rowDiff;
                return x2;
              }));
            }
            return toRange;
          };
          this.indentRows = function(startRow, endRow, indentString) {
            indentString = indentString.replace(/\t/g, this.getTabString());
            for (var row = startRow; row <= endRow; row++)
              this.doc.insertInLine({ row, column: 0 }, indentString);
          };
          this.outdentRows = function(range) {
            var rowRange = range.collapseRows();
            var deleteRange = new Range(0, 0, 0, 0);
            var size = this.getTabSize();
            for (var i3 = rowRange.start.row; i3 <= rowRange.end.row; ++i3) {
              var line = this.getLine(i3);
              deleteRange.start.row = i3;
              deleteRange.end.row = i3;
              for (var j3 = 0; j3 < size; ++j3)
                if (line.charAt(j3) != " ")
                  break;
              if (j3 < size && line.charAt(j3) == "	") {
                deleteRange.start.column = j3;
                deleteRange.end.column = j3 + 1;
              } else {
                deleteRange.start.column = 0;
                deleteRange.end.column = j3;
              }
              this.remove(deleteRange);
            }
          };
          this.$moveLines = function(firstRow, lastRow, dir) {
            firstRow = this.getRowFoldStart(firstRow);
            lastRow = this.getRowFoldEnd(lastRow);
            if (dir < 0) {
              var row = this.getRowFoldStart(firstRow + dir);
              if (row < 0)
                return 0;
              var diff = row - firstRow;
            } else if (dir > 0) {
              var row = this.getRowFoldEnd(lastRow + dir);
              if (row > this.doc.getLength() - 1)
                return 0;
              var diff = row - lastRow;
            } else {
              firstRow = this.$clipRowToDocument(firstRow);
              lastRow = this.$clipRowToDocument(lastRow);
              var diff = lastRow - firstRow + 1;
            }
            var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);
            var folds = this.getFoldsInRange(range).map(function(x2) {
              x2 = x2.clone();
              x2.start.row += diff;
              x2.end.row += diff;
              return x2;
            });
            var lines = dir == 0 ? this.doc.getLines(firstRow, lastRow) : this.doc.removeFullLines(firstRow, lastRow);
            this.doc.insertFullLines(firstRow + diff, lines);
            folds.length && this.addFolds(folds);
            return diff;
          };
          this.moveLinesUp = function(firstRow, lastRow) {
            return this.$moveLines(firstRow, lastRow, -1);
          };
          this.moveLinesDown = function(firstRow, lastRow) {
            return this.$moveLines(firstRow, lastRow, 1);
          };
          this.duplicateLines = function(firstRow, lastRow) {
            return this.$moveLines(firstRow, lastRow, 0);
          };
          this.$clipRowToDocument = function(row) {
            return Math.max(0, Math.min(row, this.doc.getLength() - 1));
          };
          this.$clipColumnToRow = function(row, column) {
            if (column < 0)
              return 0;
            return Math.min(this.doc.getLine(row).length, column);
          };
          this.$clipPositionToDocument = function(row, column) {
            column = Math.max(0, column);
            if (row < 0) {
              row = 0;
              column = 0;
            } else {
              var len = this.doc.getLength();
              if (row >= len) {
                row = len - 1;
                column = this.doc.getLine(len - 1).length;
              } else {
                column = Math.min(this.doc.getLine(row).length, column);
              }
            }
            return {
              row,
              column
            };
          };
          this.$clipRangeToDocument = function(range) {
            if (range.start.row < 0) {
              range.start.row = 0;
              range.start.column = 0;
            } else {
              range.start.column = this.$clipColumnToRow(range.start.row, range.start.column);
            }
            var len = this.doc.getLength() - 1;
            if (range.end.row > len) {
              range.end.row = len;
              range.end.column = this.doc.getLine(len).length;
            } else {
              range.end.column = this.$clipColumnToRow(range.end.row, range.end.column);
            }
            return range;
          };
          this.$wrapLimit = 80;
          this.$useWrapMode = false;
          this.$wrapLimitRange = {
            min: null,
            max: null
          };
          this.setUseWrapMode = function(useWrapMode) {
            if (useWrapMode != this.$useWrapMode) {
              this.$useWrapMode = useWrapMode;
              this.$modified = true;
              this.$resetRowCache(0);
              if (useWrapMode) {
                var len = this.getLength();
                this.$wrapData = Array(len);
                this.$updateWrapData(0, len - 1);
              }
              this._signal("changeWrapMode");
            }
          };
          this.getUseWrapMode = function() {
            return this.$useWrapMode;
          };
          this.setWrapLimitRange = function(min2, max2) {
            if (this.$wrapLimitRange.min !== min2 || this.$wrapLimitRange.max !== max2) {
              this.$wrapLimitRange = { min: min2, max: max2 };
              this.$modified = true;
              this.$bidiHandler.markAsDirty();
              if (this.$useWrapMode)
                this._signal("changeWrapMode");
            }
          };
          this.adjustWrapLimit = function(desiredLimit, $printMargin) {
            var limits = this.$wrapLimitRange;
            if (limits.max < 0)
              limits = { min: $printMargin, max: $printMargin };
            var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);
            if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {
              this.$wrapLimit = wrapLimit;
              this.$modified = true;
              if (this.$useWrapMode) {
                this.$updateWrapData(0, this.getLength() - 1);
                this.$resetRowCache(0);
                this._signal("changeWrapLimit");
              }
              return true;
            }
            return false;
          };
          this.$constrainWrapLimit = function(wrapLimit, min2, max2) {
            if (min2)
              wrapLimit = Math.max(min2, wrapLimit);
            if (max2)
              wrapLimit = Math.min(max2, wrapLimit);
            return wrapLimit;
          };
          this.getWrapLimit = function() {
            return this.$wrapLimit;
          };
          this.setWrapLimit = function(limit) {
            this.setWrapLimitRange(limit, limit);
          };
          this.getWrapLimitRange = function() {
            return {
              min: this.$wrapLimitRange.min,
              max: this.$wrapLimitRange.max
            };
          };
          this.$updateInternalDataOnChange = function(delta) {
            var useWrapMode = this.$useWrapMode;
            var action = delta.action;
            var start4 = delta.start;
            var end3 = delta.end;
            var firstRow = start4.row;
            var lastRow = end3.row;
            var len = lastRow - firstRow;
            var removedFolds = null;
            this.$updating = true;
            if (len != 0) {
              if (action === "remove") {
                this[useWrapMode ? "$wrapData" : "$rowLengthCache"].splice(firstRow, len);
                var foldLines = this.$foldData;
                removedFolds = this.getFoldsInRange(delta);
                this.removeFolds(removedFolds);
                var foldLine = this.getFoldLine(end3.row);
                var idx = 0;
                if (foldLine) {
                  foldLine.addRemoveChars(end3.row, end3.column, start4.column - end3.column);
                  foldLine.shiftRow(-len);
                  var foldLineBefore = this.getFoldLine(firstRow);
                  if (foldLineBefore && foldLineBefore !== foldLine) {
                    foldLineBefore.merge(foldLine);
                    foldLine = foldLineBefore;
                  }
                  idx = foldLines.indexOf(foldLine) + 1;
                }
                for (idx; idx < foldLines.length; idx++) {
                  var foldLine = foldLines[idx];
                  if (foldLine.start.row >= end3.row) {
                    foldLine.shiftRow(-len);
                  }
                }
                lastRow = firstRow;
              } else {
                var args = Array(len);
                args.unshift(firstRow, 0);
                var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;
                arr.splice.apply(arr, args);
                var foldLines = this.$foldData;
                var foldLine = this.getFoldLine(firstRow);
                var idx = 0;
                if (foldLine) {
                  var cmp = foldLine.range.compareInside(start4.row, start4.column);
                  if (cmp == 0) {
                    foldLine = foldLine.split(start4.row, start4.column);
                    if (foldLine) {
                      foldLine.shiftRow(len);
                      foldLine.addRemoveChars(lastRow, 0, end3.column - start4.column);
                    }
                  } else if (cmp == -1) {
                    foldLine.addRemoveChars(firstRow, 0, end3.column - start4.column);
                    foldLine.shiftRow(len);
                  }
                  idx = foldLines.indexOf(foldLine) + 1;
                }
                for (idx; idx < foldLines.length; idx++) {
                  var foldLine = foldLines[idx];
                  if (foldLine.start.row >= firstRow) {
                    foldLine.shiftRow(len);
                  }
                }
              }
            } else {
              len = Math.abs(delta.start.column - delta.end.column);
              if (action === "remove") {
                removedFolds = this.getFoldsInRange(delta);
                this.removeFolds(removedFolds);
                len = -len;
              }
              var foldLine = this.getFoldLine(firstRow);
              if (foldLine) {
                foldLine.addRemoveChars(firstRow, start4.column, len);
              }
            }
            if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {
              console.error("doc.getLength() and $wrapData.length have to be the same!");
            }
            this.$updating = false;
            if (useWrapMode)
              this.$updateWrapData(firstRow, lastRow);
            else
              this.$updateRowLengthCache(firstRow, lastRow);
            return removedFolds;
          };
          this.$updateRowLengthCache = function(firstRow, lastRow, b3) {
            this.$rowLengthCache[firstRow] = null;
            this.$rowLengthCache[lastRow] = null;
          };
          this.$updateWrapData = function(firstRow, lastRow) {
            var lines = this.doc.getAllLines();
            var tabSize = this.getTabSize();
            var wrapData = this.$wrapData;
            var wrapLimit = this.$wrapLimit;
            var tokens;
            var foldLine;
            var row = firstRow;
            lastRow = Math.min(lastRow, lines.length - 1);
            while (row <= lastRow) {
              foldLine = this.getFoldLine(row, foldLine);
              if (!foldLine) {
                tokens = this.$getDisplayTokens(lines[row]);
                wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);
                row++;
              } else {
                tokens = [];
                foldLine.walk(function(placeholder2, row2, column, lastColumn) {
                  var walkTokens;
                  if (placeholder2 != null) {
                    walkTokens = this.$getDisplayTokens(placeholder2, tokens.length);
                    walkTokens[0] = PLACEHOLDER_START;
                    for (var i3 = 1; i3 < walkTokens.length; i3++) {
                      walkTokens[i3] = PLACEHOLDER_BODY;
                    }
                  } else {
                    walkTokens = this.$getDisplayTokens(lines[row2].substring(lastColumn, column), tokens.length);
                  }
                  tokens = tokens.concat(walkTokens);
                }.bind(this), foldLine.end.row, lines[foldLine.end.row].length + 1);
                wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);
                row = foldLine.end.row + 1;
              }
            }
          };
          var CHAR = 1, CHAR_EXT = 2, PLACEHOLDER_START = 3, PLACEHOLDER_BODY = 4, PUNCTUATION = 9, SPACE = 10, TAB = 11, TAB_SPACE = 12;
          this.$computeWrapSplits = function(tokens, wrapLimit, tabSize) {
            if (tokens.length == 0) {
              return [];
            }
            var splits = [];
            var displayLength = tokens.length;
            var lastSplit = 0, lastDocSplit = 0;
            var isCode = this.$wrapAsCode;
            var indentedSoftWrap = this.$indentedSoftWrap;
            var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8) || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);
            function getWrapIndent() {
              var indentation = 0;
              if (maxIndent === 0)
                return indentation;
              if (indentedSoftWrap) {
                for (var i3 = 0; i3 < tokens.length; i3++) {
                  var token = tokens[i3];
                  if (token == SPACE)
                    indentation += 1;
                  else if (token == TAB)
                    indentation += tabSize;
                  else if (token == TAB_SPACE)
                    continue;
                  else
                    break;
                }
              }
              if (isCode && indentedSoftWrap !== false)
                indentation += tabSize;
              return Math.min(indentation, maxIndent);
            }
            function addSplit(screenPos) {
              var len = screenPos - lastSplit;
              for (var i3 = lastSplit; i3 < screenPos; i3++) {
                var ch = tokens[i3];
                if (ch === 12 || ch === 2)
                  len -= 1;
              }
              if (!splits.length) {
                indent = getWrapIndent();
                splits.indent = indent;
              }
              lastDocSplit += len;
              splits.push(lastDocSplit);
              lastSplit = screenPos;
            }
            var indent = 0;
            while (displayLength - lastSplit > wrapLimit - indent) {
              var split = lastSplit + wrapLimit - indent;
              if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {
                addSplit(split);
                continue;
              }
              if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {
                for (split; split != lastSplit - 1; split--) {
                  if (tokens[split] == PLACEHOLDER_START) {
                    break;
                  }
                }
                if (split > lastSplit) {
                  addSplit(split);
                  continue;
                }
                split = lastSplit + wrapLimit;
                for (split; split < tokens.length; split++) {
                  if (tokens[split] != PLACEHOLDER_BODY) {
                    break;
                  }
                }
                if (split == tokens.length) {
                  break;
                }
                addSplit(split);
                continue;
              }
              var minSplit = Math.max(split - (wrapLimit - (wrapLimit >> 2)), lastSplit - 1);
              while (split > minSplit && tokens[split] < PLACEHOLDER_START) {
                split--;
              }
              if (isCode) {
                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {
                  split--;
                }
                while (split > minSplit && tokens[split] == PUNCTUATION) {
                  split--;
                }
              } else {
                while (split > minSplit && tokens[split] < SPACE) {
                  split--;
                }
              }
              if (split > minSplit) {
                addSplit(++split);
                continue;
              }
              split = lastSplit + wrapLimit;
              if (tokens[split] == CHAR_EXT)
                split--;
              addSplit(split - indent);
            }
            return splits;
          };
          this.$getDisplayTokens = function(str, offset4) {
            var arr = [];
            var tabSize;
            offset4 = offset4 || 0;
            for (var i3 = 0; i3 < str.length; i3++) {
              var c3 = str.charCodeAt(i3);
              if (c3 == 9) {
                tabSize = this.getScreenTabSize(arr.length + offset4);
                arr.push(TAB);
                for (var n3 = 1; n3 < tabSize; n3++) {
                  arr.push(TAB_SPACE);
                }
              } else if (c3 == 32) {
                arr.push(SPACE);
              } else if (c3 > 39 && c3 < 48 || c3 > 57 && c3 < 64) {
                arr.push(PUNCTUATION);
              } else if (c3 >= 4352 && isFullWidth(c3)) {
                arr.push(CHAR, CHAR_EXT);
              } else {
                arr.push(CHAR);
              }
            }
            return arr;
          };
          this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {
            if (maxScreenColumn == 0)
              return [0, 0];
            if (maxScreenColumn == null)
              maxScreenColumn = Infinity;
            screenColumn = screenColumn || 0;
            var c3, column;
            for (column = 0; column < str.length; column++) {
              c3 = str.charCodeAt(column);
              if (c3 == 9) {
                screenColumn += this.getScreenTabSize(screenColumn);
              } else if (c3 >= 4352 && isFullWidth(c3)) {
                screenColumn += 2;
              } else {
                screenColumn += 1;
              }
              if (screenColumn > maxScreenColumn) {
                break;
              }
            }
            return [screenColumn, column];
          };
          this.lineWidgets = null;
          this.getRowLength = function(row) {
            var h3 = 1;
            if (this.lineWidgets)
              h3 += this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;
            if (!this.$useWrapMode || !this.$wrapData[row])
              return h3;
            else
              return this.$wrapData[row].length + h3;
          };
          this.getRowLineCount = function(row) {
            if (!this.$useWrapMode || !this.$wrapData[row]) {
              return 1;
            } else {
              return this.$wrapData[row].length + 1;
            }
          };
          this.getRowWrapIndent = function(screenRow) {
            if (this.$useWrapMode) {
              var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);
              var splits = this.$wrapData[pos.row];
              return splits.length && splits[0] < pos.column ? splits.indent : 0;
            } else {
              return 0;
            }
          };
          this.getScreenLastRowColumn = function(screenRow) {
            var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);
            return this.documentToScreenColumn(pos.row, pos.column);
          };
          this.getDocumentLastRowColumn = function(docRow, docColumn) {
            var screenRow = this.documentToScreenRow(docRow, docColumn);
            return this.getScreenLastRowColumn(screenRow);
          };
          this.getDocumentLastRowColumnPosition = function(docRow, docColumn) {
            var screenRow = this.documentToScreenRow(docRow, docColumn);
            return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);
          };
          this.getRowSplitData = function(row) {
            if (!this.$useWrapMode) {
              return void 0;
            } else {
              return this.$wrapData[row];
            }
          };
          this.getScreenTabSize = function(screenColumn) {
            return this.$tabSize - (screenColumn % this.$tabSize | 0);
          };
          this.screenToDocumentRow = function(screenRow, screenColumn) {
            return this.screenToDocumentPosition(screenRow, screenColumn).row;
          };
          this.screenToDocumentColumn = function(screenRow, screenColumn) {
            return this.screenToDocumentPosition(screenRow, screenColumn).column;
          };
          this.screenToDocumentPosition = function(screenRow, screenColumn, offsetX) {
            if (screenRow < 0)
              return { row: 0, column: 0 };
            var line;
            var docRow = 0;
            var docColumn = 0;
            var column;
            var row = 0;
            var rowLength = 0;
            var rowCache = this.$screenRowCache;
            var i3 = this.$getRowCacheIndex(rowCache, screenRow);
            var l3 = rowCache.length;
            if (l3 && i3 >= 0) {
              var row = rowCache[i3];
              var docRow = this.$docRowCache[i3];
              var doCache = screenRow > rowCache[l3 - 1];
            } else {
              var doCache = !l3;
            }
            var maxRow = this.getLength() - 1;
            var foldLine = this.getNextFoldLine(docRow);
            var foldStart = foldLine ? foldLine.start.row : Infinity;
            while (row <= screenRow) {
              rowLength = this.getRowLength(docRow);
              if (row + rowLength > screenRow || docRow >= maxRow) {
                break;
              } else {
                row += rowLength;
                docRow++;
                if (docRow > foldStart) {
                  docRow = foldLine.end.row + 1;
                  foldLine = this.getNextFoldLine(docRow, foldLine);
                  foldStart = foldLine ? foldLine.start.row : Infinity;
                }
              }
              if (doCache) {
                this.$docRowCache.push(docRow);
                this.$screenRowCache.push(row);
              }
            }
            if (foldLine && foldLine.start.row <= docRow) {
              line = this.getFoldDisplayLine(foldLine);
              docRow = foldLine.start.row;
            } else if (row + rowLength <= screenRow || docRow > maxRow) {
              return {
                row: maxRow,
                column: this.getLine(maxRow).length
              };
            } else {
              line = this.getLine(docRow);
              foldLine = null;
            }
            var wrapIndent = 0, splitIndex = Math.floor(screenRow - row);
            if (this.$useWrapMode) {
              var splits = this.$wrapData[docRow];
              if (splits) {
                column = splits[splitIndex];
                if (splitIndex > 0 && splits.length) {
                  wrapIndent = splits.indent;
                  docColumn = splits[splitIndex - 1] || splits[splits.length - 1];
                  line = line.substring(docColumn);
                }
              }
            }
            if (offsetX !== void 0 && this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex))
              screenColumn = this.$bidiHandler.offsetToCol(offsetX);
            docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];
            if (this.$useWrapMode && docColumn >= column)
              docColumn = column - 1;
            if (foldLine)
              return foldLine.idxToPosition(docColumn);
            return { row: docRow, column: docColumn };
          };
          this.documentToScreenPosition = function(docRow, docColumn) {
            if (typeof docColumn === "undefined")
              var pos = this.$clipPositionToDocument(docRow.row, docRow.column);
            else
              pos = this.$clipPositionToDocument(docRow, docColumn);
            docRow = pos.row;
            docColumn = pos.column;
            var screenRow = 0;
            var foldStartRow = null;
            var fold = null;
            fold = this.getFoldAt(docRow, docColumn, 1);
            if (fold) {
              docRow = fold.start.row;
              docColumn = fold.start.column;
            }
            var rowEnd, row = 0;
            var rowCache = this.$docRowCache;
            var i3 = this.$getRowCacheIndex(rowCache, docRow);
            var l3 = rowCache.length;
            if (l3 && i3 >= 0) {
              var row = rowCache[i3];
              var screenRow = this.$screenRowCache[i3];
              var doCache = docRow > rowCache[l3 - 1];
            } else {
              var doCache = !l3;
            }
            var foldLine = this.getNextFoldLine(row);
            var foldStart = foldLine ? foldLine.start.row : Infinity;
            while (row < docRow) {
              if (row >= foldStart) {
                rowEnd = foldLine.end.row + 1;
                if (rowEnd > docRow)
                  break;
                foldLine = this.getNextFoldLine(rowEnd, foldLine);
                foldStart = foldLine ? foldLine.start.row : Infinity;
              } else {
                rowEnd = row + 1;
              }
              screenRow += this.getRowLength(row);
              row = rowEnd;
              if (doCache) {
                this.$docRowCache.push(row);
                this.$screenRowCache.push(screenRow);
              }
            }
            var textLine = "";
            if (foldLine && row >= foldStart) {
              textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);
              foldStartRow = foldLine.start.row;
            } else {
              textLine = this.getLine(docRow).substring(0, docColumn);
              foldStartRow = docRow;
            }
            var wrapIndent = 0;
            if (this.$useWrapMode) {
              var wrapRow = this.$wrapData[foldStartRow];
              if (wrapRow) {
                var screenRowOffset = 0;
                while (textLine.length >= wrapRow[screenRowOffset]) {
                  screenRow++;
                  screenRowOffset++;
                }
                textLine = textLine.substring(wrapRow[screenRowOffset - 1] || 0, textLine.length);
                wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;
              }
            }
            if (this.lineWidgets && this.lineWidgets[row] && this.lineWidgets[row].rowsAbove)
              screenRow += this.lineWidgets[row].rowsAbove;
            return {
              row: screenRow,
              column: wrapIndent + this.$getStringScreenWidth(textLine)[0]
            };
          };
          this.documentToScreenColumn = function(row, docColumn) {
            return this.documentToScreenPosition(row, docColumn).column;
          };
          this.documentToScreenRow = function(docRow, docColumn) {
            return this.documentToScreenPosition(docRow, docColumn).row;
          };
          this.getScreenLength = function() {
            var screenRows = 0;
            var fold = null;
            if (!this.$useWrapMode) {
              screenRows = this.getLength();
              var foldData = this.$foldData;
              for (var i3 = 0; i3 < foldData.length; i3++) {
                fold = foldData[i3];
                screenRows -= fold.end.row - fold.start.row;
              }
            } else {
              var lastRow = this.$wrapData.length;
              var row = 0, i3 = 0;
              var fold = this.$foldData[i3++];
              var foldStart = fold ? fold.start.row : Infinity;
              while (row < lastRow) {
                var splits = this.$wrapData[row];
                screenRows += splits ? splits.length + 1 : 1;
                row++;
                if (row > foldStart) {
                  row = fold.end.row + 1;
                  fold = this.$foldData[i3++];
                  foldStart = fold ? fold.start.row : Infinity;
                }
              }
            }
            if (this.lineWidgets)
              screenRows += this.$getWidgetScreenLength();
            return screenRows;
          };
          this.$setFontMetrics = function(fm) {
            if (!this.$enableVarChar)
              return;
            this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {
              if (maxScreenColumn === 0)
                return [0, 0];
              if (!maxScreenColumn)
                maxScreenColumn = Infinity;
              screenColumn = screenColumn || 0;
              var c3, column;
              for (column = 0; column < str.length; column++) {
                c3 = str.charAt(column);
                if (c3 === "	") {
                  screenColumn += this.getScreenTabSize(screenColumn);
                } else {
                  screenColumn += fm.getCharacterWidth(c3);
                }
                if (screenColumn > maxScreenColumn) {
                  break;
                }
              }
              return [screenColumn, column];
            };
          };
          this.destroy = function() {
            if (!this.destroyed) {
              this.bgTokenizer.setDocument(null);
              this.bgTokenizer.cleanup();
              this.destroyed = true;
            }
            this.$stopWorker();
            this.removeAllListeners();
            if (this.doc) {
              this.doc.off("change", this.$onChange);
            }
            this.selection.detach();
          };
          this.isFullWidth = isFullWidth;
          function isFullWidth(c3) {
            if (c3 < 4352)
              return false;
            return c3 >= 4352 && c3 <= 4447 || c3 >= 4515 && c3 <= 4519 || c3 >= 4602 && c3 <= 4607 || c3 >= 9001 && c3 <= 9002 || c3 >= 11904 && c3 <= 11929 || c3 >= 11931 && c3 <= 12019 || c3 >= 12032 && c3 <= 12245 || c3 >= 12272 && c3 <= 12283 || c3 >= 12288 && c3 <= 12350 || c3 >= 12353 && c3 <= 12438 || c3 >= 12441 && c3 <= 12543 || c3 >= 12549 && c3 <= 12589 || c3 >= 12593 && c3 <= 12686 || c3 >= 12688 && c3 <= 12730 || c3 >= 12736 && c3 <= 12771 || c3 >= 12784 && c3 <= 12830 || c3 >= 12832 && c3 <= 12871 || c3 >= 12880 && c3 <= 13054 || c3 >= 13056 && c3 <= 19903 || c3 >= 19968 && c3 <= 42124 || c3 >= 42128 && c3 <= 42182 || c3 >= 43360 && c3 <= 43388 || c3 >= 44032 && c3 <= 55203 || c3 >= 55216 && c3 <= 55238 || c3 >= 55243 && c3 <= 55291 || c3 >= 63744 && c3 <= 64255 || c3 >= 65040 && c3 <= 65049 || c3 >= 65072 && c3 <= 65106 || c3 >= 65108 && c3 <= 65126 || c3 >= 65128 && c3 <= 65131 || c3 >= 65281 && c3 <= 65376 || c3 >= 65504 && c3 <= 65510;
          }
        }).call(EditSession.prototype);
        require2("./edit_session/folding").Folding.call(EditSession.prototype);
        require2("./edit_session/bracket_match").BracketMatch.call(EditSession.prototype);
        config2.defineOptions(EditSession.prototype, "session", {
          wrap: {
            set: function(value) {
              if (!value || value == "off")
                value = false;
              else if (value == "free")
                value = true;
              else if (value == "printMargin")
                value = -1;
              else if (typeof value == "string")
                value = parseInt(value, 10) || false;
              if (this.$wrap == value)
                return;
              this.$wrap = value;
              if (!value) {
                this.setUseWrapMode(false);
              } else {
                var col = typeof value == "number" ? value : null;
                this.setWrapLimitRange(col, col);
                this.setUseWrapMode(true);
              }
            },
            get: function() {
              if (this.getUseWrapMode()) {
                if (this.$wrap == -1)
                  return "printMargin";
                if (!this.getWrapLimitRange().min)
                  return "free";
                return this.$wrap;
              }
              return "off";
            },
            handlesSet: true
          },
          wrapMethod: {
            set: function(val) {
              val = val == "auto" ? this.$mode.type != "text" : val != "text";
              if (val != this.$wrapAsCode) {
                this.$wrapAsCode = val;
                if (this.$useWrapMode) {
                  this.$useWrapMode = false;
                  this.setUseWrapMode(true);
                }
              }
            },
            initialValue: "auto"
          },
          indentedSoftWrap: {
            set: function() {
              if (this.$useWrapMode) {
                this.$useWrapMode = false;
                this.setUseWrapMode(true);
              }
            },
            initialValue: true
          },
          firstLineNumber: {
            set: function() {
              this._signal("changeBreakpoint");
            },
            initialValue: 1
          },
          useWorker: {
            set: function(useWorker) {
              this.$useWorker = useWorker;
              this.$stopWorker();
              if (useWorker)
                this.$startWorker();
            },
            initialValue: true
          },
          useSoftTabs: { initialValue: true },
          tabSize: {
            set: function(tabSize) {
              tabSize = parseInt(tabSize);
              if (tabSize > 0 && this.$tabSize !== tabSize) {
                this.$modified = true;
                this.$rowLengthCache = [];
                this.$tabSize = tabSize;
                this._signal("changeTabSize");
              }
            },
            initialValue: 4,
            handlesSet: true
          },
          navigateWithinSoftTabs: { initialValue: false },
          foldStyle: {
            set: function(val) {
              this.setFoldStyle(val);
            },
            handlesSet: true
          },
          overwrite: {
            set: function(val) {
              this._signal("changeOverwrite");
            },
            initialValue: false
          },
          newLineMode: {
            set: function(val) {
              this.doc.setNewLineMode(val);
            },
            get: function() {
              return this.doc.getNewLineMode();
            },
            handlesSet: true
          },
          mode: {
            set: function(val) {
              this.setMode(val);
            },
            get: function() {
              return this.$modeId;
            },
            handlesSet: true
          }
        });
        exports2.EditSession = EditSession;
      });
      ace.define("ace/search", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range"], function(require2, exports2, module2) {
        "use strict";
        var lang = require2("./lib/lang");
        var oop = require2("./lib/oop");
        var Range = require2("./range").Range;
        var Search = function() {
          this.$options = {};
        };
        (function() {
          this.set = function(options) {
            oop.mixin(this.$options, options);
            return this;
          };
          this.getOptions = function() {
            return lang.copyObject(this.$options);
          };
          this.setOptions = function(options) {
            this.$options = options;
          };
          this.find = function(session) {
            var options = this.$options;
            var iterator = this.$matchIterator(session, options);
            if (!iterator)
              return false;
            var firstRange = null;
            iterator.forEach(function(sr, sc, er, ec) {
              firstRange = new Range(sr, sc, er, ec);
              if (sc == ec && options.start && options.start.start && options.skipCurrent != false && firstRange.isEqual(options.start)) {
                firstRange = null;
                return false;
              }
              return true;
            });
            return firstRange;
          };
          this.findAll = function(session) {
            var options = this.$options;
            if (!options.needle)
              return [];
            this.$assembleRegExp(options);
            var range = options.range;
            var lines = range ? session.getLines(range.start.row, range.end.row) : session.doc.getAllLines();
            var ranges = [];
            var re = options.re;
            if (options.$isMultiLine) {
              var len = re.length;
              var maxRow = lines.length - len;
              var prevRange;
              outer:
                for (var row = re.offset || 0; row <= maxRow; row++) {
                  for (var j3 = 0; j3 < len; j3++)
                    if (lines[row + j3].search(re[j3]) == -1)
                      continue outer;
                  var startLine = lines[row];
                  var line = lines[row + len - 1];
                  var startIndex = startLine.length - startLine.match(re[0])[0].length;
                  var endIndex = line.match(re[len - 1])[0].length;
                  if (prevRange && prevRange.end.row === row && prevRange.end.column > startIndex) {
                    continue;
                  }
                  ranges.push(prevRange = new Range(row, startIndex, row + len - 1, endIndex));
                  if (len > 2)
                    row = row + len - 2;
                }
            } else {
              for (var i3 = 0; i3 < lines.length; i3++) {
                var matches = lang.getMatchOffsets(lines[i3], re);
                for (var j3 = 0; j3 < matches.length; j3++) {
                  var match2 = matches[j3];
                  ranges.push(new Range(i3, match2.offset, i3, match2.offset + match2.length));
                }
              }
            }
            if (range) {
              var startColumn = range.start.column;
              var endColumn = range.start.column;
              var i3 = 0, j3 = ranges.length - 1;
              while (i3 < j3 && ranges[i3].start.column < startColumn && ranges[i3].start.row == range.start.row)
                i3++;
              while (i3 < j3 && ranges[j3].end.column > endColumn && ranges[j3].end.row == range.end.row)
                j3--;
              ranges = ranges.slice(i3, j3 + 1);
              for (i3 = 0, j3 = ranges.length; i3 < j3; i3++) {
                ranges[i3].start.row += range.start.row;
                ranges[i3].end.row += range.start.row;
              }
            }
            return ranges;
          };
          this.replace = function(input, replacement) {
            var options = this.$options;
            var re = this.$assembleRegExp(options);
            if (options.$isMultiLine)
              return replacement;
            if (!re)
              return;
            var match2 = re.exec(input);
            if (!match2 || match2[0].length != input.length)
              return null;
            replacement = input.replace(re, replacement);
            if (options.preserveCase) {
              replacement = replacement.split("");
              for (var i3 = Math.min(input.length, input.length); i3--; ) {
                var ch = input[i3];
                if (ch && ch.toLowerCase() != ch)
                  replacement[i3] = replacement[i3].toUpperCase();
                else
                  replacement[i3] = replacement[i3].toLowerCase();
              }
              replacement = replacement.join("");
            }
            return replacement;
          };
          this.$assembleRegExp = function(options, $disableFakeMultiline) {
            if (options.needle instanceof RegExp)
              return options.re = options.needle;
            var needle = options.needle;
            if (!options.needle)
              return options.re = false;
            if (!options.regExp)
              needle = lang.escapeRegExp(needle);
            if (options.wholeWord)
              needle = addWordBoundary(needle, options);
            var modifier = options.caseSensitive ? "gm" : "gmi";
            options.$isMultiLine = !$disableFakeMultiline && /[\n\r]/.test(needle);
            if (options.$isMultiLine)
              return options.re = this.$assembleMultilineRegExp(needle, modifier);
            try {
              var re = new RegExp(needle, modifier);
            } catch (e2) {
              re = false;
            }
            return options.re = re;
          };
          this.$assembleMultilineRegExp = function(needle, modifier) {
            var parts = needle.replace(/\r\n|\r|\n/g, "$\n^").split("\n");
            var re = [];
            for (var i3 = 0; i3 < parts.length; i3++)
              try {
                re.push(new RegExp(parts[i3], modifier));
              } catch (e2) {
                return false;
              }
            return re;
          };
          this.$matchIterator = function(session, options) {
            var re = this.$assembleRegExp(options);
            if (!re)
              return false;
            var backwards = options.backwards == true;
            var skipCurrent = options.skipCurrent != false;
            var range = options.range;
            var start4 = options.start;
            if (!start4)
              start4 = range ? range[backwards ? "end" : "start"] : session.selection.getRange();
            if (start4.start)
              start4 = start4[skipCurrent != backwards ? "end" : "start"];
            var firstRow = range ? range.start.row : 0;
            var lastRow = range ? range.end.row : session.getLength() - 1;
            if (backwards) {
              var forEach = function(callback) {
                var row = start4.row;
                if (forEachInLine(row, start4.column, callback))
                  return;
                for (row--; row >= firstRow; row--)
                  if (forEachInLine(row, Number.MAX_VALUE, callback))
                    return;
                if (options.wrap == false)
                  return;
                for (row = lastRow, firstRow = start4.row; row >= firstRow; row--)
                  if (forEachInLine(row, Number.MAX_VALUE, callback))
                    return;
              };
            } else {
              var forEach = function(callback) {
                var row = start4.row;
                if (forEachInLine(row, start4.column, callback))
                  return;
                for (row = row + 1; row <= lastRow; row++)
                  if (forEachInLine(row, 0, callback))
                    return;
                if (options.wrap == false)
                  return;
                for (row = firstRow, lastRow = start4.row; row <= lastRow; row++)
                  if (forEachInLine(row, 0, callback))
                    return;
              };
            }
            if (options.$isMultiLine) {
              var len = re.length;
              var forEachInLine = function(row, offset4, callback) {
                var startRow = backwards ? row - len + 1 : row;
                if (startRow < 0 || startRow + len > session.getLength())
                  return;
                var line = session.getLine(startRow);
                var startIndex = line.search(re[0]);
                if (!backwards && startIndex < offset4 || startIndex === -1)
                  return;
                for (var i3 = 1; i3 < len; i3++) {
                  line = session.getLine(startRow + i3);
                  if (line.search(re[i3]) == -1)
                    return;
                }
                var endIndex = line.match(re[len - 1])[0].length;
                if (backwards && endIndex > offset4)
                  return;
                if (callback(startRow, startIndex, startRow + len - 1, endIndex))
                  return true;
              };
            } else if (backwards) {
              var forEachInLine = function(row, endIndex, callback) {
                var line = session.getLine(row);
                var matches = [];
                var m2, last = 0;
                re.lastIndex = 0;
                while (m2 = re.exec(line)) {
                  var length = m2[0].length;
                  last = m2.index;
                  if (!length) {
                    if (last >= line.length)
                      break;
                    re.lastIndex = last += 1;
                  }
                  if (m2.index + length > endIndex)
                    break;
                  matches.push(m2.index, length);
                }
                for (var i3 = matches.length - 1; i3 >= 0; i3 -= 2) {
                  var column = matches[i3 - 1];
                  var length = matches[i3];
                  if (callback(row, column, row, column + length))
                    return true;
                }
              };
            } else {
              var forEachInLine = function(row, startIndex, callback) {
                var line = session.getLine(row);
                var last;
                var m2;
                re.lastIndex = startIndex;
                while (m2 = re.exec(line)) {
                  var length = m2[0].length;
                  last = m2.index;
                  if (callback(row, last, row, last + length))
                    return true;
                  if (!length) {
                    re.lastIndex = last += 1;
                    if (last >= line.length)
                      return false;
                  }
                }
              };
            }
            return { forEach };
          };
        }).call(Search.prototype);
        function addWordBoundary(needle, options) {
          function wordBoundary(c3) {
            if (/\w/.test(c3) || options.regExp)
              return "\\b";
            return "";
          }
          return wordBoundary(needle[0]) + needle + wordBoundary(needle[needle.length - 1]);
        }
        exports2.Search = Search;
      });
      ace.define("ace/keyboard/hash_handler", ["require", "exports", "module", "ace/lib/keys", "ace/lib/useragent"], function(require2, exports2, module2) {
        "use strict";
        var keyUtil = require2("../lib/keys");
        var useragent = require2("../lib/useragent");
        var KEY_MODS = keyUtil.KEY_MODS;
        function HashHandler(config2, platform) {
          this.platform = platform || (useragent.isMac ? "mac" : "win");
          this.commands = {};
          this.commandKeyBinding = {};
          this.addCommands(config2);
          this.$singleCommand = true;
        }
        function MultiHashHandler(config2, platform) {
          HashHandler.call(this, config2, platform);
          this.$singleCommand = false;
        }
        MultiHashHandler.prototype = HashHandler.prototype;
        (function() {
          this.addCommand = function(command) {
            if (this.commands[command.name])
              this.removeCommand(command);
            this.commands[command.name] = command;
            if (command.bindKey)
              this._buildKeyHash(command);
          };
          this.removeCommand = function(command, keepCommand) {
            var name = command && (typeof command === "string" ? command : command.name);
            command = this.commands[name];
            if (!keepCommand)
              delete this.commands[name];
            var ckb = this.commandKeyBinding;
            for (var keyId in ckb) {
              var cmdGroup = ckb[keyId];
              if (cmdGroup == command) {
                delete ckb[keyId];
              } else if (Array.isArray(cmdGroup)) {
                var i3 = cmdGroup.indexOf(command);
                if (i3 != -1) {
                  cmdGroup.splice(i3, 1);
                  if (cmdGroup.length == 1)
                    ckb[keyId] = cmdGroup[0];
                }
              }
            }
          };
          this.bindKey = function(key, command, position3) {
            if (typeof key == "object" && key) {
              if (position3 == void 0)
                position3 = key.position;
              key = key[this.platform];
            }
            if (!key)
              return;
            if (typeof command == "function")
              return this.addCommand({ exec: command, bindKey: key, name: command.name || key });
            key.split("|").forEach(function(keyPart) {
              var chain = "";
              if (keyPart.indexOf(" ") != -1) {
                var parts = keyPart.split(/\s+/);
                keyPart = parts.pop();
                parts.forEach(function(keyPart2) {
                  var binding2 = this.parseKeys(keyPart2);
                  var id2 = KEY_MODS[binding2.hashId] + binding2.key;
                  chain += (chain ? " " : "") + id2;
                  this._addCommandToBinding(chain, "chainKeys");
                }, this);
                chain += " ";
              }
              var binding = this.parseKeys(keyPart);
              var id = KEY_MODS[binding.hashId] + binding.key;
              this._addCommandToBinding(chain + id, command, position3);
            }, this);
          };
          function getPosition(command) {
            return typeof command == "object" && command.bindKey && command.bindKey.position || (command.isDefault ? -100 : 0);
          }
          this._addCommandToBinding = function(keyId, command, position3) {
            var ckb = this.commandKeyBinding, i3;
            if (!command) {
              delete ckb[keyId];
            } else if (!ckb[keyId] || this.$singleCommand) {
              ckb[keyId] = command;
            } else {
              if (!Array.isArray(ckb[keyId])) {
                ckb[keyId] = [ckb[keyId]];
              } else if ((i3 = ckb[keyId].indexOf(command)) != -1) {
                ckb[keyId].splice(i3, 1);
              }
              if (typeof position3 != "number") {
                position3 = getPosition(command);
              }
              var commands = ckb[keyId];
              for (i3 = 0; i3 < commands.length; i3++) {
                var other = commands[i3];
                var otherPos = getPosition(other);
                if (otherPos > position3)
                  break;
              }
              commands.splice(i3, 0, command);
            }
          };
          this.addCommands = function(commands) {
            commands && Object.keys(commands).forEach(function(name) {
              var command = commands[name];
              if (!command)
                return;
              if (typeof command === "string")
                return this.bindKey(command, name);
              if (typeof command === "function")
                command = { exec: command };
              if (typeof command !== "object")
                return;
              if (!command.name)
                command.name = name;
              this.addCommand(command);
            }, this);
          };
          this.removeCommands = function(commands) {
            Object.keys(commands).forEach(function(name) {
              this.removeCommand(commands[name]);
            }, this);
          };
          this.bindKeys = function(keyList) {
            Object.keys(keyList).forEach(function(key) {
              this.bindKey(key, keyList[key]);
            }, this);
          };
          this._buildKeyHash = function(command) {
            this.bindKey(command.bindKey, command);
          };
          this.parseKeys = function(keys) {
            var parts = keys.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(x2) {
              return x2;
            });
            var key = parts.pop();
            var keyCode = keyUtil[key];
            if (keyUtil.FUNCTION_KEYS[keyCode])
              key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();
            else if (!parts.length)
              return { key, hashId: -1 };
            else if (parts.length == 1 && parts[0] == "shift")
              return { key: key.toUpperCase(), hashId: -1 };
            var hashId = 0;
            for (var i3 = parts.length; i3--; ) {
              var modifier = keyUtil.KEY_MODS[parts[i3]];
              if (modifier == null) {
                if (typeof console != "undefined")
                  console.error("invalid modifier " + parts[i3] + " in " + keys);
                return false;
              }
              hashId |= modifier;
            }
            return { key, hashId };
          };
          this.findKeyCommand = function findKeyCommand(hashId, keyString) {
            var key = KEY_MODS[hashId] + keyString;
            return this.commandKeyBinding[key];
          };
          this.handleKeyboard = function(data, hashId, keyString, keyCode) {
            if (keyCode < 0)
              return;
            var key = KEY_MODS[hashId] + keyString;
            var command = this.commandKeyBinding[key];
            if (data.$keyChain) {
              data.$keyChain += " " + key;
              command = this.commandKeyBinding[data.$keyChain] || command;
            }
            if (command) {
              if (command == "chainKeys" || command[command.length - 1] == "chainKeys") {
                data.$keyChain = data.$keyChain || key;
                return { command: "null" };
              }
            }
            if (data.$keyChain) {
              if ((!hashId || hashId == 4) && keyString.length == 1)
                data.$keyChain = data.$keyChain.slice(0, -key.length - 1);
              else if (hashId == -1 || keyCode > 0)
                data.$keyChain = "";
            }
            return { command };
          };
          this.getStatusText = function(editor, data) {
            return data.$keyChain || "";
          };
        }).call(HashHandler.prototype);
        exports2.HashHandler = HashHandler;
        exports2.MultiHashHandler = MultiHashHandler;
      });
      ace.define("ace/commands/command_manager", ["require", "exports", "module", "ace/lib/oop", "ace/keyboard/hash_handler", "ace/lib/event_emitter"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("../lib/oop");
        var MultiHashHandler = require2("../keyboard/hash_handler").MultiHashHandler;
        var EventEmitter = require2("../lib/event_emitter").EventEmitter;
        var CommandManager = function(platform, commands) {
          MultiHashHandler.call(this, commands, platform);
          this.byName = this.commands;
          this.setDefaultHandler("exec", function(e2) {
            if (!e2.args) {
              return e2.command.exec(e2.editor, {}, e2.event, true);
            }
            return e2.command.exec(e2.editor, e2.args, e2.event, false);
          });
        };
        oop.inherits(CommandManager, MultiHashHandler);
        (function() {
          oop.implement(this, EventEmitter);
          this.exec = function(command, editor, args) {
            if (Array.isArray(command)) {
              for (var i3 = command.length; i3--; ) {
                if (this.exec(command[i3], editor, args))
                  return true;
              }
              return false;
            }
            if (typeof command === "string")
              command = this.commands[command];
            if (!command)
              return false;
            if (editor && editor.$readOnly && !command.readOnly)
              return false;
            if (this.$checkCommandState != false && command.isAvailable && !command.isAvailable(editor))
              return false;
            var e2 = { editor, command, args };
            e2.returnValue = this._emit("exec", e2);
            this._signal("afterExec", e2);
            return e2.returnValue === false ? false : true;
          };
          this.toggleRecording = function(editor) {
            if (this.$inReplay)
              return;
            editor && editor._emit("changeStatus");
            if (this.recording) {
              this.macro.pop();
              this.off("exec", this.$addCommandToMacro);
              if (!this.macro.length)
                this.macro = this.oldMacro;
              return this.recording = false;
            }
            if (!this.$addCommandToMacro) {
              this.$addCommandToMacro = function(e2) {
                this.macro.push([e2.command, e2.args]);
              }.bind(this);
            }
            this.oldMacro = this.macro;
            this.macro = [];
            this.on("exec", this.$addCommandToMacro);
            return this.recording = true;
          };
          this.replay = function(editor) {
            if (this.$inReplay || !this.macro)
              return;
            if (this.recording)
              return this.toggleRecording(editor);
            try {
              this.$inReplay = true;
              this.macro.forEach(function(x2) {
                if (typeof x2 == "string")
                  this.exec(x2, editor);
                else
                  this.exec(x2[0], editor, x2[1]);
              }, this);
            } finally {
              this.$inReplay = false;
            }
          };
          this.trimMacro = function(m2) {
            return m2.map(function(x2) {
              if (typeof x2[0] != "string")
                x2[0] = x2[0].name;
              if (!x2[1])
                x2 = x2[0];
              return x2;
            });
          };
        }).call(CommandManager.prototype);
        exports2.CommandManager = CommandManager;
      });
      ace.define("ace/commands/default_commands", ["require", "exports", "module", "ace/lib/lang", "ace/config", "ace/range"], function(require2, exports2, module2) {
        "use strict";
        var lang = require2("../lib/lang");
        var config2 = require2("../config");
        var Range = require2("../range").Range;
        function bindKey(win, mac) {
          return { win, mac };
        }
        exports2.commands = [
          {
            name: "showSettingsMenu",
            description: "Show settings menu",
            bindKey: bindKey("Ctrl-,", "Command-,"),
            exec: function(editor) {
              config2.loadModule("ace/ext/settings_menu", function(module3) {
                module3.init(editor);
                editor.showSettingsMenu();
              });
            },
            readOnly: true
          },
          {
            name: "goToNextError",
            description: "Go to next error",
            bindKey: bindKey("Alt-E", "F4"),
            exec: function(editor) {
              config2.loadModule("./ext/error_marker", function(module3) {
                module3.showErrorMarker(editor, 1);
              });
            },
            scrollIntoView: "animate",
            readOnly: true
          },
          {
            name: "goToPreviousError",
            description: "Go to previous error",
            bindKey: bindKey("Alt-Shift-E", "Shift-F4"),
            exec: function(editor) {
              config2.loadModule("./ext/error_marker", function(module3) {
                module3.showErrorMarker(editor, -1);
              });
            },
            scrollIntoView: "animate",
            readOnly: true
          },
          {
            name: "selectall",
            description: "Select all",
            bindKey: bindKey("Ctrl-A", "Command-A"),
            exec: function(editor) {
              editor.selectAll();
            },
            readOnly: true
          },
          {
            name: "centerselection",
            description: "Center selection",
            bindKey: bindKey(null, "Ctrl-L"),
            exec: function(editor) {
              editor.centerSelection();
            },
            readOnly: true
          },
          {
            name: "gotoline",
            description: "Go to line...",
            bindKey: bindKey("Ctrl-L", "Command-L"),
            exec: function(editor, line) {
              if (typeof line === "number" && !isNaN(line))
                editor.gotoLine(line);
              editor.prompt({ $type: "gotoLine" });
            },
            readOnly: true
          },
          {
            name: "fold",
            bindKey: bindKey("Alt-L|Ctrl-F1", "Command-Alt-L|Command-F1"),
            exec: function(editor) {
              editor.session.toggleFold(false);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "center",
            readOnly: true
          },
          {
            name: "unfold",
            bindKey: bindKey("Alt-Shift-L|Ctrl-Shift-F1", "Command-Alt-Shift-L|Command-Shift-F1"),
            exec: function(editor) {
              editor.session.toggleFold(true);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "center",
            readOnly: true
          },
          {
            name: "toggleFoldWidget",
            description: "Toggle fold widget",
            bindKey: bindKey("F2", "F2"),
            exec: function(editor) {
              editor.session.toggleFoldWidget();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "center",
            readOnly: true
          },
          {
            name: "toggleParentFoldWidget",
            description: "Toggle parent fold widget",
            bindKey: bindKey("Alt-F2", "Alt-F2"),
            exec: function(editor) {
              editor.session.toggleFoldWidget(true);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "center",
            readOnly: true
          },
          {
            name: "foldall",
            description: "Fold all",
            bindKey: bindKey(null, "Ctrl-Command-Option-0"),
            exec: function(editor) {
              editor.session.foldAll();
            },
            scrollIntoView: "center",
            readOnly: true
          },
          {
            name: "foldAllComments",
            description: "Fold all comments",
            bindKey: bindKey(null, "Ctrl-Command-Option-0"),
            exec: function(editor) {
              editor.session.foldAllComments();
            },
            scrollIntoView: "center",
            readOnly: true
          },
          {
            name: "foldOther",
            description: "Fold other",
            bindKey: bindKey("Alt-0", "Command-Option-0"),
            exec: function(editor) {
              editor.session.foldAll();
              editor.session.unfold(editor.selection.getAllRanges());
            },
            scrollIntoView: "center",
            readOnly: true
          },
          {
            name: "unfoldall",
            description: "Unfold all",
            bindKey: bindKey("Alt-Shift-0", "Command-Option-Shift-0"),
            exec: function(editor) {
              editor.session.unfold();
            },
            scrollIntoView: "center",
            readOnly: true
          },
          {
            name: "findnext",
            description: "Find next",
            bindKey: bindKey("Ctrl-K", "Command-G"),
            exec: function(editor) {
              editor.findNext();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "center",
            readOnly: true
          },
          {
            name: "findprevious",
            description: "Find previous",
            bindKey: bindKey("Ctrl-Shift-K", "Command-Shift-G"),
            exec: function(editor) {
              editor.findPrevious();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "center",
            readOnly: true
          },
          {
            name: "selectOrFindNext",
            description: "Select or find next",
            bindKey: bindKey("Alt-K", "Ctrl-G"),
            exec: function(editor) {
              if (editor.selection.isEmpty())
                editor.selection.selectWord();
              else
                editor.findNext();
            },
            readOnly: true
          },
          {
            name: "selectOrFindPrevious",
            description: "Select or find previous",
            bindKey: bindKey("Alt-Shift-K", "Ctrl-Shift-G"),
            exec: function(editor) {
              if (editor.selection.isEmpty())
                editor.selection.selectWord();
              else
                editor.findPrevious();
            },
            readOnly: true
          },
          {
            name: "find",
            description: "Find",
            bindKey: bindKey("Ctrl-F", "Command-F"),
            exec: function(editor) {
              config2.loadModule("ace/ext/searchbox", function(e2) {
                e2.Search(editor);
              });
            },
            readOnly: true
          },
          {
            name: "overwrite",
            description: "Overwrite",
            bindKey: "Insert",
            exec: function(editor) {
              editor.toggleOverwrite();
            },
            readOnly: true
          },
          {
            name: "selecttostart",
            description: "Select to start",
            bindKey: bindKey("Ctrl-Shift-Home", "Command-Shift-Home|Command-Shift-Up"),
            exec: function(editor) {
              editor.getSelection().selectFileStart();
            },
            multiSelectAction: "forEach",
            readOnly: true,
            scrollIntoView: "animate",
            aceCommandGroup: "fileJump"
          },
          {
            name: "gotostart",
            description: "Go to start",
            bindKey: bindKey("Ctrl-Home", "Command-Home|Command-Up"),
            exec: function(editor) {
              editor.navigateFileStart();
            },
            multiSelectAction: "forEach",
            readOnly: true,
            scrollIntoView: "animate",
            aceCommandGroup: "fileJump"
          },
          {
            name: "selectup",
            description: "Select up",
            bindKey: bindKey("Shift-Up", "Shift-Up|Ctrl-Shift-P"),
            exec: function(editor) {
              editor.getSelection().selectUp();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "golineup",
            description: "Go line up",
            bindKey: bindKey("Up", "Up|Ctrl-P"),
            exec: function(editor, args) {
              editor.navigateUp(args.times);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "selecttoend",
            description: "Select to end",
            bindKey: bindKey("Ctrl-Shift-End", "Command-Shift-End|Command-Shift-Down"),
            exec: function(editor) {
              editor.getSelection().selectFileEnd();
            },
            multiSelectAction: "forEach",
            readOnly: true,
            scrollIntoView: "animate",
            aceCommandGroup: "fileJump"
          },
          {
            name: "gotoend",
            description: "Go to end",
            bindKey: bindKey("Ctrl-End", "Command-End|Command-Down"),
            exec: function(editor) {
              editor.navigateFileEnd();
            },
            multiSelectAction: "forEach",
            readOnly: true,
            scrollIntoView: "animate",
            aceCommandGroup: "fileJump"
          },
          {
            name: "selectdown",
            description: "Select down",
            bindKey: bindKey("Shift-Down", "Shift-Down|Ctrl-Shift-N"),
            exec: function(editor) {
              editor.getSelection().selectDown();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "golinedown",
            description: "Go line down",
            bindKey: bindKey("Down", "Down|Ctrl-N"),
            exec: function(editor, args) {
              editor.navigateDown(args.times);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "selectwordleft",
            description: "Select word left",
            bindKey: bindKey("Ctrl-Shift-Left", "Option-Shift-Left"),
            exec: function(editor) {
              editor.getSelection().selectWordLeft();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "gotowordleft",
            description: "Go to word left",
            bindKey: bindKey("Ctrl-Left", "Option-Left"),
            exec: function(editor) {
              editor.navigateWordLeft();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "selecttolinestart",
            description: "Select to line start",
            bindKey: bindKey("Alt-Shift-Left", "Command-Shift-Left|Ctrl-Shift-A"),
            exec: function(editor) {
              editor.getSelection().selectLineStart();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "gotolinestart",
            description: "Go to line start",
            bindKey: bindKey("Alt-Left|Home", "Command-Left|Home|Ctrl-A"),
            exec: function(editor) {
              editor.navigateLineStart();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "selectleft",
            description: "Select left",
            bindKey: bindKey("Shift-Left", "Shift-Left|Ctrl-Shift-B"),
            exec: function(editor) {
              editor.getSelection().selectLeft();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "gotoleft",
            description: "Go to left",
            bindKey: bindKey("Left", "Left|Ctrl-B"),
            exec: function(editor, args) {
              editor.navigateLeft(args.times);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "selectwordright",
            description: "Select word right",
            bindKey: bindKey("Ctrl-Shift-Right", "Option-Shift-Right"),
            exec: function(editor) {
              editor.getSelection().selectWordRight();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "gotowordright",
            description: "Go to word right",
            bindKey: bindKey("Ctrl-Right", "Option-Right"),
            exec: function(editor) {
              editor.navigateWordRight();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "selecttolineend",
            description: "Select to line end",
            bindKey: bindKey("Alt-Shift-Right", "Command-Shift-Right|Shift-End|Ctrl-Shift-E"),
            exec: function(editor) {
              editor.getSelection().selectLineEnd();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "gotolineend",
            description: "Go to line end",
            bindKey: bindKey("Alt-Right|End", "Command-Right|End|Ctrl-E"),
            exec: function(editor) {
              editor.navigateLineEnd();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "selectright",
            description: "Select right",
            bindKey: bindKey("Shift-Right", "Shift-Right"),
            exec: function(editor) {
              editor.getSelection().selectRight();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "gotoright",
            description: "Go to right",
            bindKey: bindKey("Right", "Right|Ctrl-F"),
            exec: function(editor, args) {
              editor.navigateRight(args.times);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "selectpagedown",
            description: "Select page down",
            bindKey: "Shift-PageDown",
            exec: function(editor) {
              editor.selectPageDown();
            },
            readOnly: true
          },
          {
            name: "pagedown",
            description: "Page down",
            bindKey: bindKey(null, "Option-PageDown"),
            exec: function(editor) {
              editor.scrollPageDown();
            },
            readOnly: true
          },
          {
            name: "gotopagedown",
            description: "Go to page down",
            bindKey: bindKey("PageDown", "PageDown|Ctrl-V"),
            exec: function(editor) {
              editor.gotoPageDown();
            },
            readOnly: true
          },
          {
            name: "selectpageup",
            description: "Select page up",
            bindKey: "Shift-PageUp",
            exec: function(editor) {
              editor.selectPageUp();
            },
            readOnly: true
          },
          {
            name: "pageup",
            description: "Page up",
            bindKey: bindKey(null, "Option-PageUp"),
            exec: function(editor) {
              editor.scrollPageUp();
            },
            readOnly: true
          },
          {
            name: "gotopageup",
            description: "Go to page up",
            bindKey: "PageUp",
            exec: function(editor) {
              editor.gotoPageUp();
            },
            readOnly: true
          },
          {
            name: "scrollup",
            description: "Scroll up",
            bindKey: bindKey("Ctrl-Up", null),
            exec: function(e2) {
              e2.renderer.scrollBy(0, -2 * e2.renderer.layerConfig.lineHeight);
            },
            readOnly: true
          },
          {
            name: "scrolldown",
            description: "Scroll down",
            bindKey: bindKey("Ctrl-Down", null),
            exec: function(e2) {
              e2.renderer.scrollBy(0, 2 * e2.renderer.layerConfig.lineHeight);
            },
            readOnly: true
          },
          {
            name: "selectlinestart",
            description: "Select line start",
            bindKey: "Shift-Home",
            exec: function(editor) {
              editor.getSelection().selectLineStart();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "selectlineend",
            description: "Select line end",
            bindKey: "Shift-End",
            exec: function(editor) {
              editor.getSelection().selectLineEnd();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "togglerecording",
            description: "Toggle recording",
            bindKey: bindKey("Ctrl-Alt-E", "Command-Option-E"),
            exec: function(editor) {
              editor.commands.toggleRecording(editor);
            },
            readOnly: true
          },
          {
            name: "replaymacro",
            description: "Replay macro",
            bindKey: bindKey("Ctrl-Shift-E", "Command-Shift-E"),
            exec: function(editor) {
              editor.commands.replay(editor);
            },
            readOnly: true
          },
          {
            name: "jumptomatching",
            description: "Jump to matching",
            bindKey: bindKey("Ctrl-\\|Ctrl-P", "Command-\\"),
            exec: function(editor) {
              editor.jumpToMatching();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "animate",
            readOnly: true
          },
          {
            name: "selecttomatching",
            description: "Select to matching",
            bindKey: bindKey("Ctrl-Shift-\\|Ctrl-Shift-P", "Command-Shift-\\"),
            exec: function(editor) {
              editor.jumpToMatching(true);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "animate",
            readOnly: true
          },
          {
            name: "expandToMatching",
            description: "Expand to matching",
            bindKey: bindKey("Ctrl-Shift-M", "Ctrl-Shift-M"),
            exec: function(editor) {
              editor.jumpToMatching(true, true);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "animate",
            readOnly: true
          },
          {
            name: "passKeysToBrowser",
            description: "Pass keys to browser",
            bindKey: bindKey(null, null),
            exec: function() {
            },
            passEvent: true,
            readOnly: true
          },
          {
            name: "copy",
            description: "Copy",
            exec: function(editor) {
            },
            readOnly: true
          },
          {
            name: "cut",
            description: "Cut",
            exec: function(editor) {
              var cutLine = editor.$copyWithEmptySelection && editor.selection.isEmpty();
              var range = cutLine ? editor.selection.getLineRange() : editor.selection.getRange();
              editor._emit("cut", range);
              if (!range.isEmpty())
                editor.session.remove(range);
              editor.clearSelection();
            },
            scrollIntoView: "cursor",
            multiSelectAction: "forEach"
          },
          {
            name: "paste",
            description: "Paste",
            exec: function(editor, args) {
              editor.$handlePaste(args);
            },
            scrollIntoView: "cursor"
          },
          {
            name: "removeline",
            description: "Remove line",
            bindKey: bindKey("Ctrl-D", "Command-D"),
            exec: function(editor) {
              editor.removeLines();
            },
            scrollIntoView: "cursor",
            multiSelectAction: "forEachLine"
          },
          {
            name: "duplicateSelection",
            description: "Duplicate selection",
            bindKey: bindKey("Ctrl-Shift-D", "Command-Shift-D"),
            exec: function(editor) {
              editor.duplicateSelection();
            },
            scrollIntoView: "cursor",
            multiSelectAction: "forEach"
          },
          {
            name: "sortlines",
            description: "Sort lines",
            bindKey: bindKey("Ctrl-Alt-S", "Command-Alt-S"),
            exec: function(editor) {
              editor.sortLines();
            },
            scrollIntoView: "selection",
            multiSelectAction: "forEachLine"
          },
          {
            name: "togglecomment",
            description: "Toggle comment",
            bindKey: bindKey("Ctrl-/", "Command-/"),
            exec: function(editor) {
              editor.toggleCommentLines();
            },
            multiSelectAction: "forEachLine",
            scrollIntoView: "selectionPart"
          },
          {
            name: "toggleBlockComment",
            description: "Toggle block comment",
            bindKey: bindKey("Ctrl-Shift-/", "Command-Shift-/"),
            exec: function(editor) {
              editor.toggleBlockComment();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "selectionPart"
          },
          {
            name: "modifyNumberUp",
            description: "Modify number up",
            bindKey: bindKey("Ctrl-Shift-Up", "Alt-Shift-Up"),
            exec: function(editor) {
              editor.modifyNumber(1);
            },
            scrollIntoView: "cursor",
            multiSelectAction: "forEach"
          },
          {
            name: "modifyNumberDown",
            description: "Modify number down",
            bindKey: bindKey("Ctrl-Shift-Down", "Alt-Shift-Down"),
            exec: function(editor) {
              editor.modifyNumber(-1);
            },
            scrollIntoView: "cursor",
            multiSelectAction: "forEach"
          },
          {
            name: "replace",
            description: "Replace",
            bindKey: bindKey("Ctrl-H", "Command-Option-F"),
            exec: function(editor) {
              config2.loadModule("ace/ext/searchbox", function(e2) {
                e2.Search(editor, true);
              });
            }
          },
          {
            name: "undo",
            description: "Undo",
            bindKey: bindKey("Ctrl-Z", "Command-Z"),
            exec: function(editor) {
              editor.undo();
            }
          },
          {
            name: "redo",
            description: "Redo",
            bindKey: bindKey("Ctrl-Shift-Z|Ctrl-Y", "Command-Shift-Z|Command-Y"),
            exec: function(editor) {
              editor.redo();
            }
          },
          {
            name: "copylinesup",
            description: "Copy lines up",
            bindKey: bindKey("Alt-Shift-Up", "Command-Option-Up"),
            exec: function(editor) {
              editor.copyLinesUp();
            },
            scrollIntoView: "cursor"
          },
          {
            name: "movelinesup",
            description: "Move lines up",
            bindKey: bindKey("Alt-Up", "Option-Up"),
            exec: function(editor) {
              editor.moveLinesUp();
            },
            scrollIntoView: "cursor"
          },
          {
            name: "copylinesdown",
            description: "Copy lines down",
            bindKey: bindKey("Alt-Shift-Down", "Command-Option-Down"),
            exec: function(editor) {
              editor.copyLinesDown();
            },
            scrollIntoView: "cursor"
          },
          {
            name: "movelinesdown",
            description: "Move lines down",
            bindKey: bindKey("Alt-Down", "Option-Down"),
            exec: function(editor) {
              editor.moveLinesDown();
            },
            scrollIntoView: "cursor"
          },
          {
            name: "del",
            description: "Delete",
            bindKey: bindKey("Delete", "Delete|Ctrl-D|Shift-Delete"),
            exec: function(editor) {
              editor.remove("right");
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "backspace",
            description: "Backspace",
            bindKey: bindKey("Shift-Backspace|Backspace", "Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),
            exec: function(editor) {
              editor.remove("left");
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "cut_or_delete",
            description: "Cut or delete",
            bindKey: bindKey("Shift-Delete", null),
            exec: function(editor) {
              if (editor.selection.isEmpty()) {
                editor.remove("left");
              } else {
                return false;
              }
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "removetolinestart",
            description: "Remove to line start",
            bindKey: bindKey("Alt-Backspace", "Command-Backspace"),
            exec: function(editor) {
              editor.removeToLineStart();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "removetolineend",
            description: "Remove to line end",
            bindKey: bindKey("Alt-Delete", "Ctrl-K|Command-Delete"),
            exec: function(editor) {
              editor.removeToLineEnd();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "removetolinestarthard",
            description: "Remove to line start hard",
            bindKey: bindKey("Ctrl-Shift-Backspace", null),
            exec: function(editor) {
              var range = editor.selection.getRange();
              range.start.column = 0;
              editor.session.remove(range);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "removetolineendhard",
            description: "Remove to line end hard",
            bindKey: bindKey("Ctrl-Shift-Delete", null),
            exec: function(editor) {
              var range = editor.selection.getRange();
              range.end.column = Number.MAX_VALUE;
              editor.session.remove(range);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "removewordleft",
            description: "Remove word left",
            bindKey: bindKey("Ctrl-Backspace", "Alt-Backspace|Ctrl-Alt-Backspace"),
            exec: function(editor) {
              editor.removeWordLeft();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "removewordright",
            description: "Remove word right",
            bindKey: bindKey("Ctrl-Delete", "Alt-Delete"),
            exec: function(editor) {
              editor.removeWordRight();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "outdent",
            description: "Outdent",
            bindKey: bindKey("Shift-Tab", "Shift-Tab"),
            exec: function(editor) {
              editor.blockOutdent();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "selectionPart"
          },
          {
            name: "indent",
            description: "Indent",
            bindKey: bindKey("Tab", "Tab"),
            exec: function(editor) {
              editor.indent();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "selectionPart"
          },
          {
            name: "blockoutdent",
            description: "Block outdent",
            bindKey: bindKey("Ctrl-[", "Ctrl-["),
            exec: function(editor) {
              editor.blockOutdent();
            },
            multiSelectAction: "forEachLine",
            scrollIntoView: "selectionPart"
          },
          {
            name: "blockindent",
            description: "Block indent",
            bindKey: bindKey("Ctrl-]", "Ctrl-]"),
            exec: function(editor) {
              editor.blockIndent();
            },
            multiSelectAction: "forEachLine",
            scrollIntoView: "selectionPart"
          },
          {
            name: "insertstring",
            description: "Insert string",
            exec: function(editor, str) {
              editor.insert(str);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "inserttext",
            description: "Insert text",
            exec: function(editor, args) {
              editor.insert(lang.stringRepeat(args.text || "", args.times || 1));
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "splitline",
            description: "Split line",
            bindKey: bindKey(null, "Ctrl-O"),
            exec: function(editor) {
              editor.splitLine();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "transposeletters",
            description: "Transpose letters",
            bindKey: bindKey("Alt-Shift-X", "Ctrl-T"),
            exec: function(editor) {
              editor.transposeLetters();
            },
            multiSelectAction: function(editor) {
              editor.transposeSelections(1);
            },
            scrollIntoView: "cursor"
          },
          {
            name: "touppercase",
            description: "To uppercase",
            bindKey: bindKey("Ctrl-U", "Ctrl-U"),
            exec: function(editor) {
              editor.toUpperCase();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "tolowercase",
            description: "To lowercase",
            bindKey: bindKey("Ctrl-Shift-U", "Ctrl-Shift-U"),
            exec: function(editor) {
              editor.toLowerCase();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "autoindent",
            description: "Auto Indent",
            bindKey: bindKey(null, null),
            exec: function(editor) {
              editor.autoIndent();
            },
            multiSelectAction: "forEachLine",
            scrollIntoView: "animate"
          },
          {
            name: "expandtoline",
            description: "Expand to line",
            bindKey: bindKey("Ctrl-Shift-L", "Command-Shift-L"),
            exec: function(editor) {
              var range = editor.selection.getRange();
              range.start.column = range.end.column = 0;
              range.end.row++;
              editor.selection.setRange(range, false);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "joinlines",
            description: "Join lines",
            bindKey: bindKey(null, null),
            exec: function(editor) {
              var isBackwards = editor.selection.isBackwards();
              var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();
              var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();
              var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;
              var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());
              var selectedCount = selectedText.replace(/\n\s*/, " ").length;
              var insertLine = editor.session.doc.getLine(selectionStart.row);
              for (var i4 = selectionStart.row + 1; i4 <= selectionEnd.row + 1; i4++) {
                var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i4)));
                if (curLine.length !== 0) {
                  curLine = " " + curLine;
                }
                insertLine += curLine;
              }
              if (selectionEnd.row + 1 < editor.session.doc.getLength() - 1) {
                insertLine += editor.session.doc.getNewLineCharacter();
              }
              editor.clearSelection();
              editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);
              if (selectedCount > 0) {
                editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);
                editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);
              } else {
                firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? firstLineEndCol + 1 : firstLineEndCol;
                editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);
              }
            },
            multiSelectAction: "forEach",
            readOnly: true
          },
          {
            name: "invertSelection",
            description: "Invert selection",
            bindKey: bindKey(null, null),
            exec: function(editor) {
              var endRow = editor.session.doc.getLength() - 1;
              var endCol = editor.session.doc.getLine(endRow).length;
              var ranges = editor.selection.rangeList.ranges;
              var newRanges = [];
              if (ranges.length < 1) {
                ranges = [editor.selection.getRange()];
              }
              for (var i4 = 0; i4 < ranges.length; i4++) {
                if (i4 == ranges.length - 1) {
                  if (!(ranges[i4].end.row === endRow && ranges[i4].end.column === endCol)) {
                    newRanges.push(new Range(ranges[i4].end.row, ranges[i4].end.column, endRow, endCol));
                  }
                }
                if (i4 === 0) {
                  if (!(ranges[i4].start.row === 0 && ranges[i4].start.column === 0)) {
                    newRanges.push(new Range(0, 0, ranges[i4].start.row, ranges[i4].start.column));
                  }
                } else {
                  newRanges.push(new Range(ranges[i4 - 1].end.row, ranges[i4 - 1].end.column, ranges[i4].start.row, ranges[i4].start.column));
                }
              }
              editor.exitMultiSelectMode();
              editor.clearSelection();
              for (var i4 = 0; i4 < newRanges.length; i4++) {
                editor.selection.addRange(newRanges[i4], false);
              }
            },
            readOnly: true,
            scrollIntoView: "none"
          },
          {
            name: "addLineAfter",
            description: "Add new line after the current line",
            exec: function(editor) {
              editor.selection.clearSelection();
              editor.navigateLineEnd();
              editor.insert("\n");
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "addLineBefore",
            description: "Add new line before the current line",
            exec: function(editor) {
              editor.selection.clearSelection();
              var cursor = editor.getCursorPosition();
              editor.selection.moveTo(cursor.row - 1, Number.MAX_VALUE);
              editor.insert("\n");
              if (cursor.row === 0)
                editor.navigateUp();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "openCommandPallete",
            description: "Open command pallete",
            bindKey: bindKey("F1", "F1"),
            exec: function(editor) {
              editor.prompt({ $type: "commands" });
            },
            readOnly: true
          },
          {
            name: "modeSelect",
            description: "Change language mode...",
            bindKey: bindKey(null, null),
            exec: function(editor) {
              editor.prompt({ $type: "modes" });
            },
            readOnly: true
          }
        ];
        for (var i3 = 1; i3 < 9; i3++) {
          exports2.commands.push({
            name: "foldToLevel" + i3,
            description: "Fold To Level " + i3,
            level: i3,
            exec: function(editor) {
              editor.session.foldToLevel(this.level);
            },
            scrollIntoView: "center",
            readOnly: true
          });
        }
      });
      ace.define("ace/editor", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/keyboard/textinput", "ace/mouse/mouse_handler", "ace/mouse/fold_handler", "ace/keyboard/keybinding", "ace/edit_session", "ace/search", "ace/range", "ace/lib/event_emitter", "ace/commands/command_manager", "ace/commands/default_commands", "ace/config", "ace/token_iterator", "ace/clipboard"], function(require2, exports2, module2) {
        "use strict";
        require2("./lib/fixoldbrowsers");
        var oop = require2("./lib/oop");
        var dom = require2("./lib/dom");
        var lang = require2("./lib/lang");
        var useragent = require2("./lib/useragent");
        var TextInput = require2("./keyboard/textinput").TextInput;
        var MouseHandler = require2("./mouse/mouse_handler").MouseHandler;
        var FoldHandler = require2("./mouse/fold_handler").FoldHandler;
        var KeyBinding = require2("./keyboard/keybinding").KeyBinding;
        var EditSession = require2("./edit_session").EditSession;
        var Search = require2("./search").Search;
        var Range = require2("./range").Range;
        var EventEmitter = require2("./lib/event_emitter").EventEmitter;
        var CommandManager = require2("./commands/command_manager").CommandManager;
        var defaultCommands = require2("./commands/default_commands").commands;
        var config2 = require2("./config");
        var TokenIterator = require2("./token_iterator").TokenIterator;
        var clipboard = require2("./clipboard");
        var Editor = function(renderer, session, options) {
          this.$toDestroy = [];
          var container = renderer.getContainerElement();
          this.container = container;
          this.renderer = renderer;
          this.id = "editor" + ++Editor.$uid;
          this.commands = new CommandManager(useragent.isMac ? "mac" : "win", defaultCommands);
          if (typeof document == "object") {
            this.textInput = new TextInput(renderer.getTextAreaContainer(), this);
            this.renderer.textarea = this.textInput.getElement();
            this.$mouseHandler = new MouseHandler(this);
            new FoldHandler(this);
          }
          this.keyBinding = new KeyBinding(this);
          this.$search = new Search().set({
            wrap: true
          });
          this.$historyTracker = this.$historyTracker.bind(this);
          this.commands.on("exec", this.$historyTracker);
          this.$initOperationListeners();
          this._$emitInputEvent = lang.delayedCall(function() {
            this._signal("input", {});
            if (this.session && !this.session.destroyed)
              this.session.bgTokenizer.scheduleStart();
          }.bind(this));
          this.on("change", function(_2, _self) {
            _self._$emitInputEvent.schedule(31);
          });
          this.setSession(session || options && options.session || new EditSession(""));
          config2.resetOptions(this);
          if (options)
            this.setOptions(options);
          config2._signal("editor", this);
        };
        Editor.$uid = 0;
        (function() {
          oop.implement(this, EventEmitter);
          this.$initOperationListeners = function() {
            this.commands.on("exec", this.startOperation.bind(this), true);
            this.commands.on("afterExec", this.endOperation.bind(this), true);
            this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this, true));
            this.on("change", function() {
              if (!this.curOp) {
                this.startOperation();
                this.curOp.selectionBefore = this.$lastSel;
              }
              this.curOp.docChanged = true;
            }.bind(this), true);
            this.on("changeSelection", function() {
              if (!this.curOp) {
                this.startOperation();
                this.curOp.selectionBefore = this.$lastSel;
              }
              this.curOp.selectionChanged = true;
            }.bind(this), true);
          };
          this.curOp = null;
          this.prevOp = {};
          this.startOperation = function(commandEvent) {
            if (this.curOp) {
              if (!commandEvent || this.curOp.command)
                return;
              this.prevOp = this.curOp;
            }
            if (!commandEvent) {
              this.previousCommand = null;
              commandEvent = {};
            }
            this.$opResetTimer.schedule();
            this.curOp = this.session.curOp = {
              command: commandEvent.command || {},
              args: commandEvent.args,
              scrollTop: this.renderer.scrollTop
            };
            this.curOp.selectionBefore = this.selection.toJSON();
          };
          this.endOperation = function(e2) {
            if (this.curOp && this.session) {
              if (e2 && e2.returnValue === false || !this.session)
                return this.curOp = null;
              if (e2 == true && this.curOp.command && this.curOp.command.name == "mouse")
                return;
              this._signal("beforeEndOperation");
              if (!this.curOp)
                return;
              var command = this.curOp.command;
              var scrollIntoView = command && command.scrollIntoView;
              if (scrollIntoView) {
                switch (scrollIntoView) {
                  case "center-animate":
                    scrollIntoView = "animate";
                  case "center":
                    this.renderer.scrollCursorIntoView(null, 0.5);
                    break;
                  case "animate":
                  case "cursor":
                    this.renderer.scrollCursorIntoView();
                    break;
                  case "selectionPart":
                    var range = this.selection.getRange();
                    var config3 = this.renderer.layerConfig;
                    if (range.start.row >= config3.lastRow || range.end.row <= config3.firstRow) {
                      this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);
                    }
                    break;
                  default:
                    break;
                }
                if (scrollIntoView == "animate")
                  this.renderer.animateScrolling(this.curOp.scrollTop);
              }
              var sel = this.selection.toJSON();
              this.curOp.selectionAfter = sel;
              this.$lastSel = this.selection.toJSON();
              this.session.getUndoManager().addSelection(sel);
              this.prevOp = this.curOp;
              this.curOp = null;
            }
          };
          this.$mergeableCommands = ["backspace", "del", "insertstring"];
          this.$historyTracker = function(e2) {
            if (!this.$mergeUndoDeltas)
              return;
            var prev = this.prevOp;
            var mergeableCommands = this.$mergeableCommands;
            var shouldMerge = prev.command && e2.command.name == prev.command.name;
            if (e2.command.name == "insertstring") {
              var text = e2.args;
              if (this.mergeNextCommand === void 0)
                this.mergeNextCommand = true;
              shouldMerge = shouldMerge && this.mergeNextCommand && (!/\s/.test(text) || /\s/.test(prev.args));
              this.mergeNextCommand = true;
            } else {
              shouldMerge = shouldMerge && mergeableCommands.indexOf(e2.command.name) !== -1;
            }
            if (this.$mergeUndoDeltas != "always" && Date.now() - this.sequenceStartTime > 2e3) {
              shouldMerge = false;
            }
            if (shouldMerge)
              this.session.mergeUndoDeltas = true;
            else if (mergeableCommands.indexOf(e2.command.name) !== -1)
              this.sequenceStartTime = Date.now();
          };
          this.setKeyboardHandler = function(keyboardHandler, cb) {
            if (keyboardHandler && typeof keyboardHandler === "string" && keyboardHandler != "ace") {
              this.$keybindingId = keyboardHandler;
              var _self = this;
              config2.loadModule(["keybinding", keyboardHandler], function(module3) {
                if (_self.$keybindingId == keyboardHandler)
                  _self.keyBinding.setKeyboardHandler(module3 && module3.handler);
                cb && cb();
              });
            } else {
              this.$keybindingId = null;
              this.keyBinding.setKeyboardHandler(keyboardHandler);
              cb && cb();
            }
          };
          this.getKeyboardHandler = function() {
            return this.keyBinding.getKeyboardHandler();
          };
          this.setSession = function(session) {
            if (this.session == session)
              return;
            if (this.curOp)
              this.endOperation();
            this.curOp = {};
            var oldSession = this.session;
            if (oldSession) {
              this.session.off("change", this.$onDocumentChange);
              this.session.off("changeMode", this.$onChangeMode);
              this.session.off("tokenizerUpdate", this.$onTokenizerUpdate);
              this.session.off("changeTabSize", this.$onChangeTabSize);
              this.session.off("changeWrapLimit", this.$onChangeWrapLimit);
              this.session.off("changeWrapMode", this.$onChangeWrapMode);
              this.session.off("changeFold", this.$onChangeFold);
              this.session.off("changeFrontMarker", this.$onChangeFrontMarker);
              this.session.off("changeBackMarker", this.$onChangeBackMarker);
              this.session.off("changeBreakpoint", this.$onChangeBreakpoint);
              this.session.off("changeAnnotation", this.$onChangeAnnotation);
              this.session.off("changeOverwrite", this.$onCursorChange);
              this.session.off("changeScrollTop", this.$onScrollTopChange);
              this.session.off("changeScrollLeft", this.$onScrollLeftChange);
              var selection = this.session.getSelection();
              selection.off("changeCursor", this.$onCursorChange);
              selection.off("changeSelection", this.$onSelectionChange);
            }
            this.session = session;
            if (session) {
              this.$onDocumentChange = this.onDocumentChange.bind(this);
              session.on("change", this.$onDocumentChange);
              this.renderer.setSession(session);
              this.$onChangeMode = this.onChangeMode.bind(this);
              session.on("changeMode", this.$onChangeMode);
              this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);
              session.on("tokenizerUpdate", this.$onTokenizerUpdate);
              this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);
              session.on("changeTabSize", this.$onChangeTabSize);
              this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);
              session.on("changeWrapLimit", this.$onChangeWrapLimit);
              this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);
              session.on("changeWrapMode", this.$onChangeWrapMode);
              this.$onChangeFold = this.onChangeFold.bind(this);
              session.on("changeFold", this.$onChangeFold);
              this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);
              this.session.on("changeFrontMarker", this.$onChangeFrontMarker);
              this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);
              this.session.on("changeBackMarker", this.$onChangeBackMarker);
              this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);
              this.session.on("changeBreakpoint", this.$onChangeBreakpoint);
              this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);
              this.session.on("changeAnnotation", this.$onChangeAnnotation);
              this.$onCursorChange = this.onCursorChange.bind(this);
              this.session.on("changeOverwrite", this.$onCursorChange);
              this.$onScrollTopChange = this.onScrollTopChange.bind(this);
              this.session.on("changeScrollTop", this.$onScrollTopChange);
              this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);
              this.session.on("changeScrollLeft", this.$onScrollLeftChange);
              this.selection = session.getSelection();
              this.selection.on("changeCursor", this.$onCursorChange);
              this.$onSelectionChange = this.onSelectionChange.bind(this);
              this.selection.on("changeSelection", this.$onSelectionChange);
              this.onChangeMode();
              this.onCursorChange();
              this.onScrollTopChange();
              this.onScrollLeftChange();
              this.onSelectionChange();
              this.onChangeFrontMarker();
              this.onChangeBackMarker();
              this.onChangeBreakpoint();
              this.onChangeAnnotation();
              this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();
              this.renderer.updateFull();
            } else {
              this.selection = null;
              this.renderer.setSession(session);
            }
            this._signal("changeSession", {
              session,
              oldSession
            });
            this.curOp = null;
            oldSession && oldSession._signal("changeEditor", { oldEditor: this });
            session && session._signal("changeEditor", { editor: this });
            if (session && !session.destroyed)
              session.bgTokenizer.scheduleStart();
          };
          this.getSession = function() {
            return this.session;
          };
          this.setValue = function(val, cursorPos) {
            this.session.doc.setValue(val);
            if (!cursorPos)
              this.selectAll();
            else if (cursorPos == 1)
              this.navigateFileEnd();
            else if (cursorPos == -1)
              this.navigateFileStart();
            return val;
          };
          this.getValue = function() {
            return this.session.getValue();
          };
          this.getSelection = function() {
            return this.selection;
          };
          this.resize = function(force) {
            this.renderer.onResize(force);
          };
          this.setTheme = function(theme, cb) {
            this.renderer.setTheme(theme, cb);
          };
          this.getTheme = function() {
            return this.renderer.getTheme();
          };
          this.setStyle = function(style2) {
            this.renderer.setStyle(style2);
          };
          this.unsetStyle = function(style2) {
            this.renderer.unsetStyle(style2);
          };
          this.getFontSize = function() {
            return this.getOption("fontSize") || dom.computedStyle(this.container).fontSize;
          };
          this.setFontSize = function(size) {
            this.setOption("fontSize", size);
          };
          this.$highlightBrackets = function() {
            if (this.$highlightPending) {
              return;
            }
            var self2 = this;
            this.$highlightPending = true;
            setTimeout(function() {
              self2.$highlightPending = false;
              var session = self2.session;
              if (!session || session.destroyed)
                return;
              if (session.$bracketHighlight) {
                session.$bracketHighlight.markerIds.forEach(function(id) {
                  session.removeMarker(id);
                });
                session.$bracketHighlight = null;
              }
              var ranges = session.getMatchingBracketRanges(self2.getCursorPosition());
              if (!ranges && session.$mode.getMatching)
                ranges = session.$mode.getMatching(self2.session);
              if (!ranges)
                return;
              var markerType = "ace_bracket";
              if (!Array.isArray(ranges)) {
                ranges = [ranges];
              } else if (ranges.length == 1) {
                markerType = "ace_error_bracket";
              }
              if (ranges.length == 2) {
                if (Range.comparePoints(ranges[0].end, ranges[1].start) == 0)
                  ranges = [Range.fromPoints(ranges[0].start, ranges[1].end)];
                else if (Range.comparePoints(ranges[0].start, ranges[1].end) == 0)
                  ranges = [Range.fromPoints(ranges[1].start, ranges[0].end)];
              }
              session.$bracketHighlight = {
                ranges,
                markerIds: ranges.map(function(range) {
                  return session.addMarker(range, markerType, "text");
                })
              };
            }, 50);
          };
          this.$highlightTags = function() {
            if (this.$highlightTagPending)
              return;
            var self2 = this;
            this.$highlightTagPending = true;
            setTimeout(function() {
              self2.$highlightTagPending = false;
              var session = self2.session;
              if (!session || session.destroyed)
                return;
              var pos = self2.getCursorPosition();
              var iterator = new TokenIterator(self2.session, pos.row, pos.column);
              var token = iterator.getCurrentToken();
              if (!token || !/\b(?:tag-open|tag-name)/.test(token.type)) {
                session.removeMarker(session.$tagHighlight);
                session.$tagHighlight = null;
                return;
              }
              if (token.type.indexOf("tag-open") !== -1) {
                token = iterator.stepForward();
                if (!token)
                  return;
              }
              var tag = token.value;
              var currentTag = token.value;
              var depth = 0;
              var prevToken = iterator.stepBackward();
              if (prevToken.value === "<") {
                do {
                  prevToken = token;
                  token = iterator.stepForward();
                  if (token) {
                    if (token.type.indexOf("tag-name") !== -1) {
                      currentTag = token.value;
                      if (tag === currentTag) {
                        if (prevToken.value === "<") {
                          depth++;
                        } else if (prevToken.value === "</") {
                          depth--;
                        }
                      }
                    } else if (tag === currentTag && token.value === "/>") {
                      depth--;
                    }
                  }
                } while (token && depth >= 0);
              } else {
                do {
                  token = prevToken;
                  prevToken = iterator.stepBackward();
                  if (token) {
                    if (token.type.indexOf("tag-name") !== -1) {
                      if (tag === token.value) {
                        if (prevToken.value === "<") {
                          depth++;
                        } else if (prevToken.value === "</") {
                          depth--;
                        }
                      }
                    } else if (token.value === "/>") {
                      var stepCount = 0;
                      var tmpToken = prevToken;
                      while (tmpToken) {
                        if (tmpToken.type.indexOf("tag-name") !== -1 && tmpToken.value === tag) {
                          depth--;
                          break;
                        } else if (tmpToken.value === "<") {
                          break;
                        }
                        tmpToken = iterator.stepBackward();
                        stepCount++;
                      }
                      for (var i3 = 0; i3 < stepCount; i3++) {
                        iterator.stepForward();
                      }
                    }
                  }
                } while (prevToken && depth <= 0);
                iterator.stepForward();
              }
              if (!token) {
                session.removeMarker(session.$tagHighlight);
                session.$tagHighlight = null;
                return;
              }
              var row = iterator.getCurrentTokenRow();
              var column = iterator.getCurrentTokenColumn();
              var range = new Range(row, column, row, column + token.value.length);
              var sbm = session.$backMarkers[session.$tagHighlight];
              if (session.$tagHighlight && sbm != void 0 && range.compareRange(sbm.range) !== 0) {
                session.removeMarker(session.$tagHighlight);
                session.$tagHighlight = null;
              }
              if (!session.$tagHighlight)
                session.$tagHighlight = session.addMarker(range, "ace_bracket", "text");
            }, 50);
          };
          this.focus = function() {
            this.textInput.focus();
          };
          this.isFocused = function() {
            return this.textInput.isFocused();
          };
          this.blur = function() {
            this.textInput.blur();
          };
          this.onFocus = function(e2) {
            if (this.$isFocused)
              return;
            this.$isFocused = true;
            this.renderer.showCursor();
            this.renderer.visualizeFocus();
            this._emit("focus", e2);
          };
          this.onBlur = function(e2) {
            if (!this.$isFocused)
              return;
            this.$isFocused = false;
            this.renderer.hideCursor();
            this.renderer.visualizeBlur();
            this._emit("blur", e2);
          };
          this.$cursorChange = function() {
            this.renderer.updateCursor();
            this.$highlightBrackets();
            this.$highlightTags();
            this.$updateHighlightActiveLine();
          };
          this.onDocumentChange = function(delta) {
            var wrap = this.session.$useWrapMode;
            var lastRow = delta.start.row == delta.end.row ? delta.end.row : Infinity;
            this.renderer.updateLines(delta.start.row, lastRow, wrap);
            this._signal("change", delta);
            this.$cursorChange();
          };
          this.onTokenizerUpdate = function(e2) {
            var rows = e2.data;
            this.renderer.updateLines(rows.first, rows.last);
          };
          this.onScrollTopChange = function() {
            this.renderer.scrollToY(this.session.getScrollTop());
          };
          this.onScrollLeftChange = function() {
            this.renderer.scrollToX(this.session.getScrollLeft());
          };
          this.onCursorChange = function() {
            this.$cursorChange();
            this._signal("changeSelection");
          };
          this.$updateHighlightActiveLine = function() {
            var session = this.getSession();
            var highlight;
            if (this.$highlightActiveLine) {
              if (this.$selectionStyle != "line" || !this.selection.isMultiLine())
                highlight = this.getCursorPosition();
              if (this.renderer.theme && this.renderer.theme.$selectionColorConflict && !this.selection.isEmpty())
                highlight = false;
              if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1))
                highlight = false;
            }
            if (session.$highlightLineMarker && !highlight) {
              session.removeMarker(session.$highlightLineMarker.id);
              session.$highlightLineMarker = null;
            } else if (!session.$highlightLineMarker && highlight) {
              var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);
              range.id = session.addMarker(range, "ace_active-line", "screenLine");
              session.$highlightLineMarker = range;
            } else if (highlight) {
              session.$highlightLineMarker.start.row = highlight.row;
              session.$highlightLineMarker.end.row = highlight.row;
              session.$highlightLineMarker.start.column = highlight.column;
              session._signal("changeBackMarker");
            }
          };
          this.onSelectionChange = function(e2) {
            var session = this.session;
            if (session.$selectionMarker) {
              session.removeMarker(session.$selectionMarker);
            }
            session.$selectionMarker = null;
            if (!this.selection.isEmpty()) {
              var range = this.selection.getRange();
              var style2 = this.getSelectionStyle();
              session.$selectionMarker = session.addMarker(range, "ace_selection", style2);
            } else {
              this.$updateHighlightActiveLine();
            }
            var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();
            this.session.highlight(re);
            this._signal("changeSelection");
          };
          this.$getSelectionHighLightRegexp = function() {
            var session = this.session;
            var selection = this.getSelectionRange();
            if (selection.isEmpty() || selection.isMultiLine())
              return;
            var startColumn = selection.start.column;
            var endColumn = selection.end.column;
            var line = session.getLine(selection.start.row);
            var needle = line.substring(startColumn, endColumn);
            if (needle.length > 5e3 || !/[\w\d]/.test(needle))
              return;
            var re = this.$search.$assembleRegExp({
              wholeWord: true,
              caseSensitive: true,
              needle
            });
            var wordWithBoundary = line.substring(startColumn - 1, endColumn + 1);
            if (!re.test(wordWithBoundary))
              return;
            return re;
          };
          this.onChangeFrontMarker = function() {
            this.renderer.updateFrontMarkers();
          };
          this.onChangeBackMarker = function() {
            this.renderer.updateBackMarkers();
          };
          this.onChangeBreakpoint = function() {
            this.renderer.updateBreakpoints();
          };
          this.onChangeAnnotation = function() {
            this.renderer.setAnnotations(this.session.getAnnotations());
          };
          this.onChangeMode = function(e2) {
            this.renderer.updateText();
            this._emit("changeMode", e2);
          };
          this.onChangeWrapLimit = function() {
            this.renderer.updateFull();
          };
          this.onChangeWrapMode = function() {
            this.renderer.onResize(true);
          };
          this.onChangeFold = function() {
            this.$updateHighlightActiveLine();
            this.renderer.updateFull();
          };
          this.getSelectedText = function() {
            return this.session.getTextRange(this.getSelectionRange());
          };
          this.getCopyText = function() {
            var text = this.getSelectedText();
            var nl = this.session.doc.getNewLineCharacter();
            var copyLine = false;
            if (!text && this.$copyWithEmptySelection) {
              copyLine = true;
              var ranges = this.selection.getAllRanges();
              for (var i3 = 0; i3 < ranges.length; i3++) {
                var range = ranges[i3];
                if (i3 && ranges[i3 - 1].start.row == range.start.row)
                  continue;
                text += this.session.getLine(range.start.row) + nl;
              }
            }
            var e2 = { text };
            this._signal("copy", e2);
            clipboard.lineMode = copyLine ? e2.text : false;
            return e2.text;
          };
          this.onCopy = function() {
            this.commands.exec("copy", this);
          };
          this.onCut = function() {
            this.commands.exec("cut", this);
          };
          this.onPaste = function(text, event) {
            var e2 = { text, event };
            this.commands.exec("paste", this, e2);
          };
          this.$handlePaste = function(e2) {
            if (typeof e2 == "string")
              e2 = { text: e2 };
            this._signal("paste", e2);
            var text = e2.text;
            var lineMode = text === clipboard.lineMode;
            var session = this.session;
            if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {
              if (lineMode)
                session.insert({ row: this.selection.lead.row, column: 0 }, text);
              else
                this.insert(text);
            } else if (lineMode) {
              this.selection.rangeList.ranges.forEach(function(range2) {
                session.insert({ row: range2.start.row, column: 0 }, text);
              });
            } else {
              var lines = text.split(/\r\n|\r|\n/);
              var ranges = this.selection.rangeList.ranges;
              var isFullLine = lines.length == 2 && (!lines[0] || !lines[1]);
              if (lines.length != ranges.length || isFullLine)
                return this.commands.exec("insertstring", this, text);
              for (var i3 = ranges.length; i3--; ) {
                var range = ranges[i3];
                if (!range.isEmpty())
                  session.remove(range);
                session.insert(range.start, lines[i3]);
              }
            }
          };
          this.execCommand = function(command, args) {
            return this.commands.exec(command, this, args);
          };
          this.insert = function(text, pasted) {
            var session = this.session;
            var mode = session.getMode();
            var cursor = this.getCursorPosition();
            if (this.getBehavioursEnabled() && !pasted) {
              var transform = mode.transformAction(session.getState(cursor.row), "insertion", this, session, text);
              if (transform) {
                if (text !== transform.text) {
                  if (!this.inVirtualSelectionMode) {
                    this.session.mergeUndoDeltas = false;
                    this.mergeNextCommand = false;
                  }
                }
                text = transform.text;
              }
            }
            if (text == "	")
              text = this.session.getTabString();
            if (!this.selection.isEmpty()) {
              var range = this.getSelectionRange();
              cursor = this.session.remove(range);
              this.clearSelection();
            } else if (this.session.getOverwrite() && text.indexOf("\n") == -1) {
              var range = new Range.fromPoints(cursor, cursor);
              range.end.column += text.length;
              this.session.remove(range);
            }
            if (text == "\n" || text == "\r\n") {
              var line = session.getLine(cursor.row);
              if (cursor.column > line.search(/\S|$/)) {
                var d3 = line.substr(cursor.column).search(/\S|$/);
                session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d3);
              }
            }
            this.clearSelection();
            var start4 = cursor.column;
            var lineState = session.getState(cursor.row);
            var line = session.getLine(cursor.row);
            var shouldOutdent = mode.checkOutdent(lineState, line, text);
            session.insert(cursor, text);
            if (transform && transform.selection) {
              if (transform.selection.length == 2) {
                this.selection.setSelectionRange(new Range(cursor.row, start4 + transform.selection[0], cursor.row, start4 + transform.selection[1]));
              } else {
                this.selection.setSelectionRange(new Range(cursor.row + transform.selection[0], transform.selection[1], cursor.row + transform.selection[2], transform.selection[3]));
              }
            }
            if (this.$enableAutoIndent) {
              if (session.getDocument().isNewLine(text)) {
                var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());
                session.insert({ row: cursor.row + 1, column: 0 }, lineIndent);
              }
              if (shouldOutdent)
                mode.autoOutdent(lineState, session, cursor.row);
            }
          };
          this.autoIndent = function() {
            var session = this.session;
            var mode = session.getMode();
            var startRow, endRow;
            if (this.selection.isEmpty()) {
              startRow = 0;
              endRow = session.doc.getLength() - 1;
            } else {
              var selectedRange = this.getSelectionRange();
              startRow = selectedRange.start.row;
              endRow = selectedRange.end.row;
            }
            var prevLineState = "";
            var prevLine = "";
            var lineIndent = "";
            var line, currIndent, range;
            var tab2 = session.getTabString();
            for (var row = startRow; row <= endRow; row++) {
              if (row > 0) {
                prevLineState = session.getState(row - 1);
                prevLine = session.getLine(row - 1);
                lineIndent = mode.getNextLineIndent(prevLineState, prevLine, tab2);
              }
              line = session.getLine(row);
              currIndent = mode.$getIndent(line);
              if (lineIndent !== currIndent) {
                if (currIndent.length > 0) {
                  range = new Range(row, 0, row, currIndent.length);
                  session.remove(range);
                }
                if (lineIndent.length > 0) {
                  session.insert({ row, column: 0 }, lineIndent);
                }
              }
              mode.autoOutdent(prevLineState, session, row);
            }
          };
          this.onTextInput = function(text, composition) {
            if (!composition)
              return this.keyBinding.onTextInput(text);
            this.startOperation({ command: { name: "insertstring" } });
            var applyComposition = this.applyComposition.bind(this, text, composition);
            if (this.selection.rangeCount)
              this.forEachSelection(applyComposition);
            else
              applyComposition();
            this.endOperation();
          };
          this.applyComposition = function(text, composition) {
            if (composition.extendLeft || composition.extendRight) {
              var r2 = this.selection.getRange();
              r2.start.column -= composition.extendLeft;
              r2.end.column += composition.extendRight;
              if (r2.start.column < 0) {
                r2.start.row--;
                r2.start.column += this.session.getLine(r2.start.row).length + 1;
              }
              this.selection.setRange(r2);
              if (!text && !r2.isEmpty())
                this.remove();
            }
            if (text || !this.selection.isEmpty())
              this.insert(text, true);
            if (composition.restoreStart || composition.restoreEnd) {
              var r2 = this.selection.getRange();
              r2.start.column -= composition.restoreStart;
              r2.end.column -= composition.restoreEnd;
              this.selection.setRange(r2);
            }
          };
          this.onCommandKey = function(e2, hashId, keyCode) {
            return this.keyBinding.onCommandKey(e2, hashId, keyCode);
          };
          this.setOverwrite = function(overwrite) {
            this.session.setOverwrite(overwrite);
          };
          this.getOverwrite = function() {
            return this.session.getOverwrite();
          };
          this.toggleOverwrite = function() {
            this.session.toggleOverwrite();
          };
          this.setScrollSpeed = function(speed) {
            this.setOption("scrollSpeed", speed);
          };
          this.getScrollSpeed = function() {
            return this.getOption("scrollSpeed");
          };
          this.setDragDelay = function(dragDelay) {
            this.setOption("dragDelay", dragDelay);
          };
          this.getDragDelay = function() {
            return this.getOption("dragDelay");
          };
          this.setSelectionStyle = function(val) {
            this.setOption("selectionStyle", val);
          };
          this.getSelectionStyle = function() {
            return this.getOption("selectionStyle");
          };
          this.setHighlightActiveLine = function(shouldHighlight) {
            this.setOption("highlightActiveLine", shouldHighlight);
          };
          this.getHighlightActiveLine = function() {
            return this.getOption("highlightActiveLine");
          };
          this.setHighlightGutterLine = function(shouldHighlight) {
            this.setOption("highlightGutterLine", shouldHighlight);
          };
          this.getHighlightGutterLine = function() {
            return this.getOption("highlightGutterLine");
          };
          this.setHighlightSelectedWord = function(shouldHighlight) {
            this.setOption("highlightSelectedWord", shouldHighlight);
          };
          this.getHighlightSelectedWord = function() {
            return this.$highlightSelectedWord;
          };
          this.setAnimatedScroll = function(shouldAnimate) {
            this.renderer.setAnimatedScroll(shouldAnimate);
          };
          this.getAnimatedScroll = function() {
            return this.renderer.getAnimatedScroll();
          };
          this.setShowInvisibles = function(showInvisibles) {
            this.renderer.setShowInvisibles(showInvisibles);
          };
          this.getShowInvisibles = function() {
            return this.renderer.getShowInvisibles();
          };
          this.setDisplayIndentGuides = function(display) {
            this.renderer.setDisplayIndentGuides(display);
          };
          this.getDisplayIndentGuides = function() {
            return this.renderer.getDisplayIndentGuides();
          };
          this.setShowPrintMargin = function(showPrintMargin) {
            this.renderer.setShowPrintMargin(showPrintMargin);
          };
          this.getShowPrintMargin = function() {
            return this.renderer.getShowPrintMargin();
          };
          this.setPrintMarginColumn = function(showPrintMargin) {
            this.renderer.setPrintMarginColumn(showPrintMargin);
          };
          this.getPrintMarginColumn = function() {
            return this.renderer.getPrintMarginColumn();
          };
          this.setReadOnly = function(readOnly) {
            this.setOption("readOnly", readOnly);
          };
          this.getReadOnly = function() {
            return this.getOption("readOnly");
          };
          this.setBehavioursEnabled = function(enabled) {
            this.setOption("behavioursEnabled", enabled);
          };
          this.getBehavioursEnabled = function() {
            return this.getOption("behavioursEnabled");
          };
          this.setWrapBehavioursEnabled = function(enabled) {
            this.setOption("wrapBehavioursEnabled", enabled);
          };
          this.getWrapBehavioursEnabled = function() {
            return this.getOption("wrapBehavioursEnabled");
          };
          this.setShowFoldWidgets = function(show) {
            this.setOption("showFoldWidgets", show);
          };
          this.getShowFoldWidgets = function() {
            return this.getOption("showFoldWidgets");
          };
          this.setFadeFoldWidgets = function(fade) {
            this.setOption("fadeFoldWidgets", fade);
          };
          this.getFadeFoldWidgets = function() {
            return this.getOption("fadeFoldWidgets");
          };
          this.remove = function(dir) {
            if (this.selection.isEmpty()) {
              if (dir == "left")
                this.selection.selectLeft();
              else
                this.selection.selectRight();
            }
            var range = this.getSelectionRange();
            if (this.getBehavioursEnabled()) {
              var session = this.session;
              var state = session.getState(range.start.row);
              var new_range = session.getMode().transformAction(state, "deletion", this, session, range);
              if (range.end.column === 0) {
                var text = session.getTextRange(range);
                if (text[text.length - 1] == "\n") {
                  var line = session.getLine(range.end.row);
                  if (/^\s+$/.test(line)) {
                    range.end.column = line.length;
                  }
                }
              }
              if (new_range)
                range = new_range;
            }
            this.session.remove(range);
            this.clearSelection();
          };
          this.removeWordRight = function() {
            if (this.selection.isEmpty())
              this.selection.selectWordRight();
            this.session.remove(this.getSelectionRange());
            this.clearSelection();
          };
          this.removeWordLeft = function() {
            if (this.selection.isEmpty())
              this.selection.selectWordLeft();
            this.session.remove(this.getSelectionRange());
            this.clearSelection();
          };
          this.removeToLineStart = function() {
            if (this.selection.isEmpty())
              this.selection.selectLineStart();
            if (this.selection.isEmpty())
              this.selection.selectLeft();
            this.session.remove(this.getSelectionRange());
            this.clearSelection();
          };
          this.removeToLineEnd = function() {
            if (this.selection.isEmpty())
              this.selection.selectLineEnd();
            var range = this.getSelectionRange();
            if (range.start.column == range.end.column && range.start.row == range.end.row) {
              range.end.column = 0;
              range.end.row++;
            }
            this.session.remove(range);
            this.clearSelection();
          };
          this.splitLine = function() {
            if (!this.selection.isEmpty()) {
              this.session.remove(this.getSelectionRange());
              this.clearSelection();
            }
            var cursor = this.getCursorPosition();
            this.insert("\n");
            this.moveCursorToPosition(cursor);
          };
          this.transposeLetters = function() {
            if (!this.selection.isEmpty()) {
              return;
            }
            var cursor = this.getCursorPosition();
            var column = cursor.column;
            if (column === 0)
              return;
            var line = this.session.getLine(cursor.row);
            var swap, range;
            if (column < line.length) {
              swap = line.charAt(column) + line.charAt(column - 1);
              range = new Range(cursor.row, column - 1, cursor.row, column + 1);
            } else {
              swap = line.charAt(column - 1) + line.charAt(column - 2);
              range = new Range(cursor.row, column - 2, cursor.row, column);
            }
            this.session.replace(range, swap);
            this.session.selection.moveToPosition(range.end);
          };
          this.toLowerCase = function() {
            var originalRange = this.getSelectionRange();
            if (this.selection.isEmpty()) {
              this.selection.selectWord();
            }
            var range = this.getSelectionRange();
            var text = this.session.getTextRange(range);
            this.session.replace(range, text.toLowerCase());
            this.selection.setSelectionRange(originalRange);
          };
          this.toUpperCase = function() {
            var originalRange = this.getSelectionRange();
            if (this.selection.isEmpty()) {
              this.selection.selectWord();
            }
            var range = this.getSelectionRange();
            var text = this.session.getTextRange(range);
            this.session.replace(range, text.toUpperCase());
            this.selection.setSelectionRange(originalRange);
          };
          this.indent = function() {
            var session = this.session;
            var range = this.getSelectionRange();
            if (range.start.row < range.end.row) {
              var rows = this.$getSelectedRows();
              session.indentRows(rows.first, rows.last, "	");
              return;
            } else if (range.start.column < range.end.column) {
              var text = session.getTextRange(range);
              if (!/^\s+$/.test(text)) {
                var rows = this.$getSelectedRows();
                session.indentRows(rows.first, rows.last, "	");
                return;
              }
            }
            var line = session.getLine(range.start.row);
            var position3 = range.start;
            var size = session.getTabSize();
            var column = session.documentToScreenColumn(position3.row, position3.column);
            if (this.session.getUseSoftTabs()) {
              var count2 = size - column % size;
              var indentString = lang.stringRepeat(" ", count2);
            } else {
              var count2 = column % size;
              while (line[range.start.column - 1] == " " && count2) {
                range.start.column--;
                count2--;
              }
              this.selection.setSelectionRange(range);
              indentString = "	";
            }
            return this.insert(indentString);
          };
          this.blockIndent = function() {
            var rows = this.$getSelectedRows();
            this.session.indentRows(rows.first, rows.last, "	");
          };
          this.blockOutdent = function() {
            var selection = this.session.getSelection();
            this.session.outdentRows(selection.getRange());
          };
          this.sortLines = function() {
            var rows = this.$getSelectedRows();
            var session = this.session;
            var lines = [];
            for (var i3 = rows.first; i3 <= rows.last; i3++)
              lines.push(session.getLine(i3));
            lines.sort(function(a3, b3) {
              if (a3.toLowerCase() < b3.toLowerCase())
                return -1;
              if (a3.toLowerCase() > b3.toLowerCase())
                return 1;
              return 0;
            });
            var deleteRange = new Range(0, 0, 0, 0);
            for (var i3 = rows.first; i3 <= rows.last; i3++) {
              var line = session.getLine(i3);
              deleteRange.start.row = i3;
              deleteRange.end.row = i3;
              deleteRange.end.column = line.length;
              session.replace(deleteRange, lines[i3 - rows.first]);
            }
          };
          this.toggleCommentLines = function() {
            var state = this.session.getState(this.getCursorPosition().row);
            var rows = this.$getSelectedRows();
            this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);
          };
          this.toggleBlockComment = function() {
            var cursor = this.getCursorPosition();
            var state = this.session.getState(cursor.row);
            var range = this.getSelectionRange();
            this.session.getMode().toggleBlockComment(state, this.session, range, cursor);
          };
          this.getNumberAt = function(row, column) {
            var _numberRx = /[\-]?[0-9]+(?:\.[0-9]+)?/g;
            _numberRx.lastIndex = 0;
            var s3 = this.session.getLine(row);
            while (_numberRx.lastIndex < column) {
              var m2 = _numberRx.exec(s3);
              if (m2.index <= column && m2.index + m2[0].length >= column) {
                var number = {
                  value: m2[0],
                  start: m2.index,
                  end: m2.index + m2[0].length
                };
                return number;
              }
            }
            return null;
          };
          this.modifyNumber = function(amount) {
            var row = this.selection.getCursor().row;
            var column = this.selection.getCursor().column;
            var charRange = new Range(row, column - 1, row, column);
            var c3 = this.session.getTextRange(charRange);
            if (!isNaN(parseFloat(c3)) && isFinite(c3)) {
              var nr = this.getNumberAt(row, column);
              if (nr) {
                var fp = nr.value.indexOf(".") >= 0 ? nr.start + nr.value.indexOf(".") + 1 : nr.end;
                var decimals = nr.start + nr.value.length - fp;
                var t3 = parseFloat(nr.value);
                t3 *= Math.pow(10, decimals);
                if (fp !== nr.end && column < fp) {
                  amount *= Math.pow(10, nr.end - column - 1);
                } else {
                  amount *= Math.pow(10, nr.end - column);
                }
                t3 += amount;
                t3 /= Math.pow(10, decimals);
                var nnr = t3.toFixed(decimals);
                var replaceRange = new Range(row, nr.start, row, nr.end);
                this.session.replace(replaceRange, nnr);
                this.moveCursorTo(row, Math.max(nr.start + 1, column + nnr.length - nr.value.length));
              }
            } else {
              this.toggleWord();
            }
          };
          this.$toggleWordPairs = [
            ["first", "last"],
            ["true", "false"],
            ["yes", "no"],
            ["width", "height"],
            ["top", "bottom"],
            ["right", "left"],
            ["on", "off"],
            ["x", "y"],
            ["get", "set"],
            ["max", "min"],
            ["horizontal", "vertical"],
            ["show", "hide"],
            ["add", "remove"],
            ["up", "down"],
            ["before", "after"],
            ["even", "odd"],
            ["in", "out"],
            ["inside", "outside"],
            ["next", "previous"],
            ["increase", "decrease"],
            ["attach", "detach"],
            ["&&", "||"],
            ["==", "!="]
          ];
          this.toggleWord = function() {
            var row = this.selection.getCursor().row;
            var column = this.selection.getCursor().column;
            this.selection.selectWord();
            var currentState = this.getSelectedText();
            var currWordStart = this.selection.getWordRange().start.column;
            var wordParts = currentState.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g, "$1 ").split(/\s/);
            var delta = column - currWordStart - 1;
            if (delta < 0)
              delta = 0;
            var curLength = 0, itLength = 0;
            var that = this;
            if (currentState.match(/[A-Za-z0-9_]+/)) {
              wordParts.forEach(function(item2, i4) {
                itLength = curLength + item2.length;
                if (delta >= curLength && delta <= itLength) {
                  currentState = item2;
                  that.selection.clearSelection();
                  that.moveCursorTo(row, curLength + currWordStart);
                  that.selection.selectTo(row, itLength + currWordStart);
                }
                curLength = itLength;
              });
            }
            var wordPairs = this.$toggleWordPairs;
            var reg;
            for (var i3 = 0; i3 < wordPairs.length; i3++) {
              var item = wordPairs[i3];
              for (var j3 = 0; j3 <= 1; j3++) {
                var negate3 = +!j3;
                var firstCondition = currentState.match(new RegExp("^\\s?_?(" + lang.escapeRegExp(item[j3]) + ")\\s?$", "i"));
                if (firstCondition) {
                  var secondCondition = currentState.match(new RegExp("([_]|^|\\s)(" + lang.escapeRegExp(firstCondition[1]) + ")($|\\s)", "g"));
                  if (secondCondition) {
                    reg = currentState.replace(new RegExp(lang.escapeRegExp(item[j3]), "i"), function(result) {
                      var res = item[negate3];
                      if (result.toUpperCase() == result) {
                        res = res.toUpperCase();
                      } else if (result.charAt(0).toUpperCase() == result.charAt(0)) {
                        res = res.substr(0, 0) + item[negate3].charAt(0).toUpperCase() + res.substr(1);
                      }
                      return res;
                    });
                    this.insert(reg);
                    reg = "";
                  }
                }
              }
            }
          };
          this.removeLines = function() {
            var rows = this.$getSelectedRows();
            this.session.removeFullLines(rows.first, rows.last);
            this.clearSelection();
          };
          this.duplicateSelection = function() {
            var sel = this.selection;
            var doc = this.session;
            var range = sel.getRange();
            var reverse = sel.isBackwards();
            if (range.isEmpty()) {
              var row = range.start.row;
              doc.duplicateLines(row, row);
            } else {
              var point = reverse ? range.start : range.end;
              var endPoint = doc.insert(point, doc.getTextRange(range), false);
              range.start = point;
              range.end = endPoint;
              sel.setSelectionRange(range, reverse);
            }
          };
          this.moveLinesDown = function() {
            this.$moveLines(1, false);
          };
          this.moveLinesUp = function() {
            this.$moveLines(-1, false);
          };
          this.moveText = function(range, toPosition, copy) {
            return this.session.moveText(range, toPosition, copy);
          };
          this.copyLinesUp = function() {
            this.$moveLines(-1, true);
          };
          this.copyLinesDown = function() {
            this.$moveLines(1, true);
          };
          this.$moveLines = function(dir, copy) {
            var rows, moved;
            var selection = this.selection;
            if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {
              var range = selection.toOrientedRange();
              rows = this.$getSelectedRows(range);
              moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);
              if (copy && dir == -1)
                moved = 0;
              range.moveBy(moved, 0);
              selection.fromOrientedRange(range);
            } else {
              var ranges = selection.rangeList.ranges;
              selection.rangeList.detach(this.session);
              this.inVirtualSelectionMode = true;
              var diff = 0;
              var totalDiff = 0;
              var l3 = ranges.length;
              for (var i3 = 0; i3 < l3; i3++) {
                var rangeIndex = i3;
                ranges[i3].moveBy(diff, 0);
                rows = this.$getSelectedRows(ranges[i3]);
                var first = rows.first;
                var last = rows.last;
                while (++i3 < l3) {
                  if (totalDiff)
                    ranges[i3].moveBy(totalDiff, 0);
                  var subRows = this.$getSelectedRows(ranges[i3]);
                  if (copy && subRows.first != last)
                    break;
                  else if (!copy && subRows.first > last + 1)
                    break;
                  last = subRows.last;
                }
                i3--;
                diff = this.session.$moveLines(first, last, copy ? 0 : dir);
                if (copy && dir == -1)
                  rangeIndex = i3 + 1;
                while (rangeIndex <= i3) {
                  ranges[rangeIndex].moveBy(diff, 0);
                  rangeIndex++;
                }
                if (!copy)
                  diff = 0;
                totalDiff += diff;
              }
              selection.fromOrientedRange(selection.ranges[0]);
              selection.rangeList.attach(this.session);
              this.inVirtualSelectionMode = false;
            }
          };
          this.$getSelectedRows = function(range) {
            range = (range || this.getSelectionRange()).collapseRows();
            return {
              first: this.session.getRowFoldStart(range.start.row),
              last: this.session.getRowFoldEnd(range.end.row)
            };
          };
          this.onCompositionStart = function(compositionState) {
            this.renderer.showComposition(compositionState);
          };
          this.onCompositionUpdate = function(text) {
            this.renderer.setCompositionText(text);
          };
          this.onCompositionEnd = function() {
            this.renderer.hideComposition();
          };
          this.getFirstVisibleRow = function() {
            return this.renderer.getFirstVisibleRow();
          };
          this.getLastVisibleRow = function() {
            return this.renderer.getLastVisibleRow();
          };
          this.isRowVisible = function(row) {
            return row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow();
          };
          this.isRowFullyVisible = function(row) {
            return row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow();
          };
          this.$getVisibleRowCount = function() {
            return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;
          };
          this.$moveByPage = function(dir, select) {
            var renderer = this.renderer;
            var config3 = this.renderer.layerConfig;
            var rows = dir * Math.floor(config3.height / config3.lineHeight);
            if (select === true) {
              this.selection.$moveSelection(function() {
                this.moveCursorBy(rows, 0);
              });
            } else if (select === false) {
              this.selection.moveCursorBy(rows, 0);
              this.selection.clearSelection();
            }
            var scrollTop = renderer.scrollTop;
            renderer.scrollBy(0, rows * config3.lineHeight);
            if (select != null)
              renderer.scrollCursorIntoView(null, 0.5);
            renderer.animateScrolling(scrollTop);
          };
          this.selectPageDown = function() {
            this.$moveByPage(1, true);
          };
          this.selectPageUp = function() {
            this.$moveByPage(-1, true);
          };
          this.gotoPageDown = function() {
            this.$moveByPage(1, false);
          };
          this.gotoPageUp = function() {
            this.$moveByPage(-1, false);
          };
          this.scrollPageDown = function() {
            this.$moveByPage(1);
          };
          this.scrollPageUp = function() {
            this.$moveByPage(-1);
          };
          this.scrollToRow = function(row) {
            this.renderer.scrollToRow(row);
          };
          this.scrollToLine = function(line, center, animate, callback) {
            this.renderer.scrollToLine(line, center, animate, callback);
          };
          this.centerSelection = function() {
            var range = this.getSelectionRange();
            var pos = {
              row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),
              column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)
            };
            this.renderer.alignCursor(pos, 0.5);
          };
          this.getCursorPosition = function() {
            return this.selection.getCursor();
          };
          this.getCursorPositionScreen = function() {
            return this.session.documentToScreenPosition(this.getCursorPosition());
          };
          this.getSelectionRange = function() {
            return this.selection.getRange();
          };
          this.selectAll = function() {
            this.selection.selectAll();
          };
          this.clearSelection = function() {
            this.selection.clearSelection();
          };
          this.moveCursorTo = function(row, column) {
            this.selection.moveCursorTo(row, column);
          };
          this.moveCursorToPosition = function(pos) {
            this.selection.moveCursorToPosition(pos);
          };
          this.jumpToMatching = function(select, expand3) {
            var cursor = this.getCursorPosition();
            var iterator = new TokenIterator(this.session, cursor.row, cursor.column);
            var prevToken = iterator.getCurrentToken();
            var token = prevToken || iterator.stepForward();
            if (!token)
              return;
            var matchType;
            var found = false;
            var depth = {};
            var i3 = cursor.column - token.start;
            var bracketType;
            var brackets = {
              ")": "(",
              "(": "(",
              "]": "[",
              "[": "[",
              "{": "{",
              "}": "{"
            };
            do {
              if (token.value.match(/[{}()\[\]]/g)) {
                for (; i3 < token.value.length && !found; i3++) {
                  if (!brackets[token.value[i3]]) {
                    continue;
                  }
                  bracketType = brackets[token.value[i3]] + "." + token.type.replace("rparen", "lparen");
                  if (isNaN(depth[bracketType])) {
                    depth[bracketType] = 0;
                  }
                  switch (token.value[i3]) {
                    case "(":
                    case "[":
                    case "{":
                      depth[bracketType]++;
                      break;
                    case ")":
                    case "]":
                    case "}":
                      depth[bracketType]--;
                      if (depth[bracketType] === -1) {
                        matchType = "bracket";
                        found = true;
                      }
                      break;
                  }
                }
              } else if (token.type.indexOf("tag-name") !== -1) {
                if (isNaN(depth[token.value])) {
                  depth[token.value] = 0;
                }
                if (prevToken.value === "<") {
                  depth[token.value]++;
                } else if (prevToken.value === "</") {
                  depth[token.value]--;
                }
                if (depth[token.value] === -1) {
                  matchType = "tag";
                  found = true;
                }
              }
              if (!found) {
                prevToken = token;
                token = iterator.stepForward();
                i3 = 0;
              }
            } while (token && !found);
            if (!matchType)
              return;
            var range, pos;
            if (matchType === "bracket") {
              range = this.session.getBracketRange(cursor);
              if (!range) {
                range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i3 - 1, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i3 - 1);
                pos = range.start;
                if (expand3 || pos.row === cursor.row && Math.abs(pos.column - cursor.column) < 2)
                  range = this.session.getBracketRange(pos);
              }
            } else if (matchType === "tag") {
              if (token && token.type.indexOf("tag-name") !== -1)
                var tag = token.value;
              else
                return;
              range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2);
              if (range.compare(cursor.row, cursor.column) === 0) {
                found = false;
                do {
                  token = prevToken;
                  prevToken = iterator.stepBackward();
                  if (prevToken) {
                    if (prevToken.type.indexOf("tag-close") !== -1) {
                      range.setEnd(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);
                    }
                    if (token.value === tag && token.type.indexOf("tag-name") !== -1) {
                      if (prevToken.value === "<") {
                        depth[tag]++;
                      } else if (prevToken.value === "</") {
                        depth[tag]--;
                      }
                      if (depth[tag] === 0)
                        found = true;
                    }
                  }
                } while (prevToken && !found);
              }
              if (token && token.type.indexOf("tag-name")) {
                pos = range.start;
                if (pos.row == cursor.row && Math.abs(pos.column - cursor.column) < 2)
                  pos = range.end;
              }
            }
            pos = range && range.cursor || pos;
            if (pos) {
              if (select) {
                if (range && expand3) {
                  this.selection.setRange(range);
                } else if (range && range.isEqual(this.getSelectionRange())) {
                  this.clearSelection();
                } else {
                  this.selection.selectTo(pos.row, pos.column);
                }
              } else {
                this.selection.moveTo(pos.row, pos.column);
              }
            }
          };
          this.gotoLine = function(lineNumber, column, animate) {
            this.selection.clearSelection();
            this.session.unfold({ row: lineNumber - 1, column: column || 0 });
            this.exitMultiSelectMode && this.exitMultiSelectMode();
            this.moveCursorTo(lineNumber - 1, column || 0);
            if (!this.isRowFullyVisible(lineNumber - 1))
              this.scrollToLine(lineNumber - 1, true, animate);
          };
          this.navigateTo = function(row, column) {
            this.selection.moveTo(row, column);
          };
          this.navigateUp = function(times) {
            if (this.selection.isMultiLine() && !this.selection.isBackwards()) {
              var selectionStart = this.selection.anchor.getPosition();
              return this.moveCursorToPosition(selectionStart);
            }
            this.selection.clearSelection();
            this.selection.moveCursorBy(-times || -1, 0);
          };
          this.navigateDown = function(times) {
            if (this.selection.isMultiLine() && this.selection.isBackwards()) {
              var selectionEnd = this.selection.anchor.getPosition();
              return this.moveCursorToPosition(selectionEnd);
            }
            this.selection.clearSelection();
            this.selection.moveCursorBy(times || 1, 0);
          };
          this.navigateLeft = function(times) {
            if (!this.selection.isEmpty()) {
              var selectionStart = this.getSelectionRange().start;
              this.moveCursorToPosition(selectionStart);
            } else {
              times = times || 1;
              while (times--) {
                this.selection.moveCursorLeft();
              }
            }
            this.clearSelection();
          };
          this.navigateRight = function(times) {
            if (!this.selection.isEmpty()) {
              var selectionEnd = this.getSelectionRange().end;
              this.moveCursorToPosition(selectionEnd);
            } else {
              times = times || 1;
              while (times--) {
                this.selection.moveCursorRight();
              }
            }
            this.clearSelection();
          };
          this.navigateLineStart = function() {
            this.selection.moveCursorLineStart();
            this.clearSelection();
          };
          this.navigateLineEnd = function() {
            this.selection.moveCursorLineEnd();
            this.clearSelection();
          };
          this.navigateFileEnd = function() {
            this.selection.moveCursorFileEnd();
            this.clearSelection();
          };
          this.navigateFileStart = function() {
            this.selection.moveCursorFileStart();
            this.clearSelection();
          };
          this.navigateWordRight = function() {
            this.selection.moveCursorWordRight();
            this.clearSelection();
          };
          this.navigateWordLeft = function() {
            this.selection.moveCursorWordLeft();
            this.clearSelection();
          };
          this.replace = function(replacement, options) {
            if (options)
              this.$search.set(options);
            var range = this.$search.find(this.session);
            var replaced = 0;
            if (!range)
              return replaced;
            if (this.$tryReplace(range, replacement)) {
              replaced = 1;
            }
            this.selection.setSelectionRange(range);
            this.renderer.scrollSelectionIntoView(range.start, range.end);
            return replaced;
          };
          this.replaceAll = function(replacement, options) {
            if (options) {
              this.$search.set(options);
            }
            var ranges = this.$search.findAll(this.session);
            var replaced = 0;
            if (!ranges.length)
              return replaced;
            var selection = this.getSelectionRange();
            this.selection.moveTo(0, 0);
            for (var i3 = ranges.length - 1; i3 >= 0; --i3) {
              if (this.$tryReplace(ranges[i3], replacement)) {
                replaced++;
              }
            }
            this.selection.setSelectionRange(selection);
            return replaced;
          };
          this.$tryReplace = function(range, replacement) {
            var input = this.session.getTextRange(range);
            replacement = this.$search.replace(input, replacement);
            if (replacement !== null) {
              range.end = this.session.replace(range, replacement);
              return range;
            } else {
              return null;
            }
          };
          this.getLastSearchOptions = function() {
            return this.$search.getOptions();
          };
          this.find = function(needle, options, animate) {
            if (!options)
              options = {};
            if (typeof needle == "string" || needle instanceof RegExp)
              options.needle = needle;
            else if (typeof needle == "object")
              oop.mixin(options, needle);
            var range = this.selection.getRange();
            if (options.needle == null) {
              needle = this.session.getTextRange(range) || this.$search.$options.needle;
              if (!needle) {
                range = this.session.getWordRange(range.start.row, range.start.column);
                needle = this.session.getTextRange(range);
              }
              this.$search.set({ needle });
            }
            this.$search.set(options);
            if (!options.start)
              this.$search.set({ start: range });
            var newRange = this.$search.find(this.session);
            if (options.preventScroll)
              return newRange;
            if (newRange) {
              this.revealRange(newRange, animate);
              return newRange;
            }
            if (options.backwards)
              range.start = range.end;
            else
              range.end = range.start;
            this.selection.setRange(range);
          };
          this.findNext = function(options, animate) {
            this.find({ skipCurrent: true, backwards: false }, options, animate);
          };
          this.findPrevious = function(options, animate) {
            this.find(options, { skipCurrent: true, backwards: true }, animate);
          };
          this.revealRange = function(range, animate) {
            this.session.unfold(range);
            this.selection.setSelectionRange(range);
            var scrollTop = this.renderer.scrollTop;
            this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);
            if (animate !== false)
              this.renderer.animateScrolling(scrollTop);
          };
          this.undo = function() {
            this.session.getUndoManager().undo(this.session);
            this.renderer.scrollCursorIntoView(null, 0.5);
          };
          this.redo = function() {
            this.session.getUndoManager().redo(this.session);
            this.renderer.scrollCursorIntoView(null, 0.5);
          };
          this.destroy = function() {
            if (this.$toDestroy) {
              this.$toDestroy.forEach(function(el) {
                el.destroy();
              });
              this.$toDestroy = null;
            }
            if (this.$mouseHandler)
              this.$mouseHandler.destroy();
            this.renderer.destroy();
            this._signal("destroy", this);
            if (this.session)
              this.session.destroy();
            if (this._$emitInputEvent)
              this._$emitInputEvent.cancel();
            this.removeAllListeners();
          };
          this.setAutoScrollEditorIntoView = function(enable) {
            if (!enable)
              return;
            var rect;
            var self2 = this;
            var shouldScroll = false;
            if (!this.$scrollAnchor)
              this.$scrollAnchor = document.createElement("div");
            var scrollAnchor = this.$scrollAnchor;
            scrollAnchor.style.cssText = "position:absolute";
            this.container.insertBefore(scrollAnchor, this.container.firstChild);
            var onChangeSelection = this.on("changeSelection", function() {
              shouldScroll = true;
            });
            var onBeforeRender = this.renderer.on("beforeRender", function() {
              if (shouldScroll)
                rect = self2.renderer.container.getBoundingClientRect();
            });
            var onAfterRender = this.renderer.on("afterRender", function() {
              if (shouldScroll && rect && (self2.isFocused() || self2.searchBox && self2.searchBox.isFocused())) {
                var renderer = self2.renderer;
                var pos = renderer.$cursorLayer.$pixelPos;
                var config3 = renderer.layerConfig;
                var top2 = pos.top - config3.offset;
                if (pos.top >= 0 && top2 + rect.top < 0) {
                  shouldScroll = true;
                } else if (pos.top < config3.height && pos.top + rect.top + config3.lineHeight > window.innerHeight) {
                  shouldScroll = false;
                } else {
                  shouldScroll = null;
                }
                if (shouldScroll != null) {
                  scrollAnchor.style.top = top2 + "px";
                  scrollAnchor.style.left = pos.left + "px";
                  scrollAnchor.style.height = config3.lineHeight + "px";
                  scrollAnchor.scrollIntoView(shouldScroll);
                }
                shouldScroll = rect = null;
              }
            });
            this.setAutoScrollEditorIntoView = function(enable2) {
              if (enable2)
                return;
              delete this.setAutoScrollEditorIntoView;
              this.off("changeSelection", onChangeSelection);
              this.renderer.off("afterRender", onAfterRender);
              this.renderer.off("beforeRender", onBeforeRender);
            };
          };
          this.$resetCursorStyle = function() {
            var style2 = this.$cursorStyle || "ace";
            var cursorLayer = this.renderer.$cursorLayer;
            if (!cursorLayer)
              return;
            cursorLayer.setSmoothBlinking(/smooth/.test(style2));
            cursorLayer.isBlinking = !this.$readOnly && style2 != "wide";
            dom.setCssClass(cursorLayer.element, "ace_slim-cursors", /slim/.test(style2));
          };
          this.prompt = function(message, options, callback) {
            var editor = this;
            config2.loadModule("./ext/prompt", function(module3) {
              module3.prompt(editor, message, options, callback);
            });
          };
        }).call(Editor.prototype);
        config2.defineOptions(Editor.prototype, "editor", {
          selectionStyle: {
            set: function(style2) {
              this.onSelectionChange();
              this._signal("changeSelectionStyle", { data: style2 });
            },
            initialValue: "line"
          },
          highlightActiveLine: {
            set: function() {
              this.$updateHighlightActiveLine();
            },
            initialValue: true
          },
          highlightSelectedWord: {
            set: function(shouldHighlight) {
              this.$onSelectionChange();
            },
            initialValue: true
          },
          readOnly: {
            set: function(readOnly) {
              this.textInput.setReadOnly(readOnly);
              this.$resetCursorStyle();
            },
            initialValue: false
          },
          copyWithEmptySelection: {
            set: function(value) {
              this.textInput.setCopyWithEmptySelection(value);
            },
            initialValue: false
          },
          cursorStyle: {
            set: function(val) {
              this.$resetCursorStyle();
            },
            values: ["ace", "slim", "smooth", "wide"],
            initialValue: "ace"
          },
          mergeUndoDeltas: {
            values: [false, true, "always"],
            initialValue: true
          },
          behavioursEnabled: { initialValue: true },
          wrapBehavioursEnabled: { initialValue: true },
          enableAutoIndent: { initialValue: true },
          autoScrollEditorIntoView: {
            set: function(val) {
              this.setAutoScrollEditorIntoView(val);
            }
          },
          keyboardHandler: {
            set: function(val) {
              this.setKeyboardHandler(val);
            },
            get: function() {
              return this.$keybindingId;
            },
            handlesSet: true
          },
          value: {
            set: function(val) {
              this.session.setValue(val);
            },
            get: function() {
              return this.getValue();
            },
            handlesSet: true,
            hidden: true
          },
          session: {
            set: function(val) {
              this.setSession(val);
            },
            get: function() {
              return this.session;
            },
            handlesSet: true,
            hidden: true
          },
          showLineNumbers: {
            set: function(show) {
              this.renderer.$gutterLayer.setShowLineNumbers(show);
              this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);
              if (show && this.$relativeLineNumbers)
                relativeNumberRenderer.attach(this);
              else
                relativeNumberRenderer.detach(this);
            },
            initialValue: true
          },
          relativeLineNumbers: {
            set: function(value) {
              if (this.$showLineNumbers && value)
                relativeNumberRenderer.attach(this);
              else
                relativeNumberRenderer.detach(this);
            }
          },
          placeholder: {
            set: function(message) {
              if (!this.$updatePlaceholder) {
                this.$updatePlaceholder = function() {
                  var value = this.session && (this.renderer.$composition || this.getValue());
                  if (value && this.renderer.placeholderNode) {
                    this.renderer.off("afterRender", this.$updatePlaceholder);
                    dom.removeCssClass(this.container, "ace_hasPlaceholder");
                    this.renderer.placeholderNode.remove();
                    this.renderer.placeholderNode = null;
                  } else if (!value && !this.renderer.placeholderNode) {
                    this.renderer.on("afterRender", this.$updatePlaceholder);
                    dom.addCssClass(this.container, "ace_hasPlaceholder");
                    var el = dom.createElement("div");
                    el.className = "ace_placeholder";
                    el.textContent = this.$placeholder || "";
                    this.renderer.placeholderNode = el;
                    this.renderer.content.appendChild(this.renderer.placeholderNode);
                  } else if (!value && this.renderer.placeholderNode) {
                    this.renderer.placeholderNode.textContent = this.$placeholder || "";
                  }
                }.bind(this);
                this.on("input", this.$updatePlaceholder);
              }
              this.$updatePlaceholder();
            }
          },
          hScrollBarAlwaysVisible: "renderer",
          vScrollBarAlwaysVisible: "renderer",
          highlightGutterLine: "renderer",
          animatedScroll: "renderer",
          showInvisibles: "renderer",
          showPrintMargin: "renderer",
          printMarginColumn: "renderer",
          printMargin: "renderer",
          fadeFoldWidgets: "renderer",
          showFoldWidgets: "renderer",
          displayIndentGuides: "renderer",
          showGutter: "renderer",
          fontSize: "renderer",
          fontFamily: "renderer",
          maxLines: "renderer",
          minLines: "renderer",
          scrollPastEnd: "renderer",
          fixedWidthGutter: "renderer",
          theme: "renderer",
          hasCssTransforms: "renderer",
          maxPixelHeight: "renderer",
          useTextareaForIME: "renderer",
          scrollSpeed: "$mouseHandler",
          dragDelay: "$mouseHandler",
          dragEnabled: "$mouseHandler",
          focusTimeout: "$mouseHandler",
          tooltipFollowsMouse: "$mouseHandler",
          firstLineNumber: "session",
          overwrite: "session",
          newLineMode: "session",
          useWorker: "session",
          useSoftTabs: "session",
          navigateWithinSoftTabs: "session",
          tabSize: "session",
          wrap: "session",
          indentedSoftWrap: "session",
          foldStyle: "session",
          mode: "session"
        });
        var relativeNumberRenderer = {
          getText: function(session, row) {
            return (Math.abs(session.selection.lead.row - row) || row + 1 + (row < 9 ? "\xB7" : "")) + "";
          },
          getWidth: function(session, lastLineNumber, config3) {
            return Math.max(lastLineNumber.toString().length, (config3.lastRow + 1).toString().length, 2) * config3.characterWidth;
          },
          update: function(e2, editor) {
            editor.renderer.$loop.schedule(editor.renderer.CHANGE_GUTTER);
          },
          attach: function(editor) {
            editor.renderer.$gutterLayer.$renderer = this;
            editor.on("changeSelection", this.update);
            this.update(null, editor);
          },
          detach: function(editor) {
            if (editor.renderer.$gutterLayer.$renderer == this)
              editor.renderer.$gutterLayer.$renderer = null;
            editor.off("changeSelection", this.update);
            this.update(null, editor);
          }
        };
        exports2.Editor = Editor;
      });
      ace.define("ace/undomanager", ["require", "exports", "module", "ace/range"], function(require2, exports2, module2) {
        "use strict";
        var UndoManager = function() {
          this.$maxRev = 0;
          this.$fromUndo = false;
          this.reset();
        };
        (function() {
          this.addSession = function(session) {
            this.$session = session;
          };
          this.add = function(delta, allowMerge, session) {
            if (this.$fromUndo)
              return;
            if (delta == this.$lastDelta)
              return;
            if (!this.$keepRedoStack)
              this.$redoStack.length = 0;
            if (allowMerge === false || !this.lastDeltas) {
              this.lastDeltas = [];
              this.$undoStack.push(this.lastDeltas);
              delta.id = this.$rev = ++this.$maxRev;
            }
            if (delta.action == "remove" || delta.action == "insert")
              this.$lastDelta = delta;
            this.lastDeltas.push(delta);
          };
          this.addSelection = function(selection, rev) {
            this.selections.push({
              value: selection,
              rev: rev || this.$rev
            });
          };
          this.startNewGroup = function() {
            this.lastDeltas = null;
            return this.$rev;
          };
          this.markIgnored = function(from, to) {
            if (to == null)
              to = this.$rev + 1;
            var stack = this.$undoStack;
            for (var i3 = stack.length; i3--; ) {
              var delta = stack[i3][0];
              if (delta.id <= from)
                break;
              if (delta.id < to)
                delta.ignore = true;
            }
            this.lastDeltas = null;
          };
          this.getSelection = function(rev, after) {
            var stack = this.selections;
            for (var i3 = stack.length; i3--; ) {
              var selection = stack[i3];
              if (selection.rev < rev) {
                if (after)
                  selection = stack[i3 + 1];
                return selection;
              }
            }
          };
          this.getRevision = function() {
            return this.$rev;
          };
          this.getDeltas = function(from, to) {
            if (to == null)
              to = this.$rev + 1;
            var stack = this.$undoStack;
            var end3 = null, start4 = 0;
            for (var i3 = stack.length; i3--; ) {
              var delta = stack[i3][0];
              if (delta.id < to && !end3)
                end3 = i3 + 1;
              if (delta.id <= from) {
                start4 = i3 + 1;
                break;
              }
            }
            return stack.slice(start4, end3);
          };
          this.getChangedRanges = function(from, to) {
            if (to == null)
              to = this.$rev + 1;
          };
          this.getChangedLines = function(from, to) {
            if (to == null)
              to = this.$rev + 1;
          };
          this.undo = function(session, dontSelect) {
            this.lastDeltas = null;
            var stack = this.$undoStack;
            if (!rearrangeUndoStack(stack, stack.length))
              return;
            if (!session)
              session = this.$session;
            if (this.$redoStackBaseRev !== this.$rev && this.$redoStack.length)
              this.$redoStack = [];
            this.$fromUndo = true;
            var deltaSet = stack.pop();
            var undoSelectionRange = null;
            if (deltaSet) {
              undoSelectionRange = session.undoChanges(deltaSet, dontSelect);
              this.$redoStack.push(deltaSet);
              this.$syncRev();
            }
            this.$fromUndo = false;
            return undoSelectionRange;
          };
          this.redo = function(session, dontSelect) {
            this.lastDeltas = null;
            if (!session)
              session = this.$session;
            this.$fromUndo = true;
            if (this.$redoStackBaseRev != this.$rev) {
              var diff = this.getDeltas(this.$redoStackBaseRev, this.$rev + 1);
              rebaseRedoStack(this.$redoStack, diff);
              this.$redoStackBaseRev = this.$rev;
              this.$redoStack.forEach(function(x2) {
                x2[0].id = ++this.$maxRev;
              }, this);
            }
            var deltaSet = this.$redoStack.pop();
            var redoSelectionRange = null;
            if (deltaSet) {
              redoSelectionRange = session.redoChanges(deltaSet, dontSelect);
              this.$undoStack.push(deltaSet);
              this.$syncRev();
            }
            this.$fromUndo = false;
            return redoSelectionRange;
          };
          this.$syncRev = function() {
            var stack = this.$undoStack;
            var nextDelta = stack[stack.length - 1];
            var id = nextDelta && nextDelta[0].id || 0;
            this.$redoStackBaseRev = id;
            this.$rev = id;
          };
          this.reset = function() {
            this.lastDeltas = null;
            this.$lastDelta = null;
            this.$undoStack = [];
            this.$redoStack = [];
            this.$rev = 0;
            this.mark = 0;
            this.$redoStackBaseRev = this.$rev;
            this.selections = [];
          };
          this.canUndo = function() {
            return this.$undoStack.length > 0;
          };
          this.canRedo = function() {
            return this.$redoStack.length > 0;
          };
          this.bookmark = function(rev) {
            if (rev == void 0)
              rev = this.$rev;
            this.mark = rev;
          };
          this.isAtBookmark = function() {
            return this.$rev === this.mark;
          };
          this.toJSON = function() {
          };
          this.fromJSON = function() {
          };
          this.hasUndo = this.canUndo;
          this.hasRedo = this.canRedo;
          this.isClean = this.isAtBookmark;
          this.markClean = this.bookmark;
          this.$prettyPrint = function(delta) {
            if (delta)
              return stringifyDelta(delta);
            return stringifyDelta(this.$undoStack) + "\n---\n" + stringifyDelta(this.$redoStack);
          };
        }).call(UndoManager.prototype);
        function rearrangeUndoStack(stack, pos) {
          for (var i3 = pos; i3--; ) {
            var deltaSet = stack[i3];
            if (deltaSet && !deltaSet[0].ignore) {
              while (i3 < pos - 1) {
                var swapped = swapGroups(stack[i3], stack[i3 + 1]);
                stack[i3] = swapped[0];
                stack[i3 + 1] = swapped[1];
                i3++;
              }
              return true;
            }
          }
        }
        var Range = require2("./range").Range;
        var cmp = Range.comparePoints;
        var comparePoints = Range.comparePoints;
        function $updateMarkers(delta) {
          var isInsert = delta.action == "insert";
          var start4 = delta.start;
          var end3 = delta.end;
          var rowShift = (end3.row - start4.row) * (isInsert ? 1 : -1);
          var colShift = (end3.column - start4.column) * (isInsert ? 1 : -1);
          if (isInsert)
            end3 = start4;
          for (var i3 in this.marks) {
            var point = this.marks[i3];
            var cmp2 = comparePoints(point, start4);
            if (cmp2 < 0) {
              continue;
            }
            if (cmp2 === 0) {
              if (isInsert) {
                if (point.bias == 1) {
                  cmp2 = 1;
                } else {
                  point.bias == -1;
                  continue;
                }
              }
            }
            var cmp22 = isInsert ? cmp2 : comparePoints(point, end3);
            if (cmp22 > 0) {
              point.row += rowShift;
              point.column += point.row == end3.row ? colShift : 0;
              continue;
            }
            if (!isInsert && cmp22 <= 0) {
              point.row = start4.row;
              point.column = start4.column;
              if (cmp22 === 0)
                point.bias = 1;
            }
          }
        }
        function clonePos(pos) {
          return { row: pos.row, column: pos.column };
        }
        function cloneDelta(d3) {
          return {
            start: clonePos(d3.start),
            end: clonePos(d3.end),
            action: d3.action,
            lines: d3.lines.slice()
          };
        }
        function stringifyDelta(d3) {
          d3 = d3 || this;
          if (Array.isArray(d3)) {
            return d3.map(stringifyDelta).join("\n");
          }
          var type = "";
          if (d3.action) {
            type = d3.action == "insert" ? "+" : "-";
            type += "[" + d3.lines + "]";
          } else if (d3.value) {
            if (Array.isArray(d3.value)) {
              type = d3.value.map(stringifyRange).join("\n");
            } else {
              type = stringifyRange(d3.value);
            }
          }
          if (d3.start) {
            type += stringifyRange(d3);
          }
          if (d3.id || d3.rev) {
            type += "	(" + (d3.id || d3.rev) + ")";
          }
          return type;
        }
        function stringifyRange(r2) {
          return r2.start.row + ":" + r2.start.column + "=>" + r2.end.row + ":" + r2.end.column;
        }
        function swap(d1, d22) {
          var i1 = d1.action == "insert";
          var i22 = d22.action == "insert";
          if (i1 && i22) {
            if (cmp(d22.start, d1.end) >= 0) {
              shift3(d22, d1, -1);
            } else if (cmp(d22.start, d1.start) <= 0) {
              shift3(d1, d22, 1);
            } else {
              return null;
            }
          } else if (i1 && !i22) {
            if (cmp(d22.start, d1.end) >= 0) {
              shift3(d22, d1, -1);
            } else if (cmp(d22.end, d1.start) <= 0) {
              shift3(d1, d22, -1);
            } else {
              return null;
            }
          } else if (!i1 && i22) {
            if (cmp(d22.start, d1.start) >= 0) {
              shift3(d22, d1, 1);
            } else if (cmp(d22.start, d1.start) <= 0) {
              shift3(d1, d22, 1);
            } else {
              return null;
            }
          } else if (!i1 && !i22) {
            if (cmp(d22.start, d1.start) >= 0) {
              shift3(d22, d1, 1);
            } else if (cmp(d22.end, d1.start) <= 0) {
              shift3(d1, d22, -1);
            } else {
              return null;
            }
          }
          return [d22, d1];
        }
        function swapGroups(ds1, ds2) {
          for (var i3 = ds1.length; i3--; ) {
            for (var j3 = 0; j3 < ds2.length; j3++) {
              if (!swap(ds1[i3], ds2[j3])) {
                while (i3 < ds1.length) {
                  while (j3--) {
                    swap(ds2[j3], ds1[i3]);
                  }
                  j3 = ds2.length;
                  i3++;
                }
                return [ds1, ds2];
              }
            }
          }
          ds1.selectionBefore = ds2.selectionBefore = ds1.selectionAfter = ds2.selectionAfter = null;
          return [ds2, ds1];
        }
        function xform(d1, c1) {
          var i1 = d1.action == "insert";
          var i22 = c1.action == "insert";
          if (i1 && i22) {
            if (cmp(d1.start, c1.start) < 0) {
              shift3(c1, d1, 1);
            } else {
              shift3(d1, c1, 1);
            }
          } else if (i1 && !i22) {
            if (cmp(d1.start, c1.end) >= 0) {
              shift3(d1, c1, -1);
            } else if (cmp(d1.start, c1.start) <= 0) {
              shift3(c1, d1, 1);
            } else {
              shift3(d1, Range.fromPoints(c1.start, d1.start), -1);
              shift3(c1, d1, 1);
            }
          } else if (!i1 && i22) {
            if (cmp(c1.start, d1.end) >= 0) {
              shift3(c1, d1, -1);
            } else if (cmp(c1.start, d1.start) <= 0) {
              shift3(d1, c1, 1);
            } else {
              shift3(c1, Range.fromPoints(d1.start, c1.start), -1);
              shift3(d1, c1, 1);
            }
          } else if (!i1 && !i22) {
            if (cmp(c1.start, d1.end) >= 0) {
              shift3(c1, d1, -1);
            } else if (cmp(c1.end, d1.start) <= 0) {
              shift3(d1, c1, -1);
            } else {
              var before, after;
              if (cmp(d1.start, c1.start) < 0) {
                before = d1;
                d1 = splitDelta(d1, c1.start);
              }
              if (cmp(d1.end, c1.end) > 0) {
                after = splitDelta(d1, c1.end);
              }
              shiftPos(c1.end, d1.start, d1.end, -1);
              if (after && !before) {
                d1.lines = after.lines;
                d1.start = after.start;
                d1.end = after.end;
                after = d1;
              }
              return [c1, before, after].filter(Boolean);
            }
          }
          return [c1, d1];
        }
        function shift3(d1, d22, dir) {
          shiftPos(d1.start, d22.start, d22.end, dir);
          shiftPos(d1.end, d22.start, d22.end, dir);
        }
        function shiftPos(pos, start4, end3, dir) {
          if (pos.row == (dir == 1 ? start4 : end3).row) {
            pos.column += dir * (end3.column - start4.column);
          }
          pos.row += dir * (end3.row - start4.row);
        }
        function splitDelta(c3, pos) {
          var lines = c3.lines;
          var end3 = c3.end;
          c3.end = clonePos(pos);
          var rowsBefore = c3.end.row - c3.start.row;
          var otherLines = lines.splice(rowsBefore, lines.length);
          var col = rowsBefore ? pos.column : pos.column - c3.start.column;
          lines.push(otherLines[0].substring(0, col));
          otherLines[0] = otherLines[0].substr(col);
          var rest = {
            start: clonePos(pos),
            end: end3,
            lines: otherLines,
            action: c3.action
          };
          return rest;
        }
        function moveDeltasByOne(redoStack, d3) {
          d3 = cloneDelta(d3);
          for (var j3 = redoStack.length; j3--; ) {
            var deltaSet = redoStack[j3];
            for (var i3 = 0; i3 < deltaSet.length; i3++) {
              var x2 = deltaSet[i3];
              var xformed = xform(x2, d3);
              d3 = xformed[0];
              if (xformed.length != 2) {
                if (xformed[2]) {
                  deltaSet.splice(i3 + 1, 1, xformed[1], xformed[2]);
                  i3++;
                } else if (!xformed[1]) {
                  deltaSet.splice(i3, 1);
                  i3--;
                }
              }
            }
            if (!deltaSet.length) {
              redoStack.splice(j3, 1);
            }
          }
          return redoStack;
        }
        function rebaseRedoStack(redoStack, deltaSets) {
          for (var i3 = 0; i3 < deltaSets.length; i3++) {
            var deltas = deltaSets[i3];
            for (var j3 = 0; j3 < deltas.length; j3++) {
              moveDeltasByOne(redoStack, deltas[j3]);
            }
          }
        }
        exports2.UndoManager = UndoManager;
      });
      ace.define("ace/layer/lines", ["require", "exports", "module", "ace/lib/dom"], function(require2, exports2, module2) {
        "use strict";
        var dom = require2("../lib/dom");
        var Lines = function(element, canvasHeight) {
          this.element = element;
          this.canvasHeight = canvasHeight || 5e5;
          this.element.style.height = this.canvasHeight * 2 + "px";
          this.cells = [];
          this.cellCache = [];
          this.$offsetCoefficient = 0;
        };
        (function() {
          this.moveContainer = function(config2) {
            dom.translate(this.element, 0, -(config2.firstRowScreen * config2.lineHeight % this.canvasHeight) - config2.offset * this.$offsetCoefficient);
          };
          this.pageChanged = function(oldConfig, newConfig) {
            return Math.floor(oldConfig.firstRowScreen * oldConfig.lineHeight / this.canvasHeight) !== Math.floor(newConfig.firstRowScreen * newConfig.lineHeight / this.canvasHeight);
          };
          this.computeLineTop = function(row, config2, session) {
            var screenTop = config2.firstRowScreen * config2.lineHeight;
            var screenPage = Math.floor(screenTop / this.canvasHeight);
            var lineTop = session.documentToScreenRow(row, 0) * config2.lineHeight;
            return lineTop - screenPage * this.canvasHeight;
          };
          this.computeLineHeight = function(row, config2, session) {
            return config2.lineHeight * session.getRowLineCount(row);
          };
          this.getLength = function() {
            return this.cells.length;
          };
          this.get = function(index2) {
            return this.cells[index2];
          };
          this.shift = function() {
            this.$cacheCell(this.cells.shift());
          };
          this.pop = function() {
            this.$cacheCell(this.cells.pop());
          };
          this.push = function(cell) {
            if (Array.isArray(cell)) {
              this.cells.push.apply(this.cells, cell);
              var fragment = dom.createFragment(this.element);
              for (var i3 = 0; i3 < cell.length; i3++) {
                fragment.appendChild(cell[i3].element);
              }
              this.element.appendChild(fragment);
            } else {
              this.cells.push(cell);
              this.element.appendChild(cell.element);
            }
          };
          this.unshift = function(cell) {
            if (Array.isArray(cell)) {
              this.cells.unshift.apply(this.cells, cell);
              var fragment = dom.createFragment(this.element);
              for (var i3 = 0; i3 < cell.length; i3++) {
                fragment.appendChild(cell[i3].element);
              }
              if (this.element.firstChild)
                this.element.insertBefore(fragment, this.element.firstChild);
              else
                this.element.appendChild(fragment);
            } else {
              this.cells.unshift(cell);
              this.element.insertAdjacentElement("afterbegin", cell.element);
            }
          };
          this.last = function() {
            if (this.cells.length)
              return this.cells[this.cells.length - 1];
            else
              return null;
          };
          this.$cacheCell = function(cell) {
            if (!cell)
              return;
            cell.element.remove();
            this.cellCache.push(cell);
          };
          this.createCell = function(row, config2, session, initElement) {
            var cell = this.cellCache.pop();
            if (!cell) {
              var element = dom.createElement("div");
              if (initElement)
                initElement(element);
              this.element.appendChild(element);
              cell = {
                element,
                text: "",
                row
              };
            }
            cell.row = row;
            return cell;
          };
        }).call(Lines.prototype);
        exports2.Lines = Lines;
      });
      ace.define("ace/layer/gutter", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter", "ace/layer/lines"], function(require2, exports2, module2) {
        "use strict";
        var dom = require2("../lib/dom");
        var oop = require2("../lib/oop");
        var lang = require2("../lib/lang");
        var EventEmitter = require2("../lib/event_emitter").EventEmitter;
        var Lines = require2("./lines").Lines;
        var Gutter = function(parentEl) {
          this.element = dom.createElement("div");
          this.element.className = "ace_layer ace_gutter-layer";
          parentEl.appendChild(this.element);
          this.setShowFoldWidgets(this.$showFoldWidgets);
          this.gutterWidth = 0;
          this.$annotations = [];
          this.$updateAnnotations = this.$updateAnnotations.bind(this);
          this.$lines = new Lines(this.element);
          this.$lines.$offsetCoefficient = 1;
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.setSession = function(session) {
            if (this.session)
              this.session.off("change", this.$updateAnnotations);
            this.session = session;
            if (session)
              session.on("change", this.$updateAnnotations);
          };
          this.addGutterDecoration = function(row, className) {
            if (window.console)
              console.warn && console.warn("deprecated use session.addGutterDecoration");
            this.session.addGutterDecoration(row, className);
          };
          this.removeGutterDecoration = function(row, className) {
            if (window.console)
              console.warn && console.warn("deprecated use session.removeGutterDecoration");
            this.session.removeGutterDecoration(row, className);
          };
          this.setAnnotations = function(annotations) {
            this.$annotations = [];
            for (var i3 = 0; i3 < annotations.length; i3++) {
              var annotation = annotations[i3];
              var row = annotation.row;
              var rowInfo = this.$annotations[row];
              if (!rowInfo)
                rowInfo = this.$annotations[row] = { text: [] };
              var annoText = annotation.text;
              annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || "";
              if (rowInfo.text.indexOf(annoText) === -1)
                rowInfo.text.push(annoText);
              var type = annotation.type;
              var className = annotation.className;
              if (className)
                rowInfo.className = className;
              else if (type == "error")
                rowInfo.className = " ace_error";
              else if (type == "warning" && rowInfo.className != " ace_error")
                rowInfo.className = " ace_warning";
              else if (type == "info" && !rowInfo.className)
                rowInfo.className = " ace_info";
            }
          };
          this.$updateAnnotations = function(delta) {
            if (!this.$annotations.length)
              return;
            var firstRow = delta.start.row;
            var len = delta.end.row - firstRow;
            if (len === 0) {
            } else if (delta.action == "remove") {
              this.$annotations.splice(firstRow, len + 1, null);
            } else {
              var args = new Array(len + 1);
              args.unshift(firstRow, 1);
              this.$annotations.splice.apply(this.$annotations, args);
            }
          };
          this.update = function(config2) {
            this.config = config2;
            var session = this.session;
            var firstRow = config2.firstRow;
            var lastRow = Math.min(config2.lastRow + config2.gutterOffset, session.getLength() - 1);
            this.oldLastRow = lastRow;
            this.config = config2;
            this.$lines.moveContainer(config2);
            this.$updateCursorRow();
            var fold = session.getNextFoldLine(firstRow);
            var foldStart = fold ? fold.start.row : Infinity;
            var cell = null;
            var index2 = -1;
            var row = firstRow;
            while (true) {
              if (row > foldStart) {
                row = fold.end.row + 1;
                fold = session.getNextFoldLine(row, fold);
                foldStart = fold ? fold.start.row : Infinity;
              }
              if (row > lastRow) {
                while (this.$lines.getLength() > index2 + 1)
                  this.$lines.pop();
                break;
              }
              cell = this.$lines.get(++index2);
              if (cell) {
                cell.row = row;
              } else {
                cell = this.$lines.createCell(row, config2, this.session, onCreateCell);
                this.$lines.push(cell);
              }
              this.$renderCell(cell, config2, fold, row);
              row++;
            }
            this._signal("afterRender");
            this.$updateGutterWidth(config2);
          };
          this.$updateGutterWidth = function(config2) {
            var session = this.session;
            var gutterRenderer = session.gutterRenderer || this.$renderer;
            var firstLineNumber = session.$firstLineNumber;
            var lastLineText = this.$lines.last() ? this.$lines.last().text : "";
            if (this.$fixedWidth || session.$useWrapMode)
              lastLineText = session.getLength() + firstLineNumber - 1;
            var gutterWidth = gutterRenderer ? gutterRenderer.getWidth(session, lastLineText, config2) : lastLineText.toString().length * config2.characterWidth;
            var padding = this.$padding || this.$computePadding();
            gutterWidth += padding.left + padding.right;
            if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {
              this.gutterWidth = gutterWidth;
              this.element.parentNode.style.width = this.element.style.width = Math.ceil(this.gutterWidth) + "px";
              this._signal("changeGutterWidth", gutterWidth);
            }
          };
          this.$updateCursorRow = function() {
            if (!this.$highlightGutterLine)
              return;
            var position3 = this.session.selection.getCursor();
            if (this.$cursorRow === position3.row)
              return;
            this.$cursorRow = position3.row;
          };
          this.updateLineHighlight = function() {
            if (!this.$highlightGutterLine)
              return;
            var row = this.session.selection.cursor.row;
            this.$cursorRow = row;
            if (this.$cursorCell && this.$cursorCell.row == row)
              return;
            if (this.$cursorCell)
              this.$cursorCell.element.className = this.$cursorCell.element.className.replace("ace_gutter-active-line ", "");
            var cells = this.$lines.cells;
            this.$cursorCell = null;
            for (var i3 = 0; i3 < cells.length; i3++) {
              var cell = cells[i3];
              if (cell.row >= this.$cursorRow) {
                if (cell.row > this.$cursorRow) {
                  var fold = this.session.getFoldLine(this.$cursorRow);
                  if (i3 > 0 && fold && fold.start.row == cells[i3 - 1].row)
                    cell = cells[i3 - 1];
                  else
                    break;
                }
                cell.element.className = "ace_gutter-active-line " + cell.element.className;
                this.$cursorCell = cell;
                break;
              }
            }
          };
          this.scrollLines = function(config2) {
            var oldConfig = this.config;
            this.config = config2;
            this.$updateCursorRow();
            if (this.$lines.pageChanged(oldConfig, config2))
              return this.update(config2);
            this.$lines.moveContainer(config2);
            var lastRow = Math.min(config2.lastRow + config2.gutterOffset, this.session.getLength() - 1);
            var oldLastRow = this.oldLastRow;
            this.oldLastRow = lastRow;
            if (!oldConfig || oldLastRow < config2.firstRow)
              return this.update(config2);
            if (lastRow < oldConfig.firstRow)
              return this.update(config2);
            if (oldConfig.firstRow < config2.firstRow)
              for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config2.firstRow - 1); row > 0; row--)
                this.$lines.shift();
            if (oldLastRow > lastRow)
              for (var row = this.session.getFoldedRowCount(lastRow + 1, oldLastRow); row > 0; row--)
                this.$lines.pop();
            if (config2.firstRow < oldConfig.firstRow) {
              this.$lines.unshift(this.$renderLines(config2, config2.firstRow, oldConfig.firstRow - 1));
            }
            if (lastRow > oldLastRow) {
              this.$lines.push(this.$renderLines(config2, oldLastRow + 1, lastRow));
            }
            this.updateLineHighlight();
            this._signal("afterRender");
            this.$updateGutterWidth(config2);
          };
          this.$renderLines = function(config2, firstRow, lastRow) {
            var fragment = [];
            var row = firstRow;
            var foldLine = this.session.getNextFoldLine(row);
            var foldStart = foldLine ? foldLine.start.row : Infinity;
            while (true) {
              if (row > foldStart) {
                row = foldLine.end.row + 1;
                foldLine = this.session.getNextFoldLine(row, foldLine);
                foldStart = foldLine ? foldLine.start.row : Infinity;
              }
              if (row > lastRow)
                break;
              var cell = this.$lines.createCell(row, config2, this.session, onCreateCell);
              this.$renderCell(cell, config2, foldLine, row);
              fragment.push(cell);
              row++;
            }
            return fragment;
          };
          this.$renderCell = function(cell, config2, fold, row) {
            var element = cell.element;
            var session = this.session;
            var textNode = element.childNodes[0];
            var foldWidget = element.childNodes[1];
            var firstLineNumber = session.$firstLineNumber;
            var breakpoints = session.$breakpoints;
            var decorations = session.$decorations;
            var gutterRenderer = session.gutterRenderer || this.$renderer;
            var foldWidgets = this.$showFoldWidgets && session.foldWidgets;
            var foldStart = fold ? fold.start.row : Number.MAX_VALUE;
            var className = "ace_gutter-cell ";
            if (this.$highlightGutterLine) {
              if (row == this.$cursorRow || fold && row < this.$cursorRow && row >= foldStart && this.$cursorRow <= fold.end.row) {
                className += "ace_gutter-active-line ";
                if (this.$cursorCell != cell) {
                  if (this.$cursorCell)
                    this.$cursorCell.element.className = this.$cursorCell.element.className.replace("ace_gutter-active-line ", "");
                  this.$cursorCell = cell;
                }
              }
            }
            if (breakpoints[row])
              className += breakpoints[row];
            if (decorations[row])
              className += decorations[row];
            if (this.$annotations[row])
              className += this.$annotations[row].className;
            if (element.className != className)
              element.className = className;
            if (foldWidgets) {
              var c3 = foldWidgets[row];
              if (c3 == null)
                c3 = foldWidgets[row] = session.getFoldWidget(row);
            }
            if (c3) {
              var className = "ace_fold-widget ace_" + c3;
              if (c3 == "start" && row == foldStart && row < fold.end.row)
                className += " ace_closed";
              else
                className += " ace_open";
              if (foldWidget.className != className)
                foldWidget.className = className;
              var foldHeight = config2.lineHeight + "px";
              dom.setStyle(foldWidget.style, "height", foldHeight);
              dom.setStyle(foldWidget.style, "display", "inline-block");
            } else {
              if (foldWidget) {
                dom.setStyle(foldWidget.style, "display", "none");
              }
            }
            var text = (gutterRenderer ? gutterRenderer.getText(session, row) : row + firstLineNumber).toString();
            if (text !== textNode.data) {
              textNode.data = text;
            }
            dom.setStyle(cell.element.style, "height", this.$lines.computeLineHeight(row, config2, session) + "px");
            dom.setStyle(cell.element.style, "top", this.$lines.computeLineTop(row, config2, session) + "px");
            cell.text = text;
            return cell;
          };
          this.$fixedWidth = false;
          this.$highlightGutterLine = true;
          this.$renderer = "";
          this.setHighlightGutterLine = function(highlightGutterLine) {
            this.$highlightGutterLine = highlightGutterLine;
          };
          this.$showLineNumbers = true;
          this.$renderer = "";
          this.setShowLineNumbers = function(show) {
            this.$renderer = !show && {
              getWidth: function() {
                return 0;
              },
              getText: function() {
                return "";
              }
            };
          };
          this.getShowLineNumbers = function() {
            return this.$showLineNumbers;
          };
          this.$showFoldWidgets = true;
          this.setShowFoldWidgets = function(show) {
            if (show)
              dom.addCssClass(this.element, "ace_folding-enabled");
            else
              dom.removeCssClass(this.element, "ace_folding-enabled");
            this.$showFoldWidgets = show;
            this.$padding = null;
          };
          this.getShowFoldWidgets = function() {
            return this.$showFoldWidgets;
          };
          this.$computePadding = function() {
            if (!this.element.firstChild)
              return { left: 0, right: 0 };
            var style2 = dom.computedStyle(this.element.firstChild);
            this.$padding = {};
            this.$padding.left = (parseInt(style2.borderLeftWidth) || 0) + (parseInt(style2.paddingLeft) || 0) + 1;
            this.$padding.right = (parseInt(style2.borderRightWidth) || 0) + (parseInt(style2.paddingRight) || 0);
            return this.$padding;
          };
          this.getRegion = function(point) {
            var padding = this.$padding || this.$computePadding();
            var rect = this.element.getBoundingClientRect();
            if (point.x < padding.left + rect.left)
              return "markers";
            if (this.$showFoldWidgets && point.x > rect.right - padding.right)
              return "foldWidgets";
          };
        }).call(Gutter.prototype);
        function onCreateCell(element) {
          var textNode = document.createTextNode("");
          element.appendChild(textNode);
          var foldWidget = dom.createElement("span");
          element.appendChild(foldWidget);
          return element;
        }
        exports2.Gutter = Gutter;
      });
      ace.define("ace/layer/marker", ["require", "exports", "module", "ace/range", "ace/lib/dom"], function(require2, exports2, module2) {
        "use strict";
        var Range = require2("../range").Range;
        var dom = require2("../lib/dom");
        var Marker = function(parentEl) {
          this.element = dom.createElement("div");
          this.element.className = "ace_layer ace_marker-layer";
          parentEl.appendChild(this.element);
        };
        (function() {
          this.$padding = 0;
          this.setPadding = function(padding) {
            this.$padding = padding;
          };
          this.setSession = function(session) {
            this.session = session;
          };
          this.setMarkers = function(markers) {
            this.markers = markers;
          };
          this.elt = function(className, css) {
            var x2 = this.i != -1 && this.element.childNodes[this.i];
            if (!x2) {
              x2 = document.createElement("div");
              this.element.appendChild(x2);
              this.i = -1;
            } else {
              this.i++;
            }
            x2.style.cssText = css;
            x2.className = className;
          };
          this.update = function(config2) {
            if (!config2)
              return;
            this.config = config2;
            this.i = 0;
            var html;
            for (var key in this.markers) {
              var marker = this.markers[key];
              if (!marker.range) {
                marker.update(html, this, this.session, config2);
                continue;
              }
              var range = marker.range.clipRows(config2.firstRow, config2.lastRow);
              if (range.isEmpty())
                continue;
              range = range.toScreenRange(this.session);
              if (marker.renderer) {
                var top2 = this.$getTop(range.start.row, config2);
                var left2 = this.$padding + range.start.column * config2.characterWidth;
                marker.renderer(html, range, left2, top2, config2);
              } else if (marker.type == "fullLine") {
                this.drawFullLineMarker(html, range, marker.clazz, config2);
              } else if (marker.type == "screenLine") {
                this.drawScreenLineMarker(html, range, marker.clazz, config2);
              } else if (range.isMultiLine()) {
                if (marker.type == "text")
                  this.drawTextMarker(html, range, marker.clazz, config2);
                else
                  this.drawMultiLineMarker(html, range, marker.clazz, config2);
              } else {
                this.drawSingleLineMarker(html, range, marker.clazz + " ace_start ace_br15", config2);
              }
            }
            if (this.i != -1) {
              while (this.i < this.element.childElementCount)
                this.element.removeChild(this.element.lastChild);
            }
          };
          this.$getTop = function(row, layerConfig) {
            return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;
          };
          function getBorderClass(tl, tr, br, bl) {
            return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);
          }
          this.drawTextMarker = function(stringBuilder, range, clazz, layerConfig, extraStyle) {
            var session = this.session;
            var start4 = range.start.row;
            var end3 = range.end.row;
            var row = start4;
            var prev = 0;
            var curr = 0;
            var next = session.getScreenLastRowColumn(row);
            var lineRange = new Range(row, range.start.column, row, curr);
            for (; row <= end3; row++) {
              lineRange.start.row = lineRange.end.row = row;
              lineRange.start.column = row == start4 ? range.start.column : session.getRowWrapIndent(row);
              lineRange.end.column = next;
              prev = curr;
              curr = next;
              next = row + 1 < end3 ? session.getScreenLastRowColumn(row + 1) : row == end3 ? 0 : range.end.column;
              this.drawSingleLineMarker(stringBuilder, lineRange, clazz + (row == start4 ? " ace_start" : "") + " ace_br" + getBorderClass(row == start4 || row == start4 + 1 && range.start.column, prev < curr, curr > next, row == end3), layerConfig, row == end3 ? 0 : 1, extraStyle);
            }
          };
          this.drawMultiLineMarker = function(stringBuilder, range, clazz, config2, extraStyle) {
            var padding = this.$padding;
            var height = config2.lineHeight;
            var top2 = this.$getTop(range.start.row, config2);
            var left2 = padding + range.start.column * config2.characterWidth;
            extraStyle = extraStyle || "";
            if (this.session.$bidiHandler.isBidiRow(range.start.row)) {
              var range1 = range.clone();
              range1.end.row = range1.start.row;
              range1.end.column = this.session.getLine(range1.start.row).length;
              this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + " ace_br1 ace_start", config2, null, extraStyle);
            } else {
              this.elt(clazz + " ace_br1 ace_start", "height:" + height + "px;right:0;top:" + top2 + "px;left:" + left2 + "px;" + (extraStyle || ""));
            }
            if (this.session.$bidiHandler.isBidiRow(range.end.row)) {
              var range1 = range.clone();
              range1.start.row = range1.end.row;
              range1.start.column = 0;
              this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + " ace_br12", config2, null, extraStyle);
            } else {
              top2 = this.$getTop(range.end.row, config2);
              var width = range.end.column * config2.characterWidth;
              this.elt(clazz + " ace_br12", "height:" + height + "px;width:" + width + "px;top:" + top2 + "px;left:" + padding + "px;" + (extraStyle || ""));
            }
            height = (range.end.row - range.start.row - 1) * config2.lineHeight;
            if (height <= 0)
              return;
            top2 = this.$getTop(range.start.row + 1, config2);
            var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);
            this.elt(clazz + (radiusClass ? " ace_br" + radiusClass : ""), "height:" + height + "px;right:0;top:" + top2 + "px;left:" + padding + "px;" + (extraStyle || ""));
          };
          this.drawSingleLineMarker = function(stringBuilder, range, clazz, config2, extraLength, extraStyle) {
            if (this.session.$bidiHandler.isBidiRow(range.start.row))
              return this.drawBidiSingleLineMarker(stringBuilder, range, clazz, config2, extraLength, extraStyle);
            var height = config2.lineHeight;
            var width = (range.end.column + (extraLength || 0) - range.start.column) * config2.characterWidth;
            var top2 = this.$getTop(range.start.row, config2);
            var left2 = this.$padding + range.start.column * config2.characterWidth;
            this.elt(clazz, "height:" + height + "px;width:" + width + "px;top:" + top2 + "px;left:" + left2 + "px;" + (extraStyle || ""));
          };
          this.drawBidiSingleLineMarker = function(stringBuilder, range, clazz, config2, extraLength, extraStyle) {
            var height = config2.lineHeight, top2 = this.$getTop(range.start.row, config2), padding = this.$padding;
            var selections = this.session.$bidiHandler.getSelections(range.start.column, range.end.column);
            selections.forEach(function(selection) {
              this.elt(clazz, "height:" + height + "px;width:" + selection.width + (extraLength || 0) + "px;top:" + top2 + "px;left:" + (padding + selection.left) + "px;" + (extraStyle || ""));
            }, this);
          };
          this.drawFullLineMarker = function(stringBuilder, range, clazz, config2, extraStyle) {
            var top2 = this.$getTop(range.start.row, config2);
            var height = config2.lineHeight;
            if (range.start.row != range.end.row)
              height += this.$getTop(range.end.row, config2) - top2;
            this.elt(clazz, "height:" + height + "px;top:" + top2 + "px;left:0;right:0;" + (extraStyle || ""));
          };
          this.drawScreenLineMarker = function(stringBuilder, range, clazz, config2, extraStyle) {
            var top2 = this.$getTop(range.start.row, config2);
            var height = config2.lineHeight;
            this.elt(clazz, "height:" + height + "px;top:" + top2 + "px;left:0;right:0;" + (extraStyle || ""));
          };
        }).call(Marker.prototype);
        exports2.Marker = Marker;
      });
      ace.define("ace/layer/text", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/layer/lines", "ace/lib/event_emitter"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("../lib/oop");
        var dom = require2("../lib/dom");
        var lang = require2("../lib/lang");
        var Lines = require2("./lines").Lines;
        var EventEmitter = require2("../lib/event_emitter").EventEmitter;
        var Text3 = function(parentEl) {
          this.dom = dom;
          this.element = this.dom.createElement("div");
          this.element.className = "ace_layer ace_text-layer";
          parentEl.appendChild(this.element);
          this.$updateEolChar = this.$updateEolChar.bind(this);
          this.$lines = new Lines(this.element);
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.EOF_CHAR = "\xB6";
          this.EOL_CHAR_LF = "\xAC";
          this.EOL_CHAR_CRLF = "\xA4";
          this.EOL_CHAR = this.EOL_CHAR_LF;
          this.TAB_CHAR = "\u2014";
          this.SPACE_CHAR = "\xB7";
          this.$padding = 0;
          this.MAX_LINE_LENGTH = 1e4;
          this.$updateEolChar = function() {
            var doc = this.session.doc;
            var unixMode = doc.getNewLineCharacter() == "\n" && doc.getNewLineMode() != "windows";
            var EOL_CHAR = unixMode ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;
            if (this.EOL_CHAR != EOL_CHAR) {
              this.EOL_CHAR = EOL_CHAR;
              return true;
            }
          };
          this.setPadding = function(padding) {
            this.$padding = padding;
            this.element.style.margin = "0 " + padding + "px";
          };
          this.getLineHeight = function() {
            return this.$fontMetrics.$characterSize.height || 0;
          };
          this.getCharacterWidth = function() {
            return this.$fontMetrics.$characterSize.width || 0;
          };
          this.$setFontMetrics = function(measure) {
            this.$fontMetrics = measure;
            this.$fontMetrics.on("changeCharacterSize", function(e2) {
              this._signal("changeCharacterSize", e2);
            }.bind(this));
            this.$pollSizeChanges();
          };
          this.checkForSizeChanges = function() {
            this.$fontMetrics.checkForSizeChanges();
          };
          this.$pollSizeChanges = function() {
            return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();
          };
          this.setSession = function(session) {
            this.session = session;
            if (session)
              this.$computeTabString();
          };
          this.showInvisibles = false;
          this.showSpaces = false;
          this.showTabs = false;
          this.showEOL = false;
          this.setShowInvisibles = function(showInvisibles) {
            if (this.showInvisibles == showInvisibles)
              return false;
            this.showInvisibles = showInvisibles;
            if (typeof showInvisibles == "string") {
              this.showSpaces = /tab/i.test(showInvisibles);
              this.showTabs = /space/i.test(showInvisibles);
              this.showEOL = /eol/i.test(showInvisibles);
            } else {
              this.showSpaces = this.showTabs = this.showEOL = showInvisibles;
            }
            this.$computeTabString();
            return true;
          };
          this.displayIndentGuides = true;
          this.setDisplayIndentGuides = function(display) {
            if (this.displayIndentGuides == display)
              return false;
            this.displayIndentGuides = display;
            this.$computeTabString();
            return true;
          };
          this.$tabStrings = [];
          this.onChangeTabSize = this.$computeTabString = function() {
            var tabSize = this.session.getTabSize();
            this.tabSize = tabSize;
            var tabStr = this.$tabStrings = [0];
            for (var i3 = 1; i3 < tabSize + 1; i3++) {
              if (this.showTabs) {
                var span = this.dom.createElement("span");
                span.className = "ace_invisible ace_invisible_tab";
                span.textContent = lang.stringRepeat(this.TAB_CHAR, i3);
                tabStr.push(span);
              } else {
                tabStr.push(this.dom.createTextNode(lang.stringRepeat(" ", i3), this.element));
              }
            }
            if (this.displayIndentGuides) {
              this.$indentGuideRe = /\s\S| \t|\t |\s$/;
              var className = "ace_indent-guide";
              var spaceClass = this.showSpaces ? " ace_invisible ace_invisible_space" : "";
              var spaceContent = this.showSpaces ? lang.stringRepeat(this.SPACE_CHAR, this.tabSize) : lang.stringRepeat(" ", this.tabSize);
              var tabClass = this.showTabs ? " ace_invisible ace_invisible_tab" : "";
              var tabContent = this.showTabs ? lang.stringRepeat(this.TAB_CHAR, this.tabSize) : spaceContent;
              var span = this.dom.createElement("span");
              span.className = className + spaceClass;
              span.textContent = spaceContent;
              this.$tabStrings[" "] = span;
              var span = this.dom.createElement("span");
              span.className = className + tabClass;
              span.textContent = tabContent;
              this.$tabStrings["	"] = span;
            }
          };
          this.updateLines = function(config2, firstRow, lastRow) {
            if (this.config.lastRow != config2.lastRow || this.config.firstRow != config2.firstRow) {
              return this.update(config2);
            }
            this.config = config2;
            var first = Math.max(firstRow, config2.firstRow);
            var last = Math.min(lastRow, config2.lastRow);
            var lineElements = this.element.childNodes;
            var lineElementsIdx = 0;
            for (var row = config2.firstRow; row < first; row++) {
              var foldLine = this.session.getFoldLine(row);
              if (foldLine) {
                if (foldLine.containsRow(first)) {
                  first = foldLine.start.row;
                  break;
                } else {
                  row = foldLine.end.row;
                }
              }
              lineElementsIdx++;
            }
            var heightChanged = false;
            var row = first;
            var foldLine = this.session.getNextFoldLine(row);
            var foldStart = foldLine ? foldLine.start.row : Infinity;
            while (true) {
              if (row > foldStart) {
                row = foldLine.end.row + 1;
                foldLine = this.session.getNextFoldLine(row, foldLine);
                foldStart = foldLine ? foldLine.start.row : Infinity;
              }
              if (row > last)
                break;
              var lineElement = lineElements[lineElementsIdx++];
              if (lineElement) {
                this.dom.removeChildren(lineElement);
                this.$renderLine(lineElement, row, row == foldStart ? foldLine : false);
                if (heightChanged)
                  lineElement.style.top = this.$lines.computeLineTop(row, config2, this.session) + "px";
                var height = config2.lineHeight * this.session.getRowLength(row) + "px";
                if (lineElement.style.height != height) {
                  heightChanged = true;
                  lineElement.style.height = height;
                }
              }
              row++;
            }
            if (heightChanged) {
              while (lineElementsIdx < this.$lines.cells.length) {
                var cell = this.$lines.cells[lineElementsIdx++];
                cell.element.style.top = this.$lines.computeLineTop(cell.row, config2, this.session) + "px";
              }
            }
          };
          this.scrollLines = function(config2) {
            var oldConfig = this.config;
            this.config = config2;
            if (this.$lines.pageChanged(oldConfig, config2))
              return this.update(config2);
            this.$lines.moveContainer(config2);
            var lastRow = config2.lastRow;
            var oldLastRow = oldConfig ? oldConfig.lastRow : -1;
            if (!oldConfig || oldLastRow < config2.firstRow)
              return this.update(config2);
            if (lastRow < oldConfig.firstRow)
              return this.update(config2);
            if (!oldConfig || oldConfig.lastRow < config2.firstRow)
              return this.update(config2);
            if (config2.lastRow < oldConfig.firstRow)
              return this.update(config2);
            if (oldConfig.firstRow < config2.firstRow)
              for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config2.firstRow - 1); row > 0; row--)
                this.$lines.shift();
            if (oldConfig.lastRow > config2.lastRow)
              for (var row = this.session.getFoldedRowCount(config2.lastRow + 1, oldConfig.lastRow); row > 0; row--)
                this.$lines.pop();
            if (config2.firstRow < oldConfig.firstRow) {
              this.$lines.unshift(this.$renderLinesFragment(config2, config2.firstRow, oldConfig.firstRow - 1));
            }
            if (config2.lastRow > oldConfig.lastRow) {
              this.$lines.push(this.$renderLinesFragment(config2, oldConfig.lastRow + 1, config2.lastRow));
            }
          };
          this.$renderLinesFragment = function(config2, firstRow, lastRow) {
            var fragment = [];
            var row = firstRow;
            var foldLine = this.session.getNextFoldLine(row);
            var foldStart = foldLine ? foldLine.start.row : Infinity;
            while (true) {
              if (row > foldStart) {
                row = foldLine.end.row + 1;
                foldLine = this.session.getNextFoldLine(row, foldLine);
                foldStart = foldLine ? foldLine.start.row : Infinity;
              }
              if (row > lastRow)
                break;
              var line = this.$lines.createCell(row, config2, this.session);
              var lineEl = line.element;
              this.dom.removeChildren(lineEl);
              dom.setStyle(lineEl.style, "height", this.$lines.computeLineHeight(row, config2, this.session) + "px");
              dom.setStyle(lineEl.style, "top", this.$lines.computeLineTop(row, config2, this.session) + "px");
              this.$renderLine(lineEl, row, row == foldStart ? foldLine : false);
              if (this.$useLineGroups()) {
                lineEl.className = "ace_line_group";
              } else {
                lineEl.className = "ace_line";
              }
              fragment.push(line);
              row++;
            }
            return fragment;
          };
          this.update = function(config2) {
            this.$lines.moveContainer(config2);
            this.config = config2;
            var firstRow = config2.firstRow;
            var lastRow = config2.lastRow;
            var lines = this.$lines;
            while (lines.getLength())
              lines.pop();
            lines.push(this.$renderLinesFragment(config2, firstRow, lastRow));
          };
          this.$textToken = {
            "text": true,
            "rparen": true,
            "lparen": true
          };
          this.$renderToken = function(parent, screenColumn, token, value) {
            var self2 = this;
            var re = /(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g;
            var valueFragment = this.dom.createFragment(this.element);
            var m2;
            var i3 = 0;
            while (m2 = re.exec(value)) {
              var tab2 = m2[1];
              var simpleSpace = m2[2];
              var controlCharacter = m2[3];
              var cjkSpace = m2[4];
              var cjk = m2[5];
              if (!self2.showSpaces && simpleSpace)
                continue;
              var before = i3 != m2.index ? value.slice(i3, m2.index) : "";
              i3 = m2.index + m2[0].length;
              if (before) {
                valueFragment.appendChild(this.dom.createTextNode(before, this.element));
              }
              if (tab2) {
                var tabSize = self2.session.getScreenTabSize(screenColumn + m2.index);
                valueFragment.appendChild(self2.$tabStrings[tabSize].cloneNode(true));
                screenColumn += tabSize - 1;
              } else if (simpleSpace) {
                if (self2.showSpaces) {
                  var span = this.dom.createElement("span");
                  span.className = "ace_invisible ace_invisible_space";
                  span.textContent = lang.stringRepeat(self2.SPACE_CHAR, simpleSpace.length);
                  valueFragment.appendChild(span);
                } else {
                  valueFragment.appendChild(this.com.createTextNode(simpleSpace, this.element));
                }
              } else if (controlCharacter) {
                var span = this.dom.createElement("span");
                span.className = "ace_invisible ace_invisible_space ace_invalid";
                span.textContent = lang.stringRepeat(self2.SPACE_CHAR, controlCharacter.length);
                valueFragment.appendChild(span);
              } else if (cjkSpace) {
                screenColumn += 1;
                var span = this.dom.createElement("span");
                span.style.width = self2.config.characterWidth * 2 + "px";
                span.className = self2.showSpaces ? "ace_cjk ace_invisible ace_invisible_space" : "ace_cjk";
                span.textContent = self2.showSpaces ? self2.SPACE_CHAR : cjkSpace;
                valueFragment.appendChild(span);
              } else if (cjk) {
                screenColumn += 1;
                var span = this.dom.createElement("span");
                span.style.width = self2.config.characterWidth * 2 + "px";
                span.className = "ace_cjk";
                span.textContent = cjk;
                valueFragment.appendChild(span);
              }
            }
            valueFragment.appendChild(this.dom.createTextNode(i3 ? value.slice(i3) : value, this.element));
            if (!this.$textToken[token.type]) {
              var classes = "ace_" + token.type.replace(/\./g, " ace_");
              var span = this.dom.createElement("span");
              if (token.type == "fold")
                span.style.width = token.value.length * this.config.characterWidth + "px";
              span.className = classes;
              span.appendChild(valueFragment);
              parent.appendChild(span);
            } else {
              parent.appendChild(valueFragment);
            }
            return screenColumn + value.length;
          };
          this.renderIndentGuide = function(parent, value, max2) {
            var cols = value.search(this.$indentGuideRe);
            if (cols <= 0 || cols >= max2)
              return value;
            if (value[0] == " ") {
              cols -= cols % this.tabSize;
              var count2 = cols / this.tabSize;
              for (var i3 = 0; i3 < count2; i3++) {
                parent.appendChild(this.$tabStrings[" "].cloneNode(true));
              }
              return value.substr(cols);
            } else if (value[0] == "	") {
              for (var i3 = 0; i3 < cols; i3++) {
                parent.appendChild(this.$tabStrings["	"].cloneNode(true));
              }
              return value.substr(cols);
            }
            return value;
          };
          this.$createLineElement = function(parent) {
            var lineEl = this.dom.createElement("div");
            lineEl.className = "ace_line";
            lineEl.style.height = this.config.lineHeight + "px";
            return lineEl;
          };
          this.$renderWrappedLine = function(parent, tokens, splits) {
            var chars = 0;
            var split = 0;
            var splitChars = splits[0];
            var screenColumn = 0;
            var lineEl = this.$createLineElement();
            parent.appendChild(lineEl);
            for (var i3 = 0; i3 < tokens.length; i3++) {
              var token = tokens[i3];
              var value = token.value;
              if (i3 == 0 && this.displayIndentGuides) {
                chars = value.length;
                value = this.renderIndentGuide(lineEl, value, splitChars);
                if (!value)
                  continue;
                chars -= value.length;
              }
              if (chars + value.length < splitChars) {
                screenColumn = this.$renderToken(lineEl, screenColumn, token, value);
                chars += value.length;
              } else {
                while (chars + value.length >= splitChars) {
                  screenColumn = this.$renderToken(lineEl, screenColumn, token, value.substring(0, splitChars - chars));
                  value = value.substring(splitChars - chars);
                  chars = splitChars;
                  lineEl = this.$createLineElement();
                  parent.appendChild(lineEl);
                  lineEl.appendChild(this.dom.createTextNode(lang.stringRepeat("\xA0", splits.indent), this.element));
                  split++;
                  screenColumn = 0;
                  splitChars = splits[split] || Number.MAX_VALUE;
                }
                if (value.length != 0) {
                  chars += value.length;
                  screenColumn = this.$renderToken(lineEl, screenColumn, token, value);
                }
              }
            }
            if (splits[splits.length - 1] > this.MAX_LINE_LENGTH)
              this.$renderOverflowMessage(lineEl, screenColumn, null, "", true);
          };
          this.$renderSimpleLine = function(parent, tokens) {
            var screenColumn = 0;
            for (var i3 = 0; i3 < tokens.length; i3++) {
              var token = tokens[i3];
              var value = token.value;
              if (i3 == 0 && this.displayIndentGuides) {
                value = this.renderIndentGuide(parent, value);
                if (!value)
                  continue;
              }
              if (screenColumn + value.length > this.MAX_LINE_LENGTH)
                return this.$renderOverflowMessage(parent, screenColumn, token, value);
              screenColumn = this.$renderToken(parent, screenColumn, token, value);
            }
          };
          this.$renderOverflowMessage = function(parent, screenColumn, token, value, hide2) {
            token && this.$renderToken(parent, screenColumn, token, value.slice(0, this.MAX_LINE_LENGTH - screenColumn));
            var overflowEl = this.dom.createElement("span");
            overflowEl.className = "ace_inline_button ace_keyword ace_toggle_wrap";
            overflowEl.textContent = hide2 ? "<hide>" : "<click to see more...>";
            parent.appendChild(overflowEl);
          };
          this.$renderLine = function(parent, row, foldLine) {
            if (!foldLine && foldLine != false)
              foldLine = this.session.getFoldLine(row);
            if (foldLine)
              var tokens = this.$getFoldLineTokens(row, foldLine);
            else
              var tokens = this.session.getTokens(row);
            var lastLineEl = parent;
            if (tokens.length) {
              var splits = this.session.getRowSplitData(row);
              if (splits && splits.length) {
                this.$renderWrappedLine(parent, tokens, splits);
                var lastLineEl = parent.lastChild;
              } else {
                var lastLineEl = parent;
                if (this.$useLineGroups()) {
                  lastLineEl = this.$createLineElement();
                  parent.appendChild(lastLineEl);
                }
                this.$renderSimpleLine(lastLineEl, tokens);
              }
            } else if (this.$useLineGroups()) {
              lastLineEl = this.$createLineElement();
              parent.appendChild(lastLineEl);
            }
            if (this.showEOL && lastLineEl) {
              if (foldLine)
                row = foldLine.end.row;
              var invisibleEl = this.dom.createElement("span");
              invisibleEl.className = "ace_invisible ace_invisible_eol";
              invisibleEl.textContent = row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR;
              lastLineEl.appendChild(invisibleEl);
            }
          };
          this.$getFoldLineTokens = function(row, foldLine) {
            var session = this.session;
            var renderTokens = [];
            function addTokens(tokens2, from, to) {
              var idx = 0, col = 0;
              while (col + tokens2[idx].value.length < from) {
                col += tokens2[idx].value.length;
                idx++;
                if (idx == tokens2.length)
                  return;
              }
              if (col != from) {
                var value = tokens2[idx].value.substring(from - col);
                if (value.length > to - from)
                  value = value.substring(0, to - from);
                renderTokens.push({
                  type: tokens2[idx].type,
                  value
                });
                col = from + value.length;
                idx += 1;
              }
              while (col < to && idx < tokens2.length) {
                var value = tokens2[idx].value;
                if (value.length + col > to) {
                  renderTokens.push({
                    type: tokens2[idx].type,
                    value: value.substring(0, to - col)
                  });
                } else
                  renderTokens.push(tokens2[idx]);
                col += value.length;
                idx += 1;
              }
            }
            var tokens = session.getTokens(row);
            foldLine.walk(function(placeholder2, row2, column, lastColumn, isNewRow) {
              if (placeholder2 != null) {
                renderTokens.push({
                  type: "fold",
                  value: placeholder2
                });
              } else {
                if (isNewRow)
                  tokens = session.getTokens(row2);
                if (tokens.length)
                  addTokens(tokens, lastColumn, column);
              }
            }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);
            return renderTokens;
          };
          this.$useLineGroups = function() {
            return this.session.getUseWrapMode();
          };
          this.destroy = function() {
          };
        }).call(Text3.prototype);
        exports2.Text = Text3;
      });
      ace.define("ace/layer/cursor", ["require", "exports", "module", "ace/lib/dom"], function(require2, exports2, module2) {
        "use strict";
        var dom = require2("../lib/dom");
        var Cursor = function(parentEl) {
          this.element = dom.createElement("div");
          this.element.className = "ace_layer ace_cursor-layer";
          parentEl.appendChild(this.element);
          this.isVisible = false;
          this.isBlinking = true;
          this.blinkInterval = 1e3;
          this.smoothBlinking = false;
          this.cursors = [];
          this.cursor = this.addCursor();
          dom.addCssClass(this.element, "ace_hidden-cursors");
          this.$updateCursors = this.$updateOpacity.bind(this);
        };
        (function() {
          this.$updateOpacity = function(val) {
            var cursors = this.cursors;
            for (var i3 = cursors.length; i3--; )
              dom.setStyle(cursors[i3].style, "opacity", val ? "" : "0");
          };
          this.$startCssAnimation = function() {
            var cursors = this.cursors;
            for (var i3 = cursors.length; i3--; )
              cursors[i3].style.animationDuration = this.blinkInterval + "ms";
            this.$isAnimating = true;
            setTimeout(function() {
              if (this.$isAnimating) {
                dom.addCssClass(this.element, "ace_animate-blinking");
              }
            }.bind(this));
          };
          this.$stopCssAnimation = function() {
            this.$isAnimating = false;
            dom.removeCssClass(this.element, "ace_animate-blinking");
          };
          this.$padding = 0;
          this.setPadding = function(padding) {
            this.$padding = padding;
          };
          this.setSession = function(session) {
            this.session = session;
          };
          this.setBlinking = function(blinking) {
            if (blinking != this.isBlinking) {
              this.isBlinking = blinking;
              this.restartTimer();
            }
          };
          this.setBlinkInterval = function(blinkInterval) {
            if (blinkInterval != this.blinkInterval) {
              this.blinkInterval = blinkInterval;
              this.restartTimer();
            }
          };
          this.setSmoothBlinking = function(smoothBlinking) {
            if (smoothBlinking != this.smoothBlinking) {
              this.smoothBlinking = smoothBlinking;
              dom.setCssClass(this.element, "ace_smooth-blinking", smoothBlinking);
              this.$updateCursors(true);
              this.restartTimer();
            }
          };
          this.addCursor = function() {
            var el = dom.createElement("div");
            el.className = "ace_cursor";
            this.element.appendChild(el);
            this.cursors.push(el);
            return el;
          };
          this.removeCursor = function() {
            if (this.cursors.length > 1) {
              var el = this.cursors.pop();
              el.parentNode.removeChild(el);
              return el;
            }
          };
          this.hideCursor = function() {
            this.isVisible = false;
            dom.addCssClass(this.element, "ace_hidden-cursors");
            this.restartTimer();
          };
          this.showCursor = function() {
            this.isVisible = true;
            dom.removeCssClass(this.element, "ace_hidden-cursors");
            this.restartTimer();
          };
          this.restartTimer = function() {
            var update2 = this.$updateCursors;
            clearInterval(this.intervalId);
            clearTimeout(this.timeoutId);
            this.$stopCssAnimation();
            if (this.smoothBlinking) {
              this.$isSmoothBlinking = false;
              dom.removeCssClass(this.element, "ace_smooth-blinking");
            }
            update2(true);
            if (!this.isBlinking || !this.blinkInterval || !this.isVisible) {
              this.$stopCssAnimation();
              return;
            }
            if (this.smoothBlinking) {
              this.$isSmoothBlinking = true;
              setTimeout(function() {
                if (this.$isSmoothBlinking) {
                  dom.addCssClass(this.element, "ace_smooth-blinking");
                }
              }.bind(this));
            }
            if (dom.HAS_CSS_ANIMATION) {
              this.$startCssAnimation();
            } else {
              var blink = function() {
                this.timeoutId = setTimeout(function() {
                  update2(false);
                }, 0.6 * this.blinkInterval);
              }.bind(this);
              this.intervalId = setInterval(function() {
                update2(true);
                blink();
              }, this.blinkInterval);
              blink();
            }
          };
          this.getPixelPosition = function(position3, onScreen) {
            if (!this.config || !this.session)
              return { left: 0, top: 0 };
            if (!position3)
              position3 = this.session.selection.getCursor();
            var pos = this.session.documentToScreenPosition(position3);
            var cursorLeft = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, position3.row) ? this.session.$bidiHandler.getPosLeft(pos.column) : pos.column * this.config.characterWidth);
            var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) * this.config.lineHeight;
            return { left: cursorLeft, top: cursorTop };
          };
          this.isCursorInView = function(pixelPos, config2) {
            return pixelPos.top >= 0 && pixelPos.top < config2.maxHeight;
          };
          this.update = function(config2) {
            this.config = config2;
            var selections = this.session.$selectionMarkers;
            var i3 = 0, cursorIndex = 0;
            if (selections === void 0 || selections.length === 0) {
              selections = [{ cursor: null }];
            }
            for (var i3 = 0, n3 = selections.length; i3 < n3; i3++) {
              var pixelPos = this.getPixelPosition(selections[i3].cursor, true);
              if ((pixelPos.top > config2.height + config2.offset || pixelPos.top < 0) && i3 > 1) {
                continue;
              }
              var element = this.cursors[cursorIndex++] || this.addCursor();
              var style2 = element.style;
              if (!this.drawCursor) {
                if (!this.isCursorInView(pixelPos, config2)) {
                  dom.setStyle(style2, "display", "none");
                } else {
                  dom.setStyle(style2, "display", "block");
                  dom.translate(element, pixelPos.left, pixelPos.top);
                  dom.setStyle(style2, "width", Math.round(config2.characterWidth) + "px");
                  dom.setStyle(style2, "height", config2.lineHeight + "px");
                }
              } else {
                this.drawCursor(element, pixelPos, config2, selections[i3], this.session);
              }
            }
            while (this.cursors.length > cursorIndex)
              this.removeCursor();
            var overwrite = this.session.getOverwrite();
            this.$setOverwrite(overwrite);
            this.$pixelPos = pixelPos;
            this.restartTimer();
          };
          this.drawCursor = null;
          this.$setOverwrite = function(overwrite) {
            if (overwrite != this.overwrite) {
              this.overwrite = overwrite;
              if (overwrite)
                dom.addCssClass(this.element, "ace_overwrite-cursors");
              else
                dom.removeCssClass(this.element, "ace_overwrite-cursors");
            }
          };
          this.destroy = function() {
            clearInterval(this.intervalId);
            clearTimeout(this.timeoutId);
          };
        }).call(Cursor.prototype);
        exports2.Cursor = Cursor;
      });
      ace.define("ace/scrollbar", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/event", "ace/lib/event_emitter"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("./lib/oop");
        var dom = require2("./lib/dom");
        var event = require2("./lib/event");
        var EventEmitter = require2("./lib/event_emitter").EventEmitter;
        var MAX_SCROLL_H = 32768;
        var ScrollBar = function(parent) {
          this.element = dom.createElement("div");
          this.element.className = "ace_scrollbar ace_scrollbar" + this.classSuffix;
          this.inner = dom.createElement("div");
          this.inner.className = "ace_scrollbar-inner";
          this.inner.textContent = "\xA0";
          this.element.appendChild(this.inner);
          parent.appendChild(this.element);
          this.setVisible(false);
          this.skipEvent = false;
          event.addListener(this.element, "scroll", this.onScroll.bind(this));
          event.addListener(this.element, "mousedown", event.preventDefault);
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.setVisible = function(isVisible3) {
            this.element.style.display = isVisible3 ? "" : "none";
            this.isVisible = isVisible3;
            this.coeff = 1;
          };
        }).call(ScrollBar.prototype);
        var VScrollBar = function(parent, renderer) {
          ScrollBar.call(this, parent);
          this.scrollTop = 0;
          this.scrollHeight = 0;
          renderer.$scrollbarWidth = this.width = dom.scrollbarWidth(parent.ownerDocument);
          this.inner.style.width = this.element.style.width = (this.width || 15) + 5 + "px";
          this.$minWidth = 0;
        };
        oop.inherits(VScrollBar, ScrollBar);
        (function() {
          this.classSuffix = "-v";
          this.onScroll = function() {
            if (!this.skipEvent) {
              this.scrollTop = this.element.scrollTop;
              if (this.coeff != 1) {
                var h3 = this.element.clientHeight / this.scrollHeight;
                this.scrollTop = this.scrollTop * (1 - h3) / (this.coeff - h3);
              }
              this._emit("scroll", { data: this.scrollTop });
            }
            this.skipEvent = false;
          };
          this.getWidth = function() {
            return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);
          };
          this.setHeight = function(height) {
            this.element.style.height = height + "px";
          };
          this.setInnerHeight = this.setScrollHeight = function(height) {
            this.scrollHeight = height;
            if (height > MAX_SCROLL_H) {
              this.coeff = MAX_SCROLL_H / height;
              height = MAX_SCROLL_H;
            } else if (this.coeff != 1) {
              this.coeff = 1;
            }
            this.inner.style.height = height + "px";
          };
          this.setScrollTop = function(scrollTop) {
            if (this.scrollTop != scrollTop) {
              this.skipEvent = true;
              this.scrollTop = scrollTop;
              this.element.scrollTop = scrollTop * this.coeff;
            }
          };
        }).call(VScrollBar.prototype);
        var HScrollBar = function(parent, renderer) {
          ScrollBar.call(this, parent);
          this.scrollLeft = 0;
          this.height = renderer.$scrollbarWidth;
          this.inner.style.height = this.element.style.height = (this.height || 15) + 5 + "px";
        };
        oop.inherits(HScrollBar, ScrollBar);
        (function() {
          this.classSuffix = "-h";
          this.onScroll = function() {
            if (!this.skipEvent) {
              this.scrollLeft = this.element.scrollLeft;
              this._emit("scroll", { data: this.scrollLeft });
            }
            this.skipEvent = false;
          };
          this.getHeight = function() {
            return this.isVisible ? this.height : 0;
          };
          this.setWidth = function(width) {
            this.element.style.width = width + "px";
          };
          this.setInnerWidth = function(width) {
            this.inner.style.width = width + "px";
          };
          this.setScrollWidth = function(width) {
            this.inner.style.width = width + "px";
          };
          this.setScrollLeft = function(scrollLeft) {
            if (this.scrollLeft != scrollLeft) {
              this.skipEvent = true;
              this.scrollLeft = this.element.scrollLeft = scrollLeft;
            }
          };
        }).call(HScrollBar.prototype);
        exports2.ScrollBar = VScrollBar;
        exports2.ScrollBarV = VScrollBar;
        exports2.ScrollBarH = HScrollBar;
        exports2.VScrollBar = VScrollBar;
        exports2.HScrollBar = HScrollBar;
      });
      ace.define("ace/renderloop", ["require", "exports", "module", "ace/lib/event"], function(require2, exports2, module2) {
        "use strict";
        var event = require2("./lib/event");
        var RenderLoop = function(onRender, win) {
          this.onRender = onRender;
          this.pending = false;
          this.changes = 0;
          this.$recursionLimit = 2;
          this.window = win || window;
          var _self = this;
          this._flush = function(ts) {
            _self.pending = false;
            var changes = _self.changes;
            if (changes) {
              event.blockIdle(100);
              _self.changes = 0;
              _self.onRender(changes);
            }
            if (_self.changes) {
              if (_self.$recursionLimit-- < 0)
                return;
              _self.schedule();
            } else {
              _self.$recursionLimit = 2;
            }
          };
        };
        (function() {
          this.schedule = function(change) {
            this.changes = this.changes | change;
            if (this.changes && !this.pending) {
              event.nextFrame(this._flush);
              this.pending = true;
            }
          };
          this.clear = function(change) {
            var changes = this.changes;
            this.changes = 0;
            return changes;
          };
        }).call(RenderLoop.prototype);
        exports2.RenderLoop = RenderLoop;
      });
      ace.define("ace/layer/font_metrics", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/event", "ace/lib/useragent", "ace/lib/event_emitter"], function(require2, exports2, module2) {
        var oop = require2("../lib/oop");
        var dom = require2("../lib/dom");
        var lang = require2("../lib/lang");
        var event = require2("../lib/event");
        var useragent = require2("../lib/useragent");
        var EventEmitter = require2("../lib/event_emitter").EventEmitter;
        var CHAR_COUNT = 256;
        var USE_OBSERVER = typeof ResizeObserver == "function";
        var L2 = 200;
        var FontMetrics = exports2.FontMetrics = function(parentEl) {
          this.el = dom.createElement("div");
          this.$setMeasureNodeStyles(this.el.style, true);
          this.$main = dom.createElement("div");
          this.$setMeasureNodeStyles(this.$main.style);
          this.$measureNode = dom.createElement("div");
          this.$setMeasureNodeStyles(this.$measureNode.style);
          this.el.appendChild(this.$main);
          this.el.appendChild(this.$measureNode);
          parentEl.appendChild(this.el);
          this.$measureNode.textContent = lang.stringRepeat("X", CHAR_COUNT);
          this.$characterSize = { width: 0, height: 0 };
          if (USE_OBSERVER)
            this.$addObserver();
          else
            this.checkForSizeChanges();
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.$characterSize = { width: 0, height: 0 };
          this.$setMeasureNodeStyles = function(style2, isRoot) {
            style2.width = style2.height = "auto";
            style2.left = style2.top = "0px";
            style2.visibility = "hidden";
            style2.position = "absolute";
            style2.whiteSpace = "pre";
            if (useragent.isIE < 8) {
              style2["font-family"] = "inherit";
            } else {
              style2.font = "inherit";
            }
            style2.overflow = isRoot ? "hidden" : "visible";
          };
          this.checkForSizeChanges = function(size) {
            if (size === void 0)
              size = this.$measureSizes();
            if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {
              this.$measureNode.style.fontWeight = "bold";
              var boldSize = this.$measureSizes();
              this.$measureNode.style.fontWeight = "";
              this.$characterSize = size;
              this.charSizes = /* @__PURE__ */ Object.create(null);
              this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;
              this._emit("changeCharacterSize", { data: size });
            }
          };
          this.$addObserver = function() {
            var self2 = this;
            this.$observer = new window.ResizeObserver(function(e2) {
              self2.checkForSizeChanges();
            });
            this.$observer.observe(this.$measureNode);
          };
          this.$pollSizeChanges = function() {
            if (this.$pollSizeChangesTimer || this.$observer)
              return this.$pollSizeChangesTimer;
            var self2 = this;
            return this.$pollSizeChangesTimer = event.onIdle(function cb() {
              self2.checkForSizeChanges();
              event.onIdle(cb, 500);
            }, 500);
          };
          this.setPolling = function(val) {
            if (val) {
              this.$pollSizeChanges();
            } else if (this.$pollSizeChangesTimer) {
              clearInterval(this.$pollSizeChangesTimer);
              this.$pollSizeChangesTimer = 0;
            }
          };
          this.$measureSizes = function(node) {
            var size = {
              height: (node || this.$measureNode).clientHeight,
              width: (node || this.$measureNode).clientWidth / CHAR_COUNT
            };
            if (size.width === 0 || size.height === 0)
              return null;
            return size;
          };
          this.$measureCharWidth = function(ch) {
            this.$main.textContent = lang.stringRepeat(ch, CHAR_COUNT);
            var rect = this.$main.getBoundingClientRect();
            return rect.width / CHAR_COUNT;
          };
          this.getCharacterWidth = function(ch) {
            var w2 = this.charSizes[ch];
            if (w2 === void 0) {
              w2 = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;
            }
            return w2;
          };
          this.destroy = function() {
            clearInterval(this.$pollSizeChangesTimer);
            if (this.$observer)
              this.$observer.disconnect();
            if (this.el && this.el.parentNode)
              this.el.parentNode.removeChild(this.el);
          };
          this.$getZoom = function getZoom(element) {
            if (!element || !element.parentElement)
              return 1;
            return (window.getComputedStyle(element).zoom || 1) * getZoom(element.parentElement);
          };
          this.$initTransformMeasureNodes = function() {
            var t3 = function(t4, l3) {
              return ["div", {
                style: "position: absolute;top:" + t4 + "px;left:" + l3 + "px;"
              }];
            };
            this.els = dom.buildDom([t3(0, 0), t3(L2, 0), t3(0, L2), t3(L2, L2)], this.el);
          };
          this.transformCoordinates = function(clientPos, elPos) {
            if (clientPos) {
              var zoom = this.$getZoom(this.el);
              clientPos = mul(1 / zoom, clientPos);
            }
            function solve(l1, l22, r2) {
              var det = l1[1] * l22[0] - l1[0] * l22[1];
              return [
                (-l22[1] * r2[0] + l22[0] * r2[1]) / det,
                (+l1[1] * r2[0] - l1[0] * r2[1]) / det
              ];
            }
            function sub(a4, b4) {
              return [a4[0] - b4[0], a4[1] - b4[1]];
            }
            function add3(a4, b4) {
              return [a4[0] + b4[0], a4[1] + b4[1]];
            }
            function mul(a4, b4) {
              return [a4 * b4[0], a4 * b4[1]];
            }
            if (!this.els)
              this.$initTransformMeasureNodes();
            function p3(el) {
              var r2 = el.getBoundingClientRect();
              return [r2.left, r2.top];
            }
            var a3 = p3(this.els[0]);
            var b3 = p3(this.els[1]);
            var c3 = p3(this.els[2]);
            var d3 = p3(this.els[3]);
            var h3 = solve(sub(d3, b3), sub(d3, c3), sub(add3(b3, c3), add3(d3, a3)));
            var m1 = mul(1 + h3[0], sub(b3, a3));
            var m2 = mul(1 + h3[1], sub(c3, a3));
            if (elPos) {
              var x2 = elPos;
              var k2 = h3[0] * x2[0] / L2 + h3[1] * x2[1] / L2 + 1;
              var ut = add3(mul(x2[0], m1), mul(x2[1], m2));
              return add3(mul(1 / k2 / L2, ut), a3);
            }
            var u3 = sub(clientPos, a3);
            var f3 = solve(sub(m1, mul(h3[0], u3)), sub(m2, mul(h3[1], u3)), u3);
            return mul(L2, f3);
          };
        }).call(FontMetrics.prototype);
      });
      ace.define("ace/virtual_renderer", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/config", "ace/layer/gutter", "ace/layer/marker", "ace/layer/text", "ace/layer/cursor", "ace/scrollbar", "ace/scrollbar", "ace/renderloop", "ace/layer/font_metrics", "ace/lib/event_emitter", "ace/lib/useragent"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("./lib/oop");
        var dom = require2("./lib/dom");
        var config2 = require2("./config");
        var GutterLayer = require2("./layer/gutter").Gutter;
        var MarkerLayer = require2("./layer/marker").Marker;
        var TextLayer = require2("./layer/text").Text;
        var CursorLayer = require2("./layer/cursor").Cursor;
        var HScrollBar = require2("./scrollbar").HScrollBar;
        var VScrollBar = require2("./scrollbar").VScrollBar;
        var RenderLoop = require2("./renderloop").RenderLoop;
        var FontMetrics = require2("./layer/font_metrics").FontMetrics;
        var EventEmitter = require2("./lib/event_emitter").EventEmitter;
        var editorCss = `.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}`;
        var useragent = require2("./lib/useragent");
        var HIDE_TEXTAREA = useragent.isIE;
        dom.importCssString(editorCss, "ace_editor.css", false);
        var VirtualRenderer = function(container, theme) {
          var _self = this;
          this.container = container || dom.createElement("div");
          dom.addCssClass(this.container, "ace_editor");
          if (dom.HI_DPI)
            dom.addCssClass(this.container, "ace_hidpi");
          this.setTheme(theme);
          if (config2.get("useStrictCSP") == null)
            config2.set("useStrictCSP", false);
          this.$gutter = dom.createElement("div");
          this.$gutter.className = "ace_gutter";
          this.container.appendChild(this.$gutter);
          this.$gutter.setAttribute("aria-hidden", true);
          this.scroller = dom.createElement("div");
          this.scroller.className = "ace_scroller";
          this.container.appendChild(this.scroller);
          this.content = dom.createElement("div");
          this.content.className = "ace_content";
          this.scroller.appendChild(this.content);
          this.$gutterLayer = new GutterLayer(this.$gutter);
          this.$gutterLayer.on("changeGutterWidth", this.onGutterResize.bind(this));
          this.$markerBack = new MarkerLayer(this.content);
          var textLayer = this.$textLayer = new TextLayer(this.content);
          this.canvas = textLayer.element;
          this.$markerFront = new MarkerLayer(this.content);
          this.$cursorLayer = new CursorLayer(this.content);
          this.$horizScroll = false;
          this.$vScroll = false;
          this.scrollBar = this.scrollBarV = new VScrollBar(this.container, this);
          this.scrollBarH = new HScrollBar(this.container, this);
          this.scrollBarV.on("scroll", function(e2) {
            if (!_self.$scrollAnimation)
              _self.session.setScrollTop(e2.data - _self.scrollMargin.top);
          });
          this.scrollBarH.on("scroll", function(e2) {
            if (!_self.$scrollAnimation)
              _self.session.setScrollLeft(e2.data - _self.scrollMargin.left);
          });
          this.scrollTop = 0;
          this.scrollLeft = 0;
          this.cursorPos = {
            row: 0,
            column: 0
          };
          this.$fontMetrics = new FontMetrics(this.container);
          this.$textLayer.$setFontMetrics(this.$fontMetrics);
          this.$textLayer.on("changeCharacterSize", function(e2) {
            _self.updateCharacterSize();
            _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);
            _self._signal("changeCharacterSize", e2);
          });
          this.$size = {
            width: 0,
            height: 0,
            scrollerHeight: 0,
            scrollerWidth: 0,
            $dirty: true
          };
          this.layerConfig = {
            width: 1,
            padding: 0,
            firstRow: 0,
            firstRowScreen: 0,
            lastRow: 0,
            lineHeight: 0,
            characterWidth: 0,
            minHeight: 1,
            maxHeight: 1,
            offset: 0,
            height: 1,
            gutterOffset: 1
          };
          this.scrollMargin = {
            left: 0,
            right: 0,
            top: 0,
            bottom: 0,
            v: 0,
            h: 0
          };
          this.margin = {
            left: 0,
            right: 0,
            top: 0,
            bottom: 0,
            v: 0,
            h: 0
          };
          this.$keepTextAreaAtCursor = !useragent.isIOS;
          this.$loop = new RenderLoop(this.$renderChanges.bind(this), this.container.ownerDocument.defaultView);
          this.$loop.schedule(this.CHANGE_FULL);
          this.updateCharacterSize();
          this.setPadding(4);
          config2.resetOptions(this);
          config2._signal("renderer", this);
        };
        (function() {
          this.CHANGE_CURSOR = 1;
          this.CHANGE_MARKER = 2;
          this.CHANGE_GUTTER = 4;
          this.CHANGE_SCROLL = 8;
          this.CHANGE_LINES = 16;
          this.CHANGE_TEXT = 32;
          this.CHANGE_SIZE = 64;
          this.CHANGE_MARKER_BACK = 128;
          this.CHANGE_MARKER_FRONT = 256;
          this.CHANGE_FULL = 512;
          this.CHANGE_H_SCROLL = 1024;
          oop.implement(this, EventEmitter);
          this.updateCharacterSize = function() {
            if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {
              this.$allowBoldFonts = this.$textLayer.allowBoldFonts;
              this.setStyle("ace_nobold", !this.$allowBoldFonts);
            }
            this.layerConfig.characterWidth = this.characterWidth = this.$textLayer.getCharacterWidth();
            this.layerConfig.lineHeight = this.lineHeight = this.$textLayer.getLineHeight();
            this.$updatePrintMargin();
            dom.setStyle(this.scroller.style, "line-height", this.lineHeight + "px");
          };
          this.setSession = function(session) {
            if (this.session)
              this.session.doc.off("changeNewLineMode", this.onChangeNewLineMode);
            this.session = session;
            if (session && this.scrollMargin.top && session.getScrollTop() <= 0)
              session.setScrollTop(-this.scrollMargin.top);
            this.$cursorLayer.setSession(session);
            this.$markerBack.setSession(session);
            this.$markerFront.setSession(session);
            this.$gutterLayer.setSession(session);
            this.$textLayer.setSession(session);
            if (!session)
              return;
            this.$loop.schedule(this.CHANGE_FULL);
            this.session.$setFontMetrics(this.$fontMetrics);
            this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;
            this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);
            this.onChangeNewLineMode();
            this.session.doc.on("changeNewLineMode", this.onChangeNewLineMode);
          };
          this.updateLines = function(firstRow, lastRow, force) {
            if (lastRow === void 0)
              lastRow = Infinity;
            if (!this.$changedLines) {
              this.$changedLines = {
                firstRow,
                lastRow
              };
            } else {
              if (this.$changedLines.firstRow > firstRow)
                this.$changedLines.firstRow = firstRow;
              if (this.$changedLines.lastRow < lastRow)
                this.$changedLines.lastRow = lastRow;
            }
            if (this.$changedLines.lastRow < this.layerConfig.firstRow) {
              if (force)
                this.$changedLines.lastRow = this.layerConfig.lastRow;
              else
                return;
            }
            if (this.$changedLines.firstRow > this.layerConfig.lastRow)
              return;
            this.$loop.schedule(this.CHANGE_LINES);
          };
          this.onChangeNewLineMode = function() {
            this.$loop.schedule(this.CHANGE_TEXT);
            this.$textLayer.$updateEolChar();
            this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);
          };
          this.onChangeTabSize = function() {
            this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);
            this.$textLayer.onChangeTabSize();
          };
          this.updateText = function() {
            this.$loop.schedule(this.CHANGE_TEXT);
          };
          this.updateFull = function(force) {
            if (force)
              this.$renderChanges(this.CHANGE_FULL, true);
            else
              this.$loop.schedule(this.CHANGE_FULL);
          };
          this.updateFontSize = function() {
            this.$textLayer.checkForSizeChanges();
          };
          this.$changes = 0;
          this.$updateSizeAsync = function() {
            if (this.$loop.pending)
              this.$size.$dirty = true;
            else
              this.onResize();
          };
          this.onResize = function(force, gutterWidth, width, height) {
            if (this.resizing > 2)
              return;
            else if (this.resizing > 0)
              this.resizing++;
            else
              this.resizing = force ? 1 : 0;
            var el = this.container;
            if (!height)
              height = el.clientHeight || el.scrollHeight;
            if (!width)
              width = el.clientWidth || el.scrollWidth;
            var changes = this.$updateCachedSize(force, gutterWidth, width, height);
            if (!this.$size.scrollerHeight || !width && !height)
              return this.resizing = 0;
            if (force)
              this.$gutterLayer.$padding = null;
            if (force)
              this.$renderChanges(changes | this.$changes, true);
            else
              this.$loop.schedule(changes | this.$changes);
            if (this.resizing)
              this.resizing = 0;
            this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;
          };
          this.$updateCachedSize = function(force, gutterWidth, width, height) {
            height -= this.$extraHeight || 0;
            var changes = 0;
            var size = this.$size;
            var oldSize = {
              width: size.width,
              height: size.height,
              scrollerHeight: size.scrollerHeight,
              scrollerWidth: size.scrollerWidth
            };
            if (height && (force || size.height != height)) {
              size.height = height;
              changes |= this.CHANGE_SIZE;
              size.scrollerHeight = size.height;
              if (this.$horizScroll)
                size.scrollerHeight -= this.scrollBarH.getHeight();
              this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + "px";
              changes = changes | this.CHANGE_SCROLL;
            }
            if (width && (force || size.width != width)) {
              changes |= this.CHANGE_SIZE;
              size.width = width;
              if (gutterWidth == null)
                gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;
              this.gutterWidth = gutterWidth;
              dom.setStyle(this.scrollBarH.element.style, "left", gutterWidth + "px");
              dom.setStyle(this.scroller.style, "left", gutterWidth + this.margin.left + "px");
              size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth() - this.margin.h);
              dom.setStyle(this.$gutter.style, "left", this.margin.left + "px");
              var right2 = this.scrollBarV.getWidth() + "px";
              dom.setStyle(this.scrollBarH.element.style, "right", right2);
              dom.setStyle(this.scroller.style, "right", right2);
              dom.setStyle(this.scroller.style, "bottom", this.scrollBarH.getHeight());
              if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force) {
                changes |= this.CHANGE_FULL;
              }
            }
            size.$dirty = !width || !height;
            if (changes)
              this._signal("resize", oldSize);
            return changes;
          };
          this.onGutterResize = function(width) {
            var gutterWidth = this.$showGutter ? width : 0;
            if (gutterWidth != this.gutterWidth)
              this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);
            if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {
              this.$loop.schedule(this.CHANGE_FULL);
            } else if (this.$size.$dirty) {
              this.$loop.schedule(this.CHANGE_FULL);
            } else {
              this.$computeLayerConfig();
            }
          };
          this.adjustWrapLimit = function() {
            var availableWidth = this.$size.scrollerWidth - this.$padding * 2;
            var limit = Math.floor(availableWidth / this.characterWidth);
            return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);
          };
          this.setAnimatedScroll = function(shouldAnimate) {
            this.setOption("animatedScroll", shouldAnimate);
          };
          this.getAnimatedScroll = function() {
            return this.$animatedScroll;
          };
          this.setShowInvisibles = function(showInvisibles) {
            this.setOption("showInvisibles", showInvisibles);
            this.session.$bidiHandler.setShowInvisibles(showInvisibles);
          };
          this.getShowInvisibles = function() {
            return this.getOption("showInvisibles");
          };
          this.getDisplayIndentGuides = function() {
            return this.getOption("displayIndentGuides");
          };
          this.setDisplayIndentGuides = function(display) {
            this.setOption("displayIndentGuides", display);
          };
          this.setShowPrintMargin = function(showPrintMargin) {
            this.setOption("showPrintMargin", showPrintMargin);
          };
          this.getShowPrintMargin = function() {
            return this.getOption("showPrintMargin");
          };
          this.setPrintMarginColumn = function(showPrintMargin) {
            this.setOption("printMarginColumn", showPrintMargin);
          };
          this.getPrintMarginColumn = function() {
            return this.getOption("printMarginColumn");
          };
          this.getShowGutter = function() {
            return this.getOption("showGutter");
          };
          this.setShowGutter = function(show) {
            return this.setOption("showGutter", show);
          };
          this.getFadeFoldWidgets = function() {
            return this.getOption("fadeFoldWidgets");
          };
          this.setFadeFoldWidgets = function(show) {
            this.setOption("fadeFoldWidgets", show);
          };
          this.setHighlightGutterLine = function(shouldHighlight) {
            this.setOption("highlightGutterLine", shouldHighlight);
          };
          this.getHighlightGutterLine = function() {
            return this.getOption("highlightGutterLine");
          };
          this.$updatePrintMargin = function() {
            if (!this.$showPrintMargin && !this.$printMarginEl)
              return;
            if (!this.$printMarginEl) {
              var containerEl = dom.createElement("div");
              containerEl.className = "ace_layer ace_print-margin-layer";
              this.$printMarginEl = dom.createElement("div");
              this.$printMarginEl.className = "ace_print-margin";
              containerEl.appendChild(this.$printMarginEl);
              this.content.insertBefore(containerEl, this.content.firstChild);
            }
            var style2 = this.$printMarginEl.style;
            style2.left = Math.round(this.characterWidth * this.$printMarginColumn + this.$padding) + "px";
            style2.visibility = this.$showPrintMargin ? "visible" : "hidden";
            if (this.session && this.session.$wrap == -1)
              this.adjustWrapLimit();
          };
          this.getContainerElement = function() {
            return this.container;
          };
          this.getMouseEventTarget = function() {
            return this.scroller;
          };
          this.getTextAreaContainer = function() {
            return this.container;
          };
          this.$moveTextAreaToCursor = function() {
            if (this.$isMousePressed)
              return;
            var style2 = this.textarea.style;
            var composition = this.$composition;
            if (!this.$keepTextAreaAtCursor && !composition) {
              dom.translate(this.textarea, -100, 0);
              return;
            }
            var pixelPos = this.$cursorLayer.$pixelPos;
            if (!pixelPos)
              return;
            if (composition && composition.markerRange)
              pixelPos = this.$cursorLayer.getPixelPosition(composition.markerRange.start, true);
            var config3 = this.layerConfig;
            var posTop = pixelPos.top;
            var posLeft = pixelPos.left;
            posTop -= config3.offset;
            var h3 = composition && composition.useTextareaForIME ? this.lineHeight : HIDE_TEXTAREA ? 0 : 1;
            if (posTop < 0 || posTop > config3.height - h3) {
              dom.translate(this.textarea, 0, 0);
              return;
            }
            var w2 = 1;
            var maxTop = this.$size.height - h3;
            if (!composition) {
              posTop += this.lineHeight;
            } else {
              if (composition.useTextareaForIME) {
                var val = this.textarea.value;
                w2 = this.characterWidth * this.session.$getStringScreenWidth(val)[0];
              } else {
                posTop += this.lineHeight + 2;
              }
            }
            posLeft -= this.scrollLeft;
            if (posLeft > this.$size.scrollerWidth - w2)
              posLeft = this.$size.scrollerWidth - w2;
            posLeft += this.gutterWidth + this.margin.left;
            dom.setStyle(style2, "height", h3 + "px");
            dom.setStyle(style2, "width", w2 + "px");
            dom.translate(this.textarea, Math.min(posLeft, this.$size.scrollerWidth - w2), Math.min(posTop, maxTop));
          };
          this.getFirstVisibleRow = function() {
            return this.layerConfig.firstRow;
          };
          this.getFirstFullyVisibleRow = function() {
            return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);
          };
          this.getLastFullyVisibleRow = function() {
            var config3 = this.layerConfig;
            var lastRow = config3.lastRow;
            var top2 = this.session.documentToScreenRow(lastRow, 0) * config3.lineHeight;
            if (top2 - this.session.getScrollTop() > config3.height - config3.lineHeight)
              return lastRow - 1;
            return lastRow;
          };
          this.getLastVisibleRow = function() {
            return this.layerConfig.lastRow;
          };
          this.$padding = null;
          this.setPadding = function(padding) {
            this.$padding = padding;
            this.$textLayer.setPadding(padding);
            this.$cursorLayer.setPadding(padding);
            this.$markerFront.setPadding(padding);
            this.$markerBack.setPadding(padding);
            this.$loop.schedule(this.CHANGE_FULL);
            this.$updatePrintMargin();
          };
          this.setScrollMargin = function(top2, bottom2, left2, right2) {
            var sm = this.scrollMargin;
            sm.top = top2 | 0;
            sm.bottom = bottom2 | 0;
            sm.right = right2 | 0;
            sm.left = left2 | 0;
            sm.v = sm.top + sm.bottom;
            sm.h = sm.left + sm.right;
            if (sm.top && this.scrollTop <= 0 && this.session)
              this.session.setScrollTop(-sm.top);
            this.updateFull();
          };
          this.setMargin = function(top2, bottom2, left2, right2) {
            var sm = this.margin;
            sm.top = top2 | 0;
            sm.bottom = bottom2 | 0;
            sm.right = right2 | 0;
            sm.left = left2 | 0;
            sm.v = sm.top + sm.bottom;
            sm.h = sm.left + sm.right;
            this.$updateCachedSize(true, this.gutterWidth, this.$size.width, this.$size.height);
            this.updateFull();
          };
          this.getHScrollBarAlwaysVisible = function() {
            return this.$hScrollBarAlwaysVisible;
          };
          this.setHScrollBarAlwaysVisible = function(alwaysVisible) {
            this.setOption("hScrollBarAlwaysVisible", alwaysVisible);
          };
          this.getVScrollBarAlwaysVisible = function() {
            return this.$vScrollBarAlwaysVisible;
          };
          this.setVScrollBarAlwaysVisible = function(alwaysVisible) {
            this.setOption("vScrollBarAlwaysVisible", alwaysVisible);
          };
          this.$updateScrollBarV = function() {
            var scrollHeight = this.layerConfig.maxHeight;
            var scrollerHeight = this.$size.scrollerHeight;
            if (!this.$maxLines && this.$scrollPastEnd) {
              scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;
              if (this.scrollTop > scrollHeight - scrollerHeight) {
                scrollHeight = this.scrollTop + scrollerHeight;
                this.scrollBarV.scrollTop = null;
              }
            }
            this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);
            this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);
          };
          this.$updateScrollBarH = function() {
            this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);
            this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);
          };
          this.$frozen = false;
          this.freeze = function() {
            this.$frozen = true;
          };
          this.unfreeze = function() {
            this.$frozen = false;
          };
          this.$renderChanges = function(changes, force) {
            if (this.$changes) {
              changes |= this.$changes;
              this.$changes = 0;
            }
            if (!this.session || !this.container.offsetWidth || this.$frozen || !changes && !force) {
              this.$changes |= changes;
              return;
            }
            if (this.$size.$dirty) {
              this.$changes |= changes;
              return this.onResize(true);
            }
            if (!this.lineHeight) {
              this.$textLayer.checkForSizeChanges();
            }
            this._signal("beforeRender", changes);
            if (this.session && this.session.$bidiHandler)
              this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);
            var config3 = this.layerConfig;
            if (changes & this.CHANGE_FULL || changes & this.CHANGE_SIZE || changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES || changes & this.CHANGE_SCROLL || changes & this.CHANGE_H_SCROLL) {
              changes |= this.$computeLayerConfig() | this.$loop.clear();
              if (config3.firstRow != this.layerConfig.firstRow && config3.firstRowScreen == this.layerConfig.firstRowScreen) {
                var st = this.scrollTop + (config3.firstRow - this.layerConfig.firstRow) * this.lineHeight;
                if (st > 0) {
                  this.scrollTop = st;
                  changes = changes | this.CHANGE_SCROLL;
                  changes |= this.$computeLayerConfig() | this.$loop.clear();
                }
              }
              config3 = this.layerConfig;
              this.$updateScrollBarV();
              if (changes & this.CHANGE_H_SCROLL)
                this.$updateScrollBarH();
              dom.translate(this.content, -this.scrollLeft, -config3.offset);
              var width = config3.width + 2 * this.$padding + "px";
              var height = config3.minHeight + "px";
              dom.setStyle(this.content.style, "width", width);
              dom.setStyle(this.content.style, "height", height);
            }
            if (changes & this.CHANGE_H_SCROLL) {
              dom.translate(this.content, -this.scrollLeft, -config3.offset);
              this.scroller.className = this.scrollLeft <= 0 ? "ace_scroller" : "ace_scroller ace_scroll-left";
            }
            if (changes & this.CHANGE_FULL) {
              this.$changedLines = null;
              this.$textLayer.update(config3);
              if (this.$showGutter)
                this.$gutterLayer.update(config3);
              this.$markerBack.update(config3);
              this.$markerFront.update(config3);
              this.$cursorLayer.update(config3);
              this.$moveTextAreaToCursor();
              this._signal("afterRender", changes);
              return;
            }
            if (changes & this.CHANGE_SCROLL) {
              this.$changedLines = null;
              if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)
                this.$textLayer.update(config3);
              else
                this.$textLayer.scrollLines(config3);
              if (this.$showGutter) {
                if (changes & this.CHANGE_GUTTER || changes & this.CHANGE_LINES)
                  this.$gutterLayer.update(config3);
                else
                  this.$gutterLayer.scrollLines(config3);
              }
              this.$markerBack.update(config3);
              this.$markerFront.update(config3);
              this.$cursorLayer.update(config3);
              this.$moveTextAreaToCursor();
              this._signal("afterRender", changes);
              return;
            }
            if (changes & this.CHANGE_TEXT) {
              this.$changedLines = null;
              this.$textLayer.update(config3);
              if (this.$showGutter)
                this.$gutterLayer.update(config3);
            } else if (changes & this.CHANGE_LINES) {
              if (this.$updateLines() || changes & this.CHANGE_GUTTER && this.$showGutter)
                this.$gutterLayer.update(config3);
            } else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {
              if (this.$showGutter)
                this.$gutterLayer.update(config3);
            } else if (changes & this.CHANGE_CURSOR) {
              if (this.$highlightGutterLine)
                this.$gutterLayer.updateLineHighlight(config3);
            }
            if (changes & this.CHANGE_CURSOR) {
              this.$cursorLayer.update(config3);
              this.$moveTextAreaToCursor();
            }
            if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {
              this.$markerFront.update(config3);
            }
            if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {
              this.$markerBack.update(config3);
            }
            this._signal("afterRender", changes);
          };
          this.$autosize = function() {
            var height = this.session.getScreenLength() * this.lineHeight;
            var maxHeight = this.$maxLines * this.lineHeight;
            var desiredHeight = Math.min(maxHeight, Math.max((this.$minLines || 1) * this.lineHeight, height)) + this.scrollMargin.v + (this.$extraHeight || 0);
            if (this.$horizScroll)
              desiredHeight += this.scrollBarH.getHeight();
            if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight)
              desiredHeight = this.$maxPixelHeight;
            var hideScrollbars = desiredHeight <= 2 * this.lineHeight;
            var vScroll = !hideScrollbars && height > maxHeight;
            if (desiredHeight != this.desiredHeight || this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {
              if (vScroll != this.$vScroll) {
                this.$vScroll = vScroll;
                this.scrollBarV.setVisible(vScroll);
              }
              var w2 = this.container.clientWidth;
              this.container.style.height = desiredHeight + "px";
              this.$updateCachedSize(true, this.$gutterWidth, w2, desiredHeight);
              this.desiredHeight = desiredHeight;
              this._signal("autosize");
            }
          };
          this.$computeLayerConfig = function() {
            var session = this.session;
            var size = this.$size;
            var hideScrollbars = size.height <= 2 * this.lineHeight;
            var screenLines = this.session.getScreenLength();
            var maxHeight = screenLines * this.lineHeight;
            var longestLine = this.$getLongestLine();
            var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible || size.scrollerWidth - longestLine - 2 * this.$padding < 0);
            var hScrollChanged = this.$horizScroll !== horizScroll;
            if (hScrollChanged) {
              this.$horizScroll = horizScroll;
              this.scrollBarH.setVisible(horizScroll);
            }
            var vScrollBefore = this.$vScroll;
            if (this.$maxLines && this.lineHeight > 1)
              this.$autosize();
            var minHeight = size.scrollerHeight + this.lineHeight;
            var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd : 0;
            maxHeight += scrollPastEnd;
            var sm = this.scrollMargin;
            this.session.setScrollTop(Math.max(-sm.top, Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));
            this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));
            var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible || size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);
            var vScrollChanged = vScrollBefore !== vScroll;
            if (vScrollChanged) {
              this.$vScroll = vScroll;
              this.scrollBarV.setVisible(vScroll);
            }
            var offset4 = this.scrollTop % this.lineHeight;
            var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;
            var firstRow = Math.max(0, Math.round((this.scrollTop - offset4) / this.lineHeight));
            var lastRow = firstRow + lineCount;
            var firstRowScreen, firstRowHeight;
            var lineHeight = this.lineHeight;
            firstRow = session.screenToDocumentRow(firstRow, 0);
            var foldLine = session.getFoldLine(firstRow);
            if (foldLine) {
              firstRow = foldLine.start.row;
            }
            firstRowScreen = session.documentToScreenRow(firstRow, 0);
            firstRowHeight = session.getRowLength(firstRow) * lineHeight;
            lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);
            minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight + firstRowHeight;
            offset4 = this.scrollTop - firstRowScreen * lineHeight;
            var changes = 0;
            if (this.layerConfig.width != longestLine || hScrollChanged)
              changes = this.CHANGE_H_SCROLL;
            if (hScrollChanged || vScrollChanged) {
              changes |= this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);
              this._signal("scrollbarVisibilityChanged");
              if (vScrollChanged)
                longestLine = this.$getLongestLine();
            }
            this.layerConfig = {
              width: longestLine,
              padding: this.$padding,
              firstRow,
              firstRowScreen,
              lastRow,
              lineHeight,
              characterWidth: this.characterWidth,
              minHeight,
              maxHeight,
              offset: offset4,
              gutterOffset: lineHeight ? Math.max(0, Math.ceil((offset4 + size.height - size.scrollerHeight) / lineHeight)) : 0,
              height: this.$size.scrollerHeight
            };
            if (this.session.$bidiHandler)
              this.session.$bidiHandler.setContentWidth(longestLine - this.$padding);
            return changes;
          };
          this.$updateLines = function() {
            if (!this.$changedLines)
              return;
            var firstRow = this.$changedLines.firstRow;
            var lastRow = this.$changedLines.lastRow;
            this.$changedLines = null;
            var layerConfig = this.layerConfig;
            if (firstRow > layerConfig.lastRow + 1) {
              return;
            }
            if (lastRow < layerConfig.firstRow) {
              return;
            }
            if (lastRow === Infinity) {
              if (this.$showGutter)
                this.$gutterLayer.update(layerConfig);
              this.$textLayer.update(layerConfig);
              return;
            }
            this.$textLayer.updateLines(layerConfig, firstRow, lastRow);
            return true;
          };
          this.$getLongestLine = function() {
            var charCount = this.session.getScreenWidth();
            if (this.showInvisibles && !this.session.$useWrapMode)
              charCount += 1;
            if (this.$textLayer && charCount > this.$textLayer.MAX_LINE_LENGTH)
              charCount = this.$textLayer.MAX_LINE_LENGTH + 30;
            return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));
          };
          this.updateFrontMarkers = function() {
            this.$markerFront.setMarkers(this.session.getMarkers(true));
            this.$loop.schedule(this.CHANGE_MARKER_FRONT);
          };
          this.updateBackMarkers = function() {
            this.$markerBack.setMarkers(this.session.getMarkers());
            this.$loop.schedule(this.CHANGE_MARKER_BACK);
          };
          this.addGutterDecoration = function(row, className) {
            this.$gutterLayer.addGutterDecoration(row, className);
          };
          this.removeGutterDecoration = function(row, className) {
            this.$gutterLayer.removeGutterDecoration(row, className);
          };
          this.updateBreakpoints = function(rows) {
            this.$loop.schedule(this.CHANGE_GUTTER);
          };
          this.setAnnotations = function(annotations) {
            this.$gutterLayer.setAnnotations(annotations);
            this.$loop.schedule(this.CHANGE_GUTTER);
          };
          this.updateCursor = function() {
            this.$loop.schedule(this.CHANGE_CURSOR);
          };
          this.hideCursor = function() {
            this.$cursorLayer.hideCursor();
          };
          this.showCursor = function() {
            this.$cursorLayer.showCursor();
          };
          this.scrollSelectionIntoView = function(anchor, lead, offset4) {
            this.scrollCursorIntoView(anchor, offset4);
            this.scrollCursorIntoView(lead, offset4);
          };
          this.scrollCursorIntoView = function(cursor, offset4, $viewMargin) {
            if (this.$size.scrollerHeight === 0)
              return;
            var pos = this.$cursorLayer.getPixelPosition(cursor);
            var left2 = pos.left;
            var top2 = pos.top;
            var topMargin = $viewMargin && $viewMargin.top || 0;
            var bottomMargin = $viewMargin && $viewMargin.bottom || 0;
            var scrollTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;
            if (scrollTop + topMargin > top2) {
              if (offset4 && scrollTop + topMargin > top2 + this.lineHeight)
                top2 -= offset4 * this.$size.scrollerHeight;
              if (top2 === 0)
                top2 = -this.scrollMargin.top;
              this.session.setScrollTop(top2);
            } else if (scrollTop + this.$size.scrollerHeight - bottomMargin < top2 + this.lineHeight) {
              if (offset4 && scrollTop + this.$size.scrollerHeight - bottomMargin < top2 - this.lineHeight)
                top2 += offset4 * this.$size.scrollerHeight;
              this.session.setScrollTop(top2 + this.lineHeight + bottomMargin - this.$size.scrollerHeight);
            }
            var scrollLeft = this.scrollLeft;
            if (scrollLeft > left2) {
              if (left2 < this.$padding + 2 * this.layerConfig.characterWidth)
                left2 = -this.scrollMargin.left;
              this.session.setScrollLeft(left2);
            } else if (scrollLeft + this.$size.scrollerWidth < left2 + this.characterWidth) {
              this.session.setScrollLeft(Math.round(left2 + this.characterWidth - this.$size.scrollerWidth));
            } else if (scrollLeft <= this.$padding && left2 - scrollLeft < this.characterWidth) {
              this.session.setScrollLeft(0);
            }
          };
          this.getScrollTop = function() {
            return this.session.getScrollTop();
          };
          this.getScrollLeft = function() {
            return this.session.getScrollLeft();
          };
          this.getScrollTopRow = function() {
            return this.scrollTop / this.lineHeight;
          };
          this.getScrollBottomRow = function() {
            return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);
          };
          this.scrollToRow = function(row) {
            this.session.setScrollTop(row * this.lineHeight);
          };
          this.alignCursor = function(cursor, alignment) {
            if (typeof cursor == "number")
              cursor = { row: cursor, column: 0 };
            var pos = this.$cursorLayer.getPixelPosition(cursor);
            var h3 = this.$size.scrollerHeight - this.lineHeight;
            var offset4 = pos.top - h3 * (alignment || 0);
            this.session.setScrollTop(offset4);
            return offset4;
          };
          this.STEPS = 8;
          this.$calcSteps = function(fromValue, toValue) {
            var i3 = 0;
            var l3 = this.STEPS;
            var steps = [];
            var func = function(t3, x_min, dx) {
              return dx * (Math.pow(t3 - 1, 3) + 1) + x_min;
            };
            for (i3 = 0; i3 < l3; ++i3)
              steps.push(func(i3 / this.STEPS, fromValue, toValue - fromValue));
            return steps;
          };
          this.scrollToLine = function(line, center, animate, callback) {
            var pos = this.$cursorLayer.getPixelPosition({ row: line, column: 0 });
            var offset4 = pos.top;
            if (center)
              offset4 -= this.$size.scrollerHeight / 2;
            var initialScroll = this.scrollTop;
            this.session.setScrollTop(offset4);
            if (animate !== false)
              this.animateScrolling(initialScroll, callback);
          };
          this.animateScrolling = function(fromValue, callback) {
            var toValue = this.scrollTop;
            if (!this.$animatedScroll)
              return;
            var _self = this;
            if (fromValue == toValue)
              return;
            if (this.$scrollAnimation) {
              var oldSteps = this.$scrollAnimation.steps;
              if (oldSteps.length) {
                fromValue = oldSteps[0];
                if (fromValue == toValue)
                  return;
              }
            }
            var steps = _self.$calcSteps(fromValue, toValue);
            this.$scrollAnimation = { from: fromValue, to: toValue, steps };
            clearInterval(this.$timer);
            _self.session.setScrollTop(steps.shift());
            _self.session.$scrollTop = toValue;
            this.$timer = setInterval(function() {
              if (!_self.session)
                return clearInterval(_self.$timer);
              if (steps.length) {
                _self.session.setScrollTop(steps.shift());
                _self.session.$scrollTop = toValue;
              } else if (toValue != null) {
                _self.session.$scrollTop = -1;
                _self.session.setScrollTop(toValue);
                toValue = null;
              } else {
                _self.$timer = clearInterval(_self.$timer);
                _self.$scrollAnimation = null;
                callback && callback();
              }
            }, 10);
          };
          this.scrollToY = function(scrollTop) {
            if (this.scrollTop !== scrollTop) {
              this.$loop.schedule(this.CHANGE_SCROLL);
              this.scrollTop = scrollTop;
            }
          };
          this.scrollToX = function(scrollLeft) {
            if (this.scrollLeft !== scrollLeft)
              this.scrollLeft = scrollLeft;
            this.$loop.schedule(this.CHANGE_H_SCROLL);
          };
          this.scrollTo = function(x2, y2) {
            this.session.setScrollTop(y2);
            this.session.setScrollLeft(x2);
          };
          this.scrollBy = function(deltaX, deltaY) {
            deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);
            deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);
          };
          this.isScrollableBy = function(deltaX, deltaY) {
            if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top)
              return true;
            if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom)
              return true;
            if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left)
              return true;
            if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth - this.layerConfig.width < -1 + this.scrollMargin.right)
              return true;
          };
          this.pixelToScreenCoordinates = function(x2, y2) {
            var canvasPos;
            if (this.$hasCssTransforms) {
              canvasPos = { top: 0, left: 0 };
              var p3 = this.$fontMetrics.transformCoordinates([x2, y2]);
              x2 = p3[1] - this.gutterWidth - this.margin.left;
              y2 = p3[0];
            } else {
              canvasPos = this.scroller.getBoundingClientRect();
            }
            var offsetX = x2 + this.scrollLeft - canvasPos.left - this.$padding;
            var offset4 = offsetX / this.characterWidth;
            var row = Math.floor((y2 + this.scrollTop - canvasPos.top) / this.lineHeight);
            var col = this.$blockCursor ? Math.floor(offset4) : Math.round(offset4);
            return { row, column: col, side: offset4 - col > 0 ? 1 : -1, offsetX };
          };
          this.screenToTextCoordinates = function(x2, y2) {
            var canvasPos;
            if (this.$hasCssTransforms) {
              canvasPos = { top: 0, left: 0 };
              var p3 = this.$fontMetrics.transformCoordinates([x2, y2]);
              x2 = p3[1] - this.gutterWidth - this.margin.left;
              y2 = p3[0];
            } else {
              canvasPos = this.scroller.getBoundingClientRect();
            }
            var offsetX = x2 + this.scrollLeft - canvasPos.left - this.$padding;
            var offset4 = offsetX / this.characterWidth;
            var col = this.$blockCursor ? Math.floor(offset4) : Math.round(offset4);
            var row = Math.floor((y2 + this.scrollTop - canvasPos.top) / this.lineHeight);
            return this.session.screenToDocumentPosition(row, Math.max(col, 0), offsetX);
          };
          this.textToScreenCoordinates = function(row, column) {
            var canvasPos = this.scroller.getBoundingClientRect();
            var pos = this.session.documentToScreenPosition(row, column);
            var x2 = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, row) ? this.session.$bidiHandler.getPosLeft(pos.column) : Math.round(pos.column * this.characterWidth));
            var y2 = pos.row * this.lineHeight;
            return {
              pageX: canvasPos.left + x2 - this.scrollLeft,
              pageY: canvasPos.top + y2 - this.scrollTop
            };
          };
          this.visualizeFocus = function() {
            dom.addCssClass(this.container, "ace_focus");
          };
          this.visualizeBlur = function() {
            dom.removeCssClass(this.container, "ace_focus");
          };
          this.showComposition = function(composition) {
            this.$composition = composition;
            if (!composition.cssText) {
              composition.cssText = this.textarea.style.cssText;
            }
            if (composition.useTextareaForIME == void 0)
              composition.useTextareaForIME = this.$useTextareaForIME;
            if (this.$useTextareaForIME) {
              dom.addCssClass(this.textarea, "ace_composition");
              this.textarea.style.cssText = "";
              this.$moveTextAreaToCursor();
              this.$cursorLayer.element.style.display = "none";
            } else {
              composition.markerId = this.session.addMarker(composition.markerRange, "ace_composition_marker", "text");
            }
          };
          this.setCompositionText = function(text) {
            var cursor = this.session.selection.cursor;
            this.addToken(text, "composition_placeholder", cursor.row, cursor.column);
            this.$moveTextAreaToCursor();
          };
          this.hideComposition = function() {
            if (!this.$composition)
              return;
            if (this.$composition.markerId)
              this.session.removeMarker(this.$composition.markerId);
            dom.removeCssClass(this.textarea, "ace_composition");
            this.textarea.style.cssText = this.$composition.cssText;
            var cursor = this.session.selection.cursor;
            this.removeExtraToken(cursor.row, cursor.column);
            this.$composition = null;
            this.$cursorLayer.element.style.display = "";
          };
          this.addToken = function(text, type, row, column) {
            var session = this.session;
            session.bgTokenizer.lines[row] = null;
            var newToken = { type, value: text };
            var tokens = session.getTokens(row);
            if (column == null) {
              tokens.push(newToken);
            } else {
              var l3 = 0;
              for (var i3 = 0; i3 < tokens.length; i3++) {
                var token = tokens[i3];
                l3 += token.value.length;
                if (column <= l3) {
                  var diff = token.value.length - (l3 - column);
                  var before = token.value.slice(0, diff);
                  var after = token.value.slice(diff);
                  tokens.splice(i3, 1, { type: token.type, value: before }, newToken, { type: token.type, value: after });
                  break;
                }
              }
            }
            this.updateLines(row, row);
          };
          this.removeExtraToken = function(row, column) {
            this.updateLines(row, row);
          };
          this.setTheme = function(theme, cb) {
            var _self = this;
            this.$themeId = theme;
            _self._dispatchEvent("themeChange", { theme });
            if (!theme || typeof theme == "string") {
              var moduleName = theme || this.$options.theme.initialValue;
              config2.loadModule(["theme", moduleName], afterLoad);
            } else {
              afterLoad(theme);
            }
            function afterLoad(module3) {
              if (_self.$themeId != theme)
                return cb && cb();
              if (!module3 || !module3.cssClass)
                throw new Error("couldn't load module " + theme + " or it didn't call define");
              if (module3.$id)
                _self.$themeId = module3.$id;
              dom.importCssString(module3.cssText, module3.cssClass, _self.container);
              if (_self.theme)
                dom.removeCssClass(_self.container, _self.theme.cssClass);
              var padding = "padding" in module3 ? module3.padding : "padding" in (_self.theme || {}) ? 4 : _self.$padding;
              if (_self.$padding && padding != _self.$padding)
                _self.setPadding(padding);
              _self.$theme = module3.cssClass;
              _self.theme = module3;
              dom.addCssClass(_self.container, module3.cssClass);
              dom.setCssClass(_self.container, "ace_dark", module3.isDark);
              if (_self.$size) {
                _self.$size.width = 0;
                _self.$updateSizeAsync();
              }
              _self._dispatchEvent("themeLoaded", { theme: module3 });
              cb && cb();
            }
          };
          this.getTheme = function() {
            return this.$themeId;
          };
          this.setStyle = function(style2, include) {
            dom.setCssClass(this.container, style2, include !== false);
          };
          this.unsetStyle = function(style2) {
            dom.removeCssClass(this.container, style2);
          };
          this.setCursorStyle = function(style2) {
            dom.setStyle(this.scroller.style, "cursor", style2);
          };
          this.setMouseCursor = function(cursorStyle) {
            dom.setStyle(this.scroller.style, "cursor", cursorStyle);
          };
          this.attachToShadowRoot = function() {
            dom.importCssString(editorCss, "ace_editor.css", this.container);
          };
          this.destroy = function() {
            this.freeze();
            this.$fontMetrics.destroy();
            this.$cursorLayer.destroy();
            this.removeAllListeners();
            this.container.textContent = "";
          };
        }).call(VirtualRenderer.prototype);
        config2.defineOptions(VirtualRenderer.prototype, "renderer", {
          animatedScroll: { initialValue: false },
          showInvisibles: {
            set: function(value) {
              if (this.$textLayer.setShowInvisibles(value))
                this.$loop.schedule(this.CHANGE_TEXT);
            },
            initialValue: false
          },
          showPrintMargin: {
            set: function() {
              this.$updatePrintMargin();
            },
            initialValue: true
          },
          printMarginColumn: {
            set: function() {
              this.$updatePrintMargin();
            },
            initialValue: 80
          },
          printMargin: {
            set: function(val) {
              if (typeof val == "number")
                this.$printMarginColumn = val;
              this.$showPrintMargin = !!val;
              this.$updatePrintMargin();
            },
            get: function() {
              return this.$showPrintMargin && this.$printMarginColumn;
            }
          },
          showGutter: {
            set: function(show) {
              this.$gutter.style.display = show ? "block" : "none";
              this.$loop.schedule(this.CHANGE_FULL);
              this.onGutterResize();
            },
            initialValue: true
          },
          fadeFoldWidgets: {
            set: function(show) {
              dom.setCssClass(this.$gutter, "ace_fade-fold-widgets", show);
            },
            initialValue: false
          },
          showFoldWidgets: {
            set: function(show) {
              this.$gutterLayer.setShowFoldWidgets(show);
              this.$loop.schedule(this.CHANGE_GUTTER);
            },
            initialValue: true
          },
          displayIndentGuides: {
            set: function(show) {
              if (this.$textLayer.setDisplayIndentGuides(show))
                this.$loop.schedule(this.CHANGE_TEXT);
            },
            initialValue: true
          },
          highlightGutterLine: {
            set: function(shouldHighlight) {
              this.$gutterLayer.setHighlightGutterLine(shouldHighlight);
              this.$loop.schedule(this.CHANGE_GUTTER);
            },
            initialValue: true
          },
          hScrollBarAlwaysVisible: {
            set: function(val) {
              if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)
                this.$loop.schedule(this.CHANGE_SCROLL);
            },
            initialValue: false
          },
          vScrollBarAlwaysVisible: {
            set: function(val) {
              if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)
                this.$loop.schedule(this.CHANGE_SCROLL);
            },
            initialValue: false
          },
          fontSize: {
            set: function(size) {
              if (typeof size == "number")
                size = size + "px";
              this.container.style.fontSize = size;
              this.updateFontSize();
            },
            initialValue: 12
          },
          fontFamily: {
            set: function(name) {
              this.container.style.fontFamily = name;
              this.updateFontSize();
            }
          },
          maxLines: {
            set: function(val) {
              this.updateFull();
            }
          },
          minLines: {
            set: function(val) {
              if (!(this.$minLines < 562949953421311))
                this.$minLines = 0;
              this.updateFull();
            }
          },
          maxPixelHeight: {
            set: function(val) {
              this.updateFull();
            },
            initialValue: 0
          },
          scrollPastEnd: {
            set: function(val) {
              val = +val || 0;
              if (this.$scrollPastEnd == val)
                return;
              this.$scrollPastEnd = val;
              this.$loop.schedule(this.CHANGE_SCROLL);
            },
            initialValue: 0,
            handlesSet: true
          },
          fixedWidthGutter: {
            set: function(val) {
              this.$gutterLayer.$fixedWidth = !!val;
              this.$loop.schedule(this.CHANGE_GUTTER);
            }
          },
          theme: {
            set: function(val) {
              this.setTheme(val);
            },
            get: function() {
              return this.$themeId || this.theme;
            },
            initialValue: "./theme/textmate",
            handlesSet: true
          },
          hasCssTransforms: {},
          useTextareaForIME: {
            initialValue: !useragent.isMobile && !useragent.isIE
          }
        });
        exports2.VirtualRenderer = VirtualRenderer;
      });
      ace.define("ace/worker/worker_client", ["require", "exports", "module", "ace/lib/oop", "ace/lib/net", "ace/lib/event_emitter", "ace/config"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("../lib/oop");
        var net = require2("../lib/net");
        var EventEmitter = require2("../lib/event_emitter").EventEmitter;
        var config2 = require2("../config");
        function $workerBlob(workerUrl) {
          var script = "importScripts('" + net.qualifyURL(workerUrl) + "');";
          try {
            return new Blob([script], { "type": "application/javascript" });
          } catch (e2) {
            var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;
            var blobBuilder = new BlobBuilder();
            blobBuilder.append(script);
            return blobBuilder.getBlob("application/javascript");
          }
        }
        function createWorker(workerUrl) {
          if (typeof Worker == "undefined")
            return { postMessage: function() {
            }, terminate: function() {
            } };
          if (config2.get("loadWorkerFromBlob")) {
            var blob = $workerBlob(workerUrl);
            var URL = window.URL || window.webkitURL;
            var blobURL = URL.createObjectURL(blob);
            return new Worker(blobURL);
          }
          return new Worker(workerUrl);
        }
        var WorkerClient = function(worker) {
          if (!worker.postMessage)
            worker = this.$createWorkerFromOldConfig.apply(this, arguments);
          this.$worker = worker;
          this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);
          this.changeListener = this.changeListener.bind(this);
          this.onMessage = this.onMessage.bind(this);
          this.callbackId = 1;
          this.callbacks = {};
          this.$worker.onmessage = this.onMessage;
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.$createWorkerFromOldConfig = function(topLevelNamespaces, mod, classname, workerUrl, importScripts) {
            if (require2.nameToUrl && !require2.toUrl)
              require2.toUrl = require2.nameToUrl;
            if (config2.get("packaged") || !require2.toUrl) {
              workerUrl = workerUrl || config2.moduleUrl(mod, "worker");
            } else {
              var normalizePath = this.$normalizePath;
              workerUrl = workerUrl || normalizePath(require2.toUrl("ace/worker/worker.js", null, "_"));
              var tlns = {};
              topLevelNamespaces.forEach(function(ns) {
                tlns[ns] = normalizePath(require2.toUrl(ns, null, "_").replace(/(\.js)?(\?.*)?$/, ""));
              });
            }
            this.$worker = createWorker(workerUrl);
            if (importScripts) {
              this.send("importScripts", importScripts);
            }
            this.$worker.postMessage({
              init: true,
              tlns,
              module: mod,
              classname
            });
            return this.$worker;
          };
          this.onMessage = function(e2) {
            var msg = e2.data;
            switch (msg.type) {
              case "event":
                this._signal(msg.name, { data: msg.data });
                break;
              case "call":
                var callback = this.callbacks[msg.id];
                if (callback) {
                  callback(msg.data);
                  delete this.callbacks[msg.id];
                }
                break;
              case "error":
                this.reportError(msg.data);
                break;
              case "log":
                window.console && console.log && console.log.apply(console, msg.data);
                break;
            }
          };
          this.reportError = function(err) {
            window.console && console.error && console.error(err);
          };
          this.$normalizePath = function(path) {
            return net.qualifyURL(path);
          };
          this.terminate = function() {
            this._signal("terminate", {});
            this.deltaQueue = null;
            this.$worker.terminate();
            this.$worker = null;
            if (this.$doc)
              this.$doc.off("change", this.changeListener);
            this.$doc = null;
          };
          this.send = function(cmd, args) {
            this.$worker.postMessage({ command: cmd, args });
          };
          this.call = function(cmd, args, callback) {
            if (callback) {
              var id = this.callbackId++;
              this.callbacks[id] = callback;
              args.push(id);
            }
            this.send(cmd, args);
          };
          this.emit = function(event, data) {
            try {
              if (data.data && data.data.err)
                data.data.err = { message: data.data.err.message, stack: data.data.err.stack, code: data.data.err.code };
              this.$worker && this.$worker.postMessage({ event, data: { data: data.data } });
            } catch (ex) {
              console.error(ex.stack);
            }
          };
          this.attachToDocument = function(doc) {
            if (this.$doc)
              this.terminate();
            this.$doc = doc;
            this.call("setValue", [doc.getValue()]);
            doc.on("change", this.changeListener, true);
          };
          this.changeListener = function(delta) {
            if (!this.deltaQueue) {
              this.deltaQueue = [];
              setTimeout(this.$sendDeltaQueue, 0);
            }
            if (delta.action == "insert")
              this.deltaQueue.push(delta.start, delta.lines);
            else
              this.deltaQueue.push(delta.start, delta.end);
          };
          this.$sendDeltaQueue = function() {
            var q2 = this.deltaQueue;
            if (!q2)
              return;
            this.deltaQueue = null;
            if (q2.length > 50 && q2.length > this.$doc.getLength() >> 1) {
              this.call("setValue", [this.$doc.getValue()]);
            } else
              this.emit("change", { data: q2 });
          };
        }).call(WorkerClient.prototype);
        var UIWorkerClient = function(topLevelNamespaces, mod, classname) {
          var main2 = null;
          var emitSync = false;
          var sender = Object.create(EventEmitter);
          var messageBuffer = [];
          var workerClient = new WorkerClient({
            messageBuffer,
            terminate: function() {
            },
            postMessage: function(e2) {
              messageBuffer.push(e2);
              if (!main2)
                return;
              if (emitSync)
                setTimeout(processNext);
              else
                processNext();
            }
          });
          workerClient.setEmitSync = function(val) {
            emitSync = val;
          };
          var processNext = function() {
            var msg = messageBuffer.shift();
            if (msg.command)
              main2[msg.command].apply(main2, msg.args);
            else if (msg.event)
              sender._signal(msg.event, msg.data);
          };
          sender.postMessage = function(msg) {
            workerClient.onMessage({ data: msg });
          };
          sender.callback = function(data, callbackId) {
            this.postMessage({ type: "call", id: callbackId, data });
          };
          sender.emit = function(name, data) {
            this.postMessage({ type: "event", name, data });
          };
          config2.loadModule(["worker", mod], function(Main) {
            main2 = new Main[classname](sender);
            while (messageBuffer.length)
              processNext();
          });
          return workerClient;
        };
        exports2.UIWorkerClient = UIWorkerClient;
        exports2.WorkerClient = WorkerClient;
        exports2.createWorker = createWorker;
      });
      ace.define("ace/placeholder", ["require", "exports", "module", "ace/range", "ace/lib/event_emitter", "ace/lib/oop"], function(require2, exports2, module2) {
        "use strict";
        var Range = require2("./range").Range;
        var EventEmitter = require2("./lib/event_emitter").EventEmitter;
        var oop = require2("./lib/oop");
        var PlaceHolder = function(session, length, pos, others, mainClass, othersClass) {
          var _self = this;
          this.length = length;
          this.session = session;
          this.doc = session.getDocument();
          this.mainClass = mainClass;
          this.othersClass = othersClass;
          this.$onUpdate = this.onUpdate.bind(this);
          this.doc.on("change", this.$onUpdate);
          this.$others = others;
          this.$onCursorChange = function() {
            setTimeout(function() {
              _self.onCursorChange();
            });
          };
          this.$pos = pos;
          var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || { length: -1 };
          this.$undoStackDepth = undoStack.length;
          this.setup();
          session.selection.on("changeCursor", this.$onCursorChange);
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.setup = function() {
            var _self = this;
            var doc = this.doc;
            var session = this.session;
            this.selectionBefore = session.selection.toJSON();
            if (session.selection.inMultiSelectMode)
              session.selection.toSingleRange();
            this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);
            var pos = this.pos;
            pos.$insertRight = true;
            pos.detach();
            pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);
            this.others = [];
            this.$others.forEach(function(other) {
              var anchor = doc.createAnchor(other.row, other.column);
              anchor.$insertRight = true;
              anchor.detach();
              _self.others.push(anchor);
            });
            session.setUndoSelect(false);
          };
          this.showOtherMarkers = function() {
            if (this.othersActive)
              return;
            var session = this.session;
            var _self = this;
            this.othersActive = true;
            this.others.forEach(function(anchor) {
              anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column + _self.length), _self.othersClass, null, false);
            });
          };
          this.hideOtherMarkers = function() {
            if (!this.othersActive)
              return;
            this.othersActive = false;
            for (var i3 = 0; i3 < this.others.length; i3++) {
              this.session.removeMarker(this.others[i3].markerId);
            }
          };
          this.onUpdate = function(delta) {
            if (this.$updating)
              return this.updateAnchors(delta);
            var range = delta;
            if (range.start.row !== range.end.row)
              return;
            if (range.start.row !== this.pos.row)
              return;
            this.$updating = true;
            var lengthDiff = delta.action === "insert" ? range.end.column - range.start.column : range.start.column - range.end.column;
            var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;
            var distanceFromStart = range.start.column - this.pos.column;
            this.updateAnchors(delta);
            if (inMainRange)
              this.length += lengthDiff;
            if (inMainRange && !this.session.$fromUndo) {
              if (delta.action === "insert") {
                for (var i3 = this.others.length - 1; i3 >= 0; i3--) {
                  var otherPos = this.others[i3];
                  var newPos = { row: otherPos.row, column: otherPos.column + distanceFromStart };
                  this.doc.insertMergedLines(newPos, delta.lines);
                }
              } else if (delta.action === "remove") {
                for (var i3 = this.others.length - 1; i3 >= 0; i3--) {
                  var otherPos = this.others[i3];
                  var newPos = { row: otherPos.row, column: otherPos.column + distanceFromStart };
                  this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));
                }
              }
            }
            this.$updating = false;
            this.updateMarkers();
          };
          this.updateAnchors = function(delta) {
            this.pos.onChange(delta);
            for (var i3 = this.others.length; i3--; )
              this.others[i3].onChange(delta);
            this.updateMarkers();
          };
          this.updateMarkers = function() {
            if (this.$updating)
              return;
            var _self = this;
            var session = this.session;
            var updateMarker = function(pos, className) {
              session.removeMarker(pos.markerId);
              pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + _self.length), className, null, false);
            };
            updateMarker(this.pos, this.mainClass);
            for (var i3 = this.others.length; i3--; )
              updateMarker(this.others[i3], this.othersClass);
          };
          this.onCursorChange = function(event) {
            if (this.$updating || !this.session)
              return;
            var pos = this.session.selection.getCursor();
            if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {
              this.showOtherMarkers();
              this._emit("cursorEnter", event);
            } else {
              this.hideOtherMarkers();
              this._emit("cursorLeave", event);
            }
          };
          this.detach = function() {
            this.session.removeMarker(this.pos && this.pos.markerId);
            this.hideOtherMarkers();
            this.doc.off("change", this.$onUpdate);
            this.session.selection.off("changeCursor", this.$onCursorChange);
            this.session.setUndoSelect(true);
            this.session = null;
          };
          this.cancel = function() {
            if (this.$undoStackDepth === -1)
              return;
            var undoManager = this.session.getUndoManager();
            var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;
            for (var i3 = 0; i3 < undosRequired; i3++) {
              undoManager.undo(this.session, true);
            }
            if (this.selectionBefore)
              this.session.selection.fromJSON(this.selectionBefore);
          };
        }).call(PlaceHolder.prototype);
        exports2.PlaceHolder = PlaceHolder;
      });
      ace.define("ace/mouse/multi_select_handler", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent"], function(require2, exports2, module2) {
        var event = require2("../lib/event");
        var useragent = require2("../lib/useragent");
        function isSamePoint(p1, p22) {
          return p1.row == p22.row && p1.column == p22.column;
        }
        function onMouseDown(e2) {
          var ev = e2.domEvent;
          var alt = ev.altKey;
          var shift3 = ev.shiftKey;
          var ctrl = ev.ctrlKey;
          var accel = e2.getAccelKey();
          var button = e2.getButton();
          if (ctrl && useragent.isMac)
            button = ev.button;
          if (e2.editor.inMultiSelectMode && button == 2) {
            e2.editor.textInput.onContextMenu(e2.domEvent);
            return;
          }
          if (!ctrl && !alt && !accel) {
            if (button === 0 && e2.editor.inMultiSelectMode)
              e2.editor.exitMultiSelectMode();
            return;
          }
          if (button !== 0)
            return;
          var editor = e2.editor;
          var selection = editor.selection;
          var isMultiSelect = editor.inMultiSelectMode;
          var pos = e2.getDocumentPosition();
          var cursor = selection.getCursor();
          var inSelection = e2.inSelection() || selection.isEmpty() && isSamePoint(pos, cursor);
          var mouseX = e2.x, mouseY = e2.y;
          var onMouseSelection = function(e3) {
            mouseX = e3.clientX;
            mouseY = e3.clientY;
          };
          var session = editor.session;
          var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);
          var screenCursor = screenAnchor;
          var selectionMode;
          if (editor.$mouseHandler.$enableJumpToDef) {
            if (ctrl && alt || accel && alt)
              selectionMode = shift3 ? "block" : "add";
            else if (alt && editor.$blockSelectEnabled)
              selectionMode = "block";
          } else {
            if (accel && !alt) {
              selectionMode = "add";
              if (!isMultiSelect && shift3)
                return;
            } else if (alt && editor.$blockSelectEnabled) {
              selectionMode = "block";
            }
          }
          if (selectionMode && useragent.isMac && ev.ctrlKey) {
            editor.$mouseHandler.cancelContextMenu();
          }
          if (selectionMode == "add") {
            if (!isMultiSelect && inSelection)
              return;
            if (!isMultiSelect) {
              var range = selection.toOrientedRange();
              editor.addSelectionMarker(range);
            }
            var oldRange = selection.rangeList.rangeAtPoint(pos);
            editor.inVirtualSelectionMode = true;
            if (shift3) {
              oldRange = null;
              range = selection.ranges[0] || range;
              editor.removeSelectionMarker(range);
            }
            editor.once("mouseup", function() {
              var tmpSel = selection.toOrientedRange();
              if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))
                selection.substractPoint(tmpSel.cursor);
              else {
                if (shift3) {
                  selection.substractPoint(range.cursor);
                } else if (range) {
                  editor.removeSelectionMarker(range);
                  selection.addRange(range);
                }
                selection.addRange(tmpSel);
              }
              editor.inVirtualSelectionMode = false;
            });
          } else if (selectionMode == "block") {
            e2.stop();
            editor.inVirtualSelectionMode = true;
            var initialRange;
            var rectSel = [];
            var blockSelect = function() {
              var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);
              var cursor2 = session.screenToDocumentPosition(newCursor.row, newCursor.column, newCursor.offsetX);
              if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor2, selection.lead))
                return;
              screenCursor = newCursor;
              editor.selection.moveToPosition(cursor2);
              editor.renderer.scrollCursorIntoView();
              editor.removeSelectionMarkers(rectSel);
              rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);
              if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty())
                rectSel[0] = editor.$mouseHandler.$clickSelection.clone();
              rectSel.forEach(editor.addSelectionMarker, editor);
              editor.updateSelectionMarkers();
            };
            if (isMultiSelect && !accel) {
              selection.toSingleRange();
            } else if (!isMultiSelect && accel) {
              initialRange = selection.toOrientedRange();
              editor.addSelectionMarker(initialRange);
            }
            if (shift3)
              screenAnchor = session.documentToScreenPosition(selection.lead);
            else
              selection.moveToPosition(pos);
            screenCursor = { row: -1, column: -1 };
            var onMouseSelectionEnd = function(e3) {
              blockSelect();
              clearInterval(timerId);
              editor.removeSelectionMarkers(rectSel);
              if (!rectSel.length)
                rectSel = [selection.toOrientedRange()];
              if (initialRange) {
                editor.removeSelectionMarker(initialRange);
                selection.toSingleRange(initialRange);
              }
              for (var i3 = 0; i3 < rectSel.length; i3++)
                selection.addRange(rectSel[i3]);
              editor.inVirtualSelectionMode = false;
              editor.$mouseHandler.$clickSelection = null;
            };
            var onSelectionInterval = blockSelect;
            event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);
            var timerId = setInterval(function() {
              onSelectionInterval();
            }, 20);
            return e2.preventDefault();
          }
        }
        exports2.onMouseDown = onMouseDown;
      });
      ace.define("ace/commands/multi_select_commands", ["require", "exports", "module", "ace/keyboard/hash_handler"], function(require2, exports2, module2) {
        exports2.defaultCommands = [{
          name: "addCursorAbove",
          description: "Add cursor above",
          exec: function(editor) {
            editor.selectMoreLines(-1);
          },
          bindKey: { win: "Ctrl-Alt-Up", mac: "Ctrl-Alt-Up" },
          scrollIntoView: "cursor",
          readOnly: true
        }, {
          name: "addCursorBelow",
          description: "Add cursor below",
          exec: function(editor) {
            editor.selectMoreLines(1);
          },
          bindKey: { win: "Ctrl-Alt-Down", mac: "Ctrl-Alt-Down" },
          scrollIntoView: "cursor",
          readOnly: true
        }, {
          name: "addCursorAboveSkipCurrent",
          description: "Add cursor above (skip current)",
          exec: function(editor) {
            editor.selectMoreLines(-1, true);
          },
          bindKey: { win: "Ctrl-Alt-Shift-Up", mac: "Ctrl-Alt-Shift-Up" },
          scrollIntoView: "cursor",
          readOnly: true
        }, {
          name: "addCursorBelowSkipCurrent",
          description: "Add cursor below (skip current)",
          exec: function(editor) {
            editor.selectMoreLines(1, true);
          },
          bindKey: { win: "Ctrl-Alt-Shift-Down", mac: "Ctrl-Alt-Shift-Down" },
          scrollIntoView: "cursor",
          readOnly: true
        }, {
          name: "selectMoreBefore",
          description: "Select more before",
          exec: function(editor) {
            editor.selectMore(-1);
          },
          bindKey: { win: "Ctrl-Alt-Left", mac: "Ctrl-Alt-Left" },
          scrollIntoView: "cursor",
          readOnly: true
        }, {
          name: "selectMoreAfter",
          description: "Select more after",
          exec: function(editor) {
            editor.selectMore(1);
          },
          bindKey: { win: "Ctrl-Alt-Right", mac: "Ctrl-Alt-Right" },
          scrollIntoView: "cursor",
          readOnly: true
        }, {
          name: "selectNextBefore",
          description: "Select next before",
          exec: function(editor) {
            editor.selectMore(-1, true);
          },
          bindKey: { win: "Ctrl-Alt-Shift-Left", mac: "Ctrl-Alt-Shift-Left" },
          scrollIntoView: "cursor",
          readOnly: true
        }, {
          name: "selectNextAfter",
          description: "Select next after",
          exec: function(editor) {
            editor.selectMore(1, true);
          },
          bindKey: { win: "Ctrl-Alt-Shift-Right", mac: "Ctrl-Alt-Shift-Right" },
          scrollIntoView: "cursor",
          readOnly: true
        }, {
          name: "toggleSplitSelectionIntoLines",
          description: "Split into lines",
          exec: function(editor) {
            if (editor.multiSelect.rangeCount > 1)
              editor.multiSelect.joinSelections();
            else
              editor.multiSelect.splitIntoLines();
          },
          bindKey: { win: "Ctrl-Alt-L", mac: "Ctrl-Alt-L" },
          readOnly: true
        }, {
          name: "splitSelectionIntoLines",
          description: "Split into lines",
          exec: function(editor) {
            editor.multiSelect.splitIntoLines();
          },
          readOnly: true
        }, {
          name: "alignCursors",
          description: "Align cursors",
          exec: function(editor) {
            editor.alignCursors();
          },
          bindKey: { win: "Ctrl-Alt-A", mac: "Ctrl-Alt-A" },
          scrollIntoView: "cursor"
        }, {
          name: "findAll",
          description: "Find all",
          exec: function(editor) {
            editor.findAll();
          },
          bindKey: { win: "Ctrl-Alt-K", mac: "Ctrl-Alt-G" },
          scrollIntoView: "cursor",
          readOnly: true
        }];
        exports2.multiSelectCommands = [{
          name: "singleSelection",
          description: "Single selection",
          bindKey: "esc",
          exec: function(editor) {
            editor.exitMultiSelectMode();
          },
          scrollIntoView: "cursor",
          readOnly: true,
          isAvailable: function(editor) {
            return editor && editor.inMultiSelectMode;
          }
        }];
        var HashHandler = require2("../keyboard/hash_handler").HashHandler;
        exports2.keyboardHandler = new HashHandler(exports2.multiSelectCommands);
      });
      ace.define("ace/multi_select", ["require", "exports", "module", "ace/range_list", "ace/range", "ace/selection", "ace/mouse/multi_select_handler", "ace/lib/event", "ace/lib/lang", "ace/commands/multi_select_commands", "ace/search", "ace/edit_session", "ace/editor", "ace/config"], function(require2, exports2, module2) {
        var RangeList = require2("./range_list").RangeList;
        var Range = require2("./range").Range;
        var Selection = require2("./selection").Selection;
        var onMouseDown = require2("./mouse/multi_select_handler").onMouseDown;
        var event = require2("./lib/event");
        var lang = require2("./lib/lang");
        var commands = require2("./commands/multi_select_commands");
        exports2.commands = commands.defaultCommands.concat(commands.multiSelectCommands);
        var Search = require2("./search").Search;
        var search = new Search();
        function find2(session, needle, dir) {
          search.$options.wrap = true;
          search.$options.needle = needle;
          search.$options.backwards = dir == -1;
          return search.find(session);
        }
        var EditSession = require2("./edit_session").EditSession;
        (function() {
          this.getSelectionMarkers = function() {
            return this.$selectionMarkers;
          };
        }).call(EditSession.prototype);
        (function() {
          this.ranges = null;
          this.rangeList = null;
          this.addRange = function(range, $blockChangeEvents) {
            if (!range)
              return;
            if (!this.inMultiSelectMode && this.rangeCount === 0) {
              var oldRange = this.toOrientedRange();
              this.rangeList.add(oldRange);
              this.rangeList.add(range);
              if (this.rangeList.ranges.length != 2) {
                this.rangeList.removeAll();
                return $blockChangeEvents || this.fromOrientedRange(range);
              }
              this.rangeList.removeAll();
              this.rangeList.add(oldRange);
              this.$onAddRange(oldRange);
            }
            if (!range.cursor)
              range.cursor = range.end;
            var removed = this.rangeList.add(range);
            this.$onAddRange(range);
            if (removed.length)
              this.$onRemoveRange(removed);
            if (this.rangeCount > 1 && !this.inMultiSelectMode) {
              this._signal("multiSelect");
              this.inMultiSelectMode = true;
              this.session.$undoSelect = false;
              this.rangeList.attach(this.session);
            }
            return $blockChangeEvents || this.fromOrientedRange(range);
          };
          this.toSingleRange = function(range) {
            range = range || this.ranges[0];
            var removed = this.rangeList.removeAll();
            if (removed.length)
              this.$onRemoveRange(removed);
            range && this.fromOrientedRange(range);
          };
          this.substractPoint = function(pos) {
            var removed = this.rangeList.substractPoint(pos);
            if (removed) {
              this.$onRemoveRange(removed);
              return removed[0];
            }
          };
          this.mergeOverlappingRanges = function() {
            var removed = this.rangeList.merge();
            if (removed.length)
              this.$onRemoveRange(removed);
          };
          this.$onAddRange = function(range) {
            this.rangeCount = this.rangeList.ranges.length;
            this.ranges.unshift(range);
            this._signal("addRange", { range });
          };
          this.$onRemoveRange = function(removed) {
            this.rangeCount = this.rangeList.ranges.length;
            if (this.rangeCount == 1 && this.inMultiSelectMode) {
              var lastRange = this.rangeList.ranges.pop();
              removed.push(lastRange);
              this.rangeCount = 0;
            }
            for (var i3 = removed.length; i3--; ) {
              var index2 = this.ranges.indexOf(removed[i3]);
              this.ranges.splice(index2, 1);
            }
            this._signal("removeRange", { ranges: removed });
            if (this.rangeCount === 0 && this.inMultiSelectMode) {
              this.inMultiSelectMode = false;
              this._signal("singleSelect");
              this.session.$undoSelect = true;
              this.rangeList.detach(this.session);
            }
            lastRange = lastRange || this.ranges[0];
            if (lastRange && !lastRange.isEqual(this.getRange()))
              this.fromOrientedRange(lastRange);
          };
          this.$initRangeList = function() {
            if (this.rangeList)
              return;
            this.rangeList = new RangeList();
            this.ranges = [];
            this.rangeCount = 0;
          };
          this.getAllRanges = function() {
            return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];
          };
          this.splitIntoLines = function() {
            var ranges = this.ranges.length ? this.ranges : [this.getRange()];
            var newRanges = [];
            for (var i3 = 0; i3 < ranges.length; i3++) {
              var range = ranges[i3];
              var row = range.start.row;
              var endRow = range.end.row;
              if (row === endRow) {
                newRanges.push(range.clone());
              } else {
                newRanges.push(new Range(row, range.start.column, row, this.session.getLine(row).length));
                while (++row < endRow)
                  newRanges.push(this.getLineRange(row, true));
                newRanges.push(new Range(endRow, 0, endRow, range.end.column));
              }
              if (i3 == 0 && !this.isBackwards())
                newRanges = newRanges.reverse();
            }
            this.toSingleRange();
            for (var i3 = newRanges.length; i3--; )
              this.addRange(newRanges[i3]);
          };
          this.joinSelections = function() {
            var ranges = this.rangeList.ranges;
            var lastRange = ranges[ranges.length - 1];
            var range = Range.fromPoints(ranges[0].start, lastRange.end);
            this.toSingleRange();
            this.setSelectionRange(range, lastRange.cursor == lastRange.start);
          };
          this.toggleBlockSelection = function() {
            if (this.rangeCount > 1) {
              var ranges = this.rangeList.ranges;
              var lastRange = ranges[ranges.length - 1];
              var range = Range.fromPoints(ranges[0].start, lastRange.end);
              this.toSingleRange();
              this.setSelectionRange(range, lastRange.cursor == lastRange.start);
            } else {
              var cursor = this.session.documentToScreenPosition(this.cursor);
              var anchor = this.session.documentToScreenPosition(this.anchor);
              var rectSel = this.rectangularRangeBlock(cursor, anchor);
              rectSel.forEach(this.addRange, this);
            }
          };
          this.rectangularRangeBlock = function(screenCursor, screenAnchor, includeEmptyLines) {
            var rectSel = [];
            var xBackwards = screenCursor.column < screenAnchor.column;
            if (xBackwards) {
              var startColumn = screenCursor.column;
              var endColumn = screenAnchor.column;
              var startOffsetX = screenCursor.offsetX;
              var endOffsetX = screenAnchor.offsetX;
            } else {
              var startColumn = screenAnchor.column;
              var endColumn = screenCursor.column;
              var startOffsetX = screenAnchor.offsetX;
              var endOffsetX = screenCursor.offsetX;
            }
            var yBackwards = screenCursor.row < screenAnchor.row;
            if (yBackwards) {
              var startRow = screenCursor.row;
              var endRow = screenAnchor.row;
            } else {
              var startRow = screenAnchor.row;
              var endRow = screenCursor.row;
            }
            if (startColumn < 0)
              startColumn = 0;
            if (startRow < 0)
              startRow = 0;
            if (startRow == endRow)
              includeEmptyLines = true;
            var docEnd;
            for (var row = startRow; row <= endRow; row++) {
              var range = Range.fromPoints(this.session.screenToDocumentPosition(row, startColumn, startOffsetX), this.session.screenToDocumentPosition(row, endColumn, endOffsetX));
              if (range.isEmpty()) {
                if (docEnd && isSamePoint(range.end, docEnd))
                  break;
                docEnd = range.end;
              }
              range.cursor = xBackwards ? range.start : range.end;
              rectSel.push(range);
            }
            if (yBackwards)
              rectSel.reverse();
            if (!includeEmptyLines) {
              var end3 = rectSel.length - 1;
              while (rectSel[end3].isEmpty() && end3 > 0)
                end3--;
              if (end3 > 0) {
                var start4 = 0;
                while (rectSel[start4].isEmpty())
                  start4++;
              }
              for (var i3 = end3; i3 >= start4; i3--) {
                if (rectSel[i3].isEmpty())
                  rectSel.splice(i3, 1);
              }
            }
            return rectSel;
          };
        }).call(Selection.prototype);
        var Editor = require2("./editor").Editor;
        (function() {
          this.updateSelectionMarkers = function() {
            this.renderer.updateCursor();
            this.renderer.updateBackMarkers();
          };
          this.addSelectionMarker = function(orientedRange) {
            if (!orientedRange.cursor)
              orientedRange.cursor = orientedRange.end;
            var style2 = this.getSelectionStyle();
            orientedRange.marker = this.session.addMarker(orientedRange, "ace_selection", style2);
            this.session.$selectionMarkers.push(orientedRange);
            this.session.selectionMarkerCount = this.session.$selectionMarkers.length;
            return orientedRange;
          };
          this.removeSelectionMarker = function(range) {
            if (!range.marker)
              return;
            this.session.removeMarker(range.marker);
            var index2 = this.session.$selectionMarkers.indexOf(range);
            if (index2 != -1)
              this.session.$selectionMarkers.splice(index2, 1);
            this.session.selectionMarkerCount = this.session.$selectionMarkers.length;
          };
          this.removeSelectionMarkers = function(ranges) {
            var markerList = this.session.$selectionMarkers;
            for (var i3 = ranges.length; i3--; ) {
              var range = ranges[i3];
              if (!range.marker)
                continue;
              this.session.removeMarker(range.marker);
              var index2 = markerList.indexOf(range);
              if (index2 != -1)
                markerList.splice(index2, 1);
            }
            this.session.selectionMarkerCount = markerList.length;
          };
          this.$onAddRange = function(e2) {
            this.addSelectionMarker(e2.range);
            this.renderer.updateCursor();
            this.renderer.updateBackMarkers();
          };
          this.$onRemoveRange = function(e2) {
            this.removeSelectionMarkers(e2.ranges);
            this.renderer.updateCursor();
            this.renderer.updateBackMarkers();
          };
          this.$onMultiSelect = function(e2) {
            if (this.inMultiSelectMode)
              return;
            this.inMultiSelectMode = true;
            this.setStyle("ace_multiselect");
            this.keyBinding.addKeyboardHandler(commands.keyboardHandler);
            this.commands.setDefaultHandler("exec", this.$onMultiSelectExec);
            this.renderer.updateCursor();
            this.renderer.updateBackMarkers();
          };
          this.$onSingleSelect = function(e2) {
            if (this.session.multiSelect.inVirtualMode)
              return;
            this.inMultiSelectMode = false;
            this.unsetStyle("ace_multiselect");
            this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);
            this.commands.removeDefaultHandler("exec", this.$onMultiSelectExec);
            this.renderer.updateCursor();
            this.renderer.updateBackMarkers();
            this._emit("changeSelection");
          };
          this.$onMultiSelectExec = function(e2) {
            var command = e2.command;
            var editor = e2.editor;
            if (!editor.multiSelect)
              return;
            if (!command.multiSelectAction) {
              var result = command.exec(editor, e2.args || {});
              editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());
              editor.multiSelect.mergeOverlappingRanges();
            } else if (command.multiSelectAction == "forEach") {
              result = editor.forEachSelection(command, e2.args);
            } else if (command.multiSelectAction == "forEachLine") {
              result = editor.forEachSelection(command, e2.args, true);
            } else if (command.multiSelectAction == "single") {
              editor.exitMultiSelectMode();
              result = command.exec(editor, e2.args || {});
            } else {
              result = command.multiSelectAction(editor, e2.args || {});
            }
            return result;
          };
          this.forEachSelection = function(cmd, args, options) {
            if (this.inVirtualSelectionMode)
              return;
            var keepOrder = options && options.keepOrder;
            var $byLines = options == true || options && options.$byLines;
            var session = this.session;
            var selection = this.selection;
            var rangeList = selection.rangeList;
            var ranges = (keepOrder ? selection : rangeList).ranges;
            var result;
            if (!ranges.length)
              return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});
            var reg = selection._eventRegistry;
            selection._eventRegistry = {};
            var tmpSel = new Selection(session);
            this.inVirtualSelectionMode = true;
            for (var i3 = ranges.length; i3--; ) {
              if ($byLines) {
                while (i3 > 0 && ranges[i3].start.row == ranges[i3 - 1].end.row)
                  i3--;
              }
              tmpSel.fromOrientedRange(ranges[i3]);
              tmpSel.index = i3;
              this.selection = session.selection = tmpSel;
              var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});
              if (!result && cmdResult !== void 0)
                result = cmdResult;
              tmpSel.toOrientedRange(ranges[i3]);
            }
            tmpSel.detach();
            this.selection = session.selection = selection;
            this.inVirtualSelectionMode = false;
            selection._eventRegistry = reg;
            selection.mergeOverlappingRanges();
            if (selection.ranges[0])
              selection.fromOrientedRange(selection.ranges[0]);
            var anim = this.renderer.$scrollAnimation;
            this.onCursorChange();
            this.onSelectionChange();
            if (anim && anim.from == anim.to)
              this.renderer.animateScrolling(anim.from);
            return result;
          };
          this.exitMultiSelectMode = function() {
            if (!this.inMultiSelectMode || this.inVirtualSelectionMode)
              return;
            this.multiSelect.toSingleRange();
          };
          this.getSelectedText = function() {
            var text = "";
            if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
              var ranges = this.multiSelect.rangeList.ranges;
              var buf = [];
              for (var i3 = 0; i3 < ranges.length; i3++) {
                buf.push(this.session.getTextRange(ranges[i3]));
              }
              var nl = this.session.getDocument().getNewLineCharacter();
              text = buf.join(nl);
              if (text.length == (buf.length - 1) * nl.length)
                text = "";
            } else if (!this.selection.isEmpty()) {
              text = this.session.getTextRange(this.getSelectionRange());
            }
            return text;
          };
          this.$checkMultiselectChange = function(e2, anchor) {
            if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
              var range = this.multiSelect.ranges[0];
              if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor)
                return;
              var pos = anchor == this.multiSelect.anchor ? range.cursor == range.start ? range.end : range.start : range.cursor;
              if (pos.row != anchor.row || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column)
                this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());
              else
                this.multiSelect.mergeOverlappingRanges();
            }
          };
          this.findAll = function(needle, options, additive) {
            options = options || {};
            options.needle = needle || options.needle;
            if (options.needle == void 0) {
              var range = this.selection.isEmpty() ? this.selection.getWordRange() : this.selection.getRange();
              options.needle = this.session.getTextRange(range);
            }
            this.$search.set(options);
            var ranges = this.$search.findAll(this.session);
            if (!ranges.length)
              return 0;
            var selection = this.multiSelect;
            if (!additive)
              selection.toSingleRange(ranges[0]);
            for (var i3 = ranges.length; i3--; )
              selection.addRange(ranges[i3], true);
            if (range && selection.rangeList.rangeAtPoint(range.start))
              selection.addRange(range, true);
            return ranges.length;
          };
          this.selectMoreLines = function(dir, skip) {
            var range = this.selection.toOrientedRange();
            var isBackwards = range.cursor == range.end;
            var screenLead = this.session.documentToScreenPosition(range.cursor);
            if (this.selection.$desiredColumn)
              screenLead.column = this.selection.$desiredColumn;
            var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);
            if (!range.isEmpty()) {
              var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);
              var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);
            } else {
              var anchor = lead;
            }
            if (isBackwards) {
              var newRange = Range.fromPoints(lead, anchor);
              newRange.cursor = newRange.start;
            } else {
              var newRange = Range.fromPoints(anchor, lead);
              newRange.cursor = newRange.end;
            }
            newRange.desiredColumn = screenLead.column;
            if (!this.selection.inMultiSelectMode) {
              this.selection.addRange(range);
            } else {
              if (skip)
                var toRemove = range.cursor;
            }
            this.selection.addRange(newRange);
            if (toRemove)
              this.selection.substractPoint(toRemove);
          };
          this.transposeSelections = function(dir) {
            var session = this.session;
            var sel = session.multiSelect;
            var all = sel.ranges;
            for (var i3 = all.length; i3--; ) {
              var range = all[i3];
              if (range.isEmpty()) {
                var tmp = session.getWordRange(range.start.row, range.start.column);
                range.start.row = tmp.start.row;
                range.start.column = tmp.start.column;
                range.end.row = tmp.end.row;
                range.end.column = tmp.end.column;
              }
            }
            sel.mergeOverlappingRanges();
            var words = [];
            for (var i3 = all.length; i3--; ) {
              var range = all[i3];
              words.unshift(session.getTextRange(range));
            }
            if (dir < 0)
              words.unshift(words.pop());
            else
              words.push(words.shift());
            for (var i3 = all.length; i3--; ) {
              var range = all[i3];
              var tmp = range.clone();
              session.replace(range, words[i3]);
              range.start.row = tmp.start.row;
              range.start.column = tmp.start.column;
            }
            sel.fromOrientedRange(sel.ranges[0]);
          };
          this.selectMore = function(dir, skip, stopAtFirst) {
            var session = this.session;
            var sel = session.multiSelect;
            var range = sel.toOrientedRange();
            if (range.isEmpty()) {
              range = session.getWordRange(range.start.row, range.start.column);
              range.cursor = dir == -1 ? range.start : range.end;
              this.multiSelect.addRange(range);
              if (stopAtFirst)
                return;
            }
            var needle = session.getTextRange(range);
            var newRange = find2(session, needle, dir);
            if (newRange) {
              newRange.cursor = dir == -1 ? newRange.start : newRange.end;
              this.session.unfold(newRange);
              this.multiSelect.addRange(newRange);
              this.renderer.scrollCursorIntoView(null, 0.5);
            }
            if (skip)
              this.multiSelect.substractPoint(range.cursor);
          };
          this.alignCursors = function() {
            var session = this.session;
            var sel = session.multiSelect;
            var ranges = sel.ranges;
            var row = -1;
            var sameRowRanges = ranges.filter(function(r2) {
              if (r2.cursor.row == row)
                return true;
              row = r2.cursor.row;
            });
            if (!ranges.length || sameRowRanges.length == ranges.length - 1) {
              var range = this.selection.getRange();
              var fr = range.start.row, lr = range.end.row;
              var guessRange = fr == lr;
              if (guessRange) {
                var max2 = this.session.getLength();
                var line;
                do {
                  line = this.session.getLine(lr);
                } while (/[=:]/.test(line) && ++lr < max2);
                do {
                  line = this.session.getLine(fr);
                } while (/[=:]/.test(line) && --fr > 0);
                if (fr < 0)
                  fr = 0;
                if (lr >= max2)
                  lr = max2 - 1;
              }
              var lines = this.session.removeFullLines(fr, lr);
              lines = this.$reAlignText(lines, guessRange);
              this.session.insert({ row: fr, column: 0 }, lines.join("\n") + "\n");
              if (!guessRange) {
                range.start.column = 0;
                range.end.column = lines[lines.length - 1].length;
              }
              this.selection.setRange(range);
            } else {
              sameRowRanges.forEach(function(r2) {
                sel.substractPoint(r2.cursor);
              });
              var maxCol = 0;
              var minSpace = Infinity;
              var spaceOffsets = ranges.map(function(r2) {
                var p3 = r2.cursor;
                var line2 = session.getLine(p3.row);
                var spaceOffset = line2.substr(p3.column).search(/\S/g);
                if (spaceOffset == -1)
                  spaceOffset = 0;
                if (p3.column > maxCol)
                  maxCol = p3.column;
                if (spaceOffset < minSpace)
                  minSpace = spaceOffset;
                return spaceOffset;
              });
              ranges.forEach(function(r2, i3) {
                var p3 = r2.cursor;
                var l3 = maxCol - p3.column;
                var d3 = spaceOffsets[i3] - minSpace;
                if (l3 > d3)
                  session.insert(p3, lang.stringRepeat(" ", l3 - d3));
                else
                  session.remove(new Range(p3.row, p3.column, p3.row, p3.column - l3 + d3));
                r2.start.column = r2.end.column = maxCol;
                r2.start.row = r2.end.row = p3.row;
                r2.cursor = r2.end;
              });
              sel.fromOrientedRange(ranges[0]);
              this.renderer.updateCursor();
              this.renderer.updateBackMarkers();
            }
          };
          this.$reAlignText = function(lines, forceLeft) {
            var isLeftAligned = true, isRightAligned = true;
            var startW, textW, endW;
            return lines.map(function(line) {
              var m2 = line.match(/(\s*)(.*?)(\s*)([=:].*)/);
              if (!m2)
                return [line];
              if (startW == null) {
                startW = m2[1].length;
                textW = m2[2].length;
                endW = m2[3].length;
                return m2;
              }
              if (startW + textW + endW != m2[1].length + m2[2].length + m2[3].length)
                isRightAligned = false;
              if (startW != m2[1].length)
                isLeftAligned = false;
              if (startW > m2[1].length)
                startW = m2[1].length;
              if (textW < m2[2].length)
                textW = m2[2].length;
              if (endW > m2[3].length)
                endW = m2[3].length;
              return m2;
            }).map(forceLeft ? alignLeft : isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);
            function spaces(n3) {
              return lang.stringRepeat(" ", n3);
            }
            function alignLeft(m2) {
              return !m2[2] ? m2[0] : spaces(startW) + m2[2] + spaces(textW - m2[2].length + endW) + m2[4].replace(/^([=:])\s+/, "$1 ");
            }
            function alignRight(m2) {
              return !m2[2] ? m2[0] : spaces(startW + textW - m2[2].length) + m2[2] + spaces(endW) + m2[4].replace(/^([=:])\s+/, "$1 ");
            }
            function unAlign(m2) {
              return !m2[2] ? m2[0] : spaces(startW) + m2[2] + spaces(endW) + m2[4].replace(/^([=:])\s+/, "$1 ");
            }
          };
        }).call(Editor.prototype);
        function isSamePoint(p1, p22) {
          return p1.row == p22.row && p1.column == p22.column;
        }
        exports2.onSessionChange = function(e2) {
          var session = e2.session;
          if (session && !session.multiSelect) {
            session.$selectionMarkers = [];
            session.selection.$initRangeList();
            session.multiSelect = session.selection;
          }
          this.multiSelect = session && session.multiSelect;
          var oldSession = e2.oldSession;
          if (oldSession) {
            oldSession.multiSelect.off("addRange", this.$onAddRange);
            oldSession.multiSelect.off("removeRange", this.$onRemoveRange);
            oldSession.multiSelect.off("multiSelect", this.$onMultiSelect);
            oldSession.multiSelect.off("singleSelect", this.$onSingleSelect);
            oldSession.multiSelect.lead.off("change", this.$checkMultiselectChange);
            oldSession.multiSelect.anchor.off("change", this.$checkMultiselectChange);
          }
          if (session) {
            session.multiSelect.on("addRange", this.$onAddRange);
            session.multiSelect.on("removeRange", this.$onRemoveRange);
            session.multiSelect.on("multiSelect", this.$onMultiSelect);
            session.multiSelect.on("singleSelect", this.$onSingleSelect);
            session.multiSelect.lead.on("change", this.$checkMultiselectChange);
            session.multiSelect.anchor.on("change", this.$checkMultiselectChange);
          }
          if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {
            if (session.selection.inMultiSelectMode)
              this.$onMultiSelect();
            else
              this.$onSingleSelect();
          }
        };
        function MultiSelect(editor) {
          if (editor.$multiselectOnSessionChange)
            return;
          editor.$onAddRange = editor.$onAddRange.bind(editor);
          editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);
          editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);
          editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);
          editor.$multiselectOnSessionChange = exports2.onSessionChange.bind(editor);
          editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);
          editor.$multiselectOnSessionChange(editor);
          editor.on("changeSession", editor.$multiselectOnSessionChange);
          editor.on("mousedown", onMouseDown);
          editor.commands.addCommands(commands.defaultCommands);
          addAltCursorListeners(editor);
        }
        function addAltCursorListeners(editor) {
          if (!editor.textInput)
            return;
          var el = editor.textInput.getElement();
          var altCursor = false;
          event.addListener(el, "keydown", function(e2) {
            var altDown = e2.keyCode == 18 && !(e2.ctrlKey || e2.shiftKey || e2.metaKey);
            if (editor.$blockSelectEnabled && altDown) {
              if (!altCursor) {
                editor.renderer.setMouseCursor("crosshair");
                altCursor = true;
              }
            } else if (altCursor) {
              reset();
            }
          }, editor);
          event.addListener(el, "keyup", reset, editor);
          event.addListener(el, "blur", reset, editor);
          function reset(e2) {
            if (altCursor) {
              editor.renderer.setMouseCursor("");
              altCursor = false;
            }
          }
        }
        exports2.MultiSelect = MultiSelect;
        require2("./config").defineOptions(Editor.prototype, "editor", {
          enableMultiselect: {
            set: function(val) {
              MultiSelect(this);
              if (val) {
                this.on("changeSession", this.$multiselectOnSessionChange);
                this.on("mousedown", onMouseDown);
              } else {
                this.off("changeSession", this.$multiselectOnSessionChange);
                this.off("mousedown", onMouseDown);
              }
            },
            value: true
          },
          enableBlockSelect: {
            set: function(val) {
              this.$blockSelectEnabled = val;
            },
            value: true
          }
        });
      });
      ace.define("ace/mode/folding/fold_mode", ["require", "exports", "module", "ace/range"], function(require2, exports2, module2) {
        "use strict";
        var Range = require2("../../range").Range;
        var FoldMode = exports2.FoldMode = function() {
        };
        (function() {
          this.foldingStartMarker = null;
          this.foldingStopMarker = null;
          this.getFoldWidget = function(session, foldStyle, row) {
            var line = session.getLine(row);
            if (this.foldingStartMarker.test(line))
              return "start";
            if (foldStyle == "markbeginend" && this.foldingStopMarker && this.foldingStopMarker.test(line))
              return "end";
            return "";
          };
          this.getFoldWidgetRange = function(session, foldStyle, row) {
            return null;
          };
          this.indentationBlock = function(session, row, column) {
            var re = /\S/;
            var line = session.getLine(row);
            var startLevel = line.search(re);
            if (startLevel == -1)
              return;
            var startColumn = column || line.length;
            var maxRow = session.getLength();
            var startRow = row;
            var endRow = row;
            while (++row < maxRow) {
              var level = session.getLine(row).search(re);
              if (level == -1)
                continue;
              if (level <= startLevel) {
                var token = session.getTokenAt(row, 0);
                if (!token || token.type !== "string")
                  break;
              }
              endRow = row;
            }
            if (endRow > startRow) {
              var endColumn = session.getLine(endRow).length;
              return new Range(startRow, startColumn, endRow, endColumn);
            }
          };
          this.openingBracketBlock = function(session, bracket, row, column, typeRe) {
            var start4 = { row, column: column + 1 };
            var end3 = session.$findClosingBracket(bracket, start4, typeRe);
            if (!end3)
              return;
            var fw = session.foldWidgets[end3.row];
            if (fw == null)
              fw = session.getFoldWidget(end3.row);
            if (fw == "start" && end3.row > start4.row) {
              end3.row--;
              end3.column = session.getLine(end3.row).length;
            }
            return Range.fromPoints(start4, end3);
          };
          this.closingBracketBlock = function(session, bracket, row, column, typeRe) {
            var end3 = { row, column };
            var start4 = session.$findOpeningBracket(bracket, end3);
            if (!start4)
              return;
            start4.column++;
            end3.column--;
            return Range.fromPoints(start4, end3);
          };
        }).call(FoldMode.prototype);
      });
      ace.define("ace/theme/textmate", ["require", "exports", "module", "ace/lib/dom"], function(require2, exports2, module2) {
        "use strict";
        exports2.isDark = false;
        exports2.cssClass = "ace-tm";
        exports2.cssText = '.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';
        exports2.$id = "ace/theme/textmate";
        var dom = require2("../lib/dom");
        dom.importCssString(exports2.cssText, exports2.cssClass, false);
      });
      ace.define("ace/line_widgets", ["require", "exports", "module", "ace/lib/dom"], function(require2, exports2, module2) {
        "use strict";
        var dom = require2("./lib/dom");
        function LineWidgets(session) {
          this.session = session;
          this.session.widgetManager = this;
          this.session.getRowLength = this.getRowLength;
          this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;
          this.updateOnChange = this.updateOnChange.bind(this);
          this.renderWidgets = this.renderWidgets.bind(this);
          this.measureWidgets = this.measureWidgets.bind(this);
          this.session._changedWidgets = [];
          this.$onChangeEditor = this.$onChangeEditor.bind(this);
          this.session.on("change", this.updateOnChange);
          this.session.on("changeFold", this.updateOnFold);
          this.session.on("changeEditor", this.$onChangeEditor);
        }
        (function() {
          this.getRowLength = function(row) {
            var h3;
            if (this.lineWidgets)
              h3 = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;
            else
              h3 = 0;
            if (!this.$useWrapMode || !this.$wrapData[row]) {
              return 1 + h3;
            } else {
              return this.$wrapData[row].length + 1 + h3;
            }
          };
          this.$getWidgetScreenLength = function() {
            var screenRows = 0;
            this.lineWidgets.forEach(function(w2) {
              if (w2 && w2.rowCount && !w2.hidden)
                screenRows += w2.rowCount;
            });
            return screenRows;
          };
          this.$onChangeEditor = function(e2) {
            this.attach(e2.editor);
          };
          this.attach = function(editor) {
            if (editor && editor.widgetManager && editor.widgetManager != this)
              editor.widgetManager.detach();
            if (this.editor == editor)
              return;
            this.detach();
            this.editor = editor;
            if (editor) {
              editor.widgetManager = this;
              editor.renderer.on("beforeRender", this.measureWidgets);
              editor.renderer.on("afterRender", this.renderWidgets);
            }
          };
          this.detach = function(e2) {
            var editor = this.editor;
            if (!editor)
              return;
            this.editor = null;
            editor.widgetManager = null;
            editor.renderer.off("beforeRender", this.measureWidgets);
            editor.renderer.off("afterRender", this.renderWidgets);
            var lineWidgets = this.session.lineWidgets;
            lineWidgets && lineWidgets.forEach(function(w2) {
              if (w2 && w2.el && w2.el.parentNode) {
                w2._inDocument = false;
                w2.el.parentNode.removeChild(w2.el);
              }
            });
          };
          this.updateOnFold = function(e2, session) {
            var lineWidgets = session.lineWidgets;
            if (!lineWidgets || !e2.action)
              return;
            var fold = e2.data;
            var start4 = fold.start.row;
            var end3 = fold.end.row;
            var hide2 = e2.action == "add";
            for (var i3 = start4 + 1; i3 < end3; i3++) {
              if (lineWidgets[i3])
                lineWidgets[i3].hidden = hide2;
            }
            if (lineWidgets[end3]) {
              if (hide2) {
                if (!lineWidgets[start4])
                  lineWidgets[start4] = lineWidgets[end3];
                else
                  lineWidgets[end3].hidden = hide2;
              } else {
                if (lineWidgets[start4] == lineWidgets[end3])
                  lineWidgets[start4] = void 0;
                lineWidgets[end3].hidden = hide2;
              }
            }
          };
          this.updateOnChange = function(delta) {
            var lineWidgets = this.session.lineWidgets;
            if (!lineWidgets)
              return;
            var startRow = delta.start.row;
            var len = delta.end.row - startRow;
            if (len === 0) {
            } else if (delta.action == "remove") {
              var removed = lineWidgets.splice(startRow + 1, len);
              if (!lineWidgets[startRow] && removed[removed.length - 1]) {
                lineWidgets[startRow] = removed.pop();
              }
              removed.forEach(function(w2) {
                w2 && this.removeLineWidget(w2);
              }, this);
              this.$updateRows();
            } else {
              var args = new Array(len);
              if (lineWidgets[startRow] && lineWidgets[startRow].column != null) {
                if (delta.start.column > lineWidgets[startRow].column)
                  startRow++;
              }
              args.unshift(startRow, 0);
              lineWidgets.splice.apply(lineWidgets, args);
              this.$updateRows();
            }
          };
          this.$updateRows = function() {
            var lineWidgets = this.session.lineWidgets;
            if (!lineWidgets)
              return;
            var noWidgets = true;
            lineWidgets.forEach(function(w2, i3) {
              if (w2) {
                noWidgets = false;
                w2.row = i3;
                while (w2.$oldWidget) {
                  w2.$oldWidget.row = i3;
                  w2 = w2.$oldWidget;
                }
              }
            });
            if (noWidgets)
              this.session.lineWidgets = null;
          };
          this.$registerLineWidget = function(w2) {
            if (!this.session.lineWidgets)
              this.session.lineWidgets = new Array(this.session.getLength());
            var old = this.session.lineWidgets[w2.row];
            if (old) {
              w2.$oldWidget = old;
              if (old.el && old.el.parentNode) {
                old.el.parentNode.removeChild(old.el);
                old._inDocument = false;
              }
            }
            this.session.lineWidgets[w2.row] = w2;
            return w2;
          };
          this.addLineWidget = function(w2) {
            this.$registerLineWidget(w2);
            w2.session = this.session;
            if (!this.editor)
              return w2;
            var renderer = this.editor.renderer;
            if (w2.html && !w2.el) {
              w2.el = dom.createElement("div");
              w2.el.innerHTML = w2.html;
            }
            if (w2.el) {
              dom.addCssClass(w2.el, "ace_lineWidgetContainer");
              w2.el.style.position = "absolute";
              w2.el.style.zIndex = 5;
              renderer.container.appendChild(w2.el);
              w2._inDocument = true;
              if (!w2.coverGutter) {
                w2.el.style.zIndex = 3;
              }
              if (w2.pixelHeight == null) {
                w2.pixelHeight = w2.el.offsetHeight;
              }
            }
            if (w2.rowCount == null) {
              w2.rowCount = w2.pixelHeight / renderer.layerConfig.lineHeight;
            }
            var fold = this.session.getFoldAt(w2.row, 0);
            w2.$fold = fold;
            if (fold) {
              var lineWidgets = this.session.lineWidgets;
              if (w2.row == fold.end.row && !lineWidgets[fold.start.row])
                lineWidgets[fold.start.row] = w2;
              else
                w2.hidden = true;
            }
            this.session._emit("changeFold", { data: { start: { row: w2.row } } });
            this.$updateRows();
            this.renderWidgets(null, renderer);
            this.onWidgetChanged(w2);
            return w2;
          };
          this.removeLineWidget = function(w2) {
            w2._inDocument = false;
            w2.session = null;
            if (w2.el && w2.el.parentNode)
              w2.el.parentNode.removeChild(w2.el);
            if (w2.editor && w2.editor.destroy)
              try {
                w2.editor.destroy();
              } catch (e2) {
              }
            if (this.session.lineWidgets) {
              var w1 = this.session.lineWidgets[w2.row];
              if (w1 == w2) {
                this.session.lineWidgets[w2.row] = w2.$oldWidget;
                if (w2.$oldWidget)
                  this.onWidgetChanged(w2.$oldWidget);
              } else {
                while (w1) {
                  if (w1.$oldWidget == w2) {
                    w1.$oldWidget = w2.$oldWidget;
                    break;
                  }
                  w1 = w1.$oldWidget;
                }
              }
            }
            this.session._emit("changeFold", { data: { start: { row: w2.row } } });
            this.$updateRows();
          };
          this.getWidgetsAtRow = function(row) {
            var lineWidgets = this.session.lineWidgets;
            var w2 = lineWidgets && lineWidgets[row];
            var list = [];
            while (w2) {
              list.push(w2);
              w2 = w2.$oldWidget;
            }
            return list;
          };
          this.onWidgetChanged = function(w2) {
            this.session._changedWidgets.push(w2);
            this.editor && this.editor.renderer.updateFull();
          };
          this.measureWidgets = function(e2, renderer) {
            var changedWidgets = this.session._changedWidgets;
            var config2 = renderer.layerConfig;
            if (!changedWidgets || !changedWidgets.length)
              return;
            var min2 = Infinity;
            for (var i3 = 0; i3 < changedWidgets.length; i3++) {
              var w2 = changedWidgets[i3];
              if (!w2 || !w2.el)
                continue;
              if (w2.session != this.session)
                continue;
              if (!w2._inDocument) {
                if (this.session.lineWidgets[w2.row] != w2)
                  continue;
                w2._inDocument = true;
                renderer.container.appendChild(w2.el);
              }
              w2.h = w2.el.offsetHeight;
              if (!w2.fixedWidth) {
                w2.w = w2.el.offsetWidth;
                w2.screenWidth = Math.ceil(w2.w / config2.characterWidth);
              }
              var rowCount = w2.h / config2.lineHeight;
              if (w2.coverLine) {
                rowCount -= this.session.getRowLineCount(w2.row);
                if (rowCount < 0)
                  rowCount = 0;
              }
              if (w2.rowCount != rowCount) {
                w2.rowCount = rowCount;
                if (w2.row < min2)
                  min2 = w2.row;
              }
            }
            if (min2 != Infinity) {
              this.session._emit("changeFold", { data: { start: { row: min2 } } });
              this.session.lineWidgetWidth = null;
            }
            this.session._changedWidgets = [];
          };
          this.renderWidgets = function(e2, renderer) {
            var config2 = renderer.layerConfig;
            var lineWidgets = this.session.lineWidgets;
            if (!lineWidgets)
              return;
            var first = Math.min(this.firstRow, config2.firstRow);
            var last = Math.max(this.lastRow, config2.lastRow, lineWidgets.length);
            while (first > 0 && !lineWidgets[first])
              first--;
            this.firstRow = config2.firstRow;
            this.lastRow = config2.lastRow;
            renderer.$cursorLayer.config = config2;
            for (var i3 = first; i3 <= last; i3++) {
              var w2 = lineWidgets[i3];
              if (!w2 || !w2.el)
                continue;
              if (w2.hidden) {
                w2.el.style.top = -100 - (w2.pixelHeight || 0) + "px";
                continue;
              }
              if (!w2._inDocument) {
                w2._inDocument = true;
                renderer.container.appendChild(w2.el);
              }
              var top2 = renderer.$cursorLayer.getPixelPosition({ row: i3, column: 0 }, true).top;
              if (!w2.coverLine)
                top2 += config2.lineHeight * this.session.getRowLineCount(w2.row);
              w2.el.style.top = top2 - config2.offset + "px";
              var left2 = w2.coverGutter ? 0 : renderer.gutterWidth;
              if (!w2.fixedWidth)
                left2 -= renderer.scrollLeft;
              w2.el.style.left = left2 + "px";
              if (w2.fullWidth && w2.screenWidth) {
                w2.el.style.minWidth = config2.width + 2 * config2.padding + "px";
              }
              if (w2.fixedWidth) {
                w2.el.style.right = renderer.scrollBar.getWidth() + "px";
              } else {
                w2.el.style.right = "";
              }
            }
          };
        }).call(LineWidgets.prototype);
        exports2.LineWidgets = LineWidgets;
      });
      ace.define("ace/ext/error_marker", ["require", "exports", "module", "ace/line_widgets", "ace/lib/dom", "ace/range"], function(require2, exports2, module2) {
        "use strict";
        var LineWidgets = require2("../line_widgets").LineWidgets;
        var dom = require2("../lib/dom");
        var Range = require2("../range").Range;
        function binarySearch(array, needle, comparator) {
          var first = 0;
          var last = array.length - 1;
          while (first <= last) {
            var mid = first + last >> 1;
            var c3 = comparator(needle, array[mid]);
            if (c3 > 0)
              first = mid + 1;
            else if (c3 < 0)
              last = mid - 1;
            else
              return mid;
          }
          return -(first + 1);
        }
        function findAnnotations(session, row, dir) {
          var annotations = session.getAnnotations().sort(Range.comparePoints);
          if (!annotations.length)
            return;
          var i3 = binarySearch(annotations, { row, column: -1 }, Range.comparePoints);
          if (i3 < 0)
            i3 = -i3 - 1;
          if (i3 >= annotations.length)
            i3 = dir > 0 ? 0 : annotations.length - 1;
          else if (i3 === 0 && dir < 0)
            i3 = annotations.length - 1;
          var annotation = annotations[i3];
          if (!annotation || !dir)
            return;
          if (annotation.row === row) {
            do {
              annotation = annotations[i3 += dir];
            } while (annotation && annotation.row === row);
            if (!annotation)
              return annotations.slice();
          }
          var matched = [];
          row = annotation.row;
          do {
            matched[dir < 0 ? "unshift" : "push"](annotation);
            annotation = annotations[i3 += dir];
          } while (annotation && annotation.row == row);
          return matched.length && matched;
        }
        exports2.showErrorMarker = function(editor, dir) {
          var session = editor.session;
          if (!session.widgetManager) {
            session.widgetManager = new LineWidgets(session);
            session.widgetManager.attach(editor);
          }
          var pos = editor.getCursorPosition();
          var row = pos.row;
          var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function(w3) {
            return w3.type == "errorMarker";
          })[0];
          if (oldWidget) {
            oldWidget.destroy();
          } else {
            row -= dir;
          }
          var annotations = findAnnotations(session, row, dir);
          var gutterAnno;
          if (annotations) {
            var annotation = annotations[0];
            pos.column = (annotation.pos && typeof annotation.column != "number" ? annotation.pos.sc : annotation.column) || 0;
            pos.row = annotation.row;
            gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];
          } else if (oldWidget) {
            return;
          } else {
            gutterAnno = {
              text: ["Looks good!"],
              className: "ace_ok"
            };
          }
          editor.session.unfold(pos.row);
          editor.selection.moveToPosition(pos);
          var w2 = {
            row: pos.row,
            fixedWidth: true,
            coverGutter: true,
            el: dom.createElement("div"),
            type: "errorMarker"
          };
          var el = w2.el.appendChild(dom.createElement("div"));
          var arrow2 = w2.el.appendChild(dom.createElement("div"));
          arrow2.className = "error_widget_arrow " + gutterAnno.className;
          var left2 = editor.renderer.$cursorLayer.getPixelPosition(pos).left;
          arrow2.style.left = left2 + editor.renderer.gutterWidth - 5 + "px";
          w2.el.className = "error_widget_wrapper";
          el.className = "error_widget " + gutterAnno.className;
          el.innerHTML = gutterAnno.text.join("<br>");
          el.appendChild(dom.createElement("div"));
          var kb = function(_2, hashId, keyString) {
            if (hashId === 0 && (keyString === "esc" || keyString === "return")) {
              w2.destroy();
              return { command: "null" };
            }
          };
          w2.destroy = function() {
            if (editor.$mouseHandler.isMousePressed)
              return;
            editor.keyBinding.removeKeyboardHandler(kb);
            session.widgetManager.removeLineWidget(w2);
            editor.off("changeSelection", w2.destroy);
            editor.off("changeSession", w2.destroy);
            editor.off("mouseup", w2.destroy);
            editor.off("change", w2.destroy);
          };
          editor.keyBinding.addKeyboardHandler(kb);
          editor.on("changeSelection", w2.destroy);
          editor.on("changeSession", w2.destroy);
          editor.on("mouseup", w2.destroy);
          editor.on("change", w2.destroy);
          editor.session.widgetManager.addLineWidget(w2);
          w2.el.onmousedown = editor.focus.bind(editor);
          editor.renderer.scrollCursorIntoView(null, 0.5, { bottom: w2.el.offsetHeight });
        };
        dom.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }", "error_marker.css", false);
      });
      ace.define("ace/ace", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/dom", "ace/lib/event", "ace/range", "ace/editor", "ace/edit_session", "ace/undomanager", "ace/virtual_renderer", "ace/worker/worker_client", "ace/keyboard/hash_handler", "ace/placeholder", "ace/multi_select", "ace/mode/folding/fold_mode", "ace/theme/textmate", "ace/ext/error_marker", "ace/config"], function(require2, exports2, module2) {
        "use strict";
        require2("./lib/fixoldbrowsers");
        var dom = require2("./lib/dom");
        var event = require2("./lib/event");
        var Range = require2("./range").Range;
        var Editor = require2("./editor").Editor;
        var EditSession = require2("./edit_session").EditSession;
        var UndoManager = require2("./undomanager").UndoManager;
        var Renderer = require2("./virtual_renderer").VirtualRenderer;
        require2("./worker/worker_client");
        require2("./keyboard/hash_handler");
        require2("./placeholder");
        require2("./multi_select");
        require2("./mode/folding/fold_mode");
        require2("./theme/textmate");
        require2("./ext/error_marker");
        exports2.config = require2("./config");
        exports2.require = require2;
        if (typeof define === "function")
          exports2.define = define;
        exports2.edit = function(el, options) {
          if (typeof el == "string") {
            var _id = el;
            el = document.getElementById(_id);
            if (!el)
              throw new Error("ace.edit can't find div #" + _id);
          }
          if (el && el.env && el.env.editor instanceof Editor)
            return el.env.editor;
          var value = "";
          if (el && /input|textarea/i.test(el.tagName)) {
            var oldNode = el;
            value = oldNode.value;
            el = dom.createElement("pre");
            oldNode.parentNode.replaceChild(el, oldNode);
          } else if (el) {
            value = el.textContent;
            el.innerHTML = "";
          }
          var doc = exports2.createEditSession(value);
          var editor = new Editor(new Renderer(el), doc, options);
          var env = {
            document: doc,
            editor,
            onResize: editor.resize.bind(editor, null)
          };
          if (oldNode)
            env.textarea = oldNode;
          event.addListener(window, "resize", env.onResize);
          editor.on("destroy", function() {
            event.removeListener(window, "resize", env.onResize);
            env.editor.container.env = null;
          });
          editor.container.env = editor.env = env;
          return editor;
        };
        exports2.createEditSession = function(text, mode) {
          var doc = new EditSession(text, mode);
          doc.setUndoManager(new UndoManager());
          return doc;
        };
        exports2.Range = Range;
        exports2.Editor = Editor;
        exports2.EditSession = EditSession;
        exports2.UndoManager = UndoManager;
        exports2.VirtualRenderer = Renderer;
        exports2.version = exports2.config.version;
      });
      (function() {
        ace.require(["ace/ace"], function(a3) {
          if (a3) {
            a3.config.init(true);
            a3.define = ace.define;
          }
          if (!window.ace)
            window.ace = a3;
          for (var key in a3)
            if (a3.hasOwnProperty(key))
              window.ace[key] = a3[key];
          window.ace["default"] = window.ace;
          if (typeof module == "object" && typeof exports == "object" && module) {
            module.exports = window.ace;
          }
        });
      })();
    }
  });

  // ../../node_modules/lodash.isequal/index.js
  var require_lodash = __commonJS({
    "../../node_modules/lodash.isequal/index.js"(exports, module) {
      var LARGE_ARRAY_SIZE = 200;
      var HASH_UNDEFINED = "__lodash_hash_undefined__";
      var COMPARE_PARTIAL_FLAG = 1;
      var COMPARE_UNORDERED_FLAG = 2;
      var MAX_SAFE_INTEGER = 9007199254740991;
      var argsTag = "[object Arguments]";
      var arrayTag = "[object Array]";
      var asyncTag = "[object AsyncFunction]";
      var boolTag = "[object Boolean]";
      var dateTag = "[object Date]";
      var errorTag = "[object Error]";
      var funcTag = "[object Function]";
      var genTag = "[object GeneratorFunction]";
      var mapTag = "[object Map]";
      var numberTag = "[object Number]";
      var nullTag = "[object Null]";
      var objectTag = "[object Object]";
      var promiseTag = "[object Promise]";
      var proxyTag = "[object Proxy]";
      var regexpTag = "[object RegExp]";
      var setTag = "[object Set]";
      var stringTag = "[object String]";
      var symbolTag = "[object Symbol]";
      var undefinedTag = "[object Undefined]";
      var weakMapTag = "[object WeakMap]";
      var arrayBufferTag = "[object ArrayBuffer]";
      var dataViewTag = "[object DataView]";
      var float32Tag = "[object Float32Array]";
      var float64Tag = "[object Float64Array]";
      var int8Tag = "[object Int8Array]";
      var int16Tag = "[object Int16Array]";
      var int32Tag = "[object Int32Array]";
      var uint8Tag = "[object Uint8Array]";
      var uint8ClampedTag = "[object Uint8ClampedArray]";
      var uint16Tag = "[object Uint16Array]";
      var uint32Tag = "[object Uint32Array]";
      var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;
      var reIsHostCtor = /^\[object .+?Constructor\]$/;
      var reIsUint = /^(?:0|[1-9]\d*)$/;
      var typedArrayTags = {};
      typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;
      typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;
      var freeGlobal = typeof global == "object" && global && global.Object === Object && global;
      var freeSelf = typeof self == "object" && self && self.Object === Object && self;
      var root = freeGlobal || freeSelf || Function("return this")();
      var freeExports = typeof exports == "object" && exports && !exports.nodeType && exports;
      var freeModule = freeExports && typeof module == "object" && module && !module.nodeType && module;
      var moduleExports = freeModule && freeModule.exports === freeExports;
      var freeProcess = moduleExports && freeGlobal.process;
      var nodeUtil = function() {
        try {
          return freeProcess && freeProcess.binding && freeProcess.binding("util");
        } catch (e2) {
        }
      }();
      var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;
      function arrayFilter(array, predicate) {
        var index2 = -1, length = array == null ? 0 : array.length, resIndex = 0, result = [];
        while (++index2 < length) {
          var value = array[index2];
          if (predicate(value, index2, array)) {
            result[resIndex++] = value;
          }
        }
        return result;
      }
      function arrayPush(array, values2) {
        var index2 = -1, length = values2.length, offset4 = array.length;
        while (++index2 < length) {
          array[offset4 + index2] = values2[index2];
        }
        return array;
      }
      function arraySome(array, predicate) {
        var index2 = -1, length = array == null ? 0 : array.length;
        while (++index2 < length) {
          if (predicate(array[index2], index2, array)) {
            return true;
          }
        }
        return false;
      }
      function baseTimes(n3, iteratee) {
        var index2 = -1, result = Array(n3);
        while (++index2 < n3) {
          result[index2] = iteratee(index2);
        }
        return result;
      }
      function baseUnary(func) {
        return function(value) {
          return func(value);
        };
      }
      function cacheHas(cache, key) {
        return cache.has(key);
      }
      function getValue2(object, key) {
        return object == null ? void 0 : object[key];
      }
      function mapToArray(map) {
        var index2 = -1, result = Array(map.size);
        map.forEach(function(value, key) {
          result[++index2] = [key, value];
        });
        return result;
      }
      function overArg(func, transform) {
        return function(arg) {
          return func(transform(arg));
        };
      }
      function setToArray(set) {
        var index2 = -1, result = Array(set.size);
        set.forEach(function(value) {
          result[++index2] = value;
        });
        return result;
      }
      var arrayProto = Array.prototype;
      var funcProto = Function.prototype;
      var objectProto = Object.prototype;
      var coreJsData = root["__core-js_shared__"];
      var funcToString = funcProto.toString;
      var hasOwnProperty2 = objectProto.hasOwnProperty;
      var maskSrcKey = function() {
        var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || "");
        return uid ? "Symbol(src)_1." + uid : "";
      }();
      var nativeObjectToString = objectProto.toString;
      var reIsNative = RegExp("^" + funcToString.call(hasOwnProperty2).replace(reRegExpChar, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
      var Buffer2 = moduleExports ? root.Buffer : void 0;
      var Symbol2 = root.Symbol;
      var Uint8Array2 = root.Uint8Array;
      var propertyIsEnumerable = objectProto.propertyIsEnumerable;
      var splice = arrayProto.splice;
      var symToStringTag = Symbol2 ? Symbol2.toStringTag : void 0;
      var nativeGetSymbols = Object.getOwnPropertySymbols;
      var nativeIsBuffer = Buffer2 ? Buffer2.isBuffer : void 0;
      var nativeKeys = overArg(Object.keys, Object);
      var DataView = getNative(root, "DataView");
      var Map2 = getNative(root, "Map");
      var Promise2 = getNative(root, "Promise");
      var Set2 = getNative(root, "Set");
      var WeakMap2 = getNative(root, "WeakMap");
      var nativeCreate = getNative(Object, "create");
      var dataViewCtorString = toSource(DataView);
      var mapCtorString = toSource(Map2);
      var promiseCtorString = toSource(Promise2);
      var setCtorString = toSource(Set2);
      var weakMapCtorString = toSource(WeakMap2);
      var symbolProto = Symbol2 ? Symbol2.prototype : void 0;
      var symbolValueOf = symbolProto ? symbolProto.valueOf : void 0;
      function Hash(entries) {
        var index2 = -1, length = entries == null ? 0 : entries.length;
        this.clear();
        while (++index2 < length) {
          var entry = entries[index2];
          this.set(entry[0], entry[1]);
        }
      }
      function hashClear() {
        this.__data__ = nativeCreate ? nativeCreate(null) : {};
        this.size = 0;
      }
      function hashDelete(key) {
        var result = this.has(key) && delete this.__data__[key];
        this.size -= result ? 1 : 0;
        return result;
      }
      function hashGet(key) {
        var data = this.__data__;
        if (nativeCreate) {
          var result = data[key];
          return result === HASH_UNDEFINED ? void 0 : result;
        }
        return hasOwnProperty2.call(data, key) ? data[key] : void 0;
      }
      function hashHas(key) {
        var data = this.__data__;
        return nativeCreate ? data[key] !== void 0 : hasOwnProperty2.call(data, key);
      }
      function hashSet(key, value) {
        var data = this.__data__;
        this.size += this.has(key) ? 0 : 1;
        data[key] = nativeCreate && value === void 0 ? HASH_UNDEFINED : value;
        return this;
      }
      Hash.prototype.clear = hashClear;
      Hash.prototype["delete"] = hashDelete;
      Hash.prototype.get = hashGet;
      Hash.prototype.has = hashHas;
      Hash.prototype.set = hashSet;
      function ListCache(entries) {
        var index2 = -1, length = entries == null ? 0 : entries.length;
        this.clear();
        while (++index2 < length) {
          var entry = entries[index2];
          this.set(entry[0], entry[1]);
        }
      }
      function listCacheClear() {
        this.__data__ = [];
        this.size = 0;
      }
      function listCacheDelete(key) {
        var data = this.__data__, index2 = assocIndexOf(data, key);
        if (index2 < 0) {
          return false;
        }
        var lastIndex = data.length - 1;
        if (index2 == lastIndex) {
          data.pop();
        } else {
          splice.call(data, index2, 1);
        }
        --this.size;
        return true;
      }
      function listCacheGet(key) {
        var data = this.__data__, index2 = assocIndexOf(data, key);
        return index2 < 0 ? void 0 : data[index2][1];
      }
      function listCacheHas(key) {
        return assocIndexOf(this.__data__, key) > -1;
      }
      function listCacheSet(key, value) {
        var data = this.__data__, index2 = assocIndexOf(data, key);
        if (index2 < 0) {
          ++this.size;
          data.push([key, value]);
        } else {
          data[index2][1] = value;
        }
        return this;
      }
      ListCache.prototype.clear = listCacheClear;
      ListCache.prototype["delete"] = listCacheDelete;
      ListCache.prototype.get = listCacheGet;
      ListCache.prototype.has = listCacheHas;
      ListCache.prototype.set = listCacheSet;
      function MapCache(entries) {
        var index2 = -1, length = entries == null ? 0 : entries.length;
        this.clear();
        while (++index2 < length) {
          var entry = entries[index2];
          this.set(entry[0], entry[1]);
        }
      }
      function mapCacheClear() {
        this.size = 0;
        this.__data__ = {
          "hash": new Hash(),
          "map": new (Map2 || ListCache)(),
          "string": new Hash()
        };
      }
      function mapCacheDelete(key) {
        var result = getMapData(this, key)["delete"](key);
        this.size -= result ? 1 : 0;
        return result;
      }
      function mapCacheGet(key) {
        return getMapData(this, key).get(key);
      }
      function mapCacheHas(key) {
        return getMapData(this, key).has(key);
      }
      function mapCacheSet(key, value) {
        var data = getMapData(this, key), size = data.size;
        data.set(key, value);
        this.size += data.size == size ? 0 : 1;
        return this;
      }
      MapCache.prototype.clear = mapCacheClear;
      MapCache.prototype["delete"] = mapCacheDelete;
      MapCache.prototype.get = mapCacheGet;
      MapCache.prototype.has = mapCacheHas;
      MapCache.prototype.set = mapCacheSet;
      function SetCache(values2) {
        var index2 = -1, length = values2 == null ? 0 : values2.length;
        this.__data__ = new MapCache();
        while (++index2 < length) {
          this.add(values2[index2]);
        }
      }
      function setCacheAdd(value) {
        this.__data__.set(value, HASH_UNDEFINED);
        return this;
      }
      function setCacheHas(value) {
        return this.__data__.has(value);
      }
      SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;
      SetCache.prototype.has = setCacheHas;
      function Stack(entries) {
        var data = this.__data__ = new ListCache(entries);
        this.size = data.size;
      }
      function stackClear() {
        this.__data__ = new ListCache();
        this.size = 0;
      }
      function stackDelete(key) {
        var data = this.__data__, result = data["delete"](key);
        this.size = data.size;
        return result;
      }
      function stackGet(key) {
        return this.__data__.get(key);
      }
      function stackHas(key) {
        return this.__data__.has(key);
      }
      function stackSet(key, value) {
        var data = this.__data__;
        if (data instanceof ListCache) {
          var pairs = data.__data__;
          if (!Map2 || pairs.length < LARGE_ARRAY_SIZE - 1) {
            pairs.push([key, value]);
            this.size = ++data.size;
            return this;
          }
          data = this.__data__ = new MapCache(pairs);
        }
        data.set(key, value);
        this.size = data.size;
        return this;
      }
      Stack.prototype.clear = stackClear;
      Stack.prototype["delete"] = stackDelete;
      Stack.prototype.get = stackGet;
      Stack.prototype.has = stackHas;
      Stack.prototype.set = stackSet;
      function arrayLikeKeys(value, inherited) {
        var isArr = isArray(value), isArg = !isArr && isArguments(value), isBuff = !isArr && !isArg && isBuffer(value), isType2 = !isArr && !isArg && !isBuff && isTypedArray(value), skipIndexes = isArr || isArg || isBuff || isType2, result = skipIndexes ? baseTimes(value.length, String) : [], length = result.length;
        for (var key in value) {
          if ((inherited || hasOwnProperty2.call(value, key)) && !(skipIndexes && (key == "length" || isBuff && (key == "offset" || key == "parent") || isType2 && (key == "buffer" || key == "byteLength" || key == "byteOffset") || isIndex(key, length)))) {
            result.push(key);
          }
        }
        return result;
      }
      function assocIndexOf(array, key) {
        var length = array.length;
        while (length--) {
          if (eq(array[length][0], key)) {
            return length;
          }
        }
        return -1;
      }
      function baseGetAllKeys(object, keysFunc, symbolsFunc) {
        var result = keysFunc(object);
        return isArray(object) ? result : arrayPush(result, symbolsFunc(object));
      }
      function baseGetTag(value) {
        if (value == null) {
          return value === void 0 ? undefinedTag : nullTag;
        }
        return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);
      }
      function baseIsArguments(value) {
        return isObjectLike(value) && baseGetTag(value) == argsTag;
      }
      function baseIsEqual(value, other, bitmask, customizer, stack) {
        if (value === other) {
          return true;
        }
        if (value == null || other == null || !isObjectLike(value) && !isObjectLike(other)) {
          return value !== value && other !== other;
        }
        return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);
      }
      function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {
        var objIsArr = isArray(object), othIsArr = isArray(other), objTag = objIsArr ? arrayTag : getTag(object), othTag = othIsArr ? arrayTag : getTag(other);
        objTag = objTag == argsTag ? objectTag : objTag;
        othTag = othTag == argsTag ? objectTag : othTag;
        var objIsObj = objTag == objectTag, othIsObj = othTag == objectTag, isSameTag = objTag == othTag;
        if (isSameTag && isBuffer(object)) {
          if (!isBuffer(other)) {
            return false;
          }
          objIsArr = true;
          objIsObj = false;
        }
        if (isSameTag && !objIsObj) {
          stack || (stack = new Stack());
          return objIsArr || isTypedArray(object) ? equalArrays(object, other, bitmask, customizer, equalFunc, stack) : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);
        }
        if (!(bitmask & COMPARE_PARTIAL_FLAG)) {
          var objIsWrapped = objIsObj && hasOwnProperty2.call(object, "__wrapped__"), othIsWrapped = othIsObj && hasOwnProperty2.call(other, "__wrapped__");
          if (objIsWrapped || othIsWrapped) {
            var objUnwrapped = objIsWrapped ? object.value() : object, othUnwrapped = othIsWrapped ? other.value() : other;
            stack || (stack = new Stack());
            return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);
          }
        }
        if (!isSameTag) {
          return false;
        }
        stack || (stack = new Stack());
        return equalObjects(object, other, bitmask, customizer, equalFunc, stack);
      }
      function baseIsNative(value) {
        if (!isObject(value) || isMasked(value)) {
          return false;
        }
        var pattern = isFunction3(value) ? reIsNative : reIsHostCtor;
        return pattern.test(toSource(value));
      }
      function baseIsTypedArray(value) {
        return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];
      }
      function baseKeys(object) {
        if (!isPrototype(object)) {
          return nativeKeys(object);
        }
        var result = [];
        for (var key in Object(object)) {
          if (hasOwnProperty2.call(object, key) && key != "constructor") {
            result.push(key);
          }
        }
        return result;
      }
      function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {
        var isPartial = bitmask & COMPARE_PARTIAL_FLAG, arrLength = array.length, othLength = other.length;
        if (arrLength != othLength && !(isPartial && othLength > arrLength)) {
          return false;
        }
        var stacked = stack.get(array);
        if (stacked && stack.get(other)) {
          return stacked == other;
        }
        var index2 = -1, result = true, seen = bitmask & COMPARE_UNORDERED_FLAG ? new SetCache() : void 0;
        stack.set(array, other);
        stack.set(other, array);
        while (++index2 < arrLength) {
          var arrValue = array[index2], othValue = other[index2];
          if (customizer) {
            var compared = isPartial ? customizer(othValue, arrValue, index2, other, array, stack) : customizer(arrValue, othValue, index2, array, other, stack);
          }
          if (compared !== void 0) {
            if (compared) {
              continue;
            }
            result = false;
            break;
          }
          if (seen) {
            if (!arraySome(other, function(othValue2, othIndex) {
              if (!cacheHas(seen, othIndex) && (arrValue === othValue2 || equalFunc(arrValue, othValue2, bitmask, customizer, stack))) {
                return seen.push(othIndex);
              }
            })) {
              result = false;
              break;
            }
          } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {
            result = false;
            break;
          }
        }
        stack["delete"](array);
        stack["delete"](other);
        return result;
      }
      function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {
        switch (tag) {
          case dataViewTag:
            if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {
              return false;
            }
            object = object.buffer;
            other = other.buffer;
          case arrayBufferTag:
            if (object.byteLength != other.byteLength || !equalFunc(new Uint8Array2(object), new Uint8Array2(other))) {
              return false;
            }
            return true;
          case boolTag:
          case dateTag:
          case numberTag:
            return eq(+object, +other);
          case errorTag:
            return object.name == other.name && object.message == other.message;
          case regexpTag:
          case stringTag:
            return object == other + "";
          case mapTag:
            var convert = mapToArray;
          case setTag:
            var isPartial = bitmask & COMPARE_PARTIAL_FLAG;
            convert || (convert = setToArray);
            if (object.size != other.size && !isPartial) {
              return false;
            }
            var stacked = stack.get(object);
            if (stacked) {
              return stacked == other;
            }
            bitmask |= COMPARE_UNORDERED_FLAG;
            stack.set(object, other);
            var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);
            stack["delete"](object);
            return result;
          case symbolTag:
            if (symbolValueOf) {
              return symbolValueOf.call(object) == symbolValueOf.call(other);
            }
        }
        return false;
      }
      function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {
        var isPartial = bitmask & COMPARE_PARTIAL_FLAG, objProps = getAllKeys(object), objLength = objProps.length, othProps = getAllKeys(other), othLength = othProps.length;
        if (objLength != othLength && !isPartial) {
          return false;
        }
        var index2 = objLength;
        while (index2--) {
          var key = objProps[index2];
          if (!(isPartial ? key in other : hasOwnProperty2.call(other, key))) {
            return false;
          }
        }
        var stacked = stack.get(object);
        if (stacked && stack.get(other)) {
          return stacked == other;
        }
        var result = true;
        stack.set(object, other);
        stack.set(other, object);
        var skipCtor = isPartial;
        while (++index2 < objLength) {
          key = objProps[index2];
          var objValue = object[key], othValue = other[key];
          if (customizer) {
            var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);
          }
          if (!(compared === void 0 ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) : compared)) {
            result = false;
            break;
          }
          skipCtor || (skipCtor = key == "constructor");
        }
        if (result && !skipCtor) {
          var objCtor = object.constructor, othCtor = other.constructor;
          if (objCtor != othCtor && ("constructor" in object && "constructor" in other) && !(typeof objCtor == "function" && objCtor instanceof objCtor && typeof othCtor == "function" && othCtor instanceof othCtor)) {
            result = false;
          }
        }
        stack["delete"](object);
        stack["delete"](other);
        return result;
      }
      function getAllKeys(object) {
        return baseGetAllKeys(object, keys, getSymbols);
      }
      function getMapData(map, key) {
        var data = map.__data__;
        return isKeyable(key) ? data[typeof key == "string" ? "string" : "hash"] : data.map;
      }
      function getNative(object, key) {
        var value = getValue2(object, key);
        return baseIsNative(value) ? value : void 0;
      }
      function getRawTag(value) {
        var isOwn = hasOwnProperty2.call(value, symToStringTag), tag = value[symToStringTag];
        try {
          value[symToStringTag] = void 0;
          var unmasked = true;
        } catch (e2) {
        }
        var result = nativeObjectToString.call(value);
        if (unmasked) {
          if (isOwn) {
            value[symToStringTag] = tag;
          } else {
            delete value[symToStringTag];
          }
        }
        return result;
      }
      var getSymbols = !nativeGetSymbols ? stubArray : function(object) {
        if (object == null) {
          return [];
        }
        object = Object(object);
        return arrayFilter(nativeGetSymbols(object), function(symbol) {
          return propertyIsEnumerable.call(object, symbol);
        });
      };
      var getTag = baseGetTag;
      if (DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag || Map2 && getTag(new Map2()) != mapTag || Promise2 && getTag(Promise2.resolve()) != promiseTag || Set2 && getTag(new Set2()) != setTag || WeakMap2 && getTag(new WeakMap2()) != weakMapTag) {
        getTag = function(value) {
          var result = baseGetTag(value), Ctor = result == objectTag ? value.constructor : void 0, ctorString = Ctor ? toSource(Ctor) : "";
          if (ctorString) {
            switch (ctorString) {
              case dataViewCtorString:
                return dataViewTag;
              case mapCtorString:
                return mapTag;
              case promiseCtorString:
                return promiseTag;
              case setCtorString:
                return setTag;
              case weakMapCtorString:
                return weakMapTag;
            }
          }
          return result;
        };
      }
      function isIndex(value, length) {
        length = length == null ? MAX_SAFE_INTEGER : length;
        return !!length && (typeof value == "number" || reIsUint.test(value)) && (value > -1 && value % 1 == 0 && value < length);
      }
      function isKeyable(value) {
        var type = typeof value;
        return type == "string" || type == "number" || type == "symbol" || type == "boolean" ? value !== "__proto__" : value === null;
      }
      function isMasked(func) {
        return !!maskSrcKey && maskSrcKey in func;
      }
      function isPrototype(value) {
        var Ctor = value && value.constructor, proto = typeof Ctor == "function" && Ctor.prototype || objectProto;
        return value === proto;
      }
      function objectToString(value) {
        return nativeObjectToString.call(value);
      }
      function toSource(func) {
        if (func != null) {
          try {
            return funcToString.call(func);
          } catch (e2) {
          }
          try {
            return func + "";
          } catch (e2) {
          }
        }
        return "";
      }
      function eq(value, other) {
        return value === other || value !== value && other !== other;
      }
      var isArguments = baseIsArguments(function() {
        return arguments;
      }()) ? baseIsArguments : function(value) {
        return isObjectLike(value) && hasOwnProperty2.call(value, "callee") && !propertyIsEnumerable.call(value, "callee");
      };
      var isArray = Array.isArray;
      function isArrayLike(value) {
        return value != null && isLength(value.length) && !isFunction3(value);
      }
      var isBuffer = nativeIsBuffer || stubFalse;
      function isEqual5(value, other) {
        return baseIsEqual(value, other);
      }
      function isFunction3(value) {
        if (!isObject(value)) {
          return false;
        }
        var tag = baseGetTag(value);
        return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
      }
      function isLength(value) {
        return typeof value == "number" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
      }
      function isObject(value) {
        var type = typeof value;
        return value != null && (type == "object" || type == "function");
      }
      function isObjectLike(value) {
        return value != null && typeof value == "object";
      }
      var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;
      function keys(object) {
        return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);
      }
      function stubArray() {
        return [];
      }
      function stubFalse() {
        return false;
      }
      module.exports = isEqual5;
    }
  });

  // ../../node_modules/react-ace/lib/editorOptions.js
  var require_editorOptions = __commonJS({
    "../../node_modules/react-ace/lib/editorOptions.js"(exports) {
      "use strict";
      Object.defineProperty(exports, "__esModule", { value: true });
      exports.getAceInstance = exports.debounce = exports.editorEvents = exports.editorOptions = void 0;
      var editorOptions = [
        "minLines",
        "maxLines",
        "readOnly",
        "highlightActiveLine",
        "tabSize",
        "enableBasicAutocompletion",
        "enableLiveAutocompletion",
        "enableSnippets"
      ];
      exports.editorOptions = editorOptions;
      var editorEvents = [
        "onChange",
        "onFocus",
        "onInput",
        "onBlur",
        "onCopy",
        "onPaste",
        "onSelectionChange",
        "onCursorChange",
        "onScroll",
        "handleOptions",
        "updateRef"
      ];
      exports.editorEvents = editorEvents;
      var getAceInstance = function() {
        var ace2;
        if (typeof window === "undefined") {
          global.window = {};
          ace2 = require_ace();
          delete global.window;
        } else if (window.ace) {
          ace2 = window.ace;
          ace2.acequire = window.ace.require || window.ace.acequire;
        } else {
          ace2 = require_ace();
        }
        return ace2;
      };
      exports.getAceInstance = getAceInstance;
      var debounce3 = function(fn4, delay) {
        var timer = null;
        return function() {
          var context = this;
          var args = arguments;
          clearTimeout(timer);
          timer = setTimeout(function() {
            fn4.apply(context, args);
          }, delay);
        };
      };
      exports.debounce = debounce3;
    }
  });

  // ../../node_modules/react-ace/lib/ace.js
  var require_ace2 = __commonJS({
    "../../node_modules/react-ace/lib/ace.js"(exports) {
      "use strict";
      var __extends = exports && exports.__extends || function() {
        var extendStatics = function(d3, b3) {
          extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d4, b4) {
            d4.__proto__ = b4;
          } || function(d4, b4) {
            for (var p3 in b4)
              if (Object.prototype.hasOwnProperty.call(b4, p3))
                d4[p3] = b4[p3];
          };
          return extendStatics(d3, b3);
        };
        return function(d3, b3) {
          if (typeof b3 !== "function" && b3 !== null)
            throw new TypeError("Class extends value " + String(b3) + " is not a constructor or null");
          extendStatics(d3, b3);
          function __() {
            this.constructor = d3;
          }
          d3.prototype = b3 === null ? Object.create(b3) : (__.prototype = b3.prototype, new __());
        };
      }();
      var __assign = exports && exports.__assign || function() {
        __assign = Object.assign || function(t3) {
          for (var s3, i3 = 1, n3 = arguments.length; i3 < n3; i3++) {
            s3 = arguments[i3];
            for (var p3 in s3)
              if (Object.prototype.hasOwnProperty.call(s3, p3))
                t3[p3] = s3[p3];
          }
          return t3;
        };
        return __assign.apply(this, arguments);
      };
      Object.defineProperty(exports, "__esModule", { value: true });
      var ace_builds_1 = require_ace();
      var PropTypes2 = require_prop_types();
      var React30 = require_react();
      var isEqual5 = require_lodash();
      var editorOptions_1 = require_editorOptions();
      var ace2 = (0, editorOptions_1.getAceInstance)();
      var ReactAce = function(_super) {
        __extends(ReactAce2, _super);
        function ReactAce2(props) {
          var _this = _super.call(this, props) || this;
          editorOptions_1.editorEvents.forEach(function(method) {
            _this[method] = _this[method].bind(_this);
          });
          _this.debounce = editorOptions_1.debounce;
          return _this;
        }
        ReactAce2.prototype.isInShadow = function(node) {
          var parent = node && node.parentNode;
          while (parent) {
            if (parent.toString() === "[object ShadowRoot]") {
              return true;
            }
            parent = parent.parentNode;
          }
          return false;
        };
        ReactAce2.prototype.componentDidMount = function() {
          var _this = this;
          var _a = this.props, className = _a.className, onBeforeLoad = _a.onBeforeLoad, onValidate = _a.onValidate, mode = _a.mode, focus2 = _a.focus, theme = _a.theme, fontSize = _a.fontSize, value = _a.value, defaultValue = _a.defaultValue, showGutter = _a.showGutter, wrapEnabled = _a.wrapEnabled, showPrintMargin = _a.showPrintMargin, _b = _a.scrollMargin, scrollMargin = _b === void 0 ? [0, 0, 0, 0] : _b, keyboardHandler = _a.keyboardHandler, onLoad = _a.onLoad, commands = _a.commands, annotations = _a.annotations, markers = _a.markers, placeholder2 = _a.placeholder;
          this.editor = ace2.edit(this.refEditor);
          if (onBeforeLoad) {
            onBeforeLoad(ace2);
          }
          var editorProps = Object.keys(this.props.editorProps);
          for (var i3 = 0; i3 < editorProps.length; i3++) {
            this.editor[editorProps[i3]] = this.props.editorProps[editorProps[i3]];
          }
          if (this.props.debounceChangePeriod) {
            this.onChange = this.debounce(this.onChange, this.props.debounceChangePeriod);
          }
          this.editor.renderer.setScrollMargin(scrollMargin[0], scrollMargin[1], scrollMargin[2], scrollMargin[3]);
          if (this.isInShadow(this.refEditor)) {
            this.editor.renderer.attachToShadowRoot();
          }
          this.editor.getSession().setMode(typeof mode === "string" ? "ace/mode/".concat(mode) : mode);
          if (theme && theme !== "")
            this.editor.setTheme("ace/theme/".concat(theme));
          this.editor.setFontSize(typeof fontSize === "number" ? "".concat(fontSize, "px") : fontSize);
          this.editor.getSession().setValue(!defaultValue ? value || "" : defaultValue);
          if (this.props.navigateToFileEnd) {
            this.editor.navigateFileEnd();
          }
          this.editor.renderer.setShowGutter(showGutter);
          this.editor.getSession().setUseWrapMode(wrapEnabled);
          this.editor.setShowPrintMargin(showPrintMargin);
          this.editor.on("focus", this.onFocus);
          this.editor.on("blur", this.onBlur);
          this.editor.on("copy", this.onCopy);
          this.editor.on("paste", this.onPaste);
          this.editor.on("change", this.onChange);
          this.editor.on("input", this.onInput);
          if (placeholder2) {
            this.updatePlaceholder();
          }
          this.editor.getSession().selection.on("changeSelection", this.onSelectionChange);
          this.editor.getSession().selection.on("changeCursor", this.onCursorChange);
          if (onValidate) {
            this.editor.getSession().on("changeAnnotation", function() {
              var annotations2 = _this.editor.getSession().getAnnotations();
              _this.props.onValidate(annotations2);
            });
          }
          this.editor.session.on("changeScrollTop", this.onScroll);
          this.editor.getSession().setAnnotations(annotations || []);
          if (markers && markers.length > 0) {
            this.handleMarkers(markers);
          }
          var availableOptions = this.editor.$options;
          editorOptions_1.editorOptions.forEach(function(option) {
            if (availableOptions.hasOwnProperty(option)) {
              _this.editor.setOption(option, _this.props[option]);
            } else if (_this.props[option]) {
              console.warn("ReactAce: editor option ".concat(option, " was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"));
            }
          });
          this.handleOptions(this.props);
          if (Array.isArray(commands)) {
            commands.forEach(function(command) {
              if (typeof command.exec === "string") {
                _this.editor.commands.bindKey(command.bindKey, command.exec);
              } else {
                _this.editor.commands.addCommand(command);
              }
            });
          }
          if (keyboardHandler) {
            this.editor.setKeyboardHandler("ace/keyboard/" + keyboardHandler);
          }
          if (className) {
            this.refEditor.className += " " + className;
          }
          if (onLoad) {
            onLoad(this.editor);
          }
          this.editor.resize();
          if (focus2) {
            this.editor.focus();
          }
        };
        ReactAce2.prototype.componentDidUpdate = function(prevProps) {
          var oldProps = prevProps;
          var nextProps = this.props;
          for (var i3 = 0; i3 < editorOptions_1.editorOptions.length; i3++) {
            var option = editorOptions_1.editorOptions[i3];
            if (nextProps[option] !== oldProps[option]) {
              this.editor.setOption(option, nextProps[option]);
            }
          }
          if (nextProps.className !== oldProps.className) {
            var appliedClasses = this.refEditor.className;
            var appliedClassesArray_1 = appliedClasses.trim().split(" ");
            var oldClassesArray = oldProps.className.trim().split(" ");
            oldClassesArray.forEach(function(oldClass) {
              var index2 = appliedClassesArray_1.indexOf(oldClass);
              appliedClassesArray_1.splice(index2, 1);
            });
            this.refEditor.className = " " + nextProps.className + " " + appliedClassesArray_1.join(" ");
          }
          var valueChanged = this.editor && nextProps.value != null && this.editor.getValue() !== nextProps.value;
          if (valueChanged) {
            this.silent = true;
            var pos = this.editor.session.selection.toJSON();
            this.editor.setValue(nextProps.value, nextProps.cursorStart);
            this.editor.session.selection.fromJSON(pos);
            this.silent = false;
          }
          if (nextProps.placeholder !== oldProps.placeholder) {
            this.updatePlaceholder();
          }
          if (nextProps.mode !== oldProps.mode) {
            this.editor.getSession().setMode(typeof nextProps.mode === "string" ? "ace/mode/".concat(nextProps.mode) : nextProps.mode);
          }
          if (nextProps.theme !== oldProps.theme) {
            this.editor.setTheme("ace/theme/" + nextProps.theme);
          }
          if (nextProps.keyboardHandler !== oldProps.keyboardHandler) {
            if (nextProps.keyboardHandler) {
              this.editor.setKeyboardHandler("ace/keyboard/" + nextProps.keyboardHandler);
            } else {
              this.editor.setKeyboardHandler(null);
            }
          }
          if (nextProps.fontSize !== oldProps.fontSize) {
            this.editor.setFontSize(typeof nextProps.fontSize === "number" ? "".concat(nextProps.fontSize, "px") : nextProps.fontSize);
          }
          if (nextProps.wrapEnabled !== oldProps.wrapEnabled) {
            this.editor.getSession().setUseWrapMode(nextProps.wrapEnabled);
          }
          if (nextProps.showPrintMargin !== oldProps.showPrintMargin) {
            this.editor.setShowPrintMargin(nextProps.showPrintMargin);
          }
          if (nextProps.showGutter !== oldProps.showGutter) {
            this.editor.renderer.setShowGutter(nextProps.showGutter);
          }
          if (!isEqual5(nextProps.setOptions, oldProps.setOptions)) {
            this.handleOptions(nextProps);
          }
          if (valueChanged || !isEqual5(nextProps.annotations, oldProps.annotations)) {
            this.editor.getSession().setAnnotations(nextProps.annotations || []);
          }
          if (!isEqual5(nextProps.markers, oldProps.markers) && Array.isArray(nextProps.markers)) {
            this.handleMarkers(nextProps.markers);
          }
          if (!isEqual5(nextProps.scrollMargin, oldProps.scrollMargin)) {
            this.handleScrollMargins(nextProps.scrollMargin);
          }
          if (prevProps.height !== this.props.height || prevProps.width !== this.props.width) {
            this.editor.resize();
          }
          if (this.props.focus && !prevProps.focus) {
            this.editor.focus();
          }
        };
        ReactAce2.prototype.handleScrollMargins = function(margins) {
          if (margins === void 0) {
            margins = [0, 0, 0, 0];
          }
          this.editor.renderer.setScrollMargin(margins[0], margins[1], margins[2], margins[3]);
        };
        ReactAce2.prototype.componentWillUnmount = function() {
          if (this.editor) {
            this.editor.destroy();
            this.editor = null;
          }
        };
        ReactAce2.prototype.onChange = function(event) {
          if (this.props.onChange && !this.silent) {
            var value = this.editor.getValue();
            this.props.onChange(value, event);
          }
        };
        ReactAce2.prototype.onSelectionChange = function(event) {
          if (this.props.onSelectionChange) {
            var value = this.editor.getSelection();
            this.props.onSelectionChange(value, event);
          }
        };
        ReactAce2.prototype.onCursorChange = function(event) {
          if (this.props.onCursorChange) {
            var value = this.editor.getSelection();
            this.props.onCursorChange(value, event);
          }
        };
        ReactAce2.prototype.onInput = function(event) {
          if (this.props.onInput) {
            this.props.onInput(event);
          }
          if (this.props.placeholder) {
            this.updatePlaceholder();
          }
        };
        ReactAce2.prototype.onFocus = function(event) {
          if (this.props.onFocus) {
            this.props.onFocus(event, this.editor);
          }
        };
        ReactAce2.prototype.onBlur = function(event) {
          if (this.props.onBlur) {
            this.props.onBlur(event, this.editor);
          }
        };
        ReactAce2.prototype.onCopy = function(_a) {
          var text = _a.text;
          if (this.props.onCopy) {
            this.props.onCopy(text);
          }
        };
        ReactAce2.prototype.onPaste = function(_a) {
          var text = _a.text;
          if (this.props.onPaste) {
            this.props.onPaste(text);
          }
        };
        ReactAce2.prototype.onScroll = function() {
          if (this.props.onScroll) {
            this.props.onScroll(this.editor);
          }
        };
        ReactAce2.prototype.handleOptions = function(props) {
          var setOptions = Object.keys(props.setOptions);
          for (var y2 = 0; y2 < setOptions.length; y2++) {
            this.editor.setOption(setOptions[y2], props.setOptions[setOptions[y2]]);
          }
        };
        ReactAce2.prototype.handleMarkers = function(markers) {
          var _this = this;
          var currentMarkers = this.editor.getSession().getMarkers(true);
          for (var i3 in currentMarkers) {
            if (currentMarkers.hasOwnProperty(i3)) {
              this.editor.getSession().removeMarker(currentMarkers[i3].id);
            }
          }
          currentMarkers = this.editor.getSession().getMarkers(false);
          for (var i3 in currentMarkers) {
            if (currentMarkers.hasOwnProperty(i3) && currentMarkers[i3].clazz !== "ace_active-line" && currentMarkers[i3].clazz !== "ace_selected-word") {
              this.editor.getSession().removeMarker(currentMarkers[i3].id);
            }
          }
          markers.forEach(function(_a) {
            var startRow = _a.startRow, startCol = _a.startCol, endRow = _a.endRow, endCol = _a.endCol, className = _a.className, type = _a.type, _b = _a.inFront, inFront = _b === void 0 ? false : _b;
            var range = new ace_builds_1.Range(startRow, startCol, endRow, endCol);
            _this.editor.getSession().addMarker(range, className, type, inFront);
          });
        };
        ReactAce2.prototype.updatePlaceholder = function() {
          var editor = this.editor;
          var placeholder2 = this.props.placeholder;
          var showPlaceholder = !editor.session.getValue().length;
          var node = editor.renderer.placeholderNode;
          if (!showPlaceholder && node) {
            editor.renderer.scroller.removeChild(editor.renderer.placeholderNode);
            editor.renderer.placeholderNode = null;
          } else if (showPlaceholder && !node) {
            node = editor.renderer.placeholderNode = document.createElement("div");
            node.textContent = placeholder2 || "";
            node.className = "ace_comment ace_placeholder";
            node.style.padding = "0 9px";
            node.style.position = "absolute";
            node.style.zIndex = "3";
            editor.renderer.scroller.appendChild(node);
          } else if (showPlaceholder && node) {
            node.textContent = placeholder2;
          }
        };
        ReactAce2.prototype.updateRef = function(item) {
          this.refEditor = item;
        };
        ReactAce2.prototype.render = function() {
          var _a = this.props, name = _a.name, width = _a.width, height = _a.height, style2 = _a.style;
          var divStyle = __assign({ width, height }, style2);
          return React30.createElement("div", { ref: this.updateRef, id: name, style: divStyle });
        };
        ReactAce2.propTypes = {
          mode: PropTypes2.oneOfType([PropTypes2.string, PropTypes2.object]),
          focus: PropTypes2.bool,
          theme: PropTypes2.string,
          name: PropTypes2.string,
          className: PropTypes2.string,
          height: PropTypes2.string,
          width: PropTypes2.string,
          fontSize: PropTypes2.oneOfType([PropTypes2.number, PropTypes2.string]),
          showGutter: PropTypes2.bool,
          onChange: PropTypes2.func,
          onCopy: PropTypes2.func,
          onPaste: PropTypes2.func,
          onFocus: PropTypes2.func,
          onInput: PropTypes2.func,
          onBlur: PropTypes2.func,
          onScroll: PropTypes2.func,
          value: PropTypes2.string,
          defaultValue: PropTypes2.string,
          onLoad: PropTypes2.func,
          onSelectionChange: PropTypes2.func,
          onCursorChange: PropTypes2.func,
          onBeforeLoad: PropTypes2.func,
          onValidate: PropTypes2.func,
          minLines: PropTypes2.number,
          maxLines: PropTypes2.number,
          readOnly: PropTypes2.bool,
          highlightActiveLine: PropTypes2.bool,
          tabSize: PropTypes2.number,
          showPrintMargin: PropTypes2.bool,
          cursorStart: PropTypes2.number,
          debounceChangePeriod: PropTypes2.number,
          editorProps: PropTypes2.object,
          setOptions: PropTypes2.object,
          style: PropTypes2.object,
          scrollMargin: PropTypes2.array,
          annotations: PropTypes2.array,
          markers: PropTypes2.array,
          keyboardHandler: PropTypes2.string,
          wrapEnabled: PropTypes2.bool,
          enableSnippets: PropTypes2.bool,
          enableBasicAutocompletion: PropTypes2.oneOfType([
            PropTypes2.bool,
            PropTypes2.array
          ]),
          enableLiveAutocompletion: PropTypes2.oneOfType([
            PropTypes2.bool,
            PropTypes2.array
          ]),
          navigateToFileEnd: PropTypes2.bool,
          commands: PropTypes2.array,
          placeholder: PropTypes2.string
        };
        ReactAce2.defaultProps = {
          name: "ace-editor",
          focus: false,
          mode: "",
          theme: "",
          height: "500px",
          width: "500px",
          fontSize: 12,
          enableSnippets: false,
          showGutter: true,
          onChange: null,
          onPaste: null,
          onLoad: null,
          onScroll: null,
          minLines: null,
          maxLines: null,
          readOnly: false,
          highlightActiveLine: true,
          showPrintMargin: true,
          tabSize: 4,
          cursorStart: 1,
          editorProps: {},
          style: {},
          scrollMargin: [0, 0, 0, 0],
          setOptions: {},
          wrapEnabled: false,
          enableBasicAutocompletion: false,
          enableLiveAutocompletion: false,
          placeholder: null,
          navigateToFileEnd: true
        };
        return ReactAce2;
      }(React30.Component);
      exports.default = ReactAce;
    }
  });

  // ../../node_modules/ace-builds/src-noconflict/ext-split.js
  var require_ext_split = __commonJS({
    "../../node_modules/ace-builds/src-noconflict/ext-split.js"(exports, module) {
      ace.define("ace/split", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter", "ace/editor", "ace/virtual_renderer", "ace/edit_session"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("./lib/oop");
        var lang = require2("./lib/lang");
        var EventEmitter = require2("./lib/event_emitter").EventEmitter;
        var Editor = require2("./editor").Editor;
        var Renderer = require2("./virtual_renderer").VirtualRenderer;
        var EditSession = require2("./edit_session").EditSession;
        var Split = function(container, theme, splits) {
          this.BELOW = 1;
          this.BESIDE = 0;
          this.$container = container;
          this.$theme = theme;
          this.$splits = 0;
          this.$editorCSS = "";
          this.$editors = [];
          this.$orientation = this.BESIDE;
          this.setSplits(splits || 1);
          this.$cEditor = this.$editors[0];
          this.on("focus", function(editor) {
            this.$cEditor = editor;
          }.bind(this));
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.$createEditor = function() {
            var el = document.createElement("div");
            el.className = this.$editorCSS;
            el.style.cssText = "position: absolute; top:0px; bottom:0px";
            this.$container.appendChild(el);
            var editor = new Editor(new Renderer(el, this.$theme));
            editor.on("focus", function() {
              this._emit("focus", editor);
            }.bind(this));
            this.$editors.push(editor);
            editor.setFontSize(this.$fontSize);
            return editor;
          };
          this.setSplits = function(splits) {
            var editor;
            if (splits < 1) {
              throw "The number of splits have to be > 0!";
            }
            if (splits == this.$splits) {
              return;
            } else if (splits > this.$splits) {
              while (this.$splits < this.$editors.length && this.$splits < splits) {
                editor = this.$editors[this.$splits];
                this.$container.appendChild(editor.container);
                editor.setFontSize(this.$fontSize);
                this.$splits++;
              }
              while (this.$splits < splits) {
                this.$createEditor();
                this.$splits++;
              }
            } else {
              while (this.$splits > splits) {
                editor = this.$editors[this.$splits - 1];
                this.$container.removeChild(editor.container);
                this.$splits--;
              }
            }
            this.resize();
          };
          this.getSplits = function() {
            return this.$splits;
          };
          this.getEditor = function(idx) {
            return this.$editors[idx];
          };
          this.getCurrentEditor = function() {
            return this.$cEditor;
          };
          this.focus = function() {
            this.$cEditor.focus();
          };
          this.blur = function() {
            this.$cEditor.blur();
          };
          this.setTheme = function(theme) {
            this.$editors.forEach(function(editor) {
              editor.setTheme(theme);
            });
          };
          this.setKeyboardHandler = function(keybinding) {
            this.$editors.forEach(function(editor) {
              editor.setKeyboardHandler(keybinding);
            });
          };
          this.forEach = function(callback, scope) {
            this.$editors.forEach(callback, scope);
          };
          this.$fontSize = "";
          this.setFontSize = function(size) {
            this.$fontSize = size;
            this.forEach(function(editor) {
              editor.setFontSize(size);
            });
          };
          this.$cloneSession = function(session) {
            var s3 = new EditSession(session.getDocument(), session.getMode());
            var undoManager = session.getUndoManager();
            s3.setUndoManager(undoManager);
            s3.setTabSize(session.getTabSize());
            s3.setUseSoftTabs(session.getUseSoftTabs());
            s3.setOverwrite(session.getOverwrite());
            s3.setBreakpoints(session.getBreakpoints());
            s3.setUseWrapMode(session.getUseWrapMode());
            s3.setUseWorker(session.getUseWorker());
            s3.setWrapLimitRange(session.$wrapLimitRange.min, session.$wrapLimitRange.max);
            s3.$foldData = session.$cloneFoldData();
            return s3;
          };
          this.setSession = function(session, idx) {
            var editor;
            if (idx == null) {
              editor = this.$cEditor;
            } else {
              editor = this.$editors[idx];
            }
            var isUsed = this.$editors.some(function(editor2) {
              return editor2.session === session;
            });
            if (isUsed) {
              session = this.$cloneSession(session);
            }
            editor.setSession(session);
            return session;
          };
          this.getOrientation = function() {
            return this.$orientation;
          };
          this.setOrientation = function(orientation) {
            if (this.$orientation == orientation) {
              return;
            }
            this.$orientation = orientation;
            this.resize();
          };
          this.resize = function() {
            var width = this.$container.clientWidth;
            var height = this.$container.clientHeight;
            var editor;
            if (this.$orientation == this.BESIDE) {
              var editorWidth = width / this.$splits;
              for (var i3 = 0; i3 < this.$splits; i3++) {
                editor = this.$editors[i3];
                editor.container.style.width = editorWidth + "px";
                editor.container.style.top = "0px";
                editor.container.style.left = i3 * editorWidth + "px";
                editor.container.style.height = height + "px";
                editor.resize();
              }
            } else {
              var editorHeight = height / this.$splits;
              for (var i3 = 0; i3 < this.$splits; i3++) {
                editor = this.$editors[i3];
                editor.container.style.width = width + "px";
                editor.container.style.top = i3 * editorHeight + "px";
                editor.container.style.left = "0px";
                editor.container.style.height = editorHeight + "px";
                editor.resize();
              }
            }
          };
        }).call(Split.prototype);
        exports2.Split = Split;
      });
      ace.define("ace/ext/split", ["require", "exports", "module", "ace/split"], function(require2, exports2, module2) {
        "use strict";
        module2.exports = require2("../split");
      });
      (function() {
        ace.require(["ace/ext/split"], function(m2) {
          if (typeof module == "object" && typeof exports == "object" && module) {
            module.exports = m2;
          }
        });
      })();
    }
  });

  // ../../node_modules/lodash.get/index.js
  var require_lodash2 = __commonJS({
    "../../node_modules/lodash.get/index.js"(exports, module) {
      var FUNC_ERROR_TEXT = "Expected a function";
      var HASH_UNDEFINED = "__lodash_hash_undefined__";
      var INFINITY = 1 / 0;
      var funcTag = "[object Function]";
      var genTag = "[object GeneratorFunction]";
      var symbolTag = "[object Symbol]";
      var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/;
      var reIsPlainProp = /^\w*$/;
      var reLeadingDot = /^\./;
      var rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;
      var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;
      var reEscapeChar = /\\(\\)?/g;
      var reIsHostCtor = /^\[object .+?Constructor\]$/;
      var freeGlobal = typeof global == "object" && global && global.Object === Object && global;
      var freeSelf = typeof self == "object" && self && self.Object === Object && self;
      var root = freeGlobal || freeSelf || Function("return this")();
      function getValue2(object, key) {
        return object == null ? void 0 : object[key];
      }
      function isHostObject(value) {
        var result = false;
        if (value != null && typeof value.toString != "function") {
          try {
            result = !!(value + "");
          } catch (e2) {
          }
        }
        return result;
      }
      var arrayProto = Array.prototype;
      var funcProto = Function.prototype;
      var objectProto = Object.prototype;
      var coreJsData = root["__core-js_shared__"];
      var maskSrcKey = function() {
        var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || "");
        return uid ? "Symbol(src)_1." + uid : "";
      }();
      var funcToString = funcProto.toString;
      var hasOwnProperty2 = objectProto.hasOwnProperty;
      var objectToString = objectProto.toString;
      var reIsNative = RegExp("^" + funcToString.call(hasOwnProperty2).replace(reRegExpChar, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
      var Symbol2 = root.Symbol;
      var splice = arrayProto.splice;
      var Map2 = getNative(root, "Map");
      var nativeCreate = getNative(Object, "create");
      var symbolProto = Symbol2 ? Symbol2.prototype : void 0;
      var symbolToString = symbolProto ? symbolProto.toString : void 0;
      function Hash(entries) {
        var index2 = -1, length = entries ? entries.length : 0;
        this.clear();
        while (++index2 < length) {
          var entry = entries[index2];
          this.set(entry[0], entry[1]);
        }
      }
      function hashClear() {
        this.__data__ = nativeCreate ? nativeCreate(null) : {};
      }
      function hashDelete(key) {
        return this.has(key) && delete this.__data__[key];
      }
      function hashGet(key) {
        var data = this.__data__;
        if (nativeCreate) {
          var result = data[key];
          return result === HASH_UNDEFINED ? void 0 : result;
        }
        return hasOwnProperty2.call(data, key) ? data[key] : void 0;
      }
      function hashHas(key) {
        var data = this.__data__;
        return nativeCreate ? data[key] !== void 0 : hasOwnProperty2.call(data, key);
      }
      function hashSet(key, value) {
        var data = this.__data__;
        data[key] = nativeCreate && value === void 0 ? HASH_UNDEFINED : value;
        return this;
      }
      Hash.prototype.clear = hashClear;
      Hash.prototype["delete"] = hashDelete;
      Hash.prototype.get = hashGet;
      Hash.prototype.has = hashHas;
      Hash.prototype.set = hashSet;
      function ListCache(entries) {
        var index2 = -1, length = entries ? entries.length : 0;
        this.clear();
        while (++index2 < length) {
          var entry = entries[index2];
          this.set(entry[0], entry[1]);
        }
      }
      function listCacheClear() {
        this.__data__ = [];
      }
      function listCacheDelete(key) {
        var data = this.__data__, index2 = assocIndexOf(data, key);
        if (index2 < 0) {
          return false;
        }
        var lastIndex = data.length - 1;
        if (index2 == lastIndex) {
          data.pop();
        } else {
          splice.call(data, index2, 1);
        }
        return true;
      }
      function listCacheGet(key) {
        var data = this.__data__, index2 = assocIndexOf(data, key);
        return index2 < 0 ? void 0 : data[index2][1];
      }
      function listCacheHas(key) {
        return assocIndexOf(this.__data__, key) > -1;
      }
      function listCacheSet(key, value) {
        var data = this.__data__, index2 = assocIndexOf(data, key);
        if (index2 < 0) {
          data.push([key, value]);
        } else {
          data[index2][1] = value;
        }
        return this;
      }
      ListCache.prototype.clear = listCacheClear;
      ListCache.prototype["delete"] = listCacheDelete;
      ListCache.prototype.get = listCacheGet;
      ListCache.prototype.has = listCacheHas;
      ListCache.prototype.set = listCacheSet;
      function MapCache(entries) {
        var index2 = -1, length = entries ? entries.length : 0;
        this.clear();
        while (++index2 < length) {
          var entry = entries[index2];
          this.set(entry[0], entry[1]);
        }
      }
      function mapCacheClear() {
        this.__data__ = {
          "hash": new Hash(),
          "map": new (Map2 || ListCache)(),
          "string": new Hash()
        };
      }
      function mapCacheDelete(key) {
        return getMapData(this, key)["delete"](key);
      }
      function mapCacheGet(key) {
        return getMapData(this, key).get(key);
      }
      function mapCacheHas(key) {
        return getMapData(this, key).has(key);
      }
      function mapCacheSet(key, value) {
        getMapData(this, key).set(key, value);
        return this;
      }
      MapCache.prototype.clear = mapCacheClear;
      MapCache.prototype["delete"] = mapCacheDelete;
      MapCache.prototype.get = mapCacheGet;
      MapCache.prototype.has = mapCacheHas;
      MapCache.prototype.set = mapCacheSet;
      function assocIndexOf(array, key) {
        var length = array.length;
        while (length--) {
          if (eq(array[length][0], key)) {
            return length;
          }
        }
        return -1;
      }
      function baseGet(object, path) {
        path = isKey(path, object) ? [path] : castPath(path);
        var index2 = 0, length = path.length;
        while (object != null && index2 < length) {
          object = object[toKey(path[index2++])];
        }
        return index2 && index2 == length ? object : void 0;
      }
      function baseIsNative(value) {
        if (!isObject(value) || isMasked(value)) {
          return false;
        }
        var pattern = isFunction3(value) || isHostObject(value) ? reIsNative : reIsHostCtor;
        return pattern.test(toSource(value));
      }
      function baseToString(value) {
        if (typeof value == "string") {
          return value;
        }
        if (isSymbol(value)) {
          return symbolToString ? symbolToString.call(value) : "";
        }
        var result = value + "";
        return result == "0" && 1 / value == -INFINITY ? "-0" : result;
      }
      function castPath(value) {
        return isArray(value) ? value : stringToPath(value);
      }
      function getMapData(map, key) {
        var data = map.__data__;
        return isKeyable(key) ? data[typeof key == "string" ? "string" : "hash"] : data.map;
      }
      function getNative(object, key) {
        var value = getValue2(object, key);
        return baseIsNative(value) ? value : void 0;
      }
      function isKey(value, object) {
        if (isArray(value)) {
          return false;
        }
        var type = typeof value;
        if (type == "number" || type == "symbol" || type == "boolean" || value == null || isSymbol(value)) {
          return true;
        }
        return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object != null && value in Object(object);
      }
      function isKeyable(value) {
        var type = typeof value;
        return type == "string" || type == "number" || type == "symbol" || type == "boolean" ? value !== "__proto__" : value === null;
      }
      function isMasked(func) {
        return !!maskSrcKey && maskSrcKey in func;
      }
      var stringToPath = memoize(function(string) {
        string = toString2(string);
        var result = [];
        if (reLeadingDot.test(string)) {
          result.push("");
        }
        string.replace(rePropName, function(match2, number, quote, string2) {
          result.push(quote ? string2.replace(reEscapeChar, "$1") : number || match2);
        });
        return result;
      });
      function toKey(value) {
        if (typeof value == "string" || isSymbol(value)) {
          return value;
        }
        var result = value + "";
        return result == "0" && 1 / value == -INFINITY ? "-0" : result;
      }
      function toSource(func) {
        if (func != null) {
          try {
            return funcToString.call(func);
          } catch (e2) {
          }
          try {
            return func + "";
          } catch (e2) {
          }
        }
        return "";
      }
      function memoize(func, resolver) {
        if (typeof func != "function" || resolver && typeof resolver != "function") {
          throw new TypeError(FUNC_ERROR_TEXT);
        }
        var memoized = function() {
          var args = arguments, key = resolver ? resolver.apply(this, args) : args[0], cache = memoized.cache;
          if (cache.has(key)) {
            return cache.get(key);
          }
          var result = func.apply(this, args);
          memoized.cache = cache.set(key, result);
          return result;
        };
        memoized.cache = new (memoize.Cache || MapCache)();
        return memoized;
      }
      memoize.Cache = MapCache;
      function eq(value, other) {
        return value === other || value !== value && other !== other;
      }
      var isArray = Array.isArray;
      function isFunction3(value) {
        var tag = isObject(value) ? objectToString.call(value) : "";
        return tag == funcTag || tag == genTag;
      }
      function isObject(value) {
        var type = typeof value;
        return !!value && (type == "object" || type == "function");
      }
      function isObjectLike(value) {
        return !!value && typeof value == "object";
      }
      function isSymbol(value) {
        return typeof value == "symbol" || isObjectLike(value) && objectToString.call(value) == symbolTag;
      }
      function toString2(value) {
        return value == null ? "" : baseToString(value);
      }
      function get2(object, path, defaultValue) {
        var result = object == null ? void 0 : baseGet(object, path);
        return result === void 0 ? defaultValue : result;
      }
      module.exports = get2;
    }
  });

  // ../../node_modules/react-ace/lib/split.js
  var require_split = __commonJS({
    "../../node_modules/react-ace/lib/split.js"(exports) {
      "use strict";
      var __extends = exports && exports.__extends || function() {
        var extendStatics = function(d3, b3) {
          extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d4, b4) {
            d4.__proto__ = b4;
          } || function(d4, b4) {
            for (var p3 in b4)
              if (Object.prototype.hasOwnProperty.call(b4, p3))
                d4[p3] = b4[p3];
          };
          return extendStatics(d3, b3);
        };
        return function(d3, b3) {
          if (typeof b3 !== "function" && b3 !== null)
            throw new TypeError("Class extends value " + String(b3) + " is not a constructor or null");
          extendStatics(d3, b3);
          function __() {
            this.constructor = d3;
          }
          d3.prototype = b3 === null ? Object.create(b3) : (__.prototype = b3.prototype, new __());
        };
      }();
      var __assign = exports && exports.__assign || function() {
        __assign = Object.assign || function(t3) {
          for (var s3, i3 = 1, n3 = arguments.length; i3 < n3; i3++) {
            s3 = arguments[i3];
            for (var p3 in s3)
              if (Object.prototype.hasOwnProperty.call(s3, p3))
                t3[p3] = s3[p3];
          }
          return t3;
        };
        return __assign.apply(this, arguments);
      };
      Object.defineProperty(exports, "__esModule", { value: true });
      var editorOptions_1 = require_editorOptions();
      var ace2 = (0, editorOptions_1.getAceInstance)();
      var ace_builds_1 = require_ace();
      var ext_split_1 = require_ext_split();
      var PropTypes2 = require_prop_types();
      var React30 = require_react();
      var isEqual5 = require_lodash();
      var get2 = require_lodash2();
      var SplitComponent = function(_super) {
        __extends(SplitComponent2, _super);
        function SplitComponent2(props) {
          var _this = _super.call(this, props) || this;
          editorOptions_1.editorEvents.forEach(function(method) {
            _this[method] = _this[method].bind(_this);
          });
          _this.debounce = editorOptions_1.debounce;
          return _this;
        }
        SplitComponent2.prototype.isInShadow = function(node) {
          var parent = node && node.parentNode;
          while (parent) {
            if (parent.toString() === "[object ShadowRoot]") {
              return true;
            }
            parent = parent.parentNode;
          }
          return false;
        };
        SplitComponent2.prototype.componentDidMount = function() {
          var _this = this;
          var _a = this.props, className = _a.className, onBeforeLoad = _a.onBeforeLoad, mode = _a.mode, focus2 = _a.focus, theme = _a.theme, fontSize = _a.fontSize, value = _a.value, defaultValue = _a.defaultValue, cursorStart = _a.cursorStart, showGutter = _a.showGutter, wrapEnabled = _a.wrapEnabled, showPrintMargin = _a.showPrintMargin, _b = _a.scrollMargin, scrollMargin = _b === void 0 ? [0, 0, 0, 0] : _b, keyboardHandler = _a.keyboardHandler, onLoad = _a.onLoad, commands = _a.commands, annotations = _a.annotations, markers = _a.markers, splits = _a.splits;
          this.editor = ace2.edit(this.refEditor);
          if (this.isInShadow(this.refEditor)) {
            this.editor.renderer.attachToShadowRoot();
          }
          this.editor.setTheme("ace/theme/".concat(theme));
          if (onBeforeLoad) {
            onBeforeLoad(ace2);
          }
          var editorProps = Object.keys(this.props.editorProps);
          var split = new ext_split_1.Split(this.editor.container, "ace/theme/".concat(theme), splits);
          this.editor.env.split = split;
          this.splitEditor = split.getEditor(0);
          this.split = split;
          this.editor.setShowPrintMargin(false);
          this.editor.renderer.setShowGutter(false);
          var availableOptions = this.splitEditor.$options;
          if (this.props.debounceChangePeriod) {
            this.onChange = this.debounce(this.onChange, this.props.debounceChangePeriod);
          }
          split.forEach(function(editor, index2) {
            for (var i3 = 0; i3 < editorProps.length; i3++) {
              editor[editorProps[i3]] = _this.props.editorProps[editorProps[i3]];
            }
            var defaultValueForEditor = get2(defaultValue, index2);
            var valueForEditor = get2(value, index2, "");
            editor.session.setUndoManager(new ace2.UndoManager());
            editor.setTheme("ace/theme/".concat(theme));
            editor.renderer.setScrollMargin(scrollMargin[0], scrollMargin[1], scrollMargin[2], scrollMargin[3]);
            editor.getSession().setMode("ace/mode/".concat(mode));
            editor.setFontSize(fontSize);
            editor.renderer.setShowGutter(showGutter);
            editor.getSession().setUseWrapMode(wrapEnabled);
            editor.setShowPrintMargin(showPrintMargin);
            editor.on("focus", _this.onFocus);
            editor.on("blur", _this.onBlur);
            editor.on("input", _this.onInput);
            editor.on("copy", _this.onCopy);
            editor.on("paste", _this.onPaste);
            editor.on("change", _this.onChange);
            editor.getSession().selection.on("changeSelection", _this.onSelectionChange);
            editor.getSession().selection.on("changeCursor", _this.onCursorChange);
            editor.session.on("changeScrollTop", _this.onScroll);
            editor.setValue(defaultValueForEditor === void 0 ? valueForEditor : defaultValueForEditor, cursorStart);
            var newAnnotations = get2(annotations, index2, []);
            var newMarkers = get2(markers, index2, []);
            editor.getSession().setAnnotations(newAnnotations);
            if (newMarkers && newMarkers.length > 0) {
              _this.handleMarkers(newMarkers, editor);
            }
            for (var i3 = 0; i3 < editorOptions_1.editorOptions.length; i3++) {
              var option = editorOptions_1.editorOptions[i3];
              if (availableOptions.hasOwnProperty(option)) {
                editor.setOption(option, _this.props[option]);
              } else if (_this.props[option]) {
                console.warn("ReaceAce: editor option ".concat(option, " was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"));
              }
            }
            _this.handleOptions(_this.props, editor);
            if (Array.isArray(commands)) {
              commands.forEach(function(command) {
                if (typeof command.exec === "string") {
                  editor.commands.bindKey(command.bindKey, command.exec);
                } else {
                  editor.commands.addCommand(command);
                }
              });
            }
            if (keyboardHandler) {
              editor.setKeyboardHandler("ace/keyboard/" + keyboardHandler);
            }
          });
          if (className) {
            this.refEditor.className += " " + className;
          }
          if (focus2) {
            this.splitEditor.focus();
          }
          var sp = this.editor.env.split;
          sp.setOrientation(this.props.orientation === "below" ? sp.BELOW : sp.BESIDE);
          sp.resize(true);
          if (onLoad) {
            onLoad(sp);
          }
        };
        SplitComponent2.prototype.componentDidUpdate = function(prevProps) {
          var _this = this;
          var oldProps = prevProps;
          var nextProps = this.props;
          var split = this.editor.env.split;
          if (nextProps.splits !== oldProps.splits) {
            split.setSplits(nextProps.splits);
          }
          if (nextProps.orientation !== oldProps.orientation) {
            split.setOrientation(nextProps.orientation === "below" ? split.BELOW : split.BESIDE);
          }
          split.forEach(function(editor, index2) {
            if (nextProps.mode !== oldProps.mode) {
              editor.getSession().setMode("ace/mode/" + nextProps.mode);
            }
            if (nextProps.keyboardHandler !== oldProps.keyboardHandler) {
              if (nextProps.keyboardHandler) {
                editor.setKeyboardHandler("ace/keyboard/" + nextProps.keyboardHandler);
              } else {
                editor.setKeyboardHandler(null);
              }
            }
            if (nextProps.fontSize !== oldProps.fontSize) {
              editor.setFontSize(nextProps.fontSize);
            }
            if (nextProps.wrapEnabled !== oldProps.wrapEnabled) {
              editor.getSession().setUseWrapMode(nextProps.wrapEnabled);
            }
            if (nextProps.showPrintMargin !== oldProps.showPrintMargin) {
              editor.setShowPrintMargin(nextProps.showPrintMargin);
            }
            if (nextProps.showGutter !== oldProps.showGutter) {
              editor.renderer.setShowGutter(nextProps.showGutter);
            }
            for (var i3 = 0; i3 < editorOptions_1.editorOptions.length; i3++) {
              var option = editorOptions_1.editorOptions[i3];
              if (nextProps[option] !== oldProps[option]) {
                editor.setOption(option, nextProps[option]);
              }
            }
            if (!isEqual5(nextProps.setOptions, oldProps.setOptions)) {
              _this.handleOptions(nextProps, editor);
            }
            var nextValue = get2(nextProps.value, index2, "");
            if (editor.getValue() !== nextValue) {
              _this.silent = true;
              var pos = editor.session.selection.toJSON();
              editor.setValue(nextValue, nextProps.cursorStart);
              editor.session.selection.fromJSON(pos);
              _this.silent = false;
            }
            var newAnnotations = get2(nextProps.annotations, index2, []);
            var oldAnnotations = get2(oldProps.annotations, index2, []);
            if (!isEqual5(newAnnotations, oldAnnotations)) {
              editor.getSession().setAnnotations(newAnnotations);
            }
            var newMarkers = get2(nextProps.markers, index2, []);
            var oldMarkers = get2(oldProps.markers, index2, []);
            if (!isEqual5(newMarkers, oldMarkers) && Array.isArray(newMarkers)) {
              _this.handleMarkers(newMarkers, editor);
            }
          });
          if (nextProps.className !== oldProps.className) {
            var appliedClasses = this.refEditor.className;
            var appliedClassesArray_1 = appliedClasses.trim().split(" ");
            var oldClassesArray = oldProps.className.trim().split(" ");
            oldClassesArray.forEach(function(oldClass) {
              var index2 = appliedClassesArray_1.indexOf(oldClass);
              appliedClassesArray_1.splice(index2, 1);
            });
            this.refEditor.className = " " + nextProps.className + " " + appliedClassesArray_1.join(" ");
          }
          if (nextProps.theme !== oldProps.theme) {
            split.setTheme("ace/theme/" + nextProps.theme);
          }
          if (nextProps.focus && !oldProps.focus) {
            this.splitEditor.focus();
          }
          if (nextProps.height !== this.props.height || nextProps.width !== this.props.width) {
            this.editor.resize();
          }
        };
        SplitComponent2.prototype.componentWillUnmount = function() {
          this.editor.destroy();
          this.editor = null;
        };
        SplitComponent2.prototype.onChange = function(event) {
          if (this.props.onChange && !this.silent) {
            var value_1 = [];
            this.editor.env.split.forEach(function(editor) {
              value_1.push(editor.getValue());
            });
            this.props.onChange(value_1, event);
          }
        };
        SplitComponent2.prototype.onSelectionChange = function(event) {
          if (this.props.onSelectionChange) {
            var value_2 = [];
            this.editor.env.split.forEach(function(editor) {
              value_2.push(editor.getSelection());
            });
            this.props.onSelectionChange(value_2, event);
          }
        };
        SplitComponent2.prototype.onCursorChange = function(event) {
          if (this.props.onCursorChange) {
            var value_3 = [];
            this.editor.env.split.forEach(function(editor) {
              value_3.push(editor.getSelection());
            });
            this.props.onCursorChange(value_3, event);
          }
        };
        SplitComponent2.prototype.onFocus = function(event) {
          if (this.props.onFocus) {
            this.props.onFocus(event);
          }
        };
        SplitComponent2.prototype.onInput = function(event) {
          if (this.props.onInput) {
            this.props.onInput(event);
          }
        };
        SplitComponent2.prototype.onBlur = function(event) {
          if (this.props.onBlur) {
            this.props.onBlur(event);
          }
        };
        SplitComponent2.prototype.onCopy = function(text) {
          if (this.props.onCopy) {
            this.props.onCopy(text);
          }
        };
        SplitComponent2.prototype.onPaste = function(text) {
          if (this.props.onPaste) {
            this.props.onPaste(text);
          }
        };
        SplitComponent2.prototype.onScroll = function() {
          if (this.props.onScroll) {
            this.props.onScroll(this.editor);
          }
        };
        SplitComponent2.prototype.handleOptions = function(props, editor) {
          var setOptions = Object.keys(props.setOptions);
          for (var y2 = 0; y2 < setOptions.length; y2++) {
            editor.setOption(setOptions[y2], props.setOptions[setOptions[y2]]);
          }
        };
        SplitComponent2.prototype.handleMarkers = function(markers, editor) {
          var currentMarkers = editor.getSession().getMarkers(true);
          for (var i3 in currentMarkers) {
            if (currentMarkers.hasOwnProperty(i3)) {
              editor.getSession().removeMarker(currentMarkers[i3].id);
            }
          }
          currentMarkers = editor.getSession().getMarkers(false);
          for (var i3 in currentMarkers) {
            if (currentMarkers.hasOwnProperty(i3)) {
              editor.getSession().removeMarker(currentMarkers[i3].id);
            }
          }
          markers.forEach(function(_a) {
            var startRow = _a.startRow, startCol = _a.startCol, endRow = _a.endRow, endCol = _a.endCol, className = _a.className, type = _a.type, _b = _a.inFront, inFront = _b === void 0 ? false : _b;
            var range = new ace_builds_1.Range(startRow, startCol, endRow, endCol);
            editor.getSession().addMarker(range, className, type, inFront);
          });
        };
        SplitComponent2.prototype.updateRef = function(item) {
          this.refEditor = item;
        };
        SplitComponent2.prototype.render = function() {
          var _a = this.props, name = _a.name, width = _a.width, height = _a.height, style2 = _a.style;
          var divStyle = __assign({ width, height }, style2);
          return React30.createElement("div", { ref: this.updateRef, id: name, style: divStyle });
        };
        SplitComponent2.propTypes = {
          className: PropTypes2.string,
          debounceChangePeriod: PropTypes2.number,
          defaultValue: PropTypes2.arrayOf(PropTypes2.string),
          focus: PropTypes2.bool,
          fontSize: PropTypes2.oneOfType([PropTypes2.number, PropTypes2.string]),
          height: PropTypes2.string,
          mode: PropTypes2.string,
          name: PropTypes2.string,
          onBlur: PropTypes2.func,
          onChange: PropTypes2.func,
          onCopy: PropTypes2.func,
          onFocus: PropTypes2.func,
          onInput: PropTypes2.func,
          onLoad: PropTypes2.func,
          onPaste: PropTypes2.func,
          onScroll: PropTypes2.func,
          orientation: PropTypes2.string,
          showGutter: PropTypes2.bool,
          splits: PropTypes2.number,
          theme: PropTypes2.string,
          value: PropTypes2.arrayOf(PropTypes2.string),
          width: PropTypes2.string,
          onSelectionChange: PropTypes2.func,
          onCursorChange: PropTypes2.func,
          onBeforeLoad: PropTypes2.func,
          minLines: PropTypes2.number,
          maxLines: PropTypes2.number,
          readOnly: PropTypes2.bool,
          highlightActiveLine: PropTypes2.bool,
          tabSize: PropTypes2.number,
          showPrintMargin: PropTypes2.bool,
          cursorStart: PropTypes2.number,
          editorProps: PropTypes2.object,
          setOptions: PropTypes2.object,
          style: PropTypes2.object,
          scrollMargin: PropTypes2.array,
          annotations: PropTypes2.array,
          markers: PropTypes2.array,
          keyboardHandler: PropTypes2.string,
          wrapEnabled: PropTypes2.bool,
          enableBasicAutocompletion: PropTypes2.oneOfType([
            PropTypes2.bool,
            PropTypes2.array
          ]),
          enableLiveAutocompletion: PropTypes2.oneOfType([
            PropTypes2.bool,
            PropTypes2.array
          ]),
          commands: PropTypes2.array
        };
        SplitComponent2.defaultProps = {
          name: "ace-editor",
          focus: false,
          orientation: "beside",
          splits: 2,
          mode: "",
          theme: "",
          height: "500px",
          width: "500px",
          value: [],
          fontSize: 12,
          showGutter: true,
          onChange: null,
          onPaste: null,
          onLoad: null,
          onScroll: null,
          minLines: null,
          maxLines: null,
          readOnly: false,
          highlightActiveLine: true,
          showPrintMargin: true,
          tabSize: 4,
          cursorStart: 1,
          editorProps: {},
          style: {},
          scrollMargin: [0, 0, 0, 0],
          setOptions: {},
          wrapEnabled: false,
          enableBasicAutocompletion: false,
          enableLiveAutocompletion: false
        };
        return SplitComponent2;
      }(React30.Component);
      exports.default = SplitComponent;
    }
  });

  // ../../node_modules/diff-match-patch/index.js
  var require_diff_match_patch = __commonJS({
    "../../node_modules/diff-match-patch/index.js"(exports, module) {
      var diff_match_patch = function() {
        this.Diff_Timeout = 1;
        this.Diff_EditCost = 4;
        this.Match_Threshold = 0.5;
        this.Match_Distance = 1e3;
        this.Patch_DeleteThreshold = 0.5;
        this.Patch_Margin = 4;
        this.Match_MaxBits = 32;
      };
      var DIFF_DELETE = -1;
      var DIFF_INSERT = 1;
      var DIFF_EQUAL = 0;
      diff_match_patch.Diff = function(op, text) {
        return [op, text];
      };
      diff_match_patch.prototype.diff_main = function(text1, text2, opt_checklines, opt_deadline) {
        if (typeof opt_deadline == "undefined") {
          if (this.Diff_Timeout <= 0) {
            opt_deadline = Number.MAX_VALUE;
          } else {
            opt_deadline = new Date().getTime() + this.Diff_Timeout * 1e3;
          }
        }
        var deadline = opt_deadline;
        if (text1 == null || text2 == null) {
          throw new Error("Null input. (diff_main)");
        }
        if (text1 == text2) {
          if (text1) {
            return [new diff_match_patch.Diff(DIFF_EQUAL, text1)];
          }
          return [];
        }
        if (typeof opt_checklines == "undefined") {
          opt_checklines = true;
        }
        var checklines = opt_checklines;
        var commonlength = this.diff_commonPrefix(text1, text2);
        var commonprefix = text1.substring(0, commonlength);
        text1 = text1.substring(commonlength);
        text2 = text2.substring(commonlength);
        commonlength = this.diff_commonSuffix(text1, text2);
        var commonsuffix = text1.substring(text1.length - commonlength);
        text1 = text1.substring(0, text1.length - commonlength);
        text2 = text2.substring(0, text2.length - commonlength);
        var diffs = this.diff_compute_(text1, text2, checklines, deadline);
        if (commonprefix) {
          diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, commonprefix));
        }
        if (commonsuffix) {
          diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, commonsuffix));
        }
        this.diff_cleanupMerge(diffs);
        return diffs;
      };
      diff_match_patch.prototype.diff_compute_ = function(text1, text2, checklines, deadline) {
        var diffs;
        if (!text1) {
          return [new diff_match_patch.Diff(DIFF_INSERT, text2)];
        }
        if (!text2) {
          return [new diff_match_patch.Diff(DIFF_DELETE, text1)];
        }
        var longtext = text1.length > text2.length ? text1 : text2;
        var shorttext = text1.length > text2.length ? text2 : text1;
        var i3 = longtext.indexOf(shorttext);
        if (i3 != -1) {
          diffs = [
            new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(0, i3)),
            new diff_match_patch.Diff(DIFF_EQUAL, shorttext),
            new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(i3 + shorttext.length))
          ];
          if (text1.length > text2.length) {
            diffs[0][0] = diffs[2][0] = DIFF_DELETE;
          }
          return diffs;
        }
        if (shorttext.length == 1) {
          return [
            new diff_match_patch.Diff(DIFF_DELETE, text1),
            new diff_match_patch.Diff(DIFF_INSERT, text2)
          ];
        }
        var hm = this.diff_halfMatch_(text1, text2);
        if (hm) {
          var text1_a = hm[0];
          var text1_b = hm[1];
          var text2_a = hm[2];
          var text2_b = hm[3];
          var mid_common = hm[4];
          var diffs_a = this.diff_main(text1_a, text2_a, checklines, deadline);
          var diffs_b = this.diff_main(text1_b, text2_b, checklines, deadline);
          return diffs_a.concat([new diff_match_patch.Diff(DIFF_EQUAL, mid_common)], diffs_b);
        }
        if (checklines && text1.length > 100 && text2.length > 100) {
          return this.diff_lineMode_(text1, text2, deadline);
        }
        return this.diff_bisect_(text1, text2, deadline);
      };
      diff_match_patch.prototype.diff_lineMode_ = function(text1, text2, deadline) {
        var a3 = this.diff_linesToChars_(text1, text2);
        text1 = a3.chars1;
        text2 = a3.chars2;
        var linearray = a3.lineArray;
        var diffs = this.diff_main(text1, text2, false, deadline);
        this.diff_charsToLines_(diffs, linearray);
        this.diff_cleanupSemantic(diffs);
        diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ""));
        var pointer = 0;
        var count_delete = 0;
        var count_insert = 0;
        var text_delete = "";
        var text_insert = "";
        while (pointer < diffs.length) {
          switch (diffs[pointer][0]) {
            case DIFF_INSERT:
              count_insert++;
              text_insert += diffs[pointer][1];
              break;
            case DIFF_DELETE:
              count_delete++;
              text_delete += diffs[pointer][1];
              break;
            case DIFF_EQUAL:
              if (count_delete >= 1 && count_insert >= 1) {
                diffs.splice(pointer - count_delete - count_insert, count_delete + count_insert);
                pointer = pointer - count_delete - count_insert;
                var subDiff = this.diff_main(text_delete, text_insert, false, deadline);
                for (var j3 = subDiff.length - 1; j3 >= 0; j3--) {
                  diffs.splice(pointer, 0, subDiff[j3]);
                }
                pointer = pointer + subDiff.length;
              }
              count_insert = 0;
              count_delete = 0;
              text_delete = "";
              text_insert = "";
              break;
          }
          pointer++;
        }
        diffs.pop();
        return diffs;
      };
      diff_match_patch.prototype.diff_bisect_ = function(text1, text2, deadline) {
        var text1_length = text1.length;
        var text2_length = text2.length;
        var max_d = Math.ceil((text1_length + text2_length) / 2);
        var v_offset = max_d;
        var v_length = 2 * max_d;
        var v1 = new Array(v_length);
        var v2 = new Array(v_length);
        for (var x2 = 0; x2 < v_length; x2++) {
          v1[x2] = -1;
          v2[x2] = -1;
        }
        v1[v_offset + 1] = 0;
        v2[v_offset + 1] = 0;
        var delta = text1_length - text2_length;
        var front = delta % 2 != 0;
        var k1start = 0;
        var k1end = 0;
        var k2start = 0;
        var k2end = 0;
        for (var d3 = 0; d3 < max_d; d3++) {
          if (new Date().getTime() > deadline) {
            break;
          }
          for (var k1 = -d3 + k1start; k1 <= d3 - k1end; k1 += 2) {
            var k1_offset = v_offset + k1;
            var x1;
            if (k1 == -d3 || k1 != d3 && v1[k1_offset - 1] < v1[k1_offset + 1]) {
              x1 = v1[k1_offset + 1];
            } else {
              x1 = v1[k1_offset - 1] + 1;
            }
            var y1 = x1 - k1;
            while (x1 < text1_length && y1 < text2_length && text1.charAt(x1) == text2.charAt(y1)) {
              x1++;
              y1++;
            }
            v1[k1_offset] = x1;
            if (x1 > text1_length) {
              k1end += 2;
            } else if (y1 > text2_length) {
              k1start += 2;
            } else if (front) {
              var k2_offset = v_offset + delta - k1;
              if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {
                var x22 = text1_length - v2[k2_offset];
                if (x1 >= x22) {
                  return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);
                }
              }
            }
          }
          for (var k2 = -d3 + k2start; k2 <= d3 - k2end; k2 += 2) {
            var k2_offset = v_offset + k2;
            var x22;
            if (k2 == -d3 || k2 != d3 && v2[k2_offset - 1] < v2[k2_offset + 1]) {
              x22 = v2[k2_offset + 1];
            } else {
              x22 = v2[k2_offset - 1] + 1;
            }
            var y2 = x22 - k2;
            while (x22 < text1_length && y2 < text2_length && text1.charAt(text1_length - x22 - 1) == text2.charAt(text2_length - y2 - 1)) {
              x22++;
              y2++;
            }
            v2[k2_offset] = x22;
            if (x22 > text1_length) {
              k2end += 2;
            } else if (y2 > text2_length) {
              k2start += 2;
            } else if (!front) {
              var k1_offset = v_offset + delta - k2;
              if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {
                var x1 = v1[k1_offset];
                var y1 = v_offset + x1 - k1_offset;
                x22 = text1_length - x22;
                if (x1 >= x22) {
                  return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);
                }
              }
            }
          }
        }
        return [
          new diff_match_patch.Diff(DIFF_DELETE, text1),
          new diff_match_patch.Diff(DIFF_INSERT, text2)
        ];
      };
      diff_match_patch.prototype.diff_bisectSplit_ = function(text1, text2, x2, y2, deadline) {
        var text1a = text1.substring(0, x2);
        var text2a = text2.substring(0, y2);
        var text1b = text1.substring(x2);
        var text2b = text2.substring(y2);
        var diffs = this.diff_main(text1a, text2a, false, deadline);
        var diffsb = this.diff_main(text1b, text2b, false, deadline);
        return diffs.concat(diffsb);
      };
      diff_match_patch.prototype.diff_linesToChars_ = function(text1, text2) {
        var lineArray = [];
        var lineHash = {};
        lineArray[0] = "";
        function diff_linesToCharsMunge_(text) {
          var chars = "";
          var lineStart = 0;
          var lineEnd = -1;
          var lineArrayLength = lineArray.length;
          while (lineEnd < text.length - 1) {
            lineEnd = text.indexOf("\n", lineStart);
            if (lineEnd == -1) {
              lineEnd = text.length - 1;
            }
            var line = text.substring(lineStart, lineEnd + 1);
            if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) : lineHash[line] !== void 0) {
              chars += String.fromCharCode(lineHash[line]);
            } else {
              if (lineArrayLength == maxLines) {
                line = text.substring(lineStart);
                lineEnd = text.length;
              }
              chars += String.fromCharCode(lineArrayLength);
              lineHash[line] = lineArrayLength;
              lineArray[lineArrayLength++] = line;
            }
            lineStart = lineEnd + 1;
          }
          return chars;
        }
        var maxLines = 4e4;
        var chars1 = diff_linesToCharsMunge_(text1);
        maxLines = 65535;
        var chars2 = diff_linesToCharsMunge_(text2);
        return { chars1, chars2, lineArray };
      };
      diff_match_patch.prototype.diff_charsToLines_ = function(diffs, lineArray) {
        for (var i3 = 0; i3 < diffs.length; i3++) {
          var chars = diffs[i3][1];
          var text = [];
          for (var j3 = 0; j3 < chars.length; j3++) {
            text[j3] = lineArray[chars.charCodeAt(j3)];
          }
          diffs[i3][1] = text.join("");
        }
      };
      diff_match_patch.prototype.diff_commonPrefix = function(text1, text2) {
        if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {
          return 0;
        }
        var pointermin = 0;
        var pointermax = Math.min(text1.length, text2.length);
        var pointermid = pointermax;
        var pointerstart = 0;
        while (pointermin < pointermid) {
          if (text1.substring(pointerstart, pointermid) == text2.substring(pointerstart, pointermid)) {
            pointermin = pointermid;
            pointerstart = pointermin;
          } else {
            pointermax = pointermid;
          }
          pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);
        }
        return pointermid;
      };
      diff_match_patch.prototype.diff_commonSuffix = function(text1, text2) {
        if (!text1 || !text2 || text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {
          return 0;
        }
        var pointermin = 0;
        var pointermax = Math.min(text1.length, text2.length);
        var pointermid = pointermax;
        var pointerend = 0;
        while (pointermin < pointermid) {
          if (text1.substring(text1.length - pointermid, text1.length - pointerend) == text2.substring(text2.length - pointermid, text2.length - pointerend)) {
            pointermin = pointermid;
            pointerend = pointermin;
          } else {
            pointermax = pointermid;
          }
          pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);
        }
        return pointermid;
      };
      diff_match_patch.prototype.diff_commonOverlap_ = function(text1, text2) {
        var text1_length = text1.length;
        var text2_length = text2.length;
        if (text1_length == 0 || text2_length == 0) {
          return 0;
        }
        if (text1_length > text2_length) {
          text1 = text1.substring(text1_length - text2_length);
        } else if (text1_length < text2_length) {
          text2 = text2.substring(0, text1_length);
        }
        var text_length = Math.min(text1_length, text2_length);
        if (text1 == text2) {
          return text_length;
        }
        var best = 0;
        var length = 1;
        while (true) {
          var pattern = text1.substring(text_length - length);
          var found = text2.indexOf(pattern);
          if (found == -1) {
            return best;
          }
          length += found;
          if (found == 0 || text1.substring(text_length - length) == text2.substring(0, length)) {
            best = length;
            length++;
          }
        }
      };
      diff_match_patch.prototype.diff_halfMatch_ = function(text1, text2) {
        if (this.Diff_Timeout <= 0) {
          return null;
        }
        var longtext = text1.length > text2.length ? text1 : text2;
        var shorttext = text1.length > text2.length ? text2 : text1;
        if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {
          return null;
        }
        var dmp = this;
        function diff_halfMatchI_(longtext2, shorttext2, i3) {
          var seed = longtext2.substring(i3, i3 + Math.floor(longtext2.length / 4));
          var j3 = -1;
          var best_common = "";
          var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;
          while ((j3 = shorttext2.indexOf(seed, j3 + 1)) != -1) {
            var prefixLength = dmp.diff_commonPrefix(longtext2.substring(i3), shorttext2.substring(j3));
            var suffixLength = dmp.diff_commonSuffix(longtext2.substring(0, i3), shorttext2.substring(0, j3));
            if (best_common.length < suffixLength + prefixLength) {
              best_common = shorttext2.substring(j3 - suffixLength, j3) + shorttext2.substring(j3, j3 + prefixLength);
              best_longtext_a = longtext2.substring(0, i3 - suffixLength);
              best_longtext_b = longtext2.substring(i3 + prefixLength);
              best_shorttext_a = shorttext2.substring(0, j3 - suffixLength);
              best_shorttext_b = shorttext2.substring(j3 + prefixLength);
            }
          }
          if (best_common.length * 2 >= longtext2.length) {
            return [
              best_longtext_a,
              best_longtext_b,
              best_shorttext_a,
              best_shorttext_b,
              best_common
            ];
          } else {
            return null;
          }
        }
        var hm1 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 4));
        var hm2 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 2));
        var hm;
        if (!hm1 && !hm2) {
          return null;
        } else if (!hm2) {
          hm = hm1;
        } else if (!hm1) {
          hm = hm2;
        } else {
          hm = hm1[4].length > hm2[4].length ? hm1 : hm2;
        }
        var text1_a, text1_b, text2_a, text2_b;
        if (text1.length > text2.length) {
          text1_a = hm[0];
          text1_b = hm[1];
          text2_a = hm[2];
          text2_b = hm[3];
        } else {
          text2_a = hm[0];
          text2_b = hm[1];
          text1_a = hm[2];
          text1_b = hm[3];
        }
        var mid_common = hm[4];
        return [text1_a, text1_b, text2_a, text2_b, mid_common];
      };
      diff_match_patch.prototype.diff_cleanupSemantic = function(diffs) {
        var changes = false;
        var equalities = [];
        var equalitiesLength = 0;
        var lastEquality = null;
        var pointer = 0;
        var length_insertions1 = 0;
        var length_deletions1 = 0;
        var length_insertions2 = 0;
        var length_deletions2 = 0;
        while (pointer < diffs.length) {
          if (diffs[pointer][0] == DIFF_EQUAL) {
            equalities[equalitiesLength++] = pointer;
            length_insertions1 = length_insertions2;
            length_deletions1 = length_deletions2;
            length_insertions2 = 0;
            length_deletions2 = 0;
            lastEquality = diffs[pointer][1];
          } else {
            if (diffs[pointer][0] == DIFF_INSERT) {
              length_insertions2 += diffs[pointer][1].length;
            } else {
              length_deletions2 += diffs[pointer][1].length;
            }
            if (lastEquality && lastEquality.length <= Math.max(length_insertions1, length_deletions1) && lastEquality.length <= Math.max(length_insertions2, length_deletions2)) {
              diffs.splice(equalities[equalitiesLength - 1], 0, new diff_match_patch.Diff(DIFF_DELETE, lastEquality));
              diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;
              equalitiesLength--;
              equalitiesLength--;
              pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;
              length_insertions1 = 0;
              length_deletions1 = 0;
              length_insertions2 = 0;
              length_deletions2 = 0;
              lastEquality = null;
              changes = true;
            }
          }
          pointer++;
        }
        if (changes) {
          this.diff_cleanupMerge(diffs);
        }
        this.diff_cleanupSemanticLossless(diffs);
        pointer = 1;
        while (pointer < diffs.length) {
          if (diffs[pointer - 1][0] == DIFF_DELETE && diffs[pointer][0] == DIFF_INSERT) {
            var deletion = diffs[pointer - 1][1];
            var insertion = diffs[pointer][1];
            var overlap_length1 = this.diff_commonOverlap_(deletion, insertion);
            var overlap_length2 = this.diff_commonOverlap_(insertion, deletion);
            if (overlap_length1 >= overlap_length2) {
              if (overlap_length1 >= deletion.length / 2 || overlap_length1 >= insertion.length / 2) {
                diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL, insertion.substring(0, overlap_length1)));
                diffs[pointer - 1][1] = deletion.substring(0, deletion.length - overlap_length1);
                diffs[pointer + 1][1] = insertion.substring(overlap_length1);
                pointer++;
              }
            } else {
              if (overlap_length2 >= deletion.length / 2 || overlap_length2 >= insertion.length / 2) {
                diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL, deletion.substring(0, overlap_length2)));
                diffs[pointer - 1][0] = DIFF_INSERT;
                diffs[pointer - 1][1] = insertion.substring(0, insertion.length - overlap_length2);
                diffs[pointer + 1][0] = DIFF_DELETE;
                diffs[pointer + 1][1] = deletion.substring(overlap_length2);
                pointer++;
              }
            }
            pointer++;
          }
          pointer++;
        }
      };
      diff_match_patch.prototype.diff_cleanupSemanticLossless = function(diffs) {
        function diff_cleanupSemanticScore_(one, two) {
          if (!one || !two) {
            return 6;
          }
          var char1 = one.charAt(one.length - 1);
          var char2 = two.charAt(0);
          var nonAlphaNumeric1 = char1.match(diff_match_patch.nonAlphaNumericRegex_);
          var nonAlphaNumeric2 = char2.match(diff_match_patch.nonAlphaNumericRegex_);
          var whitespace1 = nonAlphaNumeric1 && char1.match(diff_match_patch.whitespaceRegex_);
          var whitespace2 = nonAlphaNumeric2 && char2.match(diff_match_patch.whitespaceRegex_);
          var lineBreak1 = whitespace1 && char1.match(diff_match_patch.linebreakRegex_);
          var lineBreak2 = whitespace2 && char2.match(diff_match_patch.linebreakRegex_);
          var blankLine1 = lineBreak1 && one.match(diff_match_patch.blanklineEndRegex_);
          var blankLine2 = lineBreak2 && two.match(diff_match_patch.blanklineStartRegex_);
          if (blankLine1 || blankLine2) {
            return 5;
          } else if (lineBreak1 || lineBreak2) {
            return 4;
          } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {
            return 3;
          } else if (whitespace1 || whitespace2) {
            return 2;
          } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {
            return 1;
          }
          return 0;
        }
        var pointer = 1;
        while (pointer < diffs.length - 1) {
          if (diffs[pointer - 1][0] == DIFF_EQUAL && diffs[pointer + 1][0] == DIFF_EQUAL) {
            var equality1 = diffs[pointer - 1][1];
            var edit = diffs[pointer][1];
            var equality2 = diffs[pointer + 1][1];
            var commonOffset = this.diff_commonSuffix(equality1, edit);
            if (commonOffset) {
              var commonString = edit.substring(edit.length - commonOffset);
              equality1 = equality1.substring(0, equality1.length - commonOffset);
              edit = commonString + edit.substring(0, edit.length - commonOffset);
              equality2 = commonString + equality2;
            }
            var bestEquality1 = equality1;
            var bestEdit = edit;
            var bestEquality2 = equality2;
            var bestScore = diff_cleanupSemanticScore_(equality1, edit) + diff_cleanupSemanticScore_(edit, equality2);
            while (edit.charAt(0) === equality2.charAt(0)) {
              equality1 += edit.charAt(0);
              edit = edit.substring(1) + equality2.charAt(0);
              equality2 = equality2.substring(1);
              var score = diff_cleanupSemanticScore_(equality1, edit) + diff_cleanupSemanticScore_(edit, equality2);
              if (score >= bestScore) {
                bestScore = score;
                bestEquality1 = equality1;
                bestEdit = edit;
                bestEquality2 = equality2;
              }
            }
            if (diffs[pointer - 1][1] != bestEquality1) {
              if (bestEquality1) {
                diffs[pointer - 1][1] = bestEquality1;
              } else {
                diffs.splice(pointer - 1, 1);
                pointer--;
              }
              diffs[pointer][1] = bestEdit;
              if (bestEquality2) {
                diffs[pointer + 1][1] = bestEquality2;
              } else {
                diffs.splice(pointer + 1, 1);
                pointer--;
              }
            }
          }
          pointer++;
        }
      };
      diff_match_patch.nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;
      diff_match_patch.whitespaceRegex_ = /\s/;
      diff_match_patch.linebreakRegex_ = /[\r\n]/;
      diff_match_patch.blanklineEndRegex_ = /\n\r?\n$/;
      diff_match_patch.blanklineStartRegex_ = /^\r?\n\r?\n/;
      diff_match_patch.prototype.diff_cleanupEfficiency = function(diffs) {
        var changes = false;
        var equalities = [];
        var equalitiesLength = 0;
        var lastEquality = null;
        var pointer = 0;
        var pre_ins = false;
        var pre_del = false;
        var post_ins = false;
        var post_del = false;
        while (pointer < diffs.length) {
          if (diffs[pointer][0] == DIFF_EQUAL) {
            if (diffs[pointer][1].length < this.Diff_EditCost && (post_ins || post_del)) {
              equalities[equalitiesLength++] = pointer;
              pre_ins = post_ins;
              pre_del = post_del;
              lastEquality = diffs[pointer][1];
            } else {
              equalitiesLength = 0;
              lastEquality = null;
            }
            post_ins = post_del = false;
          } else {
            if (diffs[pointer][0] == DIFF_DELETE) {
              post_del = true;
            } else {
              post_ins = true;
            }
            if (lastEquality && (pre_ins && pre_del && post_ins && post_del || lastEquality.length < this.Diff_EditCost / 2 && pre_ins + pre_del + post_ins + post_del == 3)) {
              diffs.splice(equalities[equalitiesLength - 1], 0, new diff_match_patch.Diff(DIFF_DELETE, lastEquality));
              diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;
              equalitiesLength--;
              lastEquality = null;
              if (pre_ins && pre_del) {
                post_ins = post_del = true;
                equalitiesLength = 0;
              } else {
                equalitiesLength--;
                pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;
                post_ins = post_del = false;
              }
              changes = true;
            }
          }
          pointer++;
        }
        if (changes) {
          this.diff_cleanupMerge(diffs);
        }
      };
      diff_match_patch.prototype.diff_cleanupMerge = function(diffs) {
        diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ""));
        var pointer = 0;
        var count_delete = 0;
        var count_insert = 0;
        var text_delete = "";
        var text_insert = "";
        var commonlength;
        while (pointer < diffs.length) {
          switch (diffs[pointer][0]) {
            case DIFF_INSERT:
              count_insert++;
              text_insert += diffs[pointer][1];
              pointer++;
              break;
            case DIFF_DELETE:
              count_delete++;
              text_delete += diffs[pointer][1];
              pointer++;
              break;
            case DIFF_EQUAL:
              if (count_delete + count_insert > 1) {
                if (count_delete !== 0 && count_insert !== 0) {
                  commonlength = this.diff_commonPrefix(text_insert, text_delete);
                  if (commonlength !== 0) {
                    if (pointer - count_delete - count_insert > 0 && diffs[pointer - count_delete - count_insert - 1][0] == DIFF_EQUAL) {
                      diffs[pointer - count_delete - count_insert - 1][1] += text_insert.substring(0, commonlength);
                    } else {
                      diffs.splice(0, 0, new diff_match_patch.Diff(DIFF_EQUAL, text_insert.substring(0, commonlength)));
                      pointer++;
                    }
                    text_insert = text_insert.substring(commonlength);
                    text_delete = text_delete.substring(commonlength);
                  }
                  commonlength = this.diff_commonSuffix(text_insert, text_delete);
                  if (commonlength !== 0) {
                    diffs[pointer][1] = text_insert.substring(text_insert.length - commonlength) + diffs[pointer][1];
                    text_insert = text_insert.substring(0, text_insert.length - commonlength);
                    text_delete = text_delete.substring(0, text_delete.length - commonlength);
                  }
                }
                pointer -= count_delete + count_insert;
                diffs.splice(pointer, count_delete + count_insert);
                if (text_delete.length) {
                  diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_DELETE, text_delete));
                  pointer++;
                }
                if (text_insert.length) {
                  diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_INSERT, text_insert));
                  pointer++;
                }
                pointer++;
              } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {
                diffs[pointer - 1][1] += diffs[pointer][1];
                diffs.splice(pointer, 1);
              } else {
                pointer++;
              }
              count_insert = 0;
              count_delete = 0;
              text_delete = "";
              text_insert = "";
              break;
          }
        }
        if (diffs[diffs.length - 1][1] === "") {
          diffs.pop();
        }
        var changes = false;
        pointer = 1;
        while (pointer < diffs.length - 1) {
          if (diffs[pointer - 1][0] == DIFF_EQUAL && diffs[pointer + 1][0] == DIFF_EQUAL) {
            if (diffs[pointer][1].substring(diffs[pointer][1].length - diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {
              diffs[pointer][1] = diffs[pointer - 1][1] + diffs[pointer][1].substring(0, diffs[pointer][1].length - diffs[pointer - 1][1].length);
              diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];
              diffs.splice(pointer - 1, 1);
              changes = true;
            } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) == diffs[pointer + 1][1]) {
              diffs[pointer - 1][1] += diffs[pointer + 1][1];
              diffs[pointer][1] = diffs[pointer][1].substring(diffs[pointer + 1][1].length) + diffs[pointer + 1][1];
              diffs.splice(pointer + 1, 1);
              changes = true;
            }
          }
          pointer++;
        }
        if (changes) {
          this.diff_cleanupMerge(diffs);
        }
      };
      diff_match_patch.prototype.diff_xIndex = function(diffs, loc) {
        var chars1 = 0;
        var chars2 = 0;
        var last_chars1 = 0;
        var last_chars2 = 0;
        var x2;
        for (x2 = 0; x2 < diffs.length; x2++) {
          if (diffs[x2][0] !== DIFF_INSERT) {
            chars1 += diffs[x2][1].length;
          }
          if (diffs[x2][0] !== DIFF_DELETE) {
            chars2 += diffs[x2][1].length;
          }
          if (chars1 > loc) {
            break;
          }
          last_chars1 = chars1;
          last_chars2 = chars2;
        }
        if (diffs.length != x2 && diffs[x2][0] === DIFF_DELETE) {
          return last_chars2;
        }
        return last_chars2 + (loc - last_chars1);
      };
      diff_match_patch.prototype.diff_prettyHtml = function(diffs) {
        var html = [];
        var pattern_amp = /&/g;
        var pattern_lt = /</g;
        var pattern_gt = />/g;
        var pattern_para = /\n/g;
        for (var x2 = 0; x2 < diffs.length; x2++) {
          var op = diffs[x2][0];
          var data = diffs[x2][1];
          var text = data.replace(pattern_amp, "&amp;").replace(pattern_lt, "&lt;").replace(pattern_gt, "&gt;").replace(pattern_para, "&para;<br>");
          switch (op) {
            case DIFF_INSERT:
              html[x2] = '<ins style="background:#e6ffe6;">' + text + "</ins>";
              break;
            case DIFF_DELETE:
              html[x2] = '<del style="background:#ffe6e6;">' + text + "</del>";
              break;
            case DIFF_EQUAL:
              html[x2] = "<span>" + text + "</span>";
              break;
          }
        }
        return html.join("");
      };
      diff_match_patch.prototype.diff_text1 = function(diffs) {
        var text = [];
        for (var x2 = 0; x2 < diffs.length; x2++) {
          if (diffs[x2][0] !== DIFF_INSERT) {
            text[x2] = diffs[x2][1];
          }
        }
        return text.join("");
      };
      diff_match_patch.prototype.diff_text2 = function(diffs) {
        var text = [];
        for (var x2 = 0; x2 < diffs.length; x2++) {
          if (diffs[x2][0] !== DIFF_DELETE) {
            text[x2] = diffs[x2][1];
          }
        }
        return text.join("");
      };
      diff_match_patch.prototype.diff_levenshtein = function(diffs) {
        var levenshtein = 0;
        var insertions = 0;
        var deletions = 0;
        for (var x2 = 0; x2 < diffs.length; x2++) {
          var op = diffs[x2][0];
          var data = diffs[x2][1];
          switch (op) {
            case DIFF_INSERT:
              insertions += data.length;
              break;
            case DIFF_DELETE:
              deletions += data.length;
              break;
            case DIFF_EQUAL:
              levenshtein += Math.max(insertions, deletions);
              insertions = 0;
              deletions = 0;
              break;
          }
        }
        levenshtein += Math.max(insertions, deletions);
        return levenshtein;
      };
      diff_match_patch.prototype.diff_toDelta = function(diffs) {
        var text = [];
        for (var x2 = 0; x2 < diffs.length; x2++) {
          switch (diffs[x2][0]) {
            case DIFF_INSERT:
              text[x2] = "+" + encodeURI(diffs[x2][1]);
              break;
            case DIFF_DELETE:
              text[x2] = "-" + diffs[x2][1].length;
              break;
            case DIFF_EQUAL:
              text[x2] = "=" + diffs[x2][1].length;
              break;
          }
        }
        return text.join("	").replace(/%20/g, " ");
      };
      diff_match_patch.prototype.diff_fromDelta = function(text1, delta) {
        var diffs = [];
        var diffsLength = 0;
        var pointer = 0;
        var tokens = delta.split(/\t/g);
        for (var x2 = 0; x2 < tokens.length; x2++) {
          var param = tokens[x2].substring(1);
          switch (tokens[x2].charAt(0)) {
            case "+":
              try {
                diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_INSERT, decodeURI(param));
              } catch (ex) {
                throw new Error("Illegal escape in diff_fromDelta: " + param);
              }
              break;
            case "-":
            case "=":
              var n3 = parseInt(param, 10);
              if (isNaN(n3) || n3 < 0) {
                throw new Error("Invalid number in diff_fromDelta: " + param);
              }
              var text = text1.substring(pointer, pointer += n3);
              if (tokens[x2].charAt(0) == "=") {
                diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_EQUAL, text);
              } else {
                diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_DELETE, text);
              }
              break;
            default:
              if (tokens[x2]) {
                throw new Error("Invalid diff operation in diff_fromDelta: " + tokens[x2]);
              }
          }
        }
        if (pointer != text1.length) {
          throw new Error("Delta length (" + pointer + ") does not equal source text length (" + text1.length + ").");
        }
        return diffs;
      };
      diff_match_patch.prototype.match_main = function(text, pattern, loc) {
        if (text == null || pattern == null || loc == null) {
          throw new Error("Null input. (match_main)");
        }
        loc = Math.max(0, Math.min(loc, text.length));
        if (text == pattern) {
          return 0;
        } else if (!text.length) {
          return -1;
        } else if (text.substring(loc, loc + pattern.length) == pattern) {
          return loc;
        } else {
          return this.match_bitap_(text, pattern, loc);
        }
      };
      diff_match_patch.prototype.match_bitap_ = function(text, pattern, loc) {
        if (pattern.length > this.Match_MaxBits) {
          throw new Error("Pattern too long for this browser.");
        }
        var s3 = this.match_alphabet_(pattern);
        var dmp = this;
        function match_bitapScore_(e2, x2) {
          var accuracy = e2 / pattern.length;
          var proximity = Math.abs(loc - x2);
          if (!dmp.Match_Distance) {
            return proximity ? 1 : accuracy;
          }
          return accuracy + proximity / dmp.Match_Distance;
        }
        var score_threshold = this.Match_Threshold;
        var best_loc = text.indexOf(pattern, loc);
        if (best_loc != -1) {
          score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);
          best_loc = text.lastIndexOf(pattern, loc + pattern.length);
          if (best_loc != -1) {
            score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);
          }
        }
        var matchmask = 1 << pattern.length - 1;
        best_loc = -1;
        var bin_min, bin_mid;
        var bin_max = pattern.length + text.length;
        var last_rd;
        for (var d3 = 0; d3 < pattern.length; d3++) {
          bin_min = 0;
          bin_mid = bin_max;
          while (bin_min < bin_mid) {
            if (match_bitapScore_(d3, loc + bin_mid) <= score_threshold) {
              bin_min = bin_mid;
            } else {
              bin_max = bin_mid;
            }
            bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min);
          }
          bin_max = bin_mid;
          var start4 = Math.max(1, loc - bin_mid + 1);
          var finish3 = Math.min(loc + bin_mid, text.length) + pattern.length;
          var rd = Array(finish3 + 2);
          rd[finish3 + 1] = (1 << d3) - 1;
          for (var j3 = finish3; j3 >= start4; j3--) {
            var charMatch = s3[text.charAt(j3 - 1)];
            if (d3 === 0) {
              rd[j3] = (rd[j3 + 1] << 1 | 1) & charMatch;
            } else {
              rd[j3] = (rd[j3 + 1] << 1 | 1) & charMatch | ((last_rd[j3 + 1] | last_rd[j3]) << 1 | 1) | last_rd[j3 + 1];
            }
            if (rd[j3] & matchmask) {
              var score = match_bitapScore_(d3, j3 - 1);
              if (score <= score_threshold) {
                score_threshold = score;
                best_loc = j3 - 1;
                if (best_loc > loc) {
                  start4 = Math.max(1, 2 * loc - best_loc);
                } else {
                  break;
                }
              }
            }
          }
          if (match_bitapScore_(d3 + 1, loc) > score_threshold) {
            break;
          }
          last_rd = rd;
        }
        return best_loc;
      };
      diff_match_patch.prototype.match_alphabet_ = function(pattern) {
        var s3 = {};
        for (var i3 = 0; i3 < pattern.length; i3++) {
          s3[pattern.charAt(i3)] = 0;
        }
        for (var i3 = 0; i3 < pattern.length; i3++) {
          s3[pattern.charAt(i3)] |= 1 << pattern.length - i3 - 1;
        }
        return s3;
      };
      diff_match_patch.prototype.patch_addContext_ = function(patch3, text) {
        if (text.length == 0) {
          return;
        }
        if (patch3.start2 === null) {
          throw Error("patch not initialized");
        }
        var pattern = text.substring(patch3.start2, patch3.start2 + patch3.length1);
        var padding = 0;
        while (text.indexOf(pattern) != text.lastIndexOf(pattern) && pattern.length < this.Match_MaxBits - this.Patch_Margin - this.Patch_Margin) {
          padding += this.Patch_Margin;
          pattern = text.substring(patch3.start2 - padding, patch3.start2 + patch3.length1 + padding);
        }
        padding += this.Patch_Margin;
        var prefix3 = text.substring(patch3.start2 - padding, patch3.start2);
        if (prefix3) {
          patch3.diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, prefix3));
        }
        var suffix2 = text.substring(patch3.start2 + patch3.length1, patch3.start2 + patch3.length1 + padding);
        if (suffix2) {
          patch3.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, suffix2));
        }
        patch3.start1 -= prefix3.length;
        patch3.start2 -= prefix3.length;
        patch3.length1 += prefix3.length + suffix2.length;
        patch3.length2 += prefix3.length + suffix2.length;
      };
      diff_match_patch.prototype.patch_make = function(a3, opt_b, opt_c) {
        var text1, diffs;
        if (typeof a3 == "string" && typeof opt_b == "string" && typeof opt_c == "undefined") {
          text1 = a3;
          diffs = this.diff_main(text1, opt_b, true);
          if (diffs.length > 2) {
            this.diff_cleanupSemantic(diffs);
            this.diff_cleanupEfficiency(diffs);
          }
        } else if (a3 && typeof a3 == "object" && typeof opt_b == "undefined" && typeof opt_c == "undefined") {
          diffs = a3;
          text1 = this.diff_text1(diffs);
        } else if (typeof a3 == "string" && opt_b && typeof opt_b == "object" && typeof opt_c == "undefined") {
          text1 = a3;
          diffs = opt_b;
        } else if (typeof a3 == "string" && typeof opt_b == "string" && opt_c && typeof opt_c == "object") {
          text1 = a3;
          diffs = opt_c;
        } else {
          throw new Error("Unknown call format to patch_make.");
        }
        if (diffs.length === 0) {
          return [];
        }
        var patches = [];
        var patch3 = new diff_match_patch.patch_obj();
        var patchDiffLength = 0;
        var char_count1 = 0;
        var char_count2 = 0;
        var prepatch_text = text1;
        var postpatch_text = text1;
        for (var x2 = 0; x2 < diffs.length; x2++) {
          var diff_type = diffs[x2][0];
          var diff_text = diffs[x2][1];
          if (!patchDiffLength && diff_type !== DIFF_EQUAL) {
            patch3.start1 = char_count1;
            patch3.start2 = char_count2;
          }
          switch (diff_type) {
            case DIFF_INSERT:
              patch3.diffs[patchDiffLength++] = diffs[x2];
              patch3.length2 += diff_text.length;
              postpatch_text = postpatch_text.substring(0, char_count2) + diff_text + postpatch_text.substring(char_count2);
              break;
            case DIFF_DELETE:
              patch3.length1 += diff_text.length;
              patch3.diffs[patchDiffLength++] = diffs[x2];
              postpatch_text = postpatch_text.substring(0, char_count2) + postpatch_text.substring(char_count2 + diff_text.length);
              break;
            case DIFF_EQUAL:
              if (diff_text.length <= 2 * this.Patch_Margin && patchDiffLength && diffs.length != x2 + 1) {
                patch3.diffs[patchDiffLength++] = diffs[x2];
                patch3.length1 += diff_text.length;
                patch3.length2 += diff_text.length;
              } else if (diff_text.length >= 2 * this.Patch_Margin) {
                if (patchDiffLength) {
                  this.patch_addContext_(patch3, prepatch_text);
                  patches.push(patch3);
                  patch3 = new diff_match_patch.patch_obj();
                  patchDiffLength = 0;
                  prepatch_text = postpatch_text;
                  char_count1 = char_count2;
                }
              }
              break;
          }
          if (diff_type !== DIFF_INSERT) {
            char_count1 += diff_text.length;
          }
          if (diff_type !== DIFF_DELETE) {
            char_count2 += diff_text.length;
          }
        }
        if (patchDiffLength) {
          this.patch_addContext_(patch3, prepatch_text);
          patches.push(patch3);
        }
        return patches;
      };
      diff_match_patch.prototype.patch_deepCopy = function(patches) {
        var patchesCopy = [];
        for (var x2 = 0; x2 < patches.length; x2++) {
          var patch3 = patches[x2];
          var patchCopy = new diff_match_patch.patch_obj();
          patchCopy.diffs = [];
          for (var y2 = 0; y2 < patch3.diffs.length; y2++) {
            patchCopy.diffs[y2] = new diff_match_patch.Diff(patch3.diffs[y2][0], patch3.diffs[y2][1]);
          }
          patchCopy.start1 = patch3.start1;
          patchCopy.start2 = patch3.start2;
          patchCopy.length1 = patch3.length1;
          patchCopy.length2 = patch3.length2;
          patchesCopy[x2] = patchCopy;
        }
        return patchesCopy;
      };
      diff_match_patch.prototype.patch_apply = function(patches, text) {
        if (patches.length == 0) {
          return [text, []];
        }
        patches = this.patch_deepCopy(patches);
        var nullPadding = this.patch_addPadding(patches);
        text = nullPadding + text + nullPadding;
        this.patch_splitMax(patches);
        var delta = 0;
        var results = [];
        for (var x2 = 0; x2 < patches.length; x2++) {
          var expected_loc = patches[x2].start2 + delta;
          var text1 = this.diff_text1(patches[x2].diffs);
          var start_loc;
          var end_loc = -1;
          if (text1.length > this.Match_MaxBits) {
            start_loc = this.match_main(text, text1.substring(0, this.Match_MaxBits), expected_loc);
            if (start_loc != -1) {
              end_loc = this.match_main(text, text1.substring(text1.length - this.Match_MaxBits), expected_loc + text1.length - this.Match_MaxBits);
              if (end_loc == -1 || start_loc >= end_loc) {
                start_loc = -1;
              }
            }
          } else {
            start_loc = this.match_main(text, text1, expected_loc);
          }
          if (start_loc == -1) {
            results[x2] = false;
            delta -= patches[x2].length2 - patches[x2].length1;
          } else {
            results[x2] = true;
            delta = start_loc - expected_loc;
            var text2;
            if (end_loc == -1) {
              text2 = text.substring(start_loc, start_loc + text1.length);
            } else {
              text2 = text.substring(start_loc, end_loc + this.Match_MaxBits);
            }
            if (text1 == text2) {
              text = text.substring(0, start_loc) + this.diff_text2(patches[x2].diffs) + text.substring(start_loc + text1.length);
            } else {
              var diffs = this.diff_main(text1, text2, false);
              if (text1.length > this.Match_MaxBits && this.diff_levenshtein(diffs) / text1.length > this.Patch_DeleteThreshold) {
                results[x2] = false;
              } else {
                this.diff_cleanupSemanticLossless(diffs);
                var index1 = 0;
                var index2;
                for (var y2 = 0; y2 < patches[x2].diffs.length; y2++) {
                  var mod = patches[x2].diffs[y2];
                  if (mod[0] !== DIFF_EQUAL) {
                    index2 = this.diff_xIndex(diffs, index1);
                  }
                  if (mod[0] === DIFF_INSERT) {
                    text = text.substring(0, start_loc + index2) + mod[1] + text.substring(start_loc + index2);
                  } else if (mod[0] === DIFF_DELETE) {
                    text = text.substring(0, start_loc + index2) + text.substring(start_loc + this.diff_xIndex(diffs, index1 + mod[1].length));
                  }
                  if (mod[0] !== DIFF_DELETE) {
                    index1 += mod[1].length;
                  }
                }
              }
            }
          }
        }
        text = text.substring(nullPadding.length, text.length - nullPadding.length);
        return [text, results];
      };
      diff_match_patch.prototype.patch_addPadding = function(patches) {
        var paddingLength = this.Patch_Margin;
        var nullPadding = "";
        for (var x2 = 1; x2 <= paddingLength; x2++) {
          nullPadding += String.fromCharCode(x2);
        }
        for (var x2 = 0; x2 < patches.length; x2++) {
          patches[x2].start1 += paddingLength;
          patches[x2].start2 += paddingLength;
        }
        var patch3 = patches[0];
        var diffs = patch3.diffs;
        if (diffs.length == 0 || diffs[0][0] != DIFF_EQUAL) {
          diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));
          patch3.start1 -= paddingLength;
          patch3.start2 -= paddingLength;
          patch3.length1 += paddingLength;
          patch3.length2 += paddingLength;
        } else if (paddingLength > diffs[0][1].length) {
          var extraLength = paddingLength - diffs[0][1].length;
          diffs[0][1] = nullPadding.substring(diffs[0][1].length) + diffs[0][1];
          patch3.start1 -= extraLength;
          patch3.start2 -= extraLength;
          patch3.length1 += extraLength;
          patch3.length2 += extraLength;
        }
        patch3 = patches[patches.length - 1];
        diffs = patch3.diffs;
        if (diffs.length == 0 || diffs[diffs.length - 1][0] != DIFF_EQUAL) {
          diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));
          patch3.length1 += paddingLength;
          patch3.length2 += paddingLength;
        } else if (paddingLength > diffs[diffs.length - 1][1].length) {
          var extraLength = paddingLength - diffs[diffs.length - 1][1].length;
          diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength);
          patch3.length1 += extraLength;
          patch3.length2 += extraLength;
        }
        return nullPadding;
      };
      diff_match_patch.prototype.patch_splitMax = function(patches) {
        var patch_size = this.Match_MaxBits;
        for (var x2 = 0; x2 < patches.length; x2++) {
          if (patches[x2].length1 <= patch_size) {
            continue;
          }
          var bigpatch = patches[x2];
          patches.splice(x2--, 1);
          var start1 = bigpatch.start1;
          var start22 = bigpatch.start2;
          var precontext = "";
          while (bigpatch.diffs.length !== 0) {
            var patch3 = new diff_match_patch.patch_obj();
            var empty2 = true;
            patch3.start1 = start1 - precontext.length;
            patch3.start2 = start22 - precontext.length;
            if (precontext !== "") {
              patch3.length1 = patch3.length2 = precontext.length;
              patch3.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, precontext));
            }
            while (bigpatch.diffs.length !== 0 && patch3.length1 < patch_size - this.Patch_Margin) {
              var diff_type = bigpatch.diffs[0][0];
              var diff_text = bigpatch.diffs[0][1];
              if (diff_type === DIFF_INSERT) {
                patch3.length2 += diff_text.length;
                start22 += diff_text.length;
                patch3.diffs.push(bigpatch.diffs.shift());
                empty2 = false;
              } else if (diff_type === DIFF_DELETE && patch3.diffs.length == 1 && patch3.diffs[0][0] == DIFF_EQUAL && diff_text.length > 2 * patch_size) {
                patch3.length1 += diff_text.length;
                start1 += diff_text.length;
                empty2 = false;
                patch3.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));
                bigpatch.diffs.shift();
              } else {
                diff_text = diff_text.substring(0, patch_size - patch3.length1 - this.Patch_Margin);
                patch3.length1 += diff_text.length;
                start1 += diff_text.length;
                if (diff_type === DIFF_EQUAL) {
                  patch3.length2 += diff_text.length;
                  start22 += diff_text.length;
                } else {
                  empty2 = false;
                }
                patch3.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));
                if (diff_text == bigpatch.diffs[0][1]) {
                  bigpatch.diffs.shift();
                } else {
                  bigpatch.diffs[0][1] = bigpatch.diffs[0][1].substring(diff_text.length);
                }
              }
            }
            precontext = this.diff_text2(patch3.diffs);
            precontext = precontext.substring(precontext.length - this.Patch_Margin);
            var postcontext = this.diff_text1(bigpatch.diffs).substring(0, this.Patch_Margin);
            if (postcontext !== "") {
              patch3.length1 += postcontext.length;
              patch3.length2 += postcontext.length;
              if (patch3.diffs.length !== 0 && patch3.diffs[patch3.diffs.length - 1][0] === DIFF_EQUAL) {
                patch3.diffs[patch3.diffs.length - 1][1] += postcontext;
              } else {
                patch3.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, postcontext));
              }
            }
            if (!empty2) {
              patches.splice(++x2, 0, patch3);
            }
          }
        }
      };
      diff_match_patch.prototype.patch_toText = function(patches) {
        var text = [];
        for (var x2 = 0; x2 < patches.length; x2++) {
          text[x2] = patches[x2];
        }
        return text.join("");
      };
      diff_match_patch.prototype.patch_fromText = function(textline) {
        var patches = [];
        if (!textline) {
          return patches;
        }
        var text = textline.split("\n");
        var textPointer = 0;
        var patchHeader = /^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;
        while (textPointer < text.length) {
          var m2 = text[textPointer].match(patchHeader);
          if (!m2) {
            throw new Error("Invalid patch string: " + text[textPointer]);
          }
          var patch3 = new diff_match_patch.patch_obj();
          patches.push(patch3);
          patch3.start1 = parseInt(m2[1], 10);
          if (m2[2] === "") {
            patch3.start1--;
            patch3.length1 = 1;
          } else if (m2[2] == "0") {
            patch3.length1 = 0;
          } else {
            patch3.start1--;
            patch3.length1 = parseInt(m2[2], 10);
          }
          patch3.start2 = parseInt(m2[3], 10);
          if (m2[4] === "") {
            patch3.start2--;
            patch3.length2 = 1;
          } else if (m2[4] == "0") {
            patch3.length2 = 0;
          } else {
            patch3.start2--;
            patch3.length2 = parseInt(m2[4], 10);
          }
          textPointer++;
          while (textPointer < text.length) {
            var sign = text[textPointer].charAt(0);
            try {
              var line = decodeURI(text[textPointer].substring(1));
            } catch (ex) {
              throw new Error("Illegal escape in patch_fromText: " + line);
            }
            if (sign == "-") {
              patch3.diffs.push(new diff_match_patch.Diff(DIFF_DELETE, line));
            } else if (sign == "+") {
              patch3.diffs.push(new diff_match_patch.Diff(DIFF_INSERT, line));
            } else if (sign == " ") {
              patch3.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, line));
            } else if (sign == "@") {
              break;
            } else if (sign === "") {
            } else {
              throw new Error('Invalid patch mode "' + sign + '" in: ' + line);
            }
            textPointer++;
          }
        }
        return patches;
      };
      diff_match_patch.patch_obj = function() {
        this.diffs = [];
        this.start1 = null;
        this.start2 = null;
        this.length1 = 0;
        this.length2 = 0;
      };
      diff_match_patch.patch_obj.prototype.toString = function() {
        var coords1, coords2;
        if (this.length1 === 0) {
          coords1 = this.start1 + ",0";
        } else if (this.length1 == 1) {
          coords1 = this.start1 + 1;
        } else {
          coords1 = this.start1 + 1 + "," + this.length1;
        }
        if (this.length2 === 0) {
          coords2 = this.start2 + ",0";
        } else if (this.length2 == 1) {
          coords2 = this.start2 + 1;
        } else {
          coords2 = this.start2 + 1 + "," + this.length2;
        }
        var text = ["@@ -" + coords1 + " +" + coords2 + " @@\n"];
        var op;
        for (var x2 = 0; x2 < this.diffs.length; x2++) {
          switch (this.diffs[x2][0]) {
            case DIFF_INSERT:
              op = "+";
              break;
            case DIFF_DELETE:
              op = "-";
              break;
            case DIFF_EQUAL:
              op = " ";
              break;
          }
          text[x2 + 1] = op + encodeURI(this.diffs[x2][1]) + "\n";
        }
        return text.join("").replace(/%20/g, " ");
      };
      module.exports = diff_match_patch;
      module.exports["diff_match_patch"] = diff_match_patch;
      module.exports["DIFF_DELETE"] = DIFF_DELETE;
      module.exports["DIFF_INSERT"] = DIFF_INSERT;
      module.exports["DIFF_EQUAL"] = DIFF_EQUAL;
    }
  });

  // ../../node_modules/react-ace/lib/diff.js
  var require_diff = __commonJS({
    "../../node_modules/react-ace/lib/diff.js"(exports) {
      "use strict";
      var __extends = exports && exports.__extends || function() {
        var extendStatics = function(d3, b3) {
          extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d4, b4) {
            d4.__proto__ = b4;
          } || function(d4, b4) {
            for (var p3 in b4)
              if (Object.prototype.hasOwnProperty.call(b4, p3))
                d4[p3] = b4[p3];
          };
          return extendStatics(d3, b3);
        };
        return function(d3, b3) {
          if (typeof b3 !== "function" && b3 !== null)
            throw new TypeError("Class extends value " + String(b3) + " is not a constructor or null");
          extendStatics(d3, b3);
          function __() {
            this.constructor = d3;
          }
          d3.prototype = b3 === null ? Object.create(b3) : (__.prototype = b3.prototype, new __());
        };
      }();
      Object.defineProperty(exports, "__esModule", { value: true });
      var PropTypes2 = require_prop_types();
      var React30 = require_react();
      var split_1 = require_split();
      var DiffMatchPatch = require_diff_match_patch();
      var DiffComponent = function(_super) {
        __extends(DiffComponent2, _super);
        function DiffComponent2(props) {
          var _this = _super.call(this, props) || this;
          _this.state = {
            value: _this.props.value
          };
          _this.onChange = _this.onChange.bind(_this);
          _this.diff = _this.diff.bind(_this);
          return _this;
        }
        DiffComponent2.prototype.componentDidUpdate = function() {
          var value = this.props.value;
          if (value !== this.state.value) {
            this.setState({ value });
          }
        };
        DiffComponent2.prototype.onChange = function(value) {
          this.setState({
            value
          });
          if (this.props.onChange) {
            this.props.onChange(value);
          }
        };
        DiffComponent2.prototype.diff = function() {
          var dmp = new DiffMatchPatch();
          var lhString = this.state.value[0];
          var rhString = this.state.value[1];
          if (lhString.length === 0 && rhString.length === 0) {
            return [];
          }
          var diff = dmp.diff_main(lhString, rhString);
          dmp.diff_cleanupSemantic(diff);
          var diffedLines = this.generateDiffedLines(diff);
          var codeEditorSettings = this.setCodeMarkers(diffedLines);
          return codeEditorSettings;
        };
        DiffComponent2.prototype.generateDiffedLines = function(diff) {
          var C = {
            DIFF_EQUAL: 0,
            DIFF_DELETE: -1,
            DIFF_INSERT: 1
          };
          var diffedLines = {
            left: [],
            right: []
          };
          var cursor = {
            left: 1,
            right: 1
          };
          diff.forEach(function(chunk) {
            var chunkType = chunk[0];
            var text = chunk[1];
            var lines = text.split("\n").length - 1;
            if (text.length === 0) {
              return;
            }
            var firstChar = text[0];
            var lastChar = text[text.length - 1];
            var linesToHighlight = 0;
            switch (chunkType) {
              case C.DIFF_EQUAL:
                cursor.left += lines;
                cursor.right += lines;
                break;
              case C.DIFF_DELETE:
                if (firstChar === "\n") {
                  cursor.left++;
                  lines--;
                }
                linesToHighlight = lines;
                if (linesToHighlight === 0) {
                  diffedLines.right.push({
                    startLine: cursor.right,
                    endLine: cursor.right
                  });
                }
                if (lastChar === "\n") {
                  linesToHighlight -= 1;
                }
                diffedLines.left.push({
                  startLine: cursor.left,
                  endLine: cursor.left + linesToHighlight
                });
                cursor.left += lines;
                break;
              case C.DIFF_INSERT:
                if (firstChar === "\n") {
                  cursor.right++;
                  lines--;
                }
                linesToHighlight = lines;
                if (linesToHighlight === 0) {
                  diffedLines.left.push({
                    startLine: cursor.left,
                    endLine: cursor.left
                  });
                }
                if (lastChar === "\n") {
                  linesToHighlight -= 1;
                }
                diffedLines.right.push({
                  startLine: cursor.right,
                  endLine: cursor.right + linesToHighlight
                });
                cursor.right += lines;
                break;
              default:
                throw new Error("Diff type was not defined.");
            }
          });
          return diffedLines;
        };
        DiffComponent2.prototype.setCodeMarkers = function(diffedLines) {
          if (diffedLines === void 0) {
            diffedLines = { left: [], right: [] };
          }
          var codeEditorSettings = [];
          var newMarkerSet = {
            left: [],
            right: []
          };
          for (var i3 = 0; i3 < diffedLines.left.length; i3++) {
            var markerObj = {
              startRow: diffedLines.left[i3].startLine - 1,
              endRow: diffedLines.left[i3].endLine,
              type: "text",
              className: "codeMarker"
            };
            newMarkerSet.left.push(markerObj);
          }
          for (var i3 = 0; i3 < diffedLines.right.length; i3++) {
            var markerObj = {
              startRow: diffedLines.right[i3].startLine - 1,
              endRow: diffedLines.right[i3].endLine,
              type: "text",
              className: "codeMarker"
            };
            newMarkerSet.right.push(markerObj);
          }
          codeEditorSettings[0] = newMarkerSet.left;
          codeEditorSettings[1] = newMarkerSet.right;
          return codeEditorSettings;
        };
        DiffComponent2.prototype.render = function() {
          var markers = this.diff();
          return React30.createElement(split_1.default, { name: this.props.name, className: this.props.className, focus: this.props.focus, orientation: this.props.orientation, splits: this.props.splits, mode: this.props.mode, theme: this.props.theme, height: this.props.height, width: this.props.width, fontSize: this.props.fontSize, showGutter: this.props.showGutter, onChange: this.onChange, onPaste: this.props.onPaste, onLoad: this.props.onLoad, onScroll: this.props.onScroll, minLines: this.props.minLines, maxLines: this.props.maxLines, readOnly: this.props.readOnly, highlightActiveLine: this.props.highlightActiveLine, showPrintMargin: this.props.showPrintMargin, tabSize: this.props.tabSize, cursorStart: this.props.cursorStart, editorProps: this.props.editorProps, style: this.props.style, scrollMargin: this.props.scrollMargin, setOptions: this.props.setOptions, wrapEnabled: this.props.wrapEnabled, enableBasicAutocompletion: this.props.enableBasicAutocompletion, enableLiveAutocompletion: this.props.enableLiveAutocompletion, value: this.state.value, markers });
        };
        DiffComponent2.propTypes = {
          cursorStart: PropTypes2.number,
          editorProps: PropTypes2.object,
          enableBasicAutocompletion: PropTypes2.bool,
          enableLiveAutocompletion: PropTypes2.bool,
          focus: PropTypes2.bool,
          fontSize: PropTypes2.number,
          height: PropTypes2.string,
          highlightActiveLine: PropTypes2.bool,
          maxLines: PropTypes2.number,
          minLines: PropTypes2.number,
          mode: PropTypes2.string,
          name: PropTypes2.string,
          className: PropTypes2.string,
          onLoad: PropTypes2.func,
          onPaste: PropTypes2.func,
          onScroll: PropTypes2.func,
          onChange: PropTypes2.func,
          orientation: PropTypes2.string,
          readOnly: PropTypes2.bool,
          scrollMargin: PropTypes2.array,
          setOptions: PropTypes2.object,
          showGutter: PropTypes2.bool,
          showPrintMargin: PropTypes2.bool,
          splits: PropTypes2.number,
          style: PropTypes2.object,
          tabSize: PropTypes2.number,
          theme: PropTypes2.string,
          value: PropTypes2.array,
          width: PropTypes2.string,
          wrapEnabled: PropTypes2.bool
        };
        DiffComponent2.defaultProps = {
          cursorStart: 1,
          editorProps: {},
          enableBasicAutocompletion: false,
          enableLiveAutocompletion: false,
          focus: false,
          fontSize: 12,
          height: "500px",
          highlightActiveLine: true,
          maxLines: null,
          minLines: null,
          mode: "",
          name: "ace-editor",
          onLoad: null,
          onScroll: null,
          onPaste: null,
          onChange: null,
          orientation: "beside",
          readOnly: false,
          scrollMargin: [0, 0, 0, 0],
          setOptions: {},
          showGutter: true,
          showPrintMargin: true,
          splits: 2,
          style: {},
          tabSize: 4,
          theme: "github",
          value: ["", ""],
          width: "500px",
          wrapEnabled: true
        };
        return DiffComponent2;
      }(React30.Component);
      exports.default = DiffComponent;
    }
  });

  // ../../node_modules/react-ace/lib/index.js
  var require_lib3 = __commonJS({
    "../../node_modules/react-ace/lib/index.js"(exports) {
      "use strict";
      Object.defineProperty(exports, "__esModule", { value: true });
      exports.diff = exports.split = void 0;
      var ace_1 = require_ace2();
      var diff_1 = require_diff();
      exports.diff = diff_1.default;
      var split_1 = require_split();
      exports.split = split_1.default;
      exports.default = ace_1.default;
    }
  });

  // ../../node_modules/ace-builds/src-noconflict/mode-html.js
  var require_mode_html = __commonJS({
    "../../node_modules/ace-builds/src-noconflict/mode-html.js"(exports, module) {
      ace.define("ace/mode/doc_comment_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("../lib/oop");
        var TextHighlightRules = require2("./text_highlight_rules").TextHighlightRules;
        var DocCommentHighlightRules = function() {
          this.$rules = {
            "start": [
              {
                token: "comment.doc.tag",
                regex: "@[\\w\\d_]+"
              },
              DocCommentHighlightRules.getTagRule(),
              {
                defaultToken: "comment.doc",
                caseInsensitive: true
              }
            ]
          };
        };
        oop.inherits(DocCommentHighlightRules, TextHighlightRules);
        DocCommentHighlightRules.getTagRule = function(start4) {
          return {
            token: "comment.doc.tag.storage.type",
            regex: "\\b(?:TODO|FIXME|XXX|HACK)\\b"
          };
        };
        DocCommentHighlightRules.getStartRule = function(start4) {
          return {
            token: "comment.doc",
            regex: "\\/\\*(?=\\*)",
            next: start4
          };
        };
        DocCommentHighlightRules.getEndRule = function(start4) {
          return {
            token: "comment.doc",
            regex: "\\*\\/",
            next: start4
          };
        };
        exports2.DocCommentHighlightRules = DocCommentHighlightRules;
      });
      ace.define("ace/mode/javascript_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/mode/doc_comment_highlight_rules", "ace/mode/text_highlight_rules"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("../lib/oop");
        var DocCommentHighlightRules = require2("./doc_comment_highlight_rules").DocCommentHighlightRules;
        var TextHighlightRules = require2("./text_highlight_rules").TextHighlightRules;
        var identifierRe = "[a-zA-Z\\$_\xA1-\uFFFF][a-zA-Z\\d\\$_\xA1-\uFFFF]*";
        var JavaScriptHighlightRules = function(options) {
          var keywordMapper = this.createKeywordMapper({
            "variable.language": "Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",
            "keyword": "const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static",
            "storage.type": "const|let|var|function",
            "constant.language": "null|Infinity|NaN|undefined",
            "support.function": "alert",
            "constant.language.boolean": "true|false"
          }, "identifier");
          var kwBeforeRe = "case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void";
          var escapedRe = "\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";
          this.$rules = {
            "no_regex": [
              DocCommentHighlightRules.getStartRule("doc-start"),
              comments("no_regex"),
              {
                token: "string",
                regex: "'(?=.)",
                next: "qstring"
              },
              {
                token: "string",
                regex: '"(?=.)',
                next: "qqstring"
              },
              {
                token: "constant.numeric",
                regex: /0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/
              },
              {
                token: "constant.numeric",
                regex: /(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/
              },
              {
                token: [
                  "storage.type",
                  "punctuation.operator",
                  "support.function",
                  "punctuation.operator",
                  "entity.name.function",
                  "text",
                  "keyword.operator"
                ],
                regex: "(" + identifierRe + ")(\\.)(prototype)(\\.)(" + identifierRe + ")(\\s*)(=)",
                next: "function_arguments"
              },
              {
                token: [
                  "storage.type",
                  "punctuation.operator",
                  "entity.name.function",
                  "text",
                  "keyword.operator",
                  "text",
                  "storage.type",
                  "text",
                  "paren.lparen"
                ],
                regex: "(" + identifierRe + ")(\\.)(" + identifierRe + ")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
              },
              {
                token: [
                  "entity.name.function",
                  "text",
                  "keyword.operator",
                  "text",
                  "storage.type",
                  "text",
                  "paren.lparen"
                ],
                regex: "(" + identifierRe + ")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
              },
              {
                token: [
                  "storage.type",
                  "punctuation.operator",
                  "entity.name.function",
                  "text",
                  "keyword.operator",
                  "text",
                  "storage.type",
                  "text",
                  "entity.name.function",
                  "text",
                  "paren.lparen"
                ],
                regex: "(" + identifierRe + ")(\\.)(" + identifierRe + ")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",
                next: "function_arguments"
              },
              {
                token: [
                  "storage.type",
                  "text",
                  "entity.name.function",
                  "text",
                  "paren.lparen"
                ],
                regex: "(function)(\\s+)(" + identifierRe + ")(\\s*)(\\()",
                next: "function_arguments"
              },
              {
                token: [
                  "entity.name.function",
                  "text",
                  "punctuation.operator",
                  "text",
                  "storage.type",
                  "text",
                  "paren.lparen"
                ],
                regex: "(" + identifierRe + ")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
              },
              {
                token: [
                  "text",
                  "text",
                  "storage.type",
                  "text",
                  "paren.lparen"
                ],
                regex: "(:)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
              },
              {
                token: "keyword",
                regex: `from(?=\\s*('|"))`
              },
              {
                token: "keyword",
                regex: "(?:" + kwBeforeRe + ")\\b",
                next: "start"
              },
              {
                token: ["support.constant"],
                regex: /that\b/
              },
              {
                token: ["storage.type", "punctuation.operator", "support.function.firebug"],
                regex: /(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/
              },
              {
                token: keywordMapper,
                regex: identifierRe
              },
              {
                token: "punctuation.operator",
                regex: /[.](?![.])/,
                next: "property"
              },
              {
                token: "storage.type",
                regex: /=>/,
                next: "start"
              },
              {
                token: "keyword.operator",
                regex: /--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,
                next: "start"
              },
              {
                token: "punctuation.operator",
                regex: /[?:,;.]/,
                next: "start"
              },
              {
                token: "paren.lparen",
                regex: /[\[({]/,
                next: "start"
              },
              {
                token: "paren.rparen",
                regex: /[\])}]/
              },
              {
                token: "comment",
                regex: /^#!.*$/
              }
            ],
            property: [
              {
                token: "text",
                regex: "\\s+"
              },
              {
                token: [
                  "storage.type",
                  "punctuation.operator",
                  "entity.name.function",
                  "text",
                  "keyword.operator",
                  "text",
                  "storage.type",
                  "text",
                  "entity.name.function",
                  "text",
                  "paren.lparen"
                ],
                regex: "(" + identifierRe + ")(\\.)(" + identifierRe + ")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",
                next: "function_arguments"
              },
              {
                token: "punctuation.operator",
                regex: /[.](?![.])/
              },
              {
                token: "support.function",
                regex: /(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/
              },
              {
                token: "support.function.dom",
                regex: /(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/
              },
              {
                token: "support.constant",
                regex: /(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/
              },
              {
                token: "identifier",
                regex: identifierRe
              },
              {
                regex: "",
                token: "empty",
                next: "no_regex"
              }
            ],
            "start": [
              DocCommentHighlightRules.getStartRule("doc-start"),
              comments("start"),
              {
                token: "string.regexp",
                regex: "\\/",
                next: "regex"
              },
              {
                token: "text",
                regex: "\\s+|^$",
                next: "start"
              },
              {
                token: "empty",
                regex: "",
                next: "no_regex"
              }
            ],
            "regex": [
              {
                token: "regexp.keyword.operator",
                regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"
              },
              {
                token: "string.regexp",
                regex: "/[sxngimy]*",
                next: "no_regex"
              },
              {
                token: "invalid",
                regex: /\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/
              },
              {
                token: "constant.language.escape",
                regex: /\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/
              },
              {
                token: "constant.language.delimiter",
                regex: /\|/
              },
              {
                token: "constant.language.escape",
                regex: /\[\^?/,
                next: "regex_character_class"
              },
              {
                token: "empty",
                regex: "$",
                next: "no_regex"
              },
              {
                defaultToken: "string.regexp"
              }
            ],
            "regex_character_class": [
              {
                token: "regexp.charclass.keyword.operator",
                regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"
              },
              {
                token: "constant.language.escape",
                regex: "]",
                next: "regex"
              },
              {
                token: "constant.language.escape",
                regex: "-"
              },
              {
                token: "empty",
                regex: "$",
                next: "no_regex"
              },
              {
                defaultToken: "string.regexp.charachterclass"
              }
            ],
            "function_arguments": [
              {
                token: "variable.parameter",
                regex: identifierRe
              },
              {
                token: "punctuation.operator",
                regex: "[, ]+"
              },
              {
                token: "punctuation.operator",
                regex: "$"
              },
              {
                token: "empty",
                regex: "",
                next: "no_regex"
              }
            ],
            "qqstring": [
              {
                token: "constant.language.escape",
                regex: escapedRe
              },
              {
                token: "string",
                regex: "\\\\$",
                consumeLineEnd: true
              },
              {
                token: "string",
                regex: '"|$',
                next: "no_regex"
              },
              {
                defaultToken: "string"
              }
            ],
            "qstring": [
              {
                token: "constant.language.escape",
                regex: escapedRe
              },
              {
                token: "string",
                regex: "\\\\$",
                consumeLineEnd: true
              },
              {
                token: "string",
                regex: "'|$",
                next: "no_regex"
              },
              {
                defaultToken: "string"
              }
            ]
          };
          if (!options || !options.noES6) {
            this.$rules.no_regex.unshift({
              regex: "[{}]",
              onMatch: function(val, state, stack) {
                this.next = val == "{" ? this.nextState : "";
                if (val == "{" && stack.length) {
                  stack.unshift("start", state);
                } else if (val == "}" && stack.length) {
                  stack.shift();
                  this.next = stack.shift();
                  if (this.next.indexOf("string") != -1 || this.next.indexOf("jsx") != -1)
                    return "paren.quasi.end";
                }
                return val == "{" ? "paren.lparen" : "paren.rparen";
              },
              nextState: "start"
            }, {
              token: "string.quasi.start",
              regex: /`/,
              push: [{
                token: "constant.language.escape",
                regex: escapedRe
              }, {
                token: "paren.quasi.start",
                regex: /\${/,
                push: "start"
              }, {
                token: "string.quasi.end",
                regex: /`/,
                next: "pop"
              }, {
                defaultToken: "string.quasi"
              }]
            });
            if (!options || options.jsx != false)
              JSX.call(this);
          }
          this.embedRules(DocCommentHighlightRules, "doc-", [DocCommentHighlightRules.getEndRule("no_regex")]);
          this.normalizeRules();
        };
        oop.inherits(JavaScriptHighlightRules, TextHighlightRules);
        function JSX() {
          var tagRegex = identifierRe.replace("\\d", "\\d\\-");
          var jsxTag = {
            onMatch: function(val, state, stack) {
              var offset4 = val.charAt(1) == "/" ? 2 : 1;
              if (offset4 == 1) {
                if (state != this.nextState)
                  stack.unshift(this.next, this.nextState, 0);
                else
                  stack.unshift(this.next);
                stack[2]++;
              } else if (offset4 == 2) {
                if (state == this.nextState) {
                  stack[1]--;
                  if (!stack[1] || stack[1] < 0) {
                    stack.shift();
                    stack.shift();
                  }
                }
              }
              return [{
                type: "meta.tag.punctuation." + (offset4 == 1 ? "" : "end-") + "tag-open.xml",
                value: val.slice(0, offset4)
              }, {
                type: "meta.tag.tag-name.xml",
                value: val.substr(offset4)
              }];
            },
            regex: "</?" + tagRegex,
            next: "jsxAttributes",
            nextState: "jsx"
          };
          this.$rules.start.unshift(jsxTag);
          var jsxJsRule = {
            regex: "{",
            token: "paren.quasi.start",
            push: "start"
          };
          this.$rules.jsx = [
            jsxJsRule,
            jsxTag,
            { include: "reference" },
            { defaultToken: "string" }
          ];
          this.$rules.jsxAttributes = [
            {
              token: "meta.tag.punctuation.tag-close.xml",
              regex: "/?>",
              onMatch: function(value, currentState, stack) {
                if (currentState == stack[0])
                  stack.shift();
                if (value.length == 2) {
                  if (stack[0] == this.nextState)
                    stack[1]--;
                  if (!stack[1] || stack[1] < 0) {
                    stack.splice(0, 2);
                  }
                }
                this.next = stack[0] || "start";
                return [{ type: this.token, value }];
              },
              nextState: "jsx"
            },
            jsxJsRule,
            comments("jsxAttributes"),
            {
              token: "entity.other.attribute-name.xml",
              regex: tagRegex
            },
            {
              token: "keyword.operator.attribute-equals.xml",
              regex: "="
            },
            {
              token: "text.tag-whitespace.xml",
              regex: "\\s+"
            },
            {
              token: "string.attribute-value.xml",
              regex: "'",
              stateName: "jsx_attr_q",
              push: [
                { token: "string.attribute-value.xml", regex: "'", next: "pop" },
                { include: "reference" },
                { defaultToken: "string.attribute-value.xml" }
              ]
            },
            {
              token: "string.attribute-value.xml",
              regex: '"',
              stateName: "jsx_attr_qq",
              push: [
                { token: "string.attribute-value.xml", regex: '"', next: "pop" },
                { include: "reference" },
                { defaultToken: "string.attribute-value.xml" }
              ]
            },
            jsxTag
          ];
          this.$rules.reference = [{
            token: "constant.language.escape.reference.xml",
            regex: "(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"
          }];
        }
        function comments(next) {
          return [
            {
              token: "comment",
              regex: /\/\*/,
              next: [
                DocCommentHighlightRules.getTagRule(),
                { token: "comment", regex: "\\*\\/", next: next || "pop" },
                { defaultToken: "comment", caseInsensitive: true }
              ]
            },
            {
              token: "comment",
              regex: "\\/\\/",
              next: [
                DocCommentHighlightRules.getTagRule(),
                { token: "comment", regex: "$|^", next: next || "pop" },
                { defaultToken: "comment", caseInsensitive: true }
              ]
            }
          ];
        }
        exports2.JavaScriptHighlightRules = JavaScriptHighlightRules;
      });
      ace.define("ace/mode/matching_brace_outdent", ["require", "exports", "module", "ace/range"], function(require2, exports2, module2) {
        "use strict";
        var Range = require2("../range").Range;
        var MatchingBraceOutdent = function() {
        };
        (function() {
          this.checkOutdent = function(line, input) {
            if (!/^\s+$/.test(line))
              return false;
            return /^\s*\}/.test(input);
          };
          this.autoOutdent = function(doc, row) {
            var line = doc.getLine(row);
            var match2 = line.match(/^(\s*\})/);
            if (!match2)
              return 0;
            var column = match2[1].length;
            var openBracePos = doc.findMatchingBracket({ row, column });
            if (!openBracePos || openBracePos.row == row)
              return 0;
            var indent = this.$getIndent(doc.getLine(openBracePos.row));
            doc.replace(new Range(row, 0, row, column - 1), indent);
          };
          this.$getIndent = function(line) {
            return line.match(/^\s*/)[0];
          };
        }).call(MatchingBraceOutdent.prototype);
        exports2.MatchingBraceOutdent = MatchingBraceOutdent;
      });
      ace.define("ace/mode/folding/cstyle", ["require", "exports", "module", "ace/lib/oop", "ace/range", "ace/mode/folding/fold_mode"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("../../lib/oop");
        var Range = require2("../../range").Range;
        var BaseFoldMode = require2("./fold_mode").FoldMode;
        var FoldMode = exports2.FoldMode = function(commentRegex) {
          if (commentRegex) {
            this.foldingStartMarker = new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + commentRegex.start));
            this.foldingStopMarker = new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + commentRegex.end));
          }
        };
        oop.inherits(FoldMode, BaseFoldMode);
        (function() {
          this.foldingStartMarker = /([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/;
          this.foldingStopMarker = /^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/;
          this.singleLineBlockCommentRe = /^\s*(\/\*).*\*\/\s*$/;
          this.tripleStarBlockCommentRe = /^\s*(\/\*\*\*).*\*\/\s*$/;
          this.startRegionRe = /^\s*(\/\*|\/\/)#?region\b/;
          this._getFoldWidgetBase = this.getFoldWidget;
          this.getFoldWidget = function(session, foldStyle, row) {
            var line = session.getLine(row);
            if (this.singleLineBlockCommentRe.test(line)) {
              if (!this.startRegionRe.test(line) && !this.tripleStarBlockCommentRe.test(line))
                return "";
            }
            var fw = this._getFoldWidgetBase(session, foldStyle, row);
            if (!fw && this.startRegionRe.test(line))
              return "start";
            return fw;
          };
          this.getFoldWidgetRange = function(session, foldStyle, row, forceMultiline) {
            var line = session.getLine(row);
            if (this.startRegionRe.test(line))
              return this.getCommentRegionBlock(session, line, row);
            var match2 = line.match(this.foldingStartMarker);
            if (match2) {
              var i3 = match2.index;
              if (match2[1])
                return this.openingBracketBlock(session, match2[1], row, i3);
              var range = session.getCommentFoldRange(row, i3 + match2[0].length, 1);
              if (range && !range.isMultiLine()) {
                if (forceMultiline) {
                  range = this.getSectionRange(session, row);
                } else if (foldStyle != "all")
                  range = null;
              }
              return range;
            }
            if (foldStyle === "markbegin")
              return;
            var match2 = line.match(this.foldingStopMarker);
            if (match2) {
              var i3 = match2.index + match2[0].length;
              if (match2[1])
                return this.closingBracketBlock(session, match2[1], row, i3);
              return session.getCommentFoldRange(row, i3, -1);
            }
          };
          this.getSectionRange = function(session, row) {
            var line = session.getLine(row);
            var startIndent = line.search(/\S/);
            var startRow = row;
            var startColumn = line.length;
            row = row + 1;
            var endRow = row;
            var maxRow = session.getLength();
            while (++row < maxRow) {
              line = session.getLine(row);
              var indent = line.search(/\S/);
              if (indent === -1)
                continue;
              if (startIndent > indent)
                break;
              var subRange = this.getFoldWidgetRange(session, "all", row);
              if (subRange) {
                if (subRange.start.row <= startRow) {
                  break;
                } else if (subRange.isMultiLine()) {
                  row = subRange.end.row;
                } else if (startIndent == indent) {
                  break;
                }
              }
              endRow = row;
            }
            return new Range(startRow, startColumn, endRow, session.getLine(endRow).length);
          };
          this.getCommentRegionBlock = function(session, line, row) {
            var startColumn = line.search(/\s*$/);
            var maxRow = session.getLength();
            var startRow = row;
            var re = /^\s*(?:\/\*|\/\/|--)#?(end)?region\b/;
            var depth = 1;
            while (++row < maxRow) {
              line = session.getLine(row);
              var m2 = re.exec(line);
              if (!m2)
                continue;
              if (m2[1])
                depth--;
              else
                depth++;
              if (!depth)
                break;
            }
            var endRow = row;
            if (endRow > startRow) {
              return new Range(startRow, startColumn, endRow, line.length);
            }
          };
        }).call(FoldMode.prototype);
      });
      ace.define("ace/mode/javascript", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/javascript_highlight_rules", "ace/mode/matching_brace_outdent", "ace/worker/worker_client", "ace/mode/behaviour/cstyle", "ace/mode/folding/cstyle"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("../lib/oop");
        var TextMode = require2("./text").Mode;
        var JavaScriptHighlightRules = require2("./javascript_highlight_rules").JavaScriptHighlightRules;
        var MatchingBraceOutdent = require2("./matching_brace_outdent").MatchingBraceOutdent;
        var WorkerClient = require2("../worker/worker_client").WorkerClient;
        var CstyleBehaviour = require2("./behaviour/cstyle").CstyleBehaviour;
        var CStyleFoldMode = require2("./folding/cstyle").FoldMode;
        var Mode = function() {
          this.HighlightRules = JavaScriptHighlightRules;
          this.$outdent = new MatchingBraceOutdent();
          this.$behaviour = new CstyleBehaviour();
          this.foldingRules = new CStyleFoldMode();
        };
        oop.inherits(Mode, TextMode);
        (function() {
          this.lineCommentStart = "//";
          this.blockComment = { start: "/*", end: "*/" };
          this.$quotes = { '"': '"', "'": "'", "`": "`" };
          this.getNextLineIndent = function(state, line, tab2) {
            var indent = this.$getIndent(line);
            var tokenizedLine = this.getTokenizer().getLineTokens(line, state);
            var tokens = tokenizedLine.tokens;
            var endState = tokenizedLine.state;
            if (tokens.length && tokens[tokens.length - 1].type == "comment") {
              return indent;
            }
            if (state == "start" || state == "no_regex") {
              var match2 = line.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);
              if (match2) {
                indent += tab2;
              }
            } else if (state == "doc-start") {
              if (endState == "start" || endState == "no_regex") {
                return "";
              }
              var match2 = line.match(/^\s*(\/?)\*/);
              if (match2) {
                if (match2[1]) {
                  indent += " ";
                }
                indent += "* ";
              }
            }
            return indent;
          };
          this.checkOutdent = function(state, line, input) {
            return this.$outdent.checkOutdent(line, input);
          };
          this.autoOutdent = function(state, doc, row) {
            this.$outdent.autoOutdent(doc, row);
          };
          this.createWorker = function(session) {
            var worker = new WorkerClient(["ace"], "ace/mode/javascript_worker", "JavaScriptWorker");
            worker.attachToDocument(session.getDocument());
            worker.on("annotate", function(results) {
              session.setAnnotations(results.data);
            });
            worker.on("terminate", function() {
              session.clearAnnotations();
            });
            return worker;
          };
          this.$id = "ace/mode/javascript";
          this.snippetFileId = "ace/snippets/javascript";
        }).call(Mode.prototype);
        exports2.Mode = Mode;
      });
      ace.define("ace/mode/css_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/mode/text_highlight_rules"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("../lib/oop");
        var lang = require2("../lib/lang");
        var TextHighlightRules = require2("./text_highlight_rules").TextHighlightRules;
        var supportType = exports2.supportType = "align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index";
        var supportFunction = exports2.supportFunction = "rgb|rgba|url|attr|counter|counters";
        var supportConstant = exports2.supportConstant = "absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom";
        var supportConstantColor = exports2.supportConstantColor = "aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen";
        var supportConstantFonts = exports2.supportConstantFonts = "arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace";
        var numRe = exports2.numRe = "\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))";
        var pseudoElements = exports2.pseudoElements = "(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b";
        var pseudoClasses = exports2.pseudoClasses = "(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b";
        var CssHighlightRules = function() {
          var keywordMapper = this.createKeywordMapper({
            "support.function": supportFunction,
            "support.constant": supportConstant,
            "support.type": supportType,
            "support.constant.color": supportConstantColor,
            "support.constant.fonts": supportConstantFonts
          }, "text", true);
          this.$rules = {
            "start": [{
              include: ["strings", "url", "comments"]
            }, {
              token: "paren.lparen",
              regex: "\\{",
              next: "ruleset"
            }, {
              token: "paren.rparen",
              regex: "\\}"
            }, {
              token: "string",
              regex: "@(?!viewport)",
              next: "media"
            }, {
              token: "keyword",
              regex: "#[a-z0-9-_]+"
            }, {
              token: "keyword",
              regex: "%"
            }, {
              token: "variable",
              regex: "\\.[a-z0-9-_]+"
            }, {
              token: "string",
              regex: ":[a-z0-9-_]+"
            }, {
              token: "constant.numeric",
              regex: numRe
            }, {
              token: "constant",
              regex: "[a-z0-9-_]+"
            }, {
              caseInsensitive: true
            }],
            "media": [{
              include: ["strings", "url", "comments"]
            }, {
              token: "paren.lparen",
              regex: "\\{",
              next: "start"
            }, {
              token: "paren.rparen",
              regex: "\\}",
              next: "start"
            }, {
              token: "string",
              regex: ";",
              next: "start"
            }, {
              token: "keyword",
              regex: "(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"
            }],
            "comments": [{
              token: "comment",
              regex: "\\/\\*",
              push: [{
                token: "comment",
                regex: "\\*\\/",
                next: "pop"
              }, {
                defaultToken: "comment"
              }]
            }],
            "ruleset": [{
              regex: "-(webkit|ms|moz|o)-",
              token: "text"
            }, {
              token: "punctuation.operator",
              regex: "[:;]"
            }, {
              token: "paren.rparen",
              regex: "\\}",
              next: "start"
            }, {
              include: ["strings", "url", "comments"]
            }, {
              token: ["constant.numeric", "keyword"],
              regex: "(" + numRe + ")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"
            }, {
              token: "constant.numeric",
              regex: numRe
            }, {
              token: "constant.numeric",
              regex: "#[a-f0-9]{6}"
            }, {
              token: "constant.numeric",
              regex: "#[a-f0-9]{3}"
            }, {
              token: ["punctuation", "entity.other.attribute-name.pseudo-element.css"],
              regex: pseudoElements
            }, {
              token: ["punctuation", "entity.other.attribute-name.pseudo-class.css"],
              regex: pseudoClasses
            }, {
              include: "url"
            }, {
              token: keywordMapper,
              regex: "\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"
            }, {
              caseInsensitive: true
            }],
            url: [{
              token: "support.function",
              regex: "(?:url(:?-prefix)?|domain|regexp)\\(",
              push: [{
                token: "support.function",
                regex: "\\)",
                next: "pop"
              }, {
                defaultToken: "string"
              }]
            }],
            strings: [{
              token: "string.start",
              regex: "'",
              push: [{
                token: "string.end",
                regex: "'|$",
                next: "pop"
              }, {
                include: "escapes"
              }, {
                token: "constant.language.escape",
                regex: /\\$/,
                consumeLineEnd: true
              }, {
                defaultToken: "string"
              }]
            }, {
              token: "string.start",
              regex: '"',
              push: [{
                token: "string.end",
                regex: '"|$',
                next: "pop"
              }, {
                include: "escapes"
              }, {
                token: "constant.language.escape",
                regex: /\\$/,
                consumeLineEnd: true
              }, {
                defaultToken: "string"
              }]
            }],
            escapes: [{
              token: "constant.language.escape",
              regex: /\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/
            }]
          };
          this.normalizeRules();
        };
        oop.inherits(CssHighlightRules, TextHighlightRules);
        exports2.CssHighlightRules = CssHighlightRules;
      });
      ace.define("ace/mode/css_completions", ["require", "exports", "module"], function(require2, exports2, module2) {
        "use strict";
        var propertyMap = {
          "background": { "#$0": 1 },
          "background-color": { "#$0": 1, "transparent": 1, "fixed": 1 },
          "background-image": { "url('/$0')": 1 },
          "background-repeat": { "repeat": 1, "repeat-x": 1, "repeat-y": 1, "no-repeat": 1, "inherit": 1 },
          "background-position": { "bottom": 2, "center": 2, "left": 2, "right": 2, "top": 2, "inherit": 2 },
          "background-attachment": { "scroll": 1, "fixed": 1 },
          "background-size": { "cover": 1, "contain": 1 },
          "background-clip": { "border-box": 1, "padding-box": 1, "content-box": 1 },
          "background-origin": { "border-box": 1, "padding-box": 1, "content-box": 1 },
          "border": { "solid $0": 1, "dashed $0": 1, "dotted $0": 1, "#$0": 1 },
          "border-color": { "#$0": 1 },
          "border-style": { "solid": 2, "dashed": 2, "dotted": 2, "double": 2, "groove": 2, "hidden": 2, "inherit": 2, "inset": 2, "none": 2, "outset": 2, "ridged": 2 },
          "border-collapse": { "collapse": 1, "separate": 1 },
          "bottom": { "px": 1, "em": 1, "%": 1 },
          "clear": { "left": 1, "right": 1, "both": 1, "none": 1 },
          "color": { "#$0": 1, "rgb(#$00,0,0)": 1 },
          "cursor": { "default": 1, "pointer": 1, "move": 1, "text": 1, "wait": 1, "help": 1, "progress": 1, "n-resize": 1, "ne-resize": 1, "e-resize": 1, "se-resize": 1, "s-resize": 1, "sw-resize": 1, "w-resize": 1, "nw-resize": 1 },
          "display": { "none": 1, "block": 1, "inline": 1, "inline-block": 1, "table-cell": 1 },
          "empty-cells": { "show": 1, "hide": 1 },
          "float": { "left": 1, "right": 1, "none": 1 },
          "font-family": { "Arial": 2, "Comic Sans MS": 2, "Consolas": 2, "Courier New": 2, "Courier": 2, "Georgia": 2, "Monospace": 2, "Sans-Serif": 2, "Segoe UI": 2, "Tahoma": 2, "Times New Roman": 2, "Trebuchet MS": 2, "Verdana": 1 },
          "font-size": { "px": 1, "em": 1, "%": 1 },
          "font-weight": { "bold": 1, "normal": 1 },
          "font-style": { "italic": 1, "normal": 1 },
          "font-variant": { "normal": 1, "small-caps": 1 },
          "height": { "px": 1, "em": 1, "%": 1 },
          "left": { "px": 1, "em": 1, "%": 1 },
          "letter-spacing": { "normal": 1 },
          "line-height": { "normal": 1 },
          "list-style-type": { "none": 1, "disc": 1, "circle": 1, "square": 1, "decimal": 1, "decimal-leading-zero": 1, "lower-roman": 1, "upper-roman": 1, "lower-greek": 1, "lower-latin": 1, "upper-latin": 1, "georgian": 1, "lower-alpha": 1, "upper-alpha": 1 },
          "margin": { "px": 1, "em": 1, "%": 1 },
          "margin-right": { "px": 1, "em": 1, "%": 1 },
          "margin-left": { "px": 1, "em": 1, "%": 1 },
          "margin-top": { "px": 1, "em": 1, "%": 1 },
          "margin-bottom": { "px": 1, "em": 1, "%": 1 },
          "max-height": { "px": 1, "em": 1, "%": 1 },
          "max-width": { "px": 1, "em": 1, "%": 1 },
          "min-height": { "px": 1, "em": 1, "%": 1 },
          "min-width": { "px": 1, "em": 1, "%": 1 },
          "overflow": { "hidden": 1, "visible": 1, "auto": 1, "scroll": 1 },
          "overflow-x": { "hidden": 1, "visible": 1, "auto": 1, "scroll": 1 },
          "overflow-y": { "hidden": 1, "visible": 1, "auto": 1, "scroll": 1 },
          "padding": { "px": 1, "em": 1, "%": 1 },
          "padding-top": { "px": 1, "em": 1, "%": 1 },
          "padding-right": { "px": 1, "em": 1, "%": 1 },
          "padding-bottom": { "px": 1, "em": 1, "%": 1 },
          "padding-left": { "px": 1, "em": 1, "%": 1 },
          "page-break-after": { "auto": 1, "always": 1, "avoid": 1, "left": 1, "right": 1 },
          "page-break-before": { "auto": 1, "always": 1, "avoid": 1, "left": 1, "right": 1 },
          "position": { "absolute": 1, "relative": 1, "fixed": 1, "static": 1 },
          "right": { "px": 1, "em": 1, "%": 1 },
          "table-layout": { "fixed": 1, "auto": 1 },
          "text-decoration": { "none": 1, "underline": 1, "line-through": 1, "blink": 1 },
          "text-align": { "left": 1, "right": 1, "center": 1, "justify": 1 },
          "text-transform": { "capitalize": 1, "uppercase": 1, "lowercase": 1, "none": 1 },
          "top": { "px": 1, "em": 1, "%": 1 },
          "vertical-align": { "top": 1, "bottom": 1 },
          "visibility": { "hidden": 1, "visible": 1 },
          "white-space": { "nowrap": 1, "normal": 1, "pre": 1, "pre-line": 1, "pre-wrap": 1 },
          "width": { "px": 1, "em": 1, "%": 1 },
          "word-spacing": { "normal": 1 },
          "filter": { "alpha(opacity=$0100)": 1 },
          "text-shadow": { "$02px 2px 2px #777": 1 },
          "text-overflow": { "ellipsis-word": 1, "clip": 1, "ellipsis": 1 },
          "-moz-border-radius": 1,
          "-moz-border-radius-topright": 1,
          "-moz-border-radius-bottomright": 1,
          "-moz-border-radius-topleft": 1,
          "-moz-border-radius-bottomleft": 1,
          "-webkit-border-radius": 1,
          "-webkit-border-top-right-radius": 1,
          "-webkit-border-top-left-radius": 1,
          "-webkit-border-bottom-right-radius": 1,
          "-webkit-border-bottom-left-radius": 1,
          "-moz-box-shadow": 1,
          "-webkit-box-shadow": 1,
          "transform": { "rotate($00deg)": 1, "skew($00deg)": 1 },
          "-moz-transform": { "rotate($00deg)": 1, "skew($00deg)": 1 },
          "-webkit-transform": { "rotate($00deg)": 1, "skew($00deg)": 1 }
        };
        var CssCompletions = function() {
        };
        (function() {
          this.completionsDefined = false;
          this.defineCompletions = function() {
            if (document) {
              var style2 = document.createElement("c").style;
              for (var i3 in style2) {
                if (typeof style2[i3] !== "string")
                  continue;
                var name = i3.replace(/[A-Z]/g, function(x2) {
                  return "-" + x2.toLowerCase();
                });
                if (!propertyMap.hasOwnProperty(name))
                  propertyMap[name] = 1;
              }
            }
            this.completionsDefined = true;
          };
          this.getCompletions = function(state, session, pos, prefix3) {
            if (!this.completionsDefined) {
              this.defineCompletions();
            }
            if (state === "ruleset" || session.$mode.$id == "ace/mode/scss") {
              var line = session.getLine(pos.row).substr(0, pos.column);
              if (/:[^;]+$/.test(line)) {
                /([\w\-]+):[^:]*$/.test(line);
                return this.getPropertyValueCompletions(state, session, pos, prefix3);
              } else {
                return this.getPropertyCompletions(state, session, pos, prefix3);
              }
            }
            return [];
          };
          this.getPropertyCompletions = function(state, session, pos, prefix3) {
            var properties = Object.keys(propertyMap);
            return properties.map(function(property) {
              return {
                caption: property,
                snippet: property + ": $0;",
                meta: "property",
                score: 1e6
              };
            });
          };
          this.getPropertyValueCompletions = function(state, session, pos, prefix3) {
            var line = session.getLine(pos.row).substr(0, pos.column);
            var property = (/([\w\-]+):[^:]*$/.exec(line) || {})[1];
            if (!property)
              return [];
            var values2 = [];
            if (property in propertyMap && typeof propertyMap[property] === "object") {
              values2 = Object.keys(propertyMap[property]);
            }
            return values2.map(function(value) {
              return {
                caption: value,
                snippet: value,
                meta: "property value",
                score: 1e6
              };
            });
          };
        }).call(CssCompletions.prototype);
        exports2.CssCompletions = CssCompletions;
      });
      ace.define("ace/mode/behaviour/css", ["require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/mode/behaviour/cstyle", "ace/token_iterator"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("../../lib/oop");
        var Behaviour = require2("../behaviour").Behaviour;
        var CstyleBehaviour = require2("./cstyle").CstyleBehaviour;
        var TokenIterator = require2("../../token_iterator").TokenIterator;
        var CssBehaviour = function() {
          this.inherit(CstyleBehaviour);
          this.add("colon", "insertion", function(state, action, editor, session, text) {
            if (text === ":" && editor.selection.isEmpty()) {
              var cursor = editor.getCursorPosition();
              var iterator = new TokenIterator(session, cursor.row, cursor.column);
              var token = iterator.getCurrentToken();
              if (token && token.value.match(/\s+/)) {
                token = iterator.stepBackward();
              }
              if (token && token.type === "support.type") {
                var line = session.doc.getLine(cursor.row);
                var rightChar = line.substring(cursor.column, cursor.column + 1);
                if (rightChar === ":") {
                  return {
                    text: "",
                    selection: [1, 1]
                  };
                }
                if (/^(\s+[^;]|\s*$)/.test(line.substring(cursor.column))) {
                  return {
                    text: ":;",
                    selection: [1, 1]
                  };
                }
              }
            }
          });
          this.add("colon", "deletion", function(state, action, editor, session, range) {
            var selected = session.doc.getTextRange(range);
            if (!range.isMultiLine() && selected === ":") {
              var cursor = editor.getCursorPosition();
              var iterator = new TokenIterator(session, cursor.row, cursor.column);
              var token = iterator.getCurrentToken();
              if (token && token.value.match(/\s+/)) {
                token = iterator.stepBackward();
              }
              if (token && token.type === "support.type") {
                var line = session.doc.getLine(range.start.row);
                var rightChar = line.substring(range.end.column, range.end.column + 1);
                if (rightChar === ";") {
                  range.end.column++;
                  return range;
                }
              }
            }
          });
          this.add("semicolon", "insertion", function(state, action, editor, session, text) {
            if (text === ";" && editor.selection.isEmpty()) {
              var cursor = editor.getCursorPosition();
              var line = session.doc.getLine(cursor.row);
              var rightChar = line.substring(cursor.column, cursor.column + 1);
              if (rightChar === ";") {
                return {
                  text: "",
                  selection: [1, 1]
                };
              }
            }
          });
          this.add("!important", "insertion", function(state, action, editor, session, text) {
            if (text === "!" && editor.selection.isEmpty()) {
              var cursor = editor.getCursorPosition();
              var line = session.doc.getLine(cursor.row);
              if (/^\s*(;|}|$)/.test(line.substring(cursor.column))) {
                return {
                  text: "!important",
                  selection: [10, 10]
                };
              }
            }
          });
        };
        oop.inherits(CssBehaviour, CstyleBehaviour);
        exports2.CssBehaviour = CssBehaviour;
      });
      ace.define("ace/mode/css", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/css_highlight_rules", "ace/mode/matching_brace_outdent", "ace/worker/worker_client", "ace/mode/css_completions", "ace/mode/behaviour/css", "ace/mode/folding/cstyle"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("../lib/oop");
        var TextMode = require2("./text").Mode;
        var CssHighlightRules = require2("./css_highlight_rules").CssHighlightRules;
        var MatchingBraceOutdent = require2("./matching_brace_outdent").MatchingBraceOutdent;
        var WorkerClient = require2("../worker/worker_client").WorkerClient;
        var CssCompletions = require2("./css_completions").CssCompletions;
        var CssBehaviour = require2("./behaviour/css").CssBehaviour;
        var CStyleFoldMode = require2("./folding/cstyle").FoldMode;
        var Mode = function() {
          this.HighlightRules = CssHighlightRules;
          this.$outdent = new MatchingBraceOutdent();
          this.$behaviour = new CssBehaviour();
          this.$completer = new CssCompletions();
          this.foldingRules = new CStyleFoldMode();
        };
        oop.inherits(Mode, TextMode);
        (function() {
          this.foldingRules = "cStyle";
          this.blockComment = { start: "/*", end: "*/" };
          this.getNextLineIndent = function(state, line, tab2) {
            var indent = this.$getIndent(line);
            var tokens = this.getTokenizer().getLineTokens(line, state).tokens;
            if (tokens.length && tokens[tokens.length - 1].type == "comment") {
              return indent;
            }
            var match2 = line.match(/^.*\{\s*$/);
            if (match2) {
              indent += tab2;
            }
            return indent;
          };
          this.checkOutdent = function(state, line, input) {
            return this.$outdent.checkOutdent(line, input);
          };
          this.autoOutdent = function(state, doc, row) {
            this.$outdent.autoOutdent(doc, row);
          };
          this.getCompletions = function(state, session, pos, prefix3) {
            return this.$completer.getCompletions(state, session, pos, prefix3);
          };
          this.createWorker = function(session) {
            var worker = new WorkerClient(["ace"], "ace/mode/css_worker", "Worker");
            worker.attachToDocument(session.getDocument());
            worker.on("annotate", function(e2) {
              session.setAnnotations(e2.data);
            });
            worker.on("terminate", function() {
              session.clearAnnotations();
            });
            return worker;
          };
          this.$id = "ace/mode/css";
          this.snippetFileId = "ace/snippets/css";
        }).call(Mode.prototype);
        exports2.Mode = Mode;
      });
      ace.define("ace/mode/xml_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("../lib/oop");
        var TextHighlightRules = require2("./text_highlight_rules").TextHighlightRules;
        var XmlHighlightRules = function(normalize) {
          var tagRegex = "[_:a-zA-Z\xC0-\uFFFF][-_:.a-zA-Z0-9\xC0-\uFFFF]*";
          this.$rules = {
            start: [
              { token: "string.cdata.xml", regex: "<\\!\\[CDATA\\[", next: "cdata" },
              {
                token: ["punctuation.instruction.xml", "keyword.instruction.xml"],
                regex: "(<\\?)(" + tagRegex + ")",
                next: "processing_instruction"
              },
              { token: "comment.start.xml", regex: "<\\!--", next: "comment" },
              {
                token: ["xml-pe.doctype.xml", "xml-pe.doctype.xml"],
                regex: "(<\\!)(DOCTYPE)(?=[\\s])",
                next: "doctype",
                caseInsensitive: true
              },
              { include: "tag" },
              { token: "text.end-tag-open.xml", regex: "</" },
              { token: "text.tag-open.xml", regex: "<" },
              { include: "reference" },
              { defaultToken: "text.xml" }
            ],
            processing_instruction: [{
              token: "entity.other.attribute-name.decl-attribute-name.xml",
              regex: tagRegex
            }, {
              token: "keyword.operator.decl-attribute-equals.xml",
              regex: "="
            }, {
              include: "whitespace"
            }, {
              include: "string"
            }, {
              token: "punctuation.xml-decl.xml",
              regex: "\\?>",
              next: "start"
            }],
            doctype: [
              { include: "whitespace" },
              { include: "string" },
              { token: "xml-pe.doctype.xml", regex: ">", next: "start" },
              { token: "xml-pe.xml", regex: "[-_a-zA-Z0-9:]+" },
              { token: "punctuation.int-subset", regex: "\\[", push: "int_subset" }
            ],
            int_subset: [{
              token: "text.xml",
              regex: "\\s+"
            }, {
              token: "punctuation.int-subset.xml",
              regex: "]",
              next: "pop"
            }, {
              token: ["punctuation.markup-decl.xml", "keyword.markup-decl.xml"],
              regex: "(<\\!)(" + tagRegex + ")",
              push: [
                {
                  token: "text",
                  regex: "\\s+"
                },
                {
                  token: "punctuation.markup-decl.xml",
                  regex: ">",
                  next: "pop"
                },
                { include: "string" }
              ]
            }],
            cdata: [
              { token: "string.cdata.xml", regex: "\\]\\]>", next: "start" },
              { token: "text.xml", regex: "\\s+" },
              { token: "text.xml", regex: "(?:[^\\]]|\\](?!\\]>))+" }
            ],
            comment: [
              { token: "comment.end.xml", regex: "-->", next: "start" },
              { defaultToken: "comment.xml" }
            ],
            reference: [{
              token: "constant.language.escape.reference.xml",
              regex: "(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"
            }],
            attr_reference: [{
              token: "constant.language.escape.reference.attribute-value.xml",
              regex: "(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"
            }],
            tag: [{
              token: ["meta.tag.punctuation.tag-open.xml", "meta.tag.punctuation.end-tag-open.xml", "meta.tag.tag-name.xml"],
              regex: "(?:(<)|(</))((?:" + tagRegex + ":)?" + tagRegex + ")",
              next: [
                { include: "attributes" },
                { token: "meta.tag.punctuation.tag-close.xml", regex: "/?>", next: "start" }
              ]
            }],
            tag_whitespace: [
              { token: "text.tag-whitespace.xml", regex: "\\s+" }
            ],
            whitespace: [
              { token: "text.whitespace.xml", regex: "\\s+" }
            ],
            string: [{
              token: "string.xml",
              regex: "'",
              push: [
                { token: "string.xml", regex: "'", next: "pop" },
                { defaultToken: "string.xml" }
              ]
            }, {
              token: "string.xml",
              regex: '"',
              push: [
                { token: "string.xml", regex: '"', next: "pop" },
                { defaultToken: "string.xml" }
              ]
            }],
            attributes: [{
              token: "entity.other.attribute-name.xml",
              regex: tagRegex
            }, {
              token: "keyword.operator.attribute-equals.xml",
              regex: "="
            }, {
              include: "tag_whitespace"
            }, {
              include: "attribute_value"
            }],
            attribute_value: [{
              token: "string.attribute-value.xml",
              regex: "'",
              push: [
                { token: "string.attribute-value.xml", regex: "'", next: "pop" },
                { include: "attr_reference" },
                { defaultToken: "string.attribute-value.xml" }
              ]
            }, {
              token: "string.attribute-value.xml",
              regex: '"',
              push: [
                { token: "string.attribute-value.xml", regex: '"', next: "pop" },
                { include: "attr_reference" },
                { defaultToken: "string.attribute-value.xml" }
              ]
            }]
          };
          if (this.constructor === XmlHighlightRules)
            this.normalizeRules();
        };
        (function() {
          this.embedTagRules = function(HighlightRules, prefix3, tag) {
            this.$rules.tag.unshift({
              token: ["meta.tag.punctuation.tag-open.xml", "meta.tag." + tag + ".tag-name.xml"],
              regex: "(<)(" + tag + "(?=\\s|>|$))",
              next: [
                { include: "attributes" },
                { token: "meta.tag.punctuation.tag-close.xml", regex: "/?>", next: prefix3 + "start" }
              ]
            });
            this.$rules[tag + "-end"] = [
              { include: "attributes" },
              {
                token: "meta.tag.punctuation.tag-close.xml",
                regex: "/?>",
                next: "start",
                onMatch: function(value, currentState, stack) {
                  stack.splice(0);
                  return this.token;
                }
              }
            ];
            this.embedRules(HighlightRules, prefix3, [{
              token: ["meta.tag.punctuation.end-tag-open.xml", "meta.tag." + tag + ".tag-name.xml"],
              regex: "(</)(" + tag + "(?=\\s|>|$))",
              next: tag + "-end"
            }, {
              token: "string.cdata.xml",
              regex: "<\\!\\[CDATA\\["
            }, {
              token: "string.cdata.xml",
              regex: "\\]\\]>"
            }]);
          };
        }).call(TextHighlightRules.prototype);
        oop.inherits(XmlHighlightRules, TextHighlightRules);
        exports2.XmlHighlightRules = XmlHighlightRules;
      });
      ace.define("ace/mode/html_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/mode/css_highlight_rules", "ace/mode/javascript_highlight_rules", "ace/mode/xml_highlight_rules"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("../lib/oop");
        var lang = require2("../lib/lang");
        var CssHighlightRules = require2("./css_highlight_rules").CssHighlightRules;
        var JavaScriptHighlightRules = require2("./javascript_highlight_rules").JavaScriptHighlightRules;
        var XmlHighlightRules = require2("./xml_highlight_rules").XmlHighlightRules;
        var tagMap = lang.createMap({
          a: "anchor",
          button: "form",
          form: "form",
          img: "image",
          input: "form",
          label: "form",
          option: "form",
          script: "script",
          select: "form",
          textarea: "form",
          style: "style",
          table: "table",
          tbody: "table",
          td: "table",
          tfoot: "table",
          th: "table",
          tr: "table"
        });
        var HtmlHighlightRules = function() {
          XmlHighlightRules.call(this);
          this.addRules({
            attributes: [{
              include: "tag_whitespace"
            }, {
              token: "entity.other.attribute-name.xml",
              regex: "[-_a-zA-Z0-9:.]+"
            }, {
              token: "keyword.operator.attribute-equals.xml",
              regex: "=",
              push: [{
                include: "tag_whitespace"
              }, {
                token: "string.unquoted.attribute-value.html",
                regex: "[^<>='\"`\\s]+",
                next: "pop"
              }, {
                token: "empty",
                regex: "",
                next: "pop"
              }]
            }, {
              include: "attribute_value"
            }],
            tag: [{
              token: function(start4, tag) {
                var group = tagMap[tag];
                return [
                  "meta.tag.punctuation." + (start4 == "<" ? "" : "end-") + "tag-open.xml",
                  "meta.tag" + (group ? "." + group : "") + ".tag-name.xml"
                ];
              },
              regex: "(</?)([-_a-zA-Z0-9:.]+)",
              next: "tag_stuff"
            }],
            tag_stuff: [
              { include: "attributes" },
              { token: "meta.tag.punctuation.tag-close.xml", regex: "/?>", next: "start" }
            ]
          });
          this.embedTagRules(CssHighlightRules, "css-", "style");
          this.embedTagRules(new JavaScriptHighlightRules({ jsx: false }).getRules(), "js-", "script");
          if (this.constructor === HtmlHighlightRules)
            this.normalizeRules();
        };
        oop.inherits(HtmlHighlightRules, XmlHighlightRules);
        exports2.HtmlHighlightRules = HtmlHighlightRules;
      });
      ace.define("ace/mode/behaviour/xml", ["require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/token_iterator", "ace/lib/lang"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("../../lib/oop");
        var Behaviour = require2("../behaviour").Behaviour;
        var TokenIterator = require2("../../token_iterator").TokenIterator;
        var lang = require2("../../lib/lang");
        function is2(token, type) {
          return token && token.type.lastIndexOf(type + ".xml") > -1;
        }
        var XmlBehaviour = function() {
          this.add("string_dquotes", "insertion", function(state, action, editor, session, text) {
            if (text == '"' || text == "'") {
              var quote = text;
              var selected = session.doc.getTextRange(editor.getSelectionRange());
              if (selected !== "" && selected !== "'" && selected != '"' && editor.getWrapBehavioursEnabled()) {
                return {
                  text: quote + selected + quote,
                  selection: false
                };
              }
              var cursor = editor.getCursorPosition();
              var line = session.doc.getLine(cursor.row);
              var rightChar = line.substring(cursor.column, cursor.column + 1);
              var iterator = new TokenIterator(session, cursor.row, cursor.column);
              var token = iterator.getCurrentToken();
              if (rightChar == quote && (is2(token, "attribute-value") || is2(token, "string"))) {
                return {
                  text: "",
                  selection: [1, 1]
                };
              }
              if (!token)
                token = iterator.stepBackward();
              if (!token)
                return;
              while (is2(token, "tag-whitespace") || is2(token, "whitespace")) {
                token = iterator.stepBackward();
              }
              var rightSpace = !rightChar || rightChar.match(/\s/);
              if (is2(token, "attribute-equals") && (rightSpace || rightChar == ">") || is2(token, "decl-attribute-equals") && (rightSpace || rightChar == "?")) {
                return {
                  text: quote + quote,
                  selection: [1, 1]
                };
              }
            }
          });
          this.add("string_dquotes", "deletion", function(state, action, editor, session, range) {
            var selected = session.doc.getTextRange(range);
            if (!range.isMultiLine() && (selected == '"' || selected == "'")) {
              var line = session.doc.getLine(range.start.row);
              var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
              if (rightChar == selected) {
                range.end.column++;
                return range;
              }
            }
          });
          this.add("autoclosing", "insertion", function(state, action, editor, session, text) {
            if (text == ">") {
              var position3 = editor.getSelectionRange().start;
              var iterator = new TokenIterator(session, position3.row, position3.column);
              var token = iterator.getCurrentToken() || iterator.stepBackward();
              if (!token || !(is2(token, "tag-name") || is2(token, "tag-whitespace") || is2(token, "attribute-name") || is2(token, "attribute-equals") || is2(token, "attribute-value")))
                return;
              if (is2(token, "reference.attribute-value"))
                return;
              if (is2(token, "attribute-value")) {
                var tokenEndColumn = iterator.getCurrentTokenColumn() + token.value.length;
                if (position3.column < tokenEndColumn)
                  return;
                if (position3.column == tokenEndColumn) {
                  var nextToken = iterator.stepForward();
                  if (nextToken && is2(nextToken, "attribute-value"))
                    return;
                  iterator.stepBackward();
                }
              }
              if (/^\s*>/.test(session.getLine(position3.row).slice(position3.column)))
                return;
              while (!is2(token, "tag-name")) {
                token = iterator.stepBackward();
                if (token.value == "<") {
                  token = iterator.stepForward();
                  break;
                }
              }
              var tokenRow = iterator.getCurrentTokenRow();
              var tokenColumn = iterator.getCurrentTokenColumn();
              if (is2(iterator.stepBackward(), "end-tag-open"))
                return;
              var element = token.value;
              if (tokenRow == position3.row)
                element = element.substring(0, position3.column - tokenColumn);
              if (this.voidElements.hasOwnProperty(element.toLowerCase()))
                return;
              return {
                text: "></" + element + ">",
                selection: [1, 1]
              };
            }
          });
          this.add("autoindent", "insertion", function(state, action, editor, session, text) {
            if (text == "\n") {
              var cursor = editor.getCursorPosition();
              var line = session.getLine(cursor.row);
              var iterator = new TokenIterator(session, cursor.row, cursor.column);
              var token = iterator.getCurrentToken();
              if (token && token.type.indexOf("tag-close") !== -1) {
                if (token.value == "/>")
                  return;
                while (token && token.type.indexOf("tag-name") === -1) {
                  token = iterator.stepBackward();
                }
                if (!token) {
                  return;
                }
                var tag = token.value;
                var row = iterator.getCurrentTokenRow();
                token = iterator.stepBackward();
                if (!token || token.type.indexOf("end-tag") !== -1) {
                  return;
                }
                if (this.voidElements && !this.voidElements[tag]) {
                  var nextToken = session.getTokenAt(cursor.row, cursor.column + 1);
                  var line = session.getLine(row);
                  var nextIndent = this.$getIndent(line);
                  var indent = nextIndent + session.getTabString();
                  if (nextToken && nextToken.value === "</") {
                    return {
                      text: "\n" + indent + "\n" + nextIndent,
                      selection: [1, indent.length, 1, indent.length]
                    };
                  } else {
                    return {
                      text: "\n" + indent
                    };
                  }
                }
              }
            }
          });
        };
        oop.inherits(XmlBehaviour, Behaviour);
        exports2.XmlBehaviour = XmlBehaviour;
      });
      ace.define("ace/mode/folding/mixed", ["require", "exports", "module", "ace/lib/oop", "ace/mode/folding/fold_mode"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("../../lib/oop");
        var BaseFoldMode = require2("./fold_mode").FoldMode;
        var FoldMode = exports2.FoldMode = function(defaultMode, subModes) {
          this.defaultMode = defaultMode;
          this.subModes = subModes;
        };
        oop.inherits(FoldMode, BaseFoldMode);
        (function() {
          this.$getMode = function(state) {
            if (typeof state != "string")
              state = state[0];
            for (var key in this.subModes) {
              if (state.indexOf(key) === 0)
                return this.subModes[key];
            }
            return null;
          };
          this.$tryMode = function(state, session, foldStyle, row) {
            var mode = this.$getMode(state);
            return mode ? mode.getFoldWidget(session, foldStyle, row) : "";
          };
          this.getFoldWidget = function(session, foldStyle, row) {
            return this.$tryMode(session.getState(row - 1), session, foldStyle, row) || this.$tryMode(session.getState(row), session, foldStyle, row) || this.defaultMode.getFoldWidget(session, foldStyle, row);
          };
          this.getFoldWidgetRange = function(session, foldStyle, row) {
            var mode = this.$getMode(session.getState(row - 1));
            if (!mode || !mode.getFoldWidget(session, foldStyle, row))
              mode = this.$getMode(session.getState(row));
            if (!mode || !mode.getFoldWidget(session, foldStyle, row))
              mode = this.defaultMode;
            return mode.getFoldWidgetRange(session, foldStyle, row);
          };
        }).call(FoldMode.prototype);
      });
      ace.define("ace/mode/folding/xml", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/range", "ace/mode/folding/fold_mode", "ace/token_iterator"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("../../lib/oop");
        var lang = require2("../../lib/lang");
        var Range = require2("../../range").Range;
        var BaseFoldMode = require2("./fold_mode").FoldMode;
        var TokenIterator = require2("../../token_iterator").TokenIterator;
        var FoldMode = exports2.FoldMode = function(voidElements, optionalEndTags) {
          BaseFoldMode.call(this);
          this.voidElements = voidElements || {};
          this.optionalEndTags = oop.mixin({}, this.voidElements);
          if (optionalEndTags)
            oop.mixin(this.optionalEndTags, optionalEndTags);
        };
        oop.inherits(FoldMode, BaseFoldMode);
        var Tag = function() {
          this.tagName = "";
          this.closing = false;
          this.selfClosing = false;
          this.start = { row: 0, column: 0 };
          this.end = { row: 0, column: 0 };
        };
        function is2(token, type) {
          return token.type.lastIndexOf(type + ".xml") > -1;
        }
        (function() {
          this.getFoldWidget = function(session, foldStyle, row) {
            var tag = this._getFirstTagInLine(session, row);
            if (!tag)
              return this.getCommentFoldWidget(session, row);
            if (tag.closing || !tag.tagName && tag.selfClosing)
              return foldStyle == "markbeginend" ? "end" : "";
            if (!tag.tagName || tag.selfClosing || this.voidElements.hasOwnProperty(tag.tagName.toLowerCase()))
              return "";
            if (this._findEndTagInLine(session, row, tag.tagName, tag.end.column))
              return "";
            return "start";
          };
          this.getCommentFoldWidget = function(session, row) {
            if (/comment/.test(session.getState(row)) && /<!-/.test(session.getLine(row)))
              return "start";
            return "";
          };
          this._getFirstTagInLine = function(session, row) {
            var tokens = session.getTokens(row);
            var tag = new Tag();
            for (var i3 = 0; i3 < tokens.length; i3++) {
              var token = tokens[i3];
              if (is2(token, "tag-open")) {
                tag.end.column = tag.start.column + token.value.length;
                tag.closing = is2(token, "end-tag-open");
                token = tokens[++i3];
                if (!token)
                  return null;
                tag.tagName = token.value;
                tag.end.column += token.value.length;
                for (i3++; i3 < tokens.length; i3++) {
                  token = tokens[i3];
                  tag.end.column += token.value.length;
                  if (is2(token, "tag-close")) {
                    tag.selfClosing = token.value == "/>";
                    break;
                  }
                }
                return tag;
              } else if (is2(token, "tag-close")) {
                tag.selfClosing = token.value == "/>";
                return tag;
              }
              tag.start.column += token.value.length;
            }
            return null;
          };
          this._findEndTagInLine = function(session, row, tagName, startColumn) {
            var tokens = session.getTokens(row);
            var column = 0;
            for (var i3 = 0; i3 < tokens.length; i3++) {
              var token = tokens[i3];
              column += token.value.length;
              if (column < startColumn)
                continue;
              if (is2(token, "end-tag-open")) {
                token = tokens[i3 + 1];
                if (token && token.value == tagName)
                  return true;
              }
            }
            return false;
          };
          this._readTagForward = function(iterator) {
            var token = iterator.getCurrentToken();
            if (!token)
              return null;
            var tag = new Tag();
            do {
              if (is2(token, "tag-open")) {
                tag.closing = is2(token, "end-tag-open");
                tag.start.row = iterator.getCurrentTokenRow();
                tag.start.column = iterator.getCurrentTokenColumn();
              } else if (is2(token, "tag-name")) {
                tag.tagName = token.value;
              } else if (is2(token, "tag-close")) {
                tag.selfClosing = token.value == "/>";
                tag.end.row = iterator.getCurrentTokenRow();
                tag.end.column = iterator.getCurrentTokenColumn() + token.value.length;
                iterator.stepForward();
                return tag;
              }
            } while (token = iterator.stepForward());
            return null;
          };
          this._readTagBackward = function(iterator) {
            var token = iterator.getCurrentToken();
            if (!token)
              return null;
            var tag = new Tag();
            do {
              if (is2(token, "tag-open")) {
                tag.closing = is2(token, "end-tag-open");
                tag.start.row = iterator.getCurrentTokenRow();
                tag.start.column = iterator.getCurrentTokenColumn();
                iterator.stepBackward();
                return tag;
              } else if (is2(token, "tag-name")) {
                tag.tagName = token.value;
              } else if (is2(token, "tag-close")) {
                tag.selfClosing = token.value == "/>";
                tag.end.row = iterator.getCurrentTokenRow();
                tag.end.column = iterator.getCurrentTokenColumn() + token.value.length;
              }
            } while (token = iterator.stepBackward());
            return null;
          };
          this._pop = function(stack, tag) {
            while (stack.length) {
              var top2 = stack[stack.length - 1];
              if (!tag || top2.tagName == tag.tagName) {
                return stack.pop();
              } else if (this.optionalEndTags.hasOwnProperty(top2.tagName)) {
                stack.pop();
                continue;
              } else {
                return null;
              }
            }
          };
          this.getFoldWidgetRange = function(session, foldStyle, row) {
            var firstTag = this._getFirstTagInLine(session, row);
            if (!firstTag) {
              return this.getCommentFoldWidget(session, row) && session.getCommentFoldRange(row, session.getLine(row).length);
            }
            var isBackward = firstTag.closing || firstTag.selfClosing;
            var stack = [];
            var tag;
            if (!isBackward) {
              var iterator = new TokenIterator(session, row, firstTag.start.column);
              var start4 = {
                row,
                column: firstTag.start.column + firstTag.tagName.length + 2
              };
              if (firstTag.start.row == firstTag.end.row)
                start4.column = firstTag.end.column;
              while (tag = this._readTagForward(iterator)) {
                if (tag.selfClosing) {
                  if (!stack.length) {
                    tag.start.column += tag.tagName.length + 2;
                    tag.end.column -= 2;
                    return Range.fromPoints(tag.start, tag.end);
                  } else
                    continue;
                }
                if (tag.closing) {
                  this._pop(stack, tag);
                  if (stack.length == 0)
                    return Range.fromPoints(start4, tag.start);
                } else {
                  stack.push(tag);
                }
              }
            } else {
              var iterator = new TokenIterator(session, row, firstTag.end.column);
              var end3 = {
                row,
                column: firstTag.start.column
              };
              while (tag = this._readTagBackward(iterator)) {
                if (tag.selfClosing) {
                  if (!stack.length) {
                    tag.start.column += tag.tagName.length + 2;
                    tag.end.column -= 2;
                    return Range.fromPoints(tag.start, tag.end);
                  } else
                    continue;
                }
                if (!tag.closing) {
                  this._pop(stack, tag);
                  if (stack.length == 0) {
                    tag.start.column += tag.tagName.length + 2;
                    if (tag.start.row == tag.end.row && tag.start.column < tag.end.column)
                      tag.start.column = tag.end.column;
                    return Range.fromPoints(tag.start, end3);
                  }
                } else {
                  stack.push(tag);
                }
              }
            }
          };
        }).call(FoldMode.prototype);
      });
      ace.define("ace/mode/folding/html", ["require", "exports", "module", "ace/lib/oop", "ace/mode/folding/mixed", "ace/mode/folding/xml", "ace/mode/folding/cstyle"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("../../lib/oop");
        var MixedFoldMode = require2("./mixed").FoldMode;
        var XmlFoldMode = require2("./xml").FoldMode;
        var CStyleFoldMode = require2("./cstyle").FoldMode;
        var FoldMode = exports2.FoldMode = function(voidElements, optionalTags) {
          MixedFoldMode.call(this, new XmlFoldMode(voidElements, optionalTags), {
            "js-": new CStyleFoldMode(),
            "css-": new CStyleFoldMode()
          });
        };
        oop.inherits(FoldMode, MixedFoldMode);
      });
      ace.define("ace/mode/html_completions", ["require", "exports", "module", "ace/token_iterator"], function(require2, exports2, module2) {
        "use strict";
        var TokenIterator = require2("../token_iterator").TokenIterator;
        var commonAttributes = [
          "accesskey",
          "class",
          "contenteditable",
          "contextmenu",
          "dir",
          "draggable",
          "dropzone",
          "hidden",
          "id",
          "inert",
          "itemid",
          "itemprop",
          "itemref",
          "itemscope",
          "itemtype",
          "lang",
          "spellcheck",
          "style",
          "tabindex",
          "title",
          "translate"
        ];
        var eventAttributes = [
          "onabort",
          "onblur",
          "oncancel",
          "oncanplay",
          "oncanplaythrough",
          "onchange",
          "onclick",
          "onclose",
          "oncontextmenu",
          "oncuechange",
          "ondblclick",
          "ondrag",
          "ondragend",
          "ondragenter",
          "ondragleave",
          "ondragover",
          "ondragstart",
          "ondrop",
          "ondurationchange",
          "onemptied",
          "onended",
          "onerror",
          "onfocus",
          "oninput",
          "oninvalid",
          "onkeydown",
          "onkeypress",
          "onkeyup",
          "onload",
          "onloadeddata",
          "onloadedmetadata",
          "onloadstart",
          "onmousedown",
          "onmousemove",
          "onmouseout",
          "onmouseover",
          "onmouseup",
          "onmousewheel",
          "onpause",
          "onplay",
          "onplaying",
          "onprogress",
          "onratechange",
          "onreset",
          "onscroll",
          "onseeked",
          "onseeking",
          "onselect",
          "onshow",
          "onstalled",
          "onsubmit",
          "onsuspend",
          "ontimeupdate",
          "onvolumechange",
          "onwaiting"
        ];
        var globalAttributes = commonAttributes.concat(eventAttributes);
        var attributeMap = {
          "a": { "href": 1, "target": { "_blank": 1, "top": 1 }, "ping": 1, "rel": { "nofollow": 1, "alternate": 1, "author": 1, "bookmark": 1, "help": 1, "license": 1, "next": 1, "noreferrer": 1, "prefetch": 1, "prev": 1, "search": 1, "tag": 1 }, "media": 1, "hreflang": 1, "type": 1 },
          "abbr": {},
          "address": {},
          "area": { "shape": 1, "coords": 1, "href": 1, "hreflang": 1, "alt": 1, "target": 1, "media": 1, "rel": 1, "ping": 1, "type": 1 },
          "article": { "pubdate": 1 },
          "aside": {},
          "audio": { "src": 1, "autobuffer": 1, "autoplay": { "autoplay": 1 }, "loop": { "loop": 1 }, "controls": { "controls": 1 }, "muted": { "muted": 1 }, "preload": { "auto": 1, "metadata": 1, "none": 1 } },
          "b": {},
          "base": { "href": 1, "target": 1 },
          "bdi": {},
          "bdo": {},
          "blockquote": { "cite": 1 },
          "body": { "onafterprint": 1, "onbeforeprint": 1, "onbeforeunload": 1, "onhashchange": 1, "onmessage": 1, "onoffline": 1, "onpopstate": 1, "onredo": 1, "onresize": 1, "onstorage": 1, "onundo": 1, "onunload": 1 },
          "br": {},
          "button": { "autofocus": 1, "disabled": { "disabled": 1 }, "form": 1, "formaction": 1, "formenctype": 1, "formmethod": 1, "formnovalidate": 1, "formtarget": 1, "name": 1, "value": 1, "type": { "button": 1, "submit": 1 } },
          "canvas": { "width": 1, "height": 1 },
          "caption": {},
          "cite": {},
          "code": {},
          "col": { "span": 1 },
          "colgroup": { "span": 1 },
          "command": { "type": 1, "label": 1, "icon": 1, "disabled": 1, "checked": 1, "radiogroup": 1, "command": 1 },
          "data": {},
          "datalist": {},
          "dd": {},
          "del": { "cite": 1, "datetime": 1 },
          "details": { "open": 1 },
          "dfn": {},
          "dialog": { "open": 1 },
          "div": {},
          "dl": {},
          "dt": {},
          "em": {},
          "embed": { "src": 1, "height": 1, "width": 1, "type": 1 },
          "fieldset": { "disabled": 1, "form": 1, "name": 1 },
          "figcaption": {},
          "figure": {},
          "footer": {},
          "form": { "accept-charset": 1, "action": 1, "autocomplete": 1, "enctype": { "multipart/form-data": 1, "application/x-www-form-urlencoded": 1 }, "method": { "get": 1, "post": 1 }, "name": 1, "novalidate": 1, "target": { "_blank": 1, "top": 1 } },
          "h1": {},
          "h2": {},
          "h3": {},
          "h4": {},
          "h5": {},
          "h6": {},
          "head": {},
          "header": {},
          "hr": {},
          "html": { "manifest": 1 },
          "i": {},
          "iframe": { "name": 1, "src": 1, "height": 1, "width": 1, "sandbox": { "allow-same-origin": 1, "allow-top-navigation": 1, "allow-forms": 1, "allow-scripts": 1 }, "seamless": { "seamless": 1 } },
          "img": { "alt": 1, "src": 1, "height": 1, "width": 1, "usemap": 1, "ismap": 1 },
          "input": {
            "type": { "text": 1, "password": 1, "hidden": 1, "checkbox": 1, "submit": 1, "radio": 1, "file": 1, "button": 1, "reset": 1, "image": 31, "color": 1, "date": 1, "datetime": 1, "datetime-local": 1, "email": 1, "month": 1, "number": 1, "range": 1, "search": 1, "tel": 1, "time": 1, "url": 1, "week": 1 },
            "accept": 1,
            "alt": 1,
            "autocomplete": { "on": 1, "off": 1 },
            "autofocus": { "autofocus": 1 },
            "checked": { "checked": 1 },
            "disabled": { "disabled": 1 },
            "form": 1,
            "formaction": 1,
            "formenctype": { "application/x-www-form-urlencoded": 1, "multipart/form-data": 1, "text/plain": 1 },
            "formmethod": { "get": 1, "post": 1 },
            "formnovalidate": { "formnovalidate": 1 },
            "formtarget": { "_blank": 1, "_self": 1, "_parent": 1, "_top": 1 },
            "height": 1,
            "list": 1,
            "max": 1,
            "maxlength": 1,
            "min": 1,
            "multiple": { "multiple": 1 },
            "name": 1,
            "pattern": 1,
            "placeholder": 1,
            "readonly": { "readonly": 1 },
            "required": { "required": 1 },
            "size": 1,
            "src": 1,
            "step": 1,
            "width": 1,
            "files": 1,
            "value": 1
          },
          "ins": { "cite": 1, "datetime": 1 },
          "kbd": {},
          "keygen": { "autofocus": 1, "challenge": { "challenge": 1 }, "disabled": { "disabled": 1 }, "form": 1, "keytype": { "rsa": 1, "dsa": 1, "ec": 1 }, "name": 1 },
          "label": { "form": 1, "for": 1 },
          "legend": {},
          "li": { "value": 1 },
          "link": { "href": 1, "hreflang": 1, "rel": { "stylesheet": 1, "icon": 1 }, "media": { "all": 1, "screen": 1, "print": 1 }, "type": { "text/css": 1, "image/png": 1, "image/jpeg": 1, "image/gif": 1 }, "sizes": 1 },
          "main": {},
          "map": { "name": 1 },
          "mark": {},
          "math": {},
          "menu": { "type": 1, "label": 1 },
          "meta": { "http-equiv": { "content-type": 1 }, "name": { "description": 1, "keywords": 1 }, "content": { "text/html; charset=UTF-8": 1 }, "charset": 1 },
          "meter": { "value": 1, "min": 1, "max": 1, "low": 1, "high": 1, "optimum": 1 },
          "nav": {},
          "noscript": { "href": 1 },
          "object": { "param": 1, "data": 1, "type": 1, "height": 1, "width": 1, "usemap": 1, "name": 1, "form": 1, "classid": 1 },
          "ol": { "start": 1, "reversed": 1 },
          "optgroup": { "disabled": 1, "label": 1 },
          "option": { "disabled": 1, "selected": 1, "label": 1, "value": 1 },
          "output": { "for": 1, "form": 1, "name": 1 },
          "p": {},
          "param": { "name": 1, "value": 1 },
          "pre": {},
          "progress": { "value": 1, "max": 1 },
          "q": { "cite": 1 },
          "rp": {},
          "rt": {},
          "ruby": {},
          "s": {},
          "samp": {},
          "script": { "charset": 1, "type": { "text/javascript": 1 }, "src": 1, "defer": 1, "async": 1 },
          "select": { "autofocus": 1, "disabled": 1, "form": 1, "multiple": { "multiple": 1 }, "name": 1, "size": 1, "readonly": { "readonly": 1 } },
          "small": {},
          "source": { "src": 1, "type": 1, "media": 1 },
          "span": {},
          "strong": {},
          "style": { "type": 1, "media": { "all": 1, "screen": 1, "print": 1 }, "scoped": 1 },
          "sub": {},
          "sup": {},
          "svg": {},
          "table": { "summary": 1 },
          "tbody": {},
          "td": { "headers": 1, "rowspan": 1, "colspan": 1 },
          "textarea": { "autofocus": { "autofocus": 1 }, "disabled": { "disabled": 1 }, "form": 1, "maxlength": 1, "name": 1, "placeholder": 1, "readonly": { "readonly": 1 }, "required": { "required": 1 }, "rows": 1, "cols": 1, "wrap": { "on": 1, "off": 1, "hard": 1, "soft": 1 } },
          "tfoot": {},
          "th": { "headers": 1, "rowspan": 1, "colspan": 1, "scope": 1 },
          "thead": {},
          "time": { "datetime": 1 },
          "title": {},
          "tr": {},
          "track": { "kind": 1, "src": 1, "srclang": 1, "label": 1, "default": 1 },
          "section": {},
          "summary": {},
          "u": {},
          "ul": {},
          "var": {},
          "video": { "src": 1, "autobuffer": 1, "autoplay": { "autoplay": 1 }, "loop": { "loop": 1 }, "controls": { "controls": 1 }, "width": 1, "height": 1, "poster": 1, "muted": { "muted": 1 }, "preload": { "auto": 1, "metadata": 1, "none": 1 } },
          "wbr": {}
        };
        var elements = Object.keys(attributeMap);
        function is2(token, type) {
          return token.type.lastIndexOf(type + ".xml") > -1;
        }
        function findTagName(session, pos) {
          var iterator = new TokenIterator(session, pos.row, pos.column);
          var token = iterator.getCurrentToken();
          while (token && !is2(token, "tag-name")) {
            token = iterator.stepBackward();
          }
          if (token)
            return token.value;
        }
        function findAttributeName(session, pos) {
          var iterator = new TokenIterator(session, pos.row, pos.column);
          var token = iterator.getCurrentToken();
          while (token && !is2(token, "attribute-name")) {
            token = iterator.stepBackward();
          }
          if (token)
            return token.value;
        }
        var HtmlCompletions = function() {
        };
        (function() {
          this.getCompletions = function(state, session, pos, prefix3) {
            var token = session.getTokenAt(pos.row, pos.column);
            if (!token)
              return [];
            if (is2(token, "tag-name") || is2(token, "tag-open") || is2(token, "end-tag-open"))
              return this.getTagCompletions(state, session, pos, prefix3);
            if (is2(token, "tag-whitespace") || is2(token, "attribute-name"))
              return this.getAttributeCompletions(state, session, pos, prefix3);
            if (is2(token, "attribute-value"))
              return this.getAttributeValueCompletions(state, session, pos, prefix3);
            var line = session.getLine(pos.row).substr(0, pos.column);
            if (/&[a-z]*$/i.test(line))
              return this.getHTMLEntityCompletions(state, session, pos, prefix3);
            return [];
          };
          this.getTagCompletions = function(state, session, pos, prefix3) {
            return elements.map(function(element) {
              return {
                value: element,
                meta: "tag",
                score: 1e6
              };
            });
          };
          this.getAttributeCompletions = function(state, session, pos, prefix3) {
            var tagName = findTagName(session, pos);
            if (!tagName)
              return [];
            var attributes = globalAttributes;
            if (tagName in attributeMap) {
              attributes = attributes.concat(Object.keys(attributeMap[tagName]));
            }
            return attributes.map(function(attribute) {
              return {
                caption: attribute,
                snippet: attribute + '="$0"',
                meta: "attribute",
                score: 1e6
              };
            });
          };
          this.getAttributeValueCompletions = function(state, session, pos, prefix3) {
            var tagName = findTagName(session, pos);
            var attributeName = findAttributeName(session, pos);
            if (!tagName)
              return [];
            var values2 = [];
            if (tagName in attributeMap && attributeName in attributeMap[tagName] && typeof attributeMap[tagName][attributeName] === "object") {
              values2 = Object.keys(attributeMap[tagName][attributeName]);
            }
            return values2.map(function(value) {
              return {
                caption: value,
                snippet: value,
                meta: "attribute value",
                score: 1e6
              };
            });
          };
          this.getHTMLEntityCompletions = function(state, session, pos, prefix3) {
            var values2 = ["Aacute;", "aacute;", "Acirc;", "acirc;", "acute;", "AElig;", "aelig;", "Agrave;", "agrave;", "alefsym;", "Alpha;", "alpha;", "amp;", "and;", "ang;", "Aring;", "aring;", "asymp;", "Atilde;", "atilde;", "Auml;", "auml;", "bdquo;", "Beta;", "beta;", "brvbar;", "bull;", "cap;", "Ccedil;", "ccedil;", "cedil;", "cent;", "Chi;", "chi;", "circ;", "clubs;", "cong;", "copy;", "crarr;", "cup;", "curren;", "Dagger;", "dagger;", "dArr;", "darr;", "deg;", "Delta;", "delta;", "diams;", "divide;", "Eacute;", "eacute;", "Ecirc;", "ecirc;", "Egrave;", "egrave;", "empty;", "emsp;", "ensp;", "Epsilon;", "epsilon;", "equiv;", "Eta;", "eta;", "ETH;", "eth;", "Euml;", "euml;", "euro;", "exist;", "fnof;", "forall;", "frac12;", "frac14;", "frac34;", "frasl;", "Gamma;", "gamma;", "ge;", "gt;", "hArr;", "harr;", "hearts;", "hellip;", "Iacute;", "iacute;", "Icirc;", "icirc;", "iexcl;", "Igrave;", "igrave;", "image;", "infin;", "int;", "Iota;", "iota;", "iquest;", "isin;", "Iuml;", "iuml;", "Kappa;", "kappa;", "Lambda;", "lambda;", "lang;", "laquo;", "lArr;", "larr;", "lceil;", "ldquo;", "le;", "lfloor;", "lowast;", "loz;", "lrm;", "lsaquo;", "lsquo;", "lt;", "macr;", "mdash;", "micro;", "middot;", "minus;", "Mu;", "mu;", "nabla;", "nbsp;", "ndash;", "ne;", "ni;", "not;", "notin;", "nsub;", "Ntilde;", "ntilde;", "Nu;", "nu;", "Oacute;", "oacute;", "Ocirc;", "ocirc;", "OElig;", "oelig;", "Ograve;", "ograve;", "oline;", "Omega;", "omega;", "Omicron;", "omicron;", "oplus;", "or;", "ordf;", "ordm;", "Oslash;", "oslash;", "Otilde;", "otilde;", "otimes;", "Ouml;", "ouml;", "para;", "part;", "permil;", "perp;", "Phi;", "phi;", "Pi;", "pi;", "piv;", "plusmn;", "pound;", "Prime;", "prime;", "prod;", "prop;", "Psi;", "psi;", "quot;", "radic;", "rang;", "raquo;", "rArr;", "rarr;", "rceil;", "rdquo;", "real;", "reg;", "rfloor;", "Rho;", "rho;", "rlm;", "rsaquo;", "rsquo;", "sbquo;", "Scaron;", "scaron;", "sdot;", "sect;", "shy;", "Sigma;", "sigma;", "sigmaf;", "sim;", "spades;", "sub;", "sube;", "sum;", "sup;", "sup1;", "sup2;", "sup3;", "supe;", "szlig;", "Tau;", "tau;", "there4;", "Theta;", "theta;", "thetasym;", "thinsp;", "THORN;", "thorn;", "tilde;", "times;", "trade;", "Uacute;", "uacute;", "uArr;", "uarr;", "Ucirc;", "ucirc;", "Ugrave;", "ugrave;", "uml;", "upsih;", "Upsilon;", "upsilon;", "Uuml;", "uuml;", "weierp;", "Xi;", "xi;", "Yacute;", "yacute;", "yen;", "Yuml;", "yuml;", "Zeta;", "zeta;", "zwj;", "zwnj;"];
            return values2.map(function(value) {
              return {
                caption: value,
                snippet: value,
                meta: "html entity",
                score: 1e6
              };
            });
          };
        }).call(HtmlCompletions.prototype);
        exports2.HtmlCompletions = HtmlCompletions;
      });
      ace.define("ace/mode/html", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/mode/text", "ace/mode/javascript", "ace/mode/css", "ace/mode/html_highlight_rules", "ace/mode/behaviour/xml", "ace/mode/folding/html", "ace/mode/html_completions", "ace/worker/worker_client"], function(require2, exports2, module2) {
        "use strict";
        var oop = require2("../lib/oop");
        var lang = require2("../lib/lang");
        var TextMode = require2("./text").Mode;
        var JavaScriptMode = require2("./javascript").Mode;
        var CssMode = require2("./css").Mode;
        var HtmlHighlightRules = require2("./html_highlight_rules").HtmlHighlightRules;
        var XmlBehaviour = require2("./behaviour/xml").XmlBehaviour;
        var HtmlFoldMode = require2("./folding/html").FoldMode;
        var HtmlCompletions = require2("./html_completions").HtmlCompletions;
        var WorkerClient = require2("../worker/worker_client").WorkerClient;
        var voidElements = ["area", "base", "br", "col", "embed", "hr", "img", "input", "keygen", "link", "meta", "menuitem", "param", "source", "track", "wbr"];
        var optionalEndTags = ["li", "dt", "dd", "p", "rt", "rp", "optgroup", "option", "colgroup", "td", "th"];
        var Mode = function(options) {
          this.fragmentContext = options && options.fragmentContext;
          this.HighlightRules = HtmlHighlightRules;
          this.$behaviour = new XmlBehaviour();
          this.$completer = new HtmlCompletions();
          this.createModeDelegates({
            "js-": JavaScriptMode,
            "css-": CssMode
          });
          this.foldingRules = new HtmlFoldMode(this.voidElements, lang.arrayToMap(optionalEndTags));
        };
        oop.inherits(Mode, TextMode);
        (function() {
          this.blockComment = { start: "<!--", end: "-->" };
          this.voidElements = lang.arrayToMap(voidElements);
          this.getNextLineIndent = function(state, line, tab2) {
            return this.$getIndent(line);
          };
          this.checkOutdent = function(state, line, input) {
            return false;
          };
          this.getCompletions = function(state, session, pos, prefix3) {
            return this.$completer.getCompletions(state, session, pos, prefix3);
          };
          this.createWorker = function(session) {
            if (this.constructor != Mode)
              return;
            var worker = new WorkerClient(["ace"], "ace/mode/html_worker", "Worker");
            worker.attachToDocument(session.getDocument());
            if (this.fragmentContext)
              worker.call("setOptions", [{ context: this.fragmentContext }]);
            worker.on("error", function(e2) {
              session.setAnnotations(e2.data);
            });
            worker.on("terminate", function() {
              session.clearAnnotations();
            });
            return worker;
          };
          this.$id = "ace/mode/html";
          this.snippetFileId = "ace/snippets/html";
        }).call(Mode.prototype);
        exports2.Mode = Mode;
      });
      (function() {
        ace.require(["ace/mode/html"], function(m2) {
          if (typeof module == "object" && typeof exports == "object" && module) {
            module.exports = m2;
          }
        });
      })();
    }
  });

  // ../../node_modules/lodash/lodash.js
  var require_lodash3 = __commonJS({
    "../../node_modules/lodash/lodash.js"(exports, module) {
      (function() {
        var undefined2;
        var VERSION = "4.17.21";
        var LARGE_ARRAY_SIZE = 200;
        var CORE_ERROR_TEXT = "Unsupported core-js use. Try https://npms.io/search?q=ponyfill.", FUNC_ERROR_TEXT = "Expected a function", INVALID_TEMPL_VAR_ERROR_TEXT = "Invalid `variable` option passed into `_.template`";
        var HASH_UNDEFINED = "__lodash_hash_undefined__";
        var MAX_MEMOIZE_SIZE = 500;
        var PLACEHOLDER = "__lodash_placeholder__";
        var CLONE_DEEP_FLAG = 1, CLONE_FLAT_FLAG = 2, CLONE_SYMBOLS_FLAG = 4;
        var COMPARE_PARTIAL_FLAG = 1, COMPARE_UNORDERED_FLAG = 2;
        var WRAP_BIND_FLAG = 1, WRAP_BIND_KEY_FLAG = 2, WRAP_CURRY_BOUND_FLAG = 4, WRAP_CURRY_FLAG = 8, WRAP_CURRY_RIGHT_FLAG = 16, WRAP_PARTIAL_FLAG = 32, WRAP_PARTIAL_RIGHT_FLAG = 64, WRAP_ARY_FLAG = 128, WRAP_REARG_FLAG = 256, WRAP_FLIP_FLAG = 512;
        var DEFAULT_TRUNC_LENGTH = 30, DEFAULT_TRUNC_OMISSION = "...";
        var HOT_COUNT = 800, HOT_SPAN = 16;
        var LAZY_FILTER_FLAG = 1, LAZY_MAP_FLAG = 2, LAZY_WHILE_FLAG = 3;
        var INFINITY = 1 / 0, MAX_SAFE_INTEGER = 9007199254740991, MAX_INTEGER = 17976931348623157e292, NAN = 0 / 0;
        var MAX_ARRAY_LENGTH = 4294967295, MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1, HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;
        var wrapFlags = [
          ["ary", WRAP_ARY_FLAG],
          ["bind", WRAP_BIND_FLAG],
          ["bindKey", WRAP_BIND_KEY_FLAG],
          ["curry", WRAP_CURRY_FLAG],
          ["curryRight", WRAP_CURRY_RIGHT_FLAG],
          ["flip", WRAP_FLIP_FLAG],
          ["partial", WRAP_PARTIAL_FLAG],
          ["partialRight", WRAP_PARTIAL_RIGHT_FLAG],
          ["rearg", WRAP_REARG_FLAG]
        ];
        var argsTag = "[object Arguments]", arrayTag = "[object Array]", asyncTag = "[object AsyncFunction]", boolTag = "[object Boolean]", dateTag = "[object Date]", domExcTag = "[object DOMException]", errorTag = "[object Error]", funcTag = "[object Function]", genTag = "[object GeneratorFunction]", mapTag = "[object Map]", numberTag = "[object Number]", nullTag = "[object Null]", objectTag = "[object Object]", promiseTag = "[object Promise]", proxyTag = "[object Proxy]", regexpTag = "[object RegExp]", setTag = "[object Set]", stringTag = "[object String]", symbolTag = "[object Symbol]", undefinedTag = "[object Undefined]", weakMapTag = "[object WeakMap]", weakSetTag = "[object WeakSet]";
        var arrayBufferTag = "[object ArrayBuffer]", dataViewTag = "[object DataView]", float32Tag = "[object Float32Array]", float64Tag = "[object Float64Array]", int8Tag = "[object Int8Array]", int16Tag = "[object Int16Array]", int32Tag = "[object Int32Array]", uint8Tag = "[object Uint8Array]", uint8ClampedTag = "[object Uint8ClampedArray]", uint16Tag = "[object Uint16Array]", uint32Tag = "[object Uint32Array]";
        var reEmptyStringLeading = /\b__p \+= '';/g, reEmptyStringMiddle = /\b(__p \+=) '' \+/g, reEmptyStringTrailing = /(__e\(.*?\)|\b__t\)) \+\n'';/g;
        var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g, reUnescapedHtml = /[&<>"']/g, reHasEscapedHtml = RegExp(reEscapedHtml.source), reHasUnescapedHtml = RegExp(reUnescapedHtml.source);
        var reEscape = /<%-([\s\S]+?)%>/g, reEvaluate = /<%([\s\S]+?)%>/g, reInterpolate = /<%=([\s\S]+?)%>/g;
        var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, reIsPlainProp = /^\w*$/, rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;
        var reRegExpChar = /[\\^$.*+?()[\]{}|]/g, reHasRegExpChar = RegExp(reRegExpChar.source);
        var reTrimStart = /^\s+/;
        var reWhitespace = /\s/;
        var reWrapComment = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/, reWrapDetails = /\{\n\/\* \[wrapped with (.+)\] \*/, reSplitDetails = /,? & /;
        var reAsciiWord = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;
        var reForbiddenIdentifierChars = /[()=,{}\[\]\/\s]/;
        var reEscapeChar = /\\(\\)?/g;
        var reEsTemplate = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;
        var reFlags = /\w*$/;
        var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;
        var reIsBinary = /^0b[01]+$/i;
        var reIsHostCtor = /^\[object .+?Constructor\]$/;
        var reIsOctal = /^0o[0-7]+$/i;
        var reIsUint = /^(?:0|[1-9]\d*)$/;
        var reLatin = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;
        var reNoMatch = /($^)/;
        var reUnescapedString = /['\n\r\u2028\u2029\\]/g;
        var rsAstralRange = "\\ud800-\\udfff", rsComboMarksRange = "\\u0300-\\u036f", reComboHalfMarksRange = "\\ufe20-\\ufe2f", rsComboSymbolsRange = "\\u20d0-\\u20ff", rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange, rsDingbatRange = "\\u2700-\\u27bf", rsLowerRange = "a-z\\xdf-\\xf6\\xf8-\\xff", rsMathOpRange = "\\xac\\xb1\\xd7\\xf7", rsNonCharRange = "\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf", rsPunctuationRange = "\\u2000-\\u206f", rsSpaceRange = " \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", rsUpperRange = "A-Z\\xc0-\\xd6\\xd8-\\xde", rsVarRange = "\\ufe0e\\ufe0f", rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;
        var rsApos = "['\u2019]", rsAstral = "[" + rsAstralRange + "]", rsBreak = "[" + rsBreakRange + "]", rsCombo = "[" + rsComboRange + "]", rsDigits = "\\d+", rsDingbat = "[" + rsDingbatRange + "]", rsLower = "[" + rsLowerRange + "]", rsMisc = "[^" + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + "]", rsFitz = "\\ud83c[\\udffb-\\udfff]", rsModifier = "(?:" + rsCombo + "|" + rsFitz + ")", rsNonAstral = "[^" + rsAstralRange + "]", rsRegional = "(?:\\ud83c[\\udde6-\\uddff]){2}", rsSurrPair = "[\\ud800-\\udbff][\\udc00-\\udfff]", rsUpper = "[" + rsUpperRange + "]", rsZWJ = "\\u200d";
        var rsMiscLower = "(?:" + rsLower + "|" + rsMisc + ")", rsMiscUpper = "(?:" + rsUpper + "|" + rsMisc + ")", rsOptContrLower = "(?:" + rsApos + "(?:d|ll|m|re|s|t|ve))?", rsOptContrUpper = "(?:" + rsApos + "(?:D|LL|M|RE|S|T|VE))?", reOptMod = rsModifier + "?", rsOptVar = "[" + rsVarRange + "]?", rsOptJoin = "(?:" + rsZWJ + "(?:" + [rsNonAstral, rsRegional, rsSurrPair].join("|") + ")" + rsOptVar + reOptMod + ")*", rsOrdLower = "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", rsOrdUpper = "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", rsSeq = rsOptVar + reOptMod + rsOptJoin, rsEmoji = "(?:" + [rsDingbat, rsRegional, rsSurrPair].join("|") + ")" + rsSeq, rsSymbol = "(?:" + [rsNonAstral + rsCombo + "?", rsCombo, rsRegional, rsSurrPair, rsAstral].join("|") + ")";
        var reApos = RegExp(rsApos, "g");
        var reComboMark = RegExp(rsCombo, "g");
        var reUnicode = RegExp(rsFitz + "(?=" + rsFitz + ")|" + rsSymbol + rsSeq, "g");
        var reUnicodeWord = RegExp([
          rsUpper + "?" + rsLower + "+" + rsOptContrLower + "(?=" + [rsBreak, rsUpper, "$"].join("|") + ")",
          rsMiscUpper + "+" + rsOptContrUpper + "(?=" + [rsBreak, rsUpper + rsMiscLower, "$"].join("|") + ")",
          rsUpper + "?" + rsMiscLower + "+" + rsOptContrLower,
          rsUpper + "+" + rsOptContrUpper,
          rsOrdUpper,
          rsOrdLower,
          rsDigits,
          rsEmoji
        ].join("|"), "g");
        var reHasUnicode = RegExp("[" + rsZWJ + rsAstralRange + rsComboRange + rsVarRange + "]");
        var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;
        var contextProps = [
          "Array",
          "Buffer",
          "DataView",
          "Date",
          "Error",
          "Float32Array",
          "Float64Array",
          "Function",
          "Int8Array",
          "Int16Array",
          "Int32Array",
          "Map",
          "Math",
          "Object",
          "Promise",
          "RegExp",
          "Set",
          "String",
          "Symbol",
          "TypeError",
          "Uint8Array",
          "Uint8ClampedArray",
          "Uint16Array",
          "Uint32Array",
          "WeakMap",
          "_",
          "clearTimeout",
          "isFinite",
          "parseInt",
          "setTimeout"
        ];
        var templateCounter = -1;
        var typedArrayTags = {};
        typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;
        typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;
        var cloneableTags = {};
        cloneableTags[argsTag] = cloneableTags[arrayTag] = cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] = cloneableTags[boolTag] = cloneableTags[dateTag] = cloneableTags[float32Tag] = cloneableTags[float64Tag] = cloneableTags[int8Tag] = cloneableTags[int16Tag] = cloneableTags[int32Tag] = cloneableTags[mapTag] = cloneableTags[numberTag] = cloneableTags[objectTag] = cloneableTags[regexpTag] = cloneableTags[setTag] = cloneableTags[stringTag] = cloneableTags[symbolTag] = cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] = cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;
        cloneableTags[errorTag] = cloneableTags[funcTag] = cloneableTags[weakMapTag] = false;
        var deburredLetters = {
          "\xC0": "A",
          "\xC1": "A",
          "\xC2": "A",
          "\xC3": "A",
          "\xC4": "A",
          "\xC5": "A",
          "\xE0": "a",
          "\xE1": "a",
          "\xE2": "a",
          "\xE3": "a",
          "\xE4": "a",
          "\xE5": "a",
          "\xC7": "C",
          "\xE7": "c",
          "\xD0": "D",
          "\xF0": "d",
          "\xC8": "E",
          "\xC9": "E",
          "\xCA": "E",
          "\xCB": "E",
          "\xE8": "e",
          "\xE9": "e",
          "\xEA": "e",
          "\xEB": "e",
          "\xCC": "I",
          "\xCD": "I",
          "\xCE": "I",
          "\xCF": "I",
          "\xEC": "i",
          "\xED": "i",
          "\xEE": "i",
          "\xEF": "i",
          "\xD1": "N",
          "\xF1": "n",
          "\xD2": "O",
          "\xD3": "O",
          "\xD4": "O",
          "\xD5": "O",
          "\xD6": "O",
          "\xD8": "O",
          "\xF2": "o",
          "\xF3": "o",
          "\xF4": "o",
          "\xF5": "o",
          "\xF6": "o",
          "\xF8": "o",
          "\xD9": "U",
          "\xDA": "U",
          "\xDB": "U",
          "\xDC": "U",
          "\xF9": "u",
          "\xFA": "u",
          "\xFB": "u",
          "\xFC": "u",
          "\xDD": "Y",
          "\xFD": "y",
          "\xFF": "y",
          "\xC6": "Ae",
          "\xE6": "ae",
          "\xDE": "Th",
          "\xFE": "th",
          "\xDF": "ss",
          "\u0100": "A",
          "\u0102": "A",
          "\u0104": "A",
          "\u0101": "a",
          "\u0103": "a",
          "\u0105": "a",
          "\u0106": "C",
          "\u0108": "C",
          "\u010A": "C",
          "\u010C": "C",
          "\u0107": "c",
          "\u0109": "c",
          "\u010B": "c",
          "\u010D": "c",
          "\u010E": "D",
          "\u0110": "D",
          "\u010F": "d",
          "\u0111": "d",
          "\u0112": "E",
          "\u0114": "E",
          "\u0116": "E",
          "\u0118": "E",
          "\u011A": "E",
          "\u0113": "e",
          "\u0115": "e",
          "\u0117": "e",
          "\u0119": "e",
          "\u011B": "e",
          "\u011C": "G",
          "\u011E": "G",
          "\u0120": "G",
          "\u0122": "G",
          "\u011D": "g",
          "\u011F": "g",
          "\u0121": "g",
          "\u0123": "g",
          "\u0124": "H",
          "\u0126": "H",
          "\u0125": "h",
          "\u0127": "h",
          "\u0128": "I",
          "\u012A": "I",
          "\u012C": "I",
          "\u012E": "I",
          "\u0130": "I",
          "\u0129": "i",
          "\u012B": "i",
          "\u012D": "i",
          "\u012F": "i",
          "\u0131": "i",
          "\u0134": "J",
          "\u0135": "j",
          "\u0136": "K",
          "\u0137": "k",
          "\u0138": "k",
          "\u0139": "L",
          "\u013B": "L",
          "\u013D": "L",
          "\u013F": "L",
          "\u0141": "L",
          "\u013A": "l",
          "\u013C": "l",
          "\u013E": "l",
          "\u0140": "l",
          "\u0142": "l",
          "\u0143": "N",
          "\u0145": "N",
          "\u0147": "N",
          "\u014A": "N",
          "\u0144": "n",
          "\u0146": "n",
          "\u0148": "n",
          "\u014B": "n",
          "\u014C": "O",
          "\u014E": "O",
          "\u0150": "O",
          "\u014D": "o",
          "\u014F": "o",
          "\u0151": "o",
          "\u0154": "R",
          "\u0156": "R",
          "\u0158": "R",
          "\u0155": "r",
          "\u0157": "r",
          "\u0159": "r",
          "\u015A": "S",
          "\u015C": "S",
          "\u015E": "S",
          "\u0160": "S",
          "\u015B": "s",
          "\u015D": "s",
          "\u015F": "s",
          "\u0161": "s",
          "\u0162": "T",
          "\u0164": "T",
          "\u0166": "T",
          "\u0163": "t",
          "\u0165": "t",
          "\u0167": "t",
          "\u0168": "U",
          "\u016A": "U",
          "\u016C": "U",
          "\u016E": "U",
          "\u0170": "U",
          "\u0172": "U",
          "\u0169": "u",
          "\u016B": "u",
          "\u016D": "u",
          "\u016F": "u",
          "\u0171": "u",
          "\u0173": "u",
          "\u0174": "W",
          "\u0175": "w",
          "\u0176": "Y",
          "\u0177": "y",
          "\u0178": "Y",
          "\u0179": "Z",
          "\u017B": "Z",
          "\u017D": "Z",
          "\u017A": "z",
          "\u017C": "z",
          "\u017E": "z",
          "\u0132": "IJ",
          "\u0133": "ij",
          "\u0152": "Oe",
          "\u0153": "oe",
          "\u0149": "'n",
          "\u017F": "s"
        };
        var htmlEscapes = {
          "&": "&amp;",
          "<": "&lt;",
          ">": "&gt;",
          '"': "&quot;",
          "'": "&#39;"
        };
        var htmlUnescapes = {
          "&amp;": "&",
          "&lt;": "<",
          "&gt;": ">",
          "&quot;": '"',
          "&#39;": "'"
        };
        var stringEscapes = {
          "\\": "\\",
          "'": "'",
          "\n": "n",
          "\r": "r",
          "\u2028": "u2028",
          "\u2029": "u2029"
        };
        var freeParseFloat = parseFloat, freeParseInt = parseInt;
        var freeGlobal = typeof global == "object" && global && global.Object === Object && global;
        var freeSelf = typeof self == "object" && self && self.Object === Object && self;
        var root = freeGlobal || freeSelf || Function("return this")();
        var freeExports = typeof exports == "object" && exports && !exports.nodeType && exports;
        var freeModule = freeExports && typeof module == "object" && module && !module.nodeType && module;
        var moduleExports = freeModule && freeModule.exports === freeExports;
        var freeProcess = moduleExports && freeGlobal.process;
        var nodeUtil = function() {
          try {
            var types3 = freeModule && freeModule.require && freeModule.require("util").types;
            if (types3) {
              return types3;
            }
            return freeProcess && freeProcess.binding && freeProcess.binding("util");
          } catch (e2) {
          }
        }();
        var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer, nodeIsDate = nodeUtil && nodeUtil.isDate, nodeIsMap = nodeUtil && nodeUtil.isMap, nodeIsRegExp = nodeUtil && nodeUtil.isRegExp, nodeIsSet = nodeUtil && nodeUtil.isSet, nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;
        function apply3(func, thisArg, args) {
          switch (args.length) {
            case 0:
              return func.call(thisArg);
            case 1:
              return func.call(thisArg, args[0]);
            case 2:
              return func.call(thisArg, args[0], args[1]);
            case 3:
              return func.call(thisArg, args[0], args[1], args[2]);
          }
          return func.apply(thisArg, args);
        }
        function arrayAggregator(array, setter, iteratee, accumulator) {
          var index2 = -1, length = array == null ? 0 : array.length;
          while (++index2 < length) {
            var value = array[index2];
            setter(accumulator, value, iteratee(value), array);
          }
          return accumulator;
        }
        function arrayEach(array, iteratee) {
          var index2 = -1, length = array == null ? 0 : array.length;
          while (++index2 < length) {
            if (iteratee(array[index2], index2, array) === false) {
              break;
            }
          }
          return array;
        }
        function arrayEachRight(array, iteratee) {
          var length = array == null ? 0 : array.length;
          while (length--) {
            if (iteratee(array[length], length, array) === false) {
              break;
            }
          }
          return array;
        }
        function arrayEvery(array, predicate) {
          var index2 = -1, length = array == null ? 0 : array.length;
          while (++index2 < length) {
            if (!predicate(array[index2], index2, array)) {
              return false;
            }
          }
          return true;
        }
        function arrayFilter(array, predicate) {
          var index2 = -1, length = array == null ? 0 : array.length, resIndex = 0, result = [];
          while (++index2 < length) {
            var value = array[index2];
            if (predicate(value, index2, array)) {
              result[resIndex++] = value;
            }
          }
          return result;
        }
        function arrayIncludes(array, value) {
          var length = array == null ? 0 : array.length;
          return !!length && baseIndexOf(array, value, 0) > -1;
        }
        function arrayIncludesWith(array, value, comparator) {
          var index2 = -1, length = array == null ? 0 : array.length;
          while (++index2 < length) {
            if (comparator(value, array[index2])) {
              return true;
            }
          }
          return false;
        }
        function arrayMap(array, iteratee) {
          var index2 = -1, length = array == null ? 0 : array.length, result = Array(length);
          while (++index2 < length) {
            result[index2] = iteratee(array[index2], index2, array);
          }
          return result;
        }
        function arrayPush(array, values2) {
          var index2 = -1, length = values2.length, offset4 = array.length;
          while (++index2 < length) {
            array[offset4 + index2] = values2[index2];
          }
          return array;
        }
        function arrayReduce(array, iteratee, accumulator, initAccum) {
          var index2 = -1, length = array == null ? 0 : array.length;
          if (initAccum && length) {
            accumulator = array[++index2];
          }
          while (++index2 < length) {
            accumulator = iteratee(accumulator, array[index2], index2, array);
          }
          return accumulator;
        }
        function arrayReduceRight(array, iteratee, accumulator, initAccum) {
          var length = array == null ? 0 : array.length;
          if (initAccum && length) {
            accumulator = array[--length];
          }
          while (length--) {
            accumulator = iteratee(accumulator, array[length], length, array);
          }
          return accumulator;
        }
        function arraySome(array, predicate) {
          var index2 = -1, length = array == null ? 0 : array.length;
          while (++index2 < length) {
            if (predicate(array[index2], index2, array)) {
              return true;
            }
          }
          return false;
        }
        var asciiSize = baseProperty("length");
        function asciiToArray(string) {
          return string.split("");
        }
        function asciiWords(string) {
          return string.match(reAsciiWord) || [];
        }
        function baseFindKey(collection, predicate, eachFunc) {
          var result;
          eachFunc(collection, function(value, key, collection2) {
            if (predicate(value, key, collection2)) {
              result = key;
              return false;
            }
          });
          return result;
        }
        function baseFindIndex(array, predicate, fromIndex, fromRight) {
          var length = array.length, index2 = fromIndex + (fromRight ? 1 : -1);
          while (fromRight ? index2-- : ++index2 < length) {
            if (predicate(array[index2], index2, array)) {
              return index2;
            }
          }
          return -1;
        }
        function baseIndexOf(array, value, fromIndex) {
          return value === value ? strictIndexOf(array, value, fromIndex) : baseFindIndex(array, baseIsNaN, fromIndex);
        }
        function baseIndexOfWith(array, value, fromIndex, comparator) {
          var index2 = fromIndex - 1, length = array.length;
          while (++index2 < length) {
            if (comparator(array[index2], value)) {
              return index2;
            }
          }
          return -1;
        }
        function baseIsNaN(value) {
          return value !== value;
        }
        function baseMean(array, iteratee) {
          var length = array == null ? 0 : array.length;
          return length ? baseSum(array, iteratee) / length : NAN;
        }
        function baseProperty(key) {
          return function(object) {
            return object == null ? undefined2 : object[key];
          };
        }
        function basePropertyOf(object) {
          return function(key) {
            return object == null ? undefined2 : object[key];
          };
        }
        function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {
          eachFunc(collection, function(value, index2, collection2) {
            accumulator = initAccum ? (initAccum = false, value) : iteratee(accumulator, value, index2, collection2);
          });
          return accumulator;
        }
        function baseSortBy(array, comparer) {
          var length = array.length;
          array.sort(comparer);
          while (length--) {
            array[length] = array[length].value;
          }
          return array;
        }
        function baseSum(array, iteratee) {
          var result, index2 = -1, length = array.length;
          while (++index2 < length) {
            var current = iteratee(array[index2]);
            if (current !== undefined2) {
              result = result === undefined2 ? current : result + current;
            }
          }
          return result;
        }
        function baseTimes(n3, iteratee) {
          var index2 = -1, result = Array(n3);
          while (++index2 < n3) {
            result[index2] = iteratee(index2);
          }
          return result;
        }
        function baseToPairs(object, props) {
          return arrayMap(props, function(key) {
            return [key, object[key]];
          });
        }
        function baseTrim(string) {
          return string ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, "") : string;
        }
        function baseUnary(func) {
          return function(value) {
            return func(value);
          };
        }
        function baseValues(object, props) {
          return arrayMap(props, function(key) {
            return object[key];
          });
        }
        function cacheHas(cache, key) {
          return cache.has(key);
        }
        function charsStartIndex(strSymbols, chrSymbols) {
          var index2 = -1, length = strSymbols.length;
          while (++index2 < length && baseIndexOf(chrSymbols, strSymbols[index2], 0) > -1) {
          }
          return index2;
        }
        function charsEndIndex(strSymbols, chrSymbols) {
          var index2 = strSymbols.length;
          while (index2-- && baseIndexOf(chrSymbols, strSymbols[index2], 0) > -1) {
          }
          return index2;
        }
        function countHolders(array, placeholder2) {
          var length = array.length, result = 0;
          while (length--) {
            if (array[length] === placeholder2) {
              ++result;
            }
          }
          return result;
        }
        var deburrLetter = basePropertyOf(deburredLetters);
        var escapeHtmlChar = basePropertyOf(htmlEscapes);
        function escapeStringChar(chr) {
          return "\\" + stringEscapes[chr];
        }
        function getValue2(object, key) {
          return object == null ? undefined2 : object[key];
        }
        function hasUnicode(string) {
          return reHasUnicode.test(string);
        }
        function hasUnicodeWord(string) {
          return reHasUnicodeWord.test(string);
        }
        function iteratorToArray(iterator) {
          var data, result = [];
          while (!(data = iterator.next()).done) {
            result.push(data.value);
          }
          return result;
        }
        function mapToArray(map) {
          var index2 = -1, result = Array(map.size);
          map.forEach(function(value, key) {
            result[++index2] = [key, value];
          });
          return result;
        }
        function overArg(func, transform) {
          return function(arg) {
            return func(transform(arg));
          };
        }
        function replaceHolders(array, placeholder2) {
          var index2 = -1, length = array.length, resIndex = 0, result = [];
          while (++index2 < length) {
            var value = array[index2];
            if (value === placeholder2 || value === PLACEHOLDER) {
              array[index2] = PLACEHOLDER;
              result[resIndex++] = index2;
            }
          }
          return result;
        }
        function setToArray(set) {
          var index2 = -1, result = Array(set.size);
          set.forEach(function(value) {
            result[++index2] = value;
          });
          return result;
        }
        function setToPairs(set) {
          var index2 = -1, result = Array(set.size);
          set.forEach(function(value) {
            result[++index2] = [value, value];
          });
          return result;
        }
        function strictIndexOf(array, value, fromIndex) {
          var index2 = fromIndex - 1, length = array.length;
          while (++index2 < length) {
            if (array[index2] === value) {
              return index2;
            }
          }
          return -1;
        }
        function strictLastIndexOf(array, value, fromIndex) {
          var index2 = fromIndex + 1;
          while (index2--) {
            if (array[index2] === value) {
              return index2;
            }
          }
          return index2;
        }
        function stringSize(string) {
          return hasUnicode(string) ? unicodeSize(string) : asciiSize(string);
        }
        function stringToArray(string) {
          return hasUnicode(string) ? unicodeToArray(string) : asciiToArray(string);
        }
        function trimmedEndIndex(string) {
          var index2 = string.length;
          while (index2-- && reWhitespace.test(string.charAt(index2))) {
          }
          return index2;
        }
        var unescapeHtmlChar = basePropertyOf(htmlUnescapes);
        function unicodeSize(string) {
          var result = reUnicode.lastIndex = 0;
          while (reUnicode.test(string)) {
            ++result;
          }
          return result;
        }
        function unicodeToArray(string) {
          return string.match(reUnicode) || [];
        }
        function unicodeWords(string) {
          return string.match(reUnicodeWord) || [];
        }
        var runInContext = function runInContext2(context) {
          context = context == null ? root : _2.defaults(root.Object(), context, _2.pick(root, contextProps));
          var Array2 = context.Array, Date2 = context.Date, Error2 = context.Error, Function2 = context.Function, Math2 = context.Math, Object2 = context.Object, RegExp2 = context.RegExp, String2 = context.String, TypeError2 = context.TypeError;
          var arrayProto = Array2.prototype, funcProto = Function2.prototype, objectProto = Object2.prototype;
          var coreJsData = context["__core-js_shared__"];
          var funcToString = funcProto.toString;
          var hasOwnProperty2 = objectProto.hasOwnProperty;
          var idCounter2 = 0;
          var maskSrcKey = function() {
            var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || "");
            return uid ? "Symbol(src)_1." + uid : "";
          }();
          var nativeObjectToString = objectProto.toString;
          var objectCtorString = funcToString.call(Object2);
          var oldDash = root._;
          var reIsNative = RegExp2("^" + funcToString.call(hasOwnProperty2).replace(reRegExpChar, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
          var Buffer2 = moduleExports ? context.Buffer : undefined2, Symbol2 = context.Symbol, Uint8Array2 = context.Uint8Array, allocUnsafe = Buffer2 ? Buffer2.allocUnsafe : undefined2, getPrototype = overArg(Object2.getPrototypeOf, Object2), objectCreate = Object2.create, propertyIsEnumerable = objectProto.propertyIsEnumerable, splice = arrayProto.splice, spreadableSymbol = Symbol2 ? Symbol2.isConcatSpreadable : undefined2, symIterator = Symbol2 ? Symbol2.iterator : undefined2, symToStringTag = Symbol2 ? Symbol2.toStringTag : undefined2;
          var defineProperty = function() {
            try {
              var func = getNative(Object2, "defineProperty");
              func({}, "", {});
              return func;
            } catch (e2) {
            }
          }();
          var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout, ctxNow = Date2 && Date2.now !== root.Date.now && Date2.now, ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;
          var nativeCeil = Math2.ceil, nativeFloor = Math2.floor, nativeGetSymbols = Object2.getOwnPropertySymbols, nativeIsBuffer = Buffer2 ? Buffer2.isBuffer : undefined2, nativeIsFinite = context.isFinite, nativeJoin = arrayProto.join, nativeKeys = overArg(Object2.keys, Object2), nativeMax = Math2.max, nativeMin = Math2.min, nativeNow = Date2.now, nativeParseInt = context.parseInt, nativeRandom = Math2.random, nativeReverse = arrayProto.reverse;
          var DataView = getNative(context, "DataView"), Map2 = getNative(context, "Map"), Promise2 = getNative(context, "Promise"), Set2 = getNative(context, "Set"), WeakMap2 = getNative(context, "WeakMap"), nativeCreate = getNative(Object2, "create");
          var metaMap = WeakMap2 && new WeakMap2();
          var realNames = {};
          var dataViewCtorString = toSource(DataView), mapCtorString = toSource(Map2), promiseCtorString = toSource(Promise2), setCtorString = toSource(Set2), weakMapCtorString = toSource(WeakMap2);
          var symbolProto = Symbol2 ? Symbol2.prototype : undefined2, symbolValueOf = symbolProto ? symbolProto.valueOf : undefined2, symbolToString = symbolProto ? symbolProto.toString : undefined2;
          function lodash(value) {
            if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {
              if (value instanceof LodashWrapper) {
                return value;
              }
              if (hasOwnProperty2.call(value, "__wrapped__")) {
                return wrapperClone(value);
              }
            }
            return new LodashWrapper(value);
          }
          var baseCreate = function() {
            function object() {
            }
            return function(proto) {
              if (!isObject(proto)) {
                return {};
              }
              if (objectCreate) {
                return objectCreate(proto);
              }
              object.prototype = proto;
              var result2 = new object();
              object.prototype = undefined2;
              return result2;
            };
          }();
          function baseLodash() {
          }
          function LodashWrapper(value, chainAll) {
            this.__wrapped__ = value;
            this.__actions__ = [];
            this.__chain__ = !!chainAll;
            this.__index__ = 0;
            this.__values__ = undefined2;
          }
          lodash.templateSettings = {
            "escape": reEscape,
            "evaluate": reEvaluate,
            "interpolate": reInterpolate,
            "variable": "",
            "imports": {
              "_": lodash
            }
          };
          lodash.prototype = baseLodash.prototype;
          lodash.prototype.constructor = lodash;
          LodashWrapper.prototype = baseCreate(baseLodash.prototype);
          LodashWrapper.prototype.constructor = LodashWrapper;
          function LazyWrapper(value) {
            this.__wrapped__ = value;
            this.__actions__ = [];
            this.__dir__ = 1;
            this.__filtered__ = false;
            this.__iteratees__ = [];
            this.__takeCount__ = MAX_ARRAY_LENGTH;
            this.__views__ = [];
          }
          function lazyClone() {
            var result2 = new LazyWrapper(this.__wrapped__);
            result2.__actions__ = copyArray(this.__actions__);
            result2.__dir__ = this.__dir__;
            result2.__filtered__ = this.__filtered__;
            result2.__iteratees__ = copyArray(this.__iteratees__);
            result2.__takeCount__ = this.__takeCount__;
            result2.__views__ = copyArray(this.__views__);
            return result2;
          }
          function lazyReverse() {
            if (this.__filtered__) {
              var result2 = new LazyWrapper(this);
              result2.__dir__ = -1;
              result2.__filtered__ = true;
            } else {
              result2 = this.clone();
              result2.__dir__ *= -1;
            }
            return result2;
          }
          function lazyValue() {
            var array = this.__wrapped__.value(), dir = this.__dir__, isArr = isArray(array), isRight = dir < 0, arrLength = isArr ? array.length : 0, view = getView(0, arrLength, this.__views__), start4 = view.start, end3 = view.end, length = end3 - start4, index2 = isRight ? end3 : start4 - 1, iteratees = this.__iteratees__, iterLength = iteratees.length, resIndex = 0, takeCount = nativeMin(length, this.__takeCount__);
            if (!isArr || !isRight && arrLength == length && takeCount == length) {
              return baseWrapperValue(array, this.__actions__);
            }
            var result2 = [];
            outer:
              while (length-- && resIndex < takeCount) {
                index2 += dir;
                var iterIndex = -1, value = array[index2];
                while (++iterIndex < iterLength) {
                  var data = iteratees[iterIndex], iteratee2 = data.iteratee, type = data.type, computed = iteratee2(value);
                  if (type == LAZY_MAP_FLAG) {
                    value = computed;
                  } else if (!computed) {
                    if (type == LAZY_FILTER_FLAG) {
                      continue outer;
                    } else {
                      break outer;
                    }
                  }
                }
                result2[resIndex++] = value;
              }
            return result2;
          }
          LazyWrapper.prototype = baseCreate(baseLodash.prototype);
          LazyWrapper.prototype.constructor = LazyWrapper;
          function Hash(entries) {
            var index2 = -1, length = entries == null ? 0 : entries.length;
            this.clear();
            while (++index2 < length) {
              var entry = entries[index2];
              this.set(entry[0], entry[1]);
            }
          }
          function hashClear() {
            this.__data__ = nativeCreate ? nativeCreate(null) : {};
            this.size = 0;
          }
          function hashDelete(key) {
            var result2 = this.has(key) && delete this.__data__[key];
            this.size -= result2 ? 1 : 0;
            return result2;
          }
          function hashGet(key) {
            var data = this.__data__;
            if (nativeCreate) {
              var result2 = data[key];
              return result2 === HASH_UNDEFINED ? undefined2 : result2;
            }
            return hasOwnProperty2.call(data, key) ? data[key] : undefined2;
          }
          function hashHas(key) {
            var data = this.__data__;
            return nativeCreate ? data[key] !== undefined2 : hasOwnProperty2.call(data, key);
          }
          function hashSet(key, value) {
            var data = this.__data__;
            this.size += this.has(key) ? 0 : 1;
            data[key] = nativeCreate && value === undefined2 ? HASH_UNDEFINED : value;
            return this;
          }
          Hash.prototype.clear = hashClear;
          Hash.prototype["delete"] = hashDelete;
          Hash.prototype.get = hashGet;
          Hash.prototype.has = hashHas;
          Hash.prototype.set = hashSet;
          function ListCache(entries) {
            var index2 = -1, length = entries == null ? 0 : entries.length;
            this.clear();
            while (++index2 < length) {
              var entry = entries[index2];
              this.set(entry[0], entry[1]);
            }
          }
          function listCacheClear() {
            this.__data__ = [];
            this.size = 0;
          }
          function listCacheDelete(key) {
            var data = this.__data__, index2 = assocIndexOf(data, key);
            if (index2 < 0) {
              return false;
            }
            var lastIndex = data.length - 1;
            if (index2 == lastIndex) {
              data.pop();
            } else {
              splice.call(data, index2, 1);
            }
            --this.size;
            return true;
          }
          function listCacheGet(key) {
            var data = this.__data__, index2 = assocIndexOf(data, key);
            return index2 < 0 ? undefined2 : data[index2][1];
          }
          function listCacheHas(key) {
            return assocIndexOf(this.__data__, key) > -1;
          }
          function listCacheSet(key, value) {
            var data = this.__data__, index2 = assocIndexOf(data, key);
            if (index2 < 0) {
              ++this.size;
              data.push([key, value]);
            } else {
              data[index2][1] = value;
            }
            return this;
          }
          ListCache.prototype.clear = listCacheClear;
          ListCache.prototype["delete"] = listCacheDelete;
          ListCache.prototype.get = listCacheGet;
          ListCache.prototype.has = listCacheHas;
          ListCache.prototype.set = listCacheSet;
          function MapCache(entries) {
            var index2 = -1, length = entries == null ? 0 : entries.length;
            this.clear();
            while (++index2 < length) {
              var entry = entries[index2];
              this.set(entry[0], entry[1]);
            }
          }
          function mapCacheClear() {
            this.size = 0;
            this.__data__ = {
              "hash": new Hash(),
              "map": new (Map2 || ListCache)(),
              "string": new Hash()
            };
          }
          function mapCacheDelete(key) {
            var result2 = getMapData(this, key)["delete"](key);
            this.size -= result2 ? 1 : 0;
            return result2;
          }
          function mapCacheGet(key) {
            return getMapData(this, key).get(key);
          }
          function mapCacheHas(key) {
            return getMapData(this, key).has(key);
          }
          function mapCacheSet(key, value) {
            var data = getMapData(this, key), size2 = data.size;
            data.set(key, value);
            this.size += data.size == size2 ? 0 : 1;
            return this;
          }
          MapCache.prototype.clear = mapCacheClear;
          MapCache.prototype["delete"] = mapCacheDelete;
          MapCache.prototype.get = mapCacheGet;
          MapCache.prototype.has = mapCacheHas;
          MapCache.prototype.set = mapCacheSet;
          function SetCache(values3) {
            var index2 = -1, length = values3 == null ? 0 : values3.length;
            this.__data__ = new MapCache();
            while (++index2 < length) {
              this.add(values3[index2]);
            }
          }
          function setCacheAdd(value) {
            this.__data__.set(value, HASH_UNDEFINED);
            return this;
          }
          function setCacheHas(value) {
            return this.__data__.has(value);
          }
          SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;
          SetCache.prototype.has = setCacheHas;
          function Stack(entries) {
            var data = this.__data__ = new ListCache(entries);
            this.size = data.size;
          }
          function stackClear() {
            this.__data__ = new ListCache();
            this.size = 0;
          }
          function stackDelete(key) {
            var data = this.__data__, result2 = data["delete"](key);
            this.size = data.size;
            return result2;
          }
          function stackGet(key) {
            return this.__data__.get(key);
          }
          function stackHas(key) {
            return this.__data__.has(key);
          }
          function stackSet(key, value) {
            var data = this.__data__;
            if (data instanceof ListCache) {
              var pairs = data.__data__;
              if (!Map2 || pairs.length < LARGE_ARRAY_SIZE - 1) {
                pairs.push([key, value]);
                this.size = ++data.size;
                return this;
              }
              data = this.__data__ = new MapCache(pairs);
            }
            data.set(key, value);
            this.size = data.size;
            return this;
          }
          Stack.prototype.clear = stackClear;
          Stack.prototype["delete"] = stackDelete;
          Stack.prototype.get = stackGet;
          Stack.prototype.has = stackHas;
          Stack.prototype.set = stackSet;
          function arrayLikeKeys(value, inherited) {
            var isArr = isArray(value), isArg = !isArr && isArguments(value), isBuff = !isArr && !isArg && isBuffer(value), isType2 = !isArr && !isArg && !isBuff && isTypedArray(value), skipIndexes = isArr || isArg || isBuff || isType2, result2 = skipIndexes ? baseTimes(value.length, String2) : [], length = result2.length;
            for (var key in value) {
              if ((inherited || hasOwnProperty2.call(value, key)) && !(skipIndexes && (key == "length" || isBuff && (key == "offset" || key == "parent") || isType2 && (key == "buffer" || key == "byteLength" || key == "byteOffset") || isIndex(key, length)))) {
                result2.push(key);
              }
            }
            return result2;
          }
          function arraySample(array) {
            var length = array.length;
            return length ? array[baseRandom(0, length - 1)] : undefined2;
          }
          function arraySampleSize(array, n3) {
            return shuffleSelf(copyArray(array), baseClamp(n3, 0, array.length));
          }
          function arrayShuffle(array) {
            return shuffleSelf(copyArray(array));
          }
          function assignMergeValue(object, key, value) {
            if (value !== undefined2 && !eq(object[key], value) || value === undefined2 && !(key in object)) {
              baseAssignValue(object, key, value);
            }
          }
          function assignValue(object, key, value) {
            var objValue = object[key];
            if (!(hasOwnProperty2.call(object, key) && eq(objValue, value)) || value === undefined2 && !(key in object)) {
              baseAssignValue(object, key, value);
            }
          }
          function assocIndexOf(array, key) {
            var length = array.length;
            while (length--) {
              if (eq(array[length][0], key)) {
                return length;
              }
            }
            return -1;
          }
          function baseAggregator(collection, setter, iteratee2, accumulator) {
            baseEach(collection, function(value, key, collection2) {
              setter(accumulator, value, iteratee2(value), collection2);
            });
            return accumulator;
          }
          function baseAssign(object, source) {
            return object && copyObject(source, keys(source), object);
          }
          function baseAssignIn(object, source) {
            return object && copyObject(source, keysIn(source), object);
          }
          function baseAssignValue(object, key, value) {
            if (key == "__proto__" && defineProperty) {
              defineProperty(object, key, {
                "configurable": true,
                "enumerable": true,
                "value": value,
                "writable": true
              });
            } else {
              object[key] = value;
            }
          }
          function baseAt(object, paths) {
            var index2 = -1, length = paths.length, result2 = Array2(length), skip = object == null;
            while (++index2 < length) {
              result2[index2] = skip ? undefined2 : get2(object, paths[index2]);
            }
            return result2;
          }
          function baseClamp(number, lower, upper) {
            if (number === number) {
              if (upper !== undefined2) {
                number = number <= upper ? number : upper;
              }
              if (lower !== undefined2) {
                number = number >= lower ? number : lower;
              }
            }
            return number;
          }
          function baseClone(value, bitmask, customizer, key, object, stack) {
            var result2, isDeep = bitmask & CLONE_DEEP_FLAG, isFlat = bitmask & CLONE_FLAT_FLAG, isFull = bitmask & CLONE_SYMBOLS_FLAG;
            if (customizer) {
              result2 = object ? customizer(value, key, object, stack) : customizer(value);
            }
            if (result2 !== undefined2) {
              return result2;
            }
            if (!isObject(value)) {
              return value;
            }
            var isArr = isArray(value);
            if (isArr) {
              result2 = initCloneArray(value);
              if (!isDeep) {
                return copyArray(value, result2);
              }
            } else {
              var tag = getTag(value), isFunc = tag == funcTag || tag == genTag;
              if (isBuffer(value)) {
                return cloneBuffer(value, isDeep);
              }
              if (tag == objectTag || tag == argsTag || isFunc && !object) {
                result2 = isFlat || isFunc ? {} : initCloneObject(value);
                if (!isDeep) {
                  return isFlat ? copySymbolsIn(value, baseAssignIn(result2, value)) : copySymbols(value, baseAssign(result2, value));
                }
              } else {
                if (!cloneableTags[tag]) {
                  return object ? value : {};
                }
                result2 = initCloneByTag(value, tag, isDeep);
              }
            }
            stack || (stack = new Stack());
            var stacked = stack.get(value);
            if (stacked) {
              return stacked;
            }
            stack.set(value, result2);
            if (isSet(value)) {
              value.forEach(function(subValue) {
                result2.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));
              });
            } else if (isMap(value)) {
              value.forEach(function(subValue, key2) {
                result2.set(key2, baseClone(subValue, bitmask, customizer, key2, value, stack));
              });
            }
            var keysFunc = isFull ? isFlat ? getAllKeysIn : getAllKeys : isFlat ? keysIn : keys;
            var props = isArr ? undefined2 : keysFunc(value);
            arrayEach(props || value, function(subValue, key2) {
              if (props) {
                key2 = subValue;
                subValue = value[key2];
              }
              assignValue(result2, key2, baseClone(subValue, bitmask, customizer, key2, value, stack));
            });
            return result2;
          }
          function baseConforms(source) {
            var props = keys(source);
            return function(object) {
              return baseConformsTo(object, source, props);
            };
          }
          function baseConformsTo(object, source, props) {
            var length = props.length;
            if (object == null) {
              return !length;
            }
            object = Object2(object);
            while (length--) {
              var key = props[length], predicate = source[key], value = object[key];
              if (value === undefined2 && !(key in object) || !predicate(value)) {
                return false;
              }
            }
            return true;
          }
          function baseDelay(func, wait, args) {
            if (typeof func != "function") {
              throw new TypeError2(FUNC_ERROR_TEXT);
            }
            return setTimeout2(function() {
              func.apply(undefined2, args);
            }, wait);
          }
          function baseDifference(array, values3, iteratee2, comparator) {
            var index2 = -1, includes2 = arrayIncludes, isCommon = true, length = array.length, result2 = [], valuesLength = values3.length;
            if (!length) {
              return result2;
            }
            if (iteratee2) {
              values3 = arrayMap(values3, baseUnary(iteratee2));
            }
            if (comparator) {
              includes2 = arrayIncludesWith;
              isCommon = false;
            } else if (values3.length >= LARGE_ARRAY_SIZE) {
              includes2 = cacheHas;
              isCommon = false;
              values3 = new SetCache(values3);
            }
            outer:
              while (++index2 < length) {
                var value = array[index2], computed = iteratee2 == null ? value : iteratee2(value);
                value = comparator || value !== 0 ? value : 0;
                if (isCommon && computed === computed) {
                  var valuesIndex = valuesLength;
                  while (valuesIndex--) {
                    if (values3[valuesIndex] === computed) {
                      continue outer;
                    }
                  }
                  result2.push(value);
                } else if (!includes2(values3, computed, comparator)) {
                  result2.push(value);
                }
              }
            return result2;
          }
          var baseEach = createBaseEach(baseForOwn);
          var baseEachRight = createBaseEach(baseForOwnRight, true);
          function baseEvery(collection, predicate) {
            var result2 = true;
            baseEach(collection, function(value, index2, collection2) {
              result2 = !!predicate(value, index2, collection2);
              return result2;
            });
            return result2;
          }
          function baseExtremum(array, iteratee2, comparator) {
            var index2 = -1, length = array.length;
            while (++index2 < length) {
              var value = array[index2], current = iteratee2(value);
              if (current != null && (computed === undefined2 ? current === current && !isSymbol(current) : comparator(current, computed))) {
                var computed = current, result2 = value;
              }
            }
            return result2;
          }
          function baseFill(array, value, start4, end3) {
            var length = array.length;
            start4 = toInteger(start4);
            if (start4 < 0) {
              start4 = -start4 > length ? 0 : length + start4;
            }
            end3 = end3 === undefined2 || end3 > length ? length : toInteger(end3);
            if (end3 < 0) {
              end3 += length;
            }
            end3 = start4 > end3 ? 0 : toLength(end3);
            while (start4 < end3) {
              array[start4++] = value;
            }
            return array;
          }
          function baseFilter(collection, predicate) {
            var result2 = [];
            baseEach(collection, function(value, index2, collection2) {
              if (predicate(value, index2, collection2)) {
                result2.push(value);
              }
            });
            return result2;
          }
          function baseFlatten(array, depth, predicate, isStrict, result2) {
            var index2 = -1, length = array.length;
            predicate || (predicate = isFlattenable);
            result2 || (result2 = []);
            while (++index2 < length) {
              var value = array[index2];
              if (depth > 0 && predicate(value)) {
                if (depth > 1) {
                  baseFlatten(value, depth - 1, predicate, isStrict, result2);
                } else {
                  arrayPush(result2, value);
                }
              } else if (!isStrict) {
                result2[result2.length] = value;
              }
            }
            return result2;
          }
          var baseFor = createBaseFor();
          var baseForRight = createBaseFor(true);
          function baseForOwn(object, iteratee2) {
            return object && baseFor(object, iteratee2, keys);
          }
          function baseForOwnRight(object, iteratee2) {
            return object && baseForRight(object, iteratee2, keys);
          }
          function baseFunctions(object, props) {
            return arrayFilter(props, function(key) {
              return isFunction3(object[key]);
            });
          }
          function baseGet(object, path) {
            path = castPath(path, object);
            var index2 = 0, length = path.length;
            while (object != null && index2 < length) {
              object = object[toKey(path[index2++])];
            }
            return index2 && index2 == length ? object : undefined2;
          }
          function baseGetAllKeys(object, keysFunc, symbolsFunc) {
            var result2 = keysFunc(object);
            return isArray(object) ? result2 : arrayPush(result2, symbolsFunc(object));
          }
          function baseGetTag(value) {
            if (value == null) {
              return value === undefined2 ? undefinedTag : nullTag;
            }
            return symToStringTag && symToStringTag in Object2(value) ? getRawTag(value) : objectToString(value);
          }
          function baseGt(value, other) {
            return value > other;
          }
          function baseHas(object, key) {
            return object != null && hasOwnProperty2.call(object, key);
          }
          function baseHasIn(object, key) {
            return object != null && key in Object2(object);
          }
          function baseInRange(number, start4, end3) {
            return number >= nativeMin(start4, end3) && number < nativeMax(start4, end3);
          }
          function baseIntersection(arrays, iteratee2, comparator) {
            var includes2 = comparator ? arrayIncludesWith : arrayIncludes, length = arrays[0].length, othLength = arrays.length, othIndex = othLength, caches = Array2(othLength), maxLength = Infinity, result2 = [];
            while (othIndex--) {
              var array = arrays[othIndex];
              if (othIndex && iteratee2) {
                array = arrayMap(array, baseUnary(iteratee2));
              }
              maxLength = nativeMin(array.length, maxLength);
              caches[othIndex] = !comparator && (iteratee2 || length >= 120 && array.length >= 120) ? new SetCache(othIndex && array) : undefined2;
            }
            array = arrays[0];
            var index2 = -1, seen = caches[0];
            outer:
              while (++index2 < length && result2.length < maxLength) {
                var value = array[index2], computed = iteratee2 ? iteratee2(value) : value;
                value = comparator || value !== 0 ? value : 0;
                if (!(seen ? cacheHas(seen, computed) : includes2(result2, computed, comparator))) {
                  othIndex = othLength;
                  while (--othIndex) {
                    var cache = caches[othIndex];
                    if (!(cache ? cacheHas(cache, computed) : includes2(arrays[othIndex], computed, comparator))) {
                      continue outer;
                    }
                  }
                  if (seen) {
                    seen.push(computed);
                  }
                  result2.push(value);
                }
              }
            return result2;
          }
          function baseInverter(object, setter, iteratee2, accumulator) {
            baseForOwn(object, function(value, key, object2) {
              setter(accumulator, iteratee2(value), key, object2);
            });
            return accumulator;
          }
          function baseInvoke(object, path, args) {
            path = castPath(path, object);
            object = parent(object, path);
            var func = object == null ? object : object[toKey(last(path))];
            return func == null ? undefined2 : apply3(func, object, args);
          }
          function baseIsArguments(value) {
            return isObjectLike(value) && baseGetTag(value) == argsTag;
          }
          function baseIsArrayBuffer(value) {
            return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;
          }
          function baseIsDate(value) {
            return isObjectLike(value) && baseGetTag(value) == dateTag;
          }
          function baseIsEqual(value, other, bitmask, customizer, stack) {
            if (value === other) {
              return true;
            }
            if (value == null || other == null || !isObjectLike(value) && !isObjectLike(other)) {
              return value !== value && other !== other;
            }
            return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);
          }
          function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {
            var objIsArr = isArray(object), othIsArr = isArray(other), objTag = objIsArr ? arrayTag : getTag(object), othTag = othIsArr ? arrayTag : getTag(other);
            objTag = objTag == argsTag ? objectTag : objTag;
            othTag = othTag == argsTag ? objectTag : othTag;
            var objIsObj = objTag == objectTag, othIsObj = othTag == objectTag, isSameTag = objTag == othTag;
            if (isSameTag && isBuffer(object)) {
              if (!isBuffer(other)) {
                return false;
              }
              objIsArr = true;
              objIsObj = false;
            }
            if (isSameTag && !objIsObj) {
              stack || (stack = new Stack());
              return objIsArr || isTypedArray(object) ? equalArrays(object, other, bitmask, customizer, equalFunc, stack) : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);
            }
            if (!(bitmask & COMPARE_PARTIAL_FLAG)) {
              var objIsWrapped = objIsObj && hasOwnProperty2.call(object, "__wrapped__"), othIsWrapped = othIsObj && hasOwnProperty2.call(other, "__wrapped__");
              if (objIsWrapped || othIsWrapped) {
                var objUnwrapped = objIsWrapped ? object.value() : object, othUnwrapped = othIsWrapped ? other.value() : other;
                stack || (stack = new Stack());
                return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);
              }
            }
            if (!isSameTag) {
              return false;
            }
            stack || (stack = new Stack());
            return equalObjects(object, other, bitmask, customizer, equalFunc, stack);
          }
          function baseIsMap(value) {
            return isObjectLike(value) && getTag(value) == mapTag;
          }
          function baseIsMatch(object, source, matchData, customizer) {
            var index2 = matchData.length, length = index2, noCustomizer = !customizer;
            if (object == null) {
              return !length;
            }
            object = Object2(object);
            while (index2--) {
              var data = matchData[index2];
              if (noCustomizer && data[2] ? data[1] !== object[data[0]] : !(data[0] in object)) {
                return false;
              }
            }
            while (++index2 < length) {
              data = matchData[index2];
              var key = data[0], objValue = object[key], srcValue = data[1];
              if (noCustomizer && data[2]) {
                if (objValue === undefined2 && !(key in object)) {
                  return false;
                }
              } else {
                var stack = new Stack();
                if (customizer) {
                  var result2 = customizer(objValue, srcValue, key, object, source, stack);
                }
                if (!(result2 === undefined2 ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack) : result2)) {
                  return false;
                }
              }
            }
            return true;
          }
          function baseIsNative(value) {
            if (!isObject(value) || isMasked(value)) {
              return false;
            }
            var pattern = isFunction3(value) ? reIsNative : reIsHostCtor;
            return pattern.test(toSource(value));
          }
          function baseIsRegExp(value) {
            return isObjectLike(value) && baseGetTag(value) == regexpTag;
          }
          function baseIsSet(value) {
            return isObjectLike(value) && getTag(value) == setTag;
          }
          function baseIsTypedArray(value) {
            return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];
          }
          function baseIteratee(value) {
            if (typeof value == "function") {
              return value;
            }
            if (value == null) {
              return identity;
            }
            if (typeof value == "object") {
              return isArray(value) ? baseMatchesProperty(value[0], value[1]) : baseMatches(value);
            }
            return property(value);
          }
          function baseKeys(object) {
            if (!isPrototype(object)) {
              return nativeKeys(object);
            }
            var result2 = [];
            for (var key in Object2(object)) {
              if (hasOwnProperty2.call(object, key) && key != "constructor") {
                result2.push(key);
              }
            }
            return result2;
          }
          function baseKeysIn(object) {
            if (!isObject(object)) {
              return nativeKeysIn(object);
            }
            var isProto = isPrototype(object), result2 = [];
            for (var key in object) {
              if (!(key == "constructor" && (isProto || !hasOwnProperty2.call(object, key)))) {
                result2.push(key);
              }
            }
            return result2;
          }
          function baseLt(value, other) {
            return value < other;
          }
          function baseMap(collection, iteratee2) {
            var index2 = -1, result2 = isArrayLike(collection) ? Array2(collection.length) : [];
            baseEach(collection, function(value, key, collection2) {
              result2[++index2] = iteratee2(value, key, collection2);
            });
            return result2;
          }
          function baseMatches(source) {
            var matchData = getMatchData(source);
            if (matchData.length == 1 && matchData[0][2]) {
              return matchesStrictComparable(matchData[0][0], matchData[0][1]);
            }
            return function(object) {
              return object === source || baseIsMatch(object, source, matchData);
            };
          }
          function baseMatchesProperty(path, srcValue) {
            if (isKey(path) && isStrictComparable(srcValue)) {
              return matchesStrictComparable(toKey(path), srcValue);
            }
            return function(object) {
              var objValue = get2(object, path);
              return objValue === undefined2 && objValue === srcValue ? hasIn(object, path) : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);
            };
          }
          function baseMerge(object, source, srcIndex, customizer, stack) {
            if (object === source) {
              return;
            }
            baseFor(source, function(srcValue, key) {
              stack || (stack = new Stack());
              if (isObject(srcValue)) {
                baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);
              } else {
                var newValue = customizer ? customizer(safeGet(object, key), srcValue, key + "", object, source, stack) : undefined2;
                if (newValue === undefined2) {
                  newValue = srcValue;
                }
                assignMergeValue(object, key, newValue);
              }
            }, keysIn);
          }
          function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {
            var objValue = safeGet(object, key), srcValue = safeGet(source, key), stacked = stack.get(srcValue);
            if (stacked) {
              assignMergeValue(object, key, stacked);
              return;
            }
            var newValue = customizer ? customizer(objValue, srcValue, key + "", object, source, stack) : undefined2;
            var isCommon = newValue === undefined2;
            if (isCommon) {
              var isArr = isArray(srcValue), isBuff = !isArr && isBuffer(srcValue), isTyped = !isArr && !isBuff && isTypedArray(srcValue);
              newValue = srcValue;
              if (isArr || isBuff || isTyped) {
                if (isArray(objValue)) {
                  newValue = objValue;
                } else if (isArrayLikeObject(objValue)) {
                  newValue = copyArray(objValue);
                } else if (isBuff) {
                  isCommon = false;
                  newValue = cloneBuffer(srcValue, true);
                } else if (isTyped) {
                  isCommon = false;
                  newValue = cloneTypedArray(srcValue, true);
                } else {
                  newValue = [];
                }
              } else if (isPlainObject4(srcValue) || isArguments(srcValue)) {
                newValue = objValue;
                if (isArguments(objValue)) {
                  newValue = toPlainObject(objValue);
                } else if (!isObject(objValue) || isFunction3(objValue)) {
                  newValue = initCloneObject(srcValue);
                }
              } else {
                isCommon = false;
              }
            }
            if (isCommon) {
              stack.set(srcValue, newValue);
              mergeFunc(newValue, srcValue, srcIndex, customizer, stack);
              stack["delete"](srcValue);
            }
            assignMergeValue(object, key, newValue);
          }
          function baseNth(array, n3) {
            var length = array.length;
            if (!length) {
              return;
            }
            n3 += n3 < 0 ? length : 0;
            return isIndex(n3, length) ? array[n3] : undefined2;
          }
          function baseOrderBy(collection, iteratees, orders) {
            if (iteratees.length) {
              iteratees = arrayMap(iteratees, function(iteratee2) {
                if (isArray(iteratee2)) {
                  return function(value) {
                    return baseGet(value, iteratee2.length === 1 ? iteratee2[0] : iteratee2);
                  };
                }
                return iteratee2;
              });
            } else {
              iteratees = [identity];
            }
            var index2 = -1;
            iteratees = arrayMap(iteratees, baseUnary(getIteratee()));
            var result2 = baseMap(collection, function(value, key, collection2) {
              var criteria = arrayMap(iteratees, function(iteratee2) {
                return iteratee2(value);
              });
              return { "criteria": criteria, "index": ++index2, "value": value };
            });
            return baseSortBy(result2, function(object, other) {
              return compareMultiple(object, other, orders);
            });
          }
          function basePick(object, paths) {
            return basePickBy(object, paths, function(value, path) {
              return hasIn(object, path);
            });
          }
          function basePickBy(object, paths, predicate) {
            var index2 = -1, length = paths.length, result2 = {};
            while (++index2 < length) {
              var path = paths[index2], value = baseGet(object, path);
              if (predicate(value, path)) {
                baseSet(result2, castPath(path, object), value);
              }
            }
            return result2;
          }
          function basePropertyDeep(path) {
            return function(object) {
              return baseGet(object, path);
            };
          }
          function basePullAll(array, values3, iteratee2, comparator) {
            var indexOf2 = comparator ? baseIndexOfWith : baseIndexOf, index2 = -1, length = values3.length, seen = array;
            if (array === values3) {
              values3 = copyArray(values3);
            }
            if (iteratee2) {
              seen = arrayMap(array, baseUnary(iteratee2));
            }
            while (++index2 < length) {
              var fromIndex = 0, value = values3[index2], computed = iteratee2 ? iteratee2(value) : value;
              while ((fromIndex = indexOf2(seen, computed, fromIndex, comparator)) > -1) {
                if (seen !== array) {
                  splice.call(seen, fromIndex, 1);
                }
                splice.call(array, fromIndex, 1);
              }
            }
            return array;
          }
          function basePullAt(array, indexes) {
            var length = array ? indexes.length : 0, lastIndex = length - 1;
            while (length--) {
              var index2 = indexes[length];
              if (length == lastIndex || index2 !== previous) {
                var previous = index2;
                if (isIndex(index2)) {
                  splice.call(array, index2, 1);
                } else {
                  baseUnset(array, index2);
                }
              }
            }
            return array;
          }
          function baseRandom(lower, upper) {
            return lower + nativeFloor(nativeRandom() * (upper - lower + 1));
          }
          function baseRange(start4, end3, step, fromRight) {
            var index2 = -1, length = nativeMax(nativeCeil((end3 - start4) / (step || 1)), 0), result2 = Array2(length);
            while (length--) {
              result2[fromRight ? length : ++index2] = start4;
              start4 += step;
            }
            return result2;
          }
          function baseRepeat(string, n3) {
            var result2 = "";
            if (!string || n3 < 1 || n3 > MAX_SAFE_INTEGER) {
              return result2;
            }
            do {
              if (n3 % 2) {
                result2 += string;
              }
              n3 = nativeFloor(n3 / 2);
              if (n3) {
                string += string;
              }
            } while (n3);
            return result2;
          }
          function baseRest(func, start4) {
            return setToString(overRest(func, start4, identity), func + "");
          }
          function baseSample(collection) {
            return arraySample(values2(collection));
          }
          function baseSampleSize(collection, n3) {
            var array = values2(collection);
            return shuffleSelf(array, baseClamp(n3, 0, array.length));
          }
          function baseSet(object, path, value, customizer) {
            if (!isObject(object)) {
              return object;
            }
            path = castPath(path, object);
            var index2 = -1, length = path.length, lastIndex = length - 1, nested = object;
            while (nested != null && ++index2 < length) {
              var key = toKey(path[index2]), newValue = value;
              if (key === "__proto__" || key === "constructor" || key === "prototype") {
                return object;
              }
              if (index2 != lastIndex) {
                var objValue = nested[key];
                newValue = customizer ? customizer(objValue, key, nested) : undefined2;
                if (newValue === undefined2) {
                  newValue = isObject(objValue) ? objValue : isIndex(path[index2 + 1]) ? [] : {};
                }
              }
              assignValue(nested, key, newValue);
              nested = nested[key];
            }
            return object;
          }
          var baseSetData = !metaMap ? identity : function(func, data) {
            metaMap.set(func, data);
            return func;
          };
          var baseSetToString = !defineProperty ? identity : function(func, string) {
            return defineProperty(func, "toString", {
              "configurable": true,
              "enumerable": false,
              "value": constant(string),
              "writable": true
            });
          };
          function baseShuffle(collection) {
            return shuffleSelf(values2(collection));
          }
          function baseSlice(array, start4, end3) {
            var index2 = -1, length = array.length;
            if (start4 < 0) {
              start4 = -start4 > length ? 0 : length + start4;
            }
            end3 = end3 > length ? length : end3;
            if (end3 < 0) {
              end3 += length;
            }
            length = start4 > end3 ? 0 : end3 - start4 >>> 0;
            start4 >>>= 0;
            var result2 = Array2(length);
            while (++index2 < length) {
              result2[index2] = array[index2 + start4];
            }
            return result2;
          }
          function baseSome(collection, predicate) {
            var result2;
            baseEach(collection, function(value, index2, collection2) {
              result2 = predicate(value, index2, collection2);
              return !result2;
            });
            return !!result2;
          }
          function baseSortedIndex(array, value, retHighest) {
            var low = 0, high = array == null ? low : array.length;
            if (typeof value == "number" && value === value && high <= HALF_MAX_ARRAY_LENGTH) {
              while (low < high) {
                var mid = low + high >>> 1, computed = array[mid];
                if (computed !== null && !isSymbol(computed) && (retHighest ? computed <= value : computed < value)) {
                  low = mid + 1;
                } else {
                  high = mid;
                }
              }
              return high;
            }
            return baseSortedIndexBy(array, value, identity, retHighest);
          }
          function baseSortedIndexBy(array, value, iteratee2, retHighest) {
            var low = 0, high = array == null ? 0 : array.length;
            if (high === 0) {
              return 0;
            }
            value = iteratee2(value);
            var valIsNaN = value !== value, valIsNull = value === null, valIsSymbol = isSymbol(value), valIsUndefined = value === undefined2;
            while (low < high) {
              var mid = nativeFloor((low + high) / 2), computed = iteratee2(array[mid]), othIsDefined = computed !== undefined2, othIsNull = computed === null, othIsReflexive = computed === computed, othIsSymbol = isSymbol(computed);
              if (valIsNaN) {
                var setLow = retHighest || othIsReflexive;
              } else if (valIsUndefined) {
                setLow = othIsReflexive && (retHighest || othIsDefined);
              } else if (valIsNull) {
                setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);
              } else if (valIsSymbol) {
                setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);
              } else if (othIsNull || othIsSymbol) {
                setLow = false;
              } else {
                setLow = retHighest ? computed <= value : computed < value;
              }
              if (setLow) {
                low = mid + 1;
              } else {
                high = mid;
              }
            }
            return nativeMin(high, MAX_ARRAY_INDEX);
          }
          function baseSortedUniq(array, iteratee2) {
            var index2 = -1, length = array.length, resIndex = 0, result2 = [];
            while (++index2 < length) {
              var value = array[index2], computed = iteratee2 ? iteratee2(value) : value;
              if (!index2 || !eq(computed, seen)) {
                var seen = computed;
                result2[resIndex++] = value === 0 ? 0 : value;
              }
            }
            return result2;
          }
          function baseToNumber(value) {
            if (typeof value == "number") {
              return value;
            }
            if (isSymbol(value)) {
              return NAN;
            }
            return +value;
          }
          function baseToString(value) {
            if (typeof value == "string") {
              return value;
            }
            if (isArray(value)) {
              return arrayMap(value, baseToString) + "";
            }
            if (isSymbol(value)) {
              return symbolToString ? symbolToString.call(value) : "";
            }
            var result2 = value + "";
            return result2 == "0" && 1 / value == -INFINITY ? "-0" : result2;
          }
          function baseUniq(array, iteratee2, comparator) {
            var index2 = -1, includes2 = arrayIncludes, length = array.length, isCommon = true, result2 = [], seen = result2;
            if (comparator) {
              isCommon = false;
              includes2 = arrayIncludesWith;
            } else if (length >= LARGE_ARRAY_SIZE) {
              var set2 = iteratee2 ? null : createSet(array);
              if (set2) {
                return setToArray(set2);
              }
              isCommon = false;
              includes2 = cacheHas;
              seen = new SetCache();
            } else {
              seen = iteratee2 ? [] : result2;
            }
            outer:
              while (++index2 < length) {
                var value = array[index2], computed = iteratee2 ? iteratee2(value) : value;
                value = comparator || value !== 0 ? value : 0;
                if (isCommon && computed === computed) {
                  var seenIndex = seen.length;
                  while (seenIndex--) {
                    if (seen[seenIndex] === computed) {
                      continue outer;
                    }
                  }
                  if (iteratee2) {
                    seen.push(computed);
                  }
                  result2.push(value);
                } else if (!includes2(seen, computed, comparator)) {
                  if (seen !== result2) {
                    seen.push(computed);
                  }
                  result2.push(value);
                }
              }
            return result2;
          }
          function baseUnset(object, path) {
            path = castPath(path, object);
            object = parent(object, path);
            return object == null || delete object[toKey(last(path))];
          }
          function baseUpdate(object, path, updater, customizer) {
            return baseSet(object, path, updater(baseGet(object, path)), customizer);
          }
          function baseWhile(array, predicate, isDrop, fromRight) {
            var length = array.length, index2 = fromRight ? length : -1;
            while ((fromRight ? index2-- : ++index2 < length) && predicate(array[index2], index2, array)) {
            }
            return isDrop ? baseSlice(array, fromRight ? 0 : index2, fromRight ? index2 + 1 : length) : baseSlice(array, fromRight ? index2 + 1 : 0, fromRight ? length : index2);
          }
          function baseWrapperValue(value, actions) {
            var result2 = value;
            if (result2 instanceof LazyWrapper) {
              result2 = result2.value();
            }
            return arrayReduce(actions, function(result3, action) {
              return action.func.apply(action.thisArg, arrayPush([result3], action.args));
            }, result2);
          }
          function baseXor(arrays, iteratee2, comparator) {
            var length = arrays.length;
            if (length < 2) {
              return length ? baseUniq(arrays[0]) : [];
            }
            var index2 = -1, result2 = Array2(length);
            while (++index2 < length) {
              var array = arrays[index2], othIndex = -1;
              while (++othIndex < length) {
                if (othIndex != index2) {
                  result2[index2] = baseDifference(result2[index2] || array, arrays[othIndex], iteratee2, comparator);
                }
              }
            }
            return baseUniq(baseFlatten(result2, 1), iteratee2, comparator);
          }
          function baseZipObject(props, values3, assignFunc) {
            var index2 = -1, length = props.length, valsLength = values3.length, result2 = {};
            while (++index2 < length) {
              var value = index2 < valsLength ? values3[index2] : undefined2;
              assignFunc(result2, props[index2], value);
            }
            return result2;
          }
          function castArrayLikeObject(value) {
            return isArrayLikeObject(value) ? value : [];
          }
          function castFunction(value) {
            return typeof value == "function" ? value : identity;
          }
          function castPath(value, object) {
            if (isArray(value)) {
              return value;
            }
            return isKey(value, object) ? [value] : stringToPath(toString2(value));
          }
          var castRest = baseRest;
          function castSlice(array, start4, end3) {
            var length = array.length;
            end3 = end3 === undefined2 ? length : end3;
            return !start4 && end3 >= length ? array : baseSlice(array, start4, end3);
          }
          var clearTimeout2 = ctxClearTimeout || function(id) {
            return root.clearTimeout(id);
          };
          function cloneBuffer(buffer, isDeep) {
            if (isDeep) {
              return buffer.slice();
            }
            var length = buffer.length, result2 = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);
            buffer.copy(result2);
            return result2;
          }
          function cloneArrayBuffer(arrayBuffer) {
            var result2 = new arrayBuffer.constructor(arrayBuffer.byteLength);
            new Uint8Array2(result2).set(new Uint8Array2(arrayBuffer));
            return result2;
          }
          function cloneDataView(dataView, isDeep) {
            var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;
            return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);
          }
          function cloneRegExp(regexp) {
            var result2 = new regexp.constructor(regexp.source, reFlags.exec(regexp));
            result2.lastIndex = regexp.lastIndex;
            return result2;
          }
          function cloneSymbol(symbol) {
            return symbolValueOf ? Object2(symbolValueOf.call(symbol)) : {};
          }
          function cloneTypedArray(typedArray, isDeep) {
            var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;
            return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);
          }
          function compareAscending(value, other) {
            if (value !== other) {
              var valIsDefined = value !== undefined2, valIsNull = value === null, valIsReflexive = value === value, valIsSymbol = isSymbol(value);
              var othIsDefined = other !== undefined2, othIsNull = other === null, othIsReflexive = other === other, othIsSymbol = isSymbol(other);
              if (!othIsNull && !othIsSymbol && !valIsSymbol && value > other || valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol || valIsNull && othIsDefined && othIsReflexive || !valIsDefined && othIsReflexive || !valIsReflexive) {
                return 1;
              }
              if (!valIsNull && !valIsSymbol && !othIsSymbol && value < other || othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol || othIsNull && valIsDefined && valIsReflexive || !othIsDefined && valIsReflexive || !othIsReflexive) {
                return -1;
              }
            }
            return 0;
          }
          function compareMultiple(object, other, orders) {
            var index2 = -1, objCriteria = object.criteria, othCriteria = other.criteria, length = objCriteria.length, ordersLength = orders.length;
            while (++index2 < length) {
              var result2 = compareAscending(objCriteria[index2], othCriteria[index2]);
              if (result2) {
                if (index2 >= ordersLength) {
                  return result2;
                }
                var order2 = orders[index2];
                return result2 * (order2 == "desc" ? -1 : 1);
              }
            }
            return object.index - other.index;
          }
          function composeArgs(args, partials, holders, isCurried) {
            var argsIndex = -1, argsLength = args.length, holdersLength = holders.length, leftIndex = -1, leftLength = partials.length, rangeLength = nativeMax(argsLength - holdersLength, 0), result2 = Array2(leftLength + rangeLength), isUncurried = !isCurried;
            while (++leftIndex < leftLength) {
              result2[leftIndex] = partials[leftIndex];
            }
            while (++argsIndex < holdersLength) {
              if (isUncurried || argsIndex < argsLength) {
                result2[holders[argsIndex]] = args[argsIndex];
              }
            }
            while (rangeLength--) {
              result2[leftIndex++] = args[argsIndex++];
            }
            return result2;
          }
          function composeArgsRight(args, partials, holders, isCurried) {
            var argsIndex = -1, argsLength = args.length, holdersIndex = -1, holdersLength = holders.length, rightIndex = -1, rightLength = partials.length, rangeLength = nativeMax(argsLength - holdersLength, 0), result2 = Array2(rangeLength + rightLength), isUncurried = !isCurried;
            while (++argsIndex < rangeLength) {
              result2[argsIndex] = args[argsIndex];
            }
            var offset4 = argsIndex;
            while (++rightIndex < rightLength) {
              result2[offset4 + rightIndex] = partials[rightIndex];
            }
            while (++holdersIndex < holdersLength) {
              if (isUncurried || argsIndex < argsLength) {
                result2[offset4 + holders[holdersIndex]] = args[argsIndex++];
              }
            }
            return result2;
          }
          function copyArray(source, array) {
            var index2 = -1, length = source.length;
            array || (array = Array2(length));
            while (++index2 < length) {
              array[index2] = source[index2];
            }
            return array;
          }
          function copyObject(source, props, object, customizer) {
            var isNew = !object;
            object || (object = {});
            var index2 = -1, length = props.length;
            while (++index2 < length) {
              var key = props[index2];
              var newValue = customizer ? customizer(object[key], source[key], key, object, source) : undefined2;
              if (newValue === undefined2) {
                newValue = source[key];
              }
              if (isNew) {
                baseAssignValue(object, key, newValue);
              } else {
                assignValue(object, key, newValue);
              }
            }
            return object;
          }
          function copySymbols(source, object) {
            return copyObject(source, getSymbols(source), object);
          }
          function copySymbolsIn(source, object) {
            return copyObject(source, getSymbolsIn(source), object);
          }
          function createAggregator(setter, initializer) {
            return function(collection, iteratee2) {
              var func = isArray(collection) ? arrayAggregator : baseAggregator, accumulator = initializer ? initializer() : {};
              return func(collection, setter, getIteratee(iteratee2, 2), accumulator);
            };
          }
          function createAssigner(assigner) {
            return baseRest(function(object, sources) {
              var index2 = -1, length = sources.length, customizer = length > 1 ? sources[length - 1] : undefined2, guard = length > 2 ? sources[2] : undefined2;
              customizer = assigner.length > 3 && typeof customizer == "function" ? (length--, customizer) : undefined2;
              if (guard && isIterateeCall(sources[0], sources[1], guard)) {
                customizer = length < 3 ? undefined2 : customizer;
                length = 1;
              }
              object = Object2(object);
              while (++index2 < length) {
                var source = sources[index2];
                if (source) {
                  assigner(object, source, index2, customizer);
                }
              }
              return object;
            });
          }
          function createBaseEach(eachFunc, fromRight) {
            return function(collection, iteratee2) {
              if (collection == null) {
                return collection;
              }
              if (!isArrayLike(collection)) {
                return eachFunc(collection, iteratee2);
              }
              var length = collection.length, index2 = fromRight ? length : -1, iterable = Object2(collection);
              while (fromRight ? index2-- : ++index2 < length) {
                if (iteratee2(iterable[index2], index2, iterable) === false) {
                  break;
                }
              }
              return collection;
            };
          }
          function createBaseFor(fromRight) {
            return function(object, iteratee2, keysFunc) {
              var index2 = -1, iterable = Object2(object), props = keysFunc(object), length = props.length;
              while (length--) {
                var key = props[fromRight ? length : ++index2];
                if (iteratee2(iterable[key], key, iterable) === false) {
                  break;
                }
              }
              return object;
            };
          }
          function createBind(func, bitmask, thisArg) {
            var isBind = bitmask & WRAP_BIND_FLAG, Ctor = createCtor(func);
            function wrapper() {
              var fn4 = this && this !== root && this instanceof wrapper ? Ctor : func;
              return fn4.apply(isBind ? thisArg : this, arguments);
            }
            return wrapper;
          }
          function createCaseFirst(methodName) {
            return function(string) {
              string = toString2(string);
              var strSymbols = hasUnicode(string) ? stringToArray(string) : undefined2;
              var chr = strSymbols ? strSymbols[0] : string.charAt(0);
              var trailing = strSymbols ? castSlice(strSymbols, 1).join("") : string.slice(1);
              return chr[methodName]() + trailing;
            };
          }
          function createCompounder(callback) {
            return function(string) {
              return arrayReduce(words(deburr(string).replace(reApos, "")), callback, "");
            };
          }
          function createCtor(Ctor) {
            return function() {
              var args = arguments;
              switch (args.length) {
                case 0:
                  return new Ctor();
                case 1:
                  return new Ctor(args[0]);
                case 2:
                  return new Ctor(args[0], args[1]);
                case 3:
                  return new Ctor(args[0], args[1], args[2]);
                case 4:
                  return new Ctor(args[0], args[1], args[2], args[3]);
                case 5:
                  return new Ctor(args[0], args[1], args[2], args[3], args[4]);
                case 6:
                  return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);
                case 7:
                  return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);
              }
              var thisBinding = baseCreate(Ctor.prototype), result2 = Ctor.apply(thisBinding, args);
              return isObject(result2) ? result2 : thisBinding;
            };
          }
          function createCurry(func, bitmask, arity) {
            var Ctor = createCtor(func);
            function wrapper() {
              var length = arguments.length, args = Array2(length), index2 = length, placeholder2 = getHolder(wrapper);
              while (index2--) {
                args[index2] = arguments[index2];
              }
              var holders = length < 3 && args[0] !== placeholder2 && args[length - 1] !== placeholder2 ? [] : replaceHolders(args, placeholder2);
              length -= holders.length;
              if (length < arity) {
                return createRecurry(func, bitmask, createHybrid, wrapper.placeholder, undefined2, args, holders, undefined2, undefined2, arity - length);
              }
              var fn4 = this && this !== root && this instanceof wrapper ? Ctor : func;
              return apply3(fn4, this, args);
            }
            return wrapper;
          }
          function createFind(findIndexFunc) {
            return function(collection, predicate, fromIndex) {
              var iterable = Object2(collection);
              if (!isArrayLike(collection)) {
                var iteratee2 = getIteratee(predicate, 3);
                collection = keys(collection);
                predicate = function(key) {
                  return iteratee2(iterable[key], key, iterable);
                };
              }
              var index2 = findIndexFunc(collection, predicate, fromIndex);
              return index2 > -1 ? iterable[iteratee2 ? collection[index2] : index2] : undefined2;
            };
          }
          function createFlow(fromRight) {
            return flatRest(function(funcs) {
              var length = funcs.length, index2 = length, prereq = LodashWrapper.prototype.thru;
              if (fromRight) {
                funcs.reverse();
              }
              while (index2--) {
                var func = funcs[index2];
                if (typeof func != "function") {
                  throw new TypeError2(FUNC_ERROR_TEXT);
                }
                if (prereq && !wrapper && getFuncName(func) == "wrapper") {
                  var wrapper = new LodashWrapper([], true);
                }
              }
              index2 = wrapper ? index2 : length;
              while (++index2 < length) {
                func = funcs[index2];
                var funcName = getFuncName(func), data = funcName == "wrapper" ? getData(func) : undefined2;
                if (data && isLaziable(data[0]) && data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) && !data[4].length && data[9] == 1) {
                  wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);
                } else {
                  wrapper = func.length == 1 && isLaziable(func) ? wrapper[funcName]() : wrapper.thru(func);
                }
              }
              return function() {
                var args = arguments, value = args[0];
                if (wrapper && args.length == 1 && isArray(value)) {
                  return wrapper.plant(value).value();
                }
                var index3 = 0, result2 = length ? funcs[index3].apply(this, args) : value;
                while (++index3 < length) {
                  result2 = funcs[index3].call(this, result2);
                }
                return result2;
              };
            });
          }
          function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary2, arity) {
            var isAry = bitmask & WRAP_ARY_FLAG, isBind = bitmask & WRAP_BIND_FLAG, isBindKey = bitmask & WRAP_BIND_KEY_FLAG, isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG), isFlip = bitmask & WRAP_FLIP_FLAG, Ctor = isBindKey ? undefined2 : createCtor(func);
            function wrapper() {
              var length = arguments.length, args = Array2(length), index2 = length;
              while (index2--) {
                args[index2] = arguments[index2];
              }
              if (isCurried) {
                var placeholder2 = getHolder(wrapper), holdersCount = countHolders(args, placeholder2);
              }
              if (partials) {
                args = composeArgs(args, partials, holders, isCurried);
              }
              if (partialsRight) {
                args = composeArgsRight(args, partialsRight, holdersRight, isCurried);
              }
              length -= holdersCount;
              if (isCurried && length < arity) {
                var newHolders = replaceHolders(args, placeholder2);
                return createRecurry(func, bitmask, createHybrid, wrapper.placeholder, thisArg, args, newHolders, argPos, ary2, arity - length);
              }
              var thisBinding = isBind ? thisArg : this, fn4 = isBindKey ? thisBinding[func] : func;
              length = args.length;
              if (argPos) {
                args = reorder2(args, argPos);
              } else if (isFlip && length > 1) {
                args.reverse();
              }
              if (isAry && ary2 < length) {
                args.length = ary2;
              }
              if (this && this !== root && this instanceof wrapper) {
                fn4 = Ctor || createCtor(fn4);
              }
              return fn4.apply(thisBinding, args);
            }
            return wrapper;
          }
          function createInverter(setter, toIteratee) {
            return function(object, iteratee2) {
              return baseInverter(object, setter, toIteratee(iteratee2), {});
            };
          }
          function createMathOperation(operator, defaultValue) {
            return function(value, other) {
              var result2;
              if (value === undefined2 && other === undefined2) {
                return defaultValue;
              }
              if (value !== undefined2) {
                result2 = value;
              }
              if (other !== undefined2) {
                if (result2 === undefined2) {
                  return other;
                }
                if (typeof value == "string" || typeof other == "string") {
                  value = baseToString(value);
                  other = baseToString(other);
                } else {
                  value = baseToNumber(value);
                  other = baseToNumber(other);
                }
                result2 = operator(value, other);
              }
              return result2;
            };
          }
          function createOver(arrayFunc) {
            return flatRest(function(iteratees) {
              iteratees = arrayMap(iteratees, baseUnary(getIteratee()));
              return baseRest(function(args) {
                var thisArg = this;
                return arrayFunc(iteratees, function(iteratee2) {
                  return apply3(iteratee2, thisArg, args);
                });
              });
            });
          }
          function createPadding(length, chars) {
            chars = chars === undefined2 ? " " : baseToString(chars);
            var charsLength = chars.length;
            if (charsLength < 2) {
              return charsLength ? baseRepeat(chars, length) : chars;
            }
            var result2 = baseRepeat(chars, nativeCeil(length / stringSize(chars)));
            return hasUnicode(chars) ? castSlice(stringToArray(result2), 0, length).join("") : result2.slice(0, length);
          }
          function createPartial(func, bitmask, thisArg, partials) {
            var isBind = bitmask & WRAP_BIND_FLAG, Ctor = createCtor(func);
            function wrapper() {
              var argsIndex = -1, argsLength = arguments.length, leftIndex = -1, leftLength = partials.length, args = Array2(leftLength + argsLength), fn4 = this && this !== root && this instanceof wrapper ? Ctor : func;
              while (++leftIndex < leftLength) {
                args[leftIndex] = partials[leftIndex];
              }
              while (argsLength--) {
                args[leftIndex++] = arguments[++argsIndex];
              }
              return apply3(fn4, isBind ? thisArg : this, args);
            }
            return wrapper;
          }
          function createRange(fromRight) {
            return function(start4, end3, step) {
              if (step && typeof step != "number" && isIterateeCall(start4, end3, step)) {
                end3 = step = undefined2;
              }
              start4 = toFinite(start4);
              if (end3 === undefined2) {
                end3 = start4;
                start4 = 0;
              } else {
                end3 = toFinite(end3);
              }
              step = step === undefined2 ? start4 < end3 ? 1 : -1 : toFinite(step);
              return baseRange(start4, end3, step, fromRight);
            };
          }
          function createRelationalOperation(operator) {
            return function(value, other) {
              if (!(typeof value == "string" && typeof other == "string")) {
                value = toNumber(value);
                other = toNumber(other);
              }
              return operator(value, other);
            };
          }
          function createRecurry(func, bitmask, wrapFunc, placeholder2, thisArg, partials, holders, argPos, ary2, arity) {
            var isCurry = bitmask & WRAP_CURRY_FLAG, newHolders = isCurry ? holders : undefined2, newHoldersRight = isCurry ? undefined2 : holders, newPartials = isCurry ? partials : undefined2, newPartialsRight = isCurry ? undefined2 : partials;
            bitmask |= isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG;
            bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);
            if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {
              bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);
            }
            var newData = [
              func,
              bitmask,
              thisArg,
              newPartials,
              newHolders,
              newPartialsRight,
              newHoldersRight,
              argPos,
              ary2,
              arity
            ];
            var result2 = wrapFunc.apply(undefined2, newData);
            if (isLaziable(func)) {
              setData(result2, newData);
            }
            result2.placeholder = placeholder2;
            return setWrapToString(result2, func, bitmask);
          }
          function createRound(methodName) {
            var func = Math2[methodName];
            return function(number, precision) {
              number = toNumber(number);
              precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);
              if (precision && nativeIsFinite(number)) {
                var pair = (toString2(number) + "e").split("e"), value = func(pair[0] + "e" + (+pair[1] + precision));
                pair = (toString2(value) + "e").split("e");
                return +(pair[0] + "e" + (+pair[1] - precision));
              }
              return func(number);
            };
          }
          var createSet = !(Set2 && 1 / setToArray(new Set2([, -0]))[1] == INFINITY) ? noop3 : function(values3) {
            return new Set2(values3);
          };
          function createToPairs(keysFunc) {
            return function(object) {
              var tag = getTag(object);
              if (tag == mapTag) {
                return mapToArray(object);
              }
              if (tag == setTag) {
                return setToPairs(object);
              }
              return baseToPairs(object, keysFunc(object));
            };
          }
          function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary2, arity) {
            var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;
            if (!isBindKey && typeof func != "function") {
              throw new TypeError2(FUNC_ERROR_TEXT);
            }
            var length = partials ? partials.length : 0;
            if (!length) {
              bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);
              partials = holders = undefined2;
            }
            ary2 = ary2 === undefined2 ? ary2 : nativeMax(toInteger(ary2), 0);
            arity = arity === undefined2 ? arity : toInteger(arity);
            length -= holders ? holders.length : 0;
            if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {
              var partialsRight = partials, holdersRight = holders;
              partials = holders = undefined2;
            }
            var data = isBindKey ? undefined2 : getData(func);
            var newData = [
              func,
              bitmask,
              thisArg,
              partials,
              holders,
              partialsRight,
              holdersRight,
              argPos,
              ary2,
              arity
            ];
            if (data) {
              mergeData(newData, data);
            }
            func = newData[0];
            bitmask = newData[1];
            thisArg = newData[2];
            partials = newData[3];
            holders = newData[4];
            arity = newData[9] = newData[9] === undefined2 ? isBindKey ? 0 : func.length : nativeMax(newData[9] - length, 0);
            if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {
              bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);
            }
            if (!bitmask || bitmask == WRAP_BIND_FLAG) {
              var result2 = createBind(func, bitmask, thisArg);
            } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {
              result2 = createCurry(func, bitmask, arity);
            } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {
              result2 = createPartial(func, bitmask, thisArg, partials);
            } else {
              result2 = createHybrid.apply(undefined2, newData);
            }
            var setter = data ? baseSetData : setData;
            return setWrapToString(setter(result2, newData), func, bitmask);
          }
          function customDefaultsAssignIn(objValue, srcValue, key, object) {
            if (objValue === undefined2 || eq(objValue, objectProto[key]) && !hasOwnProperty2.call(object, key)) {
              return srcValue;
            }
            return objValue;
          }
          function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {
            if (isObject(objValue) && isObject(srcValue)) {
              stack.set(srcValue, objValue);
              baseMerge(objValue, srcValue, undefined2, customDefaultsMerge, stack);
              stack["delete"](srcValue);
            }
            return objValue;
          }
          function customOmitClone(value) {
            return isPlainObject4(value) ? undefined2 : value;
          }
          function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {
            var isPartial = bitmask & COMPARE_PARTIAL_FLAG, arrLength = array.length, othLength = other.length;
            if (arrLength != othLength && !(isPartial && othLength > arrLength)) {
              return false;
            }
            var arrStacked = stack.get(array);
            var othStacked = stack.get(other);
            if (arrStacked && othStacked) {
              return arrStacked == other && othStacked == array;
            }
            var index2 = -1, result2 = true, seen = bitmask & COMPARE_UNORDERED_FLAG ? new SetCache() : undefined2;
            stack.set(array, other);
            stack.set(other, array);
            while (++index2 < arrLength) {
              var arrValue = array[index2], othValue = other[index2];
              if (customizer) {
                var compared = isPartial ? customizer(othValue, arrValue, index2, other, array, stack) : customizer(arrValue, othValue, index2, array, other, stack);
              }
              if (compared !== undefined2) {
                if (compared) {
                  continue;
                }
                result2 = false;
                break;
              }
              if (seen) {
                if (!arraySome(other, function(othValue2, othIndex) {
                  if (!cacheHas(seen, othIndex) && (arrValue === othValue2 || equalFunc(arrValue, othValue2, bitmask, customizer, stack))) {
                    return seen.push(othIndex);
                  }
                })) {
                  result2 = false;
                  break;
                }
              } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {
                result2 = false;
                break;
              }
            }
            stack["delete"](array);
            stack["delete"](other);
            return result2;
          }
          function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {
            switch (tag) {
              case dataViewTag:
                if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {
                  return false;
                }
                object = object.buffer;
                other = other.buffer;
              case arrayBufferTag:
                if (object.byteLength != other.byteLength || !equalFunc(new Uint8Array2(object), new Uint8Array2(other))) {
                  return false;
                }
                return true;
              case boolTag:
              case dateTag:
              case numberTag:
                return eq(+object, +other);
              case errorTag:
                return object.name == other.name && object.message == other.message;
              case regexpTag:
              case stringTag:
                return object == other + "";
              case mapTag:
                var convert = mapToArray;
              case setTag:
                var isPartial = bitmask & COMPARE_PARTIAL_FLAG;
                convert || (convert = setToArray);
                if (object.size != other.size && !isPartial) {
                  return false;
                }
                var stacked = stack.get(object);
                if (stacked) {
                  return stacked == other;
                }
                bitmask |= COMPARE_UNORDERED_FLAG;
                stack.set(object, other);
                var result2 = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);
                stack["delete"](object);
                return result2;
              case symbolTag:
                if (symbolValueOf) {
                  return symbolValueOf.call(object) == symbolValueOf.call(other);
                }
            }
            return false;
          }
          function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {
            var isPartial = bitmask & COMPARE_PARTIAL_FLAG, objProps = getAllKeys(object), objLength = objProps.length, othProps = getAllKeys(other), othLength = othProps.length;
            if (objLength != othLength && !isPartial) {
              return false;
            }
            var index2 = objLength;
            while (index2--) {
              var key = objProps[index2];
              if (!(isPartial ? key in other : hasOwnProperty2.call(other, key))) {
                return false;
              }
            }
            var objStacked = stack.get(object);
            var othStacked = stack.get(other);
            if (objStacked && othStacked) {
              return objStacked == other && othStacked == object;
            }
            var result2 = true;
            stack.set(object, other);
            stack.set(other, object);
            var skipCtor = isPartial;
            while (++index2 < objLength) {
              key = objProps[index2];
              var objValue = object[key], othValue = other[key];
              if (customizer) {
                var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);
              }
              if (!(compared === undefined2 ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) : compared)) {
                result2 = false;
                break;
              }
              skipCtor || (skipCtor = key == "constructor");
            }
            if (result2 && !skipCtor) {
              var objCtor = object.constructor, othCtor = other.constructor;
              if (objCtor != othCtor && ("constructor" in object && "constructor" in other) && !(typeof objCtor == "function" && objCtor instanceof objCtor && typeof othCtor == "function" && othCtor instanceof othCtor)) {
                result2 = false;
              }
            }
            stack["delete"](object);
            stack["delete"](other);
            return result2;
          }
          function flatRest(func) {
            return setToString(overRest(func, undefined2, flatten), func + "");
          }
          function getAllKeys(object) {
            return baseGetAllKeys(object, keys, getSymbols);
          }
          function getAllKeysIn(object) {
            return baseGetAllKeys(object, keysIn, getSymbolsIn);
          }
          var getData = !metaMap ? noop3 : function(func) {
            return metaMap.get(func);
          };
          function getFuncName(func) {
            var result2 = func.name + "", array = realNames[result2], length = hasOwnProperty2.call(realNames, result2) ? array.length : 0;
            while (length--) {
              var data = array[length], otherFunc = data.func;
              if (otherFunc == null || otherFunc == func) {
                return data.name;
              }
            }
            return result2;
          }
          function getHolder(func) {
            var object = hasOwnProperty2.call(lodash, "placeholder") ? lodash : func;
            return object.placeholder;
          }
          function getIteratee() {
            var result2 = lodash.iteratee || iteratee;
            result2 = result2 === iteratee ? baseIteratee : result2;
            return arguments.length ? result2(arguments[0], arguments[1]) : result2;
          }
          function getMapData(map2, key) {
            var data = map2.__data__;
            return isKeyable(key) ? data[typeof key == "string" ? "string" : "hash"] : data.map;
          }
          function getMatchData(object) {
            var result2 = keys(object), length = result2.length;
            while (length--) {
              var key = result2[length], value = object[key];
              result2[length] = [key, value, isStrictComparable(value)];
            }
            return result2;
          }
          function getNative(object, key) {
            var value = getValue2(object, key);
            return baseIsNative(value) ? value : undefined2;
          }
          function getRawTag(value) {
            var isOwn = hasOwnProperty2.call(value, symToStringTag), tag = value[symToStringTag];
            try {
              value[symToStringTag] = undefined2;
              var unmasked = true;
            } catch (e2) {
            }
            var result2 = nativeObjectToString.call(value);
            if (unmasked) {
              if (isOwn) {
                value[symToStringTag] = tag;
              } else {
                delete value[symToStringTag];
              }
            }
            return result2;
          }
          var getSymbols = !nativeGetSymbols ? stubArray : function(object) {
            if (object == null) {
              return [];
            }
            object = Object2(object);
            return arrayFilter(nativeGetSymbols(object), function(symbol) {
              return propertyIsEnumerable.call(object, symbol);
            });
          };
          var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {
            var result2 = [];
            while (object) {
              arrayPush(result2, getSymbols(object));
              object = getPrototype(object);
            }
            return result2;
          };
          var getTag = baseGetTag;
          if (DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag || Map2 && getTag(new Map2()) != mapTag || Promise2 && getTag(Promise2.resolve()) != promiseTag || Set2 && getTag(new Set2()) != setTag || WeakMap2 && getTag(new WeakMap2()) != weakMapTag) {
            getTag = function(value) {
              var result2 = baseGetTag(value), Ctor = result2 == objectTag ? value.constructor : undefined2, ctorString = Ctor ? toSource(Ctor) : "";
              if (ctorString) {
                switch (ctorString) {
                  case dataViewCtorString:
                    return dataViewTag;
                  case mapCtorString:
                    return mapTag;
                  case promiseCtorString:
                    return promiseTag;
                  case setCtorString:
                    return setTag;
                  case weakMapCtorString:
                    return weakMapTag;
                }
              }
              return result2;
            };
          }
          function getView(start4, end3, transforms2) {
            var index2 = -1, length = transforms2.length;
            while (++index2 < length) {
              var data = transforms2[index2], size2 = data.size;
              switch (data.type) {
                case "drop":
                  start4 += size2;
                  break;
                case "dropRight":
                  end3 -= size2;
                  break;
                case "take":
                  end3 = nativeMin(end3, start4 + size2);
                  break;
                case "takeRight":
                  start4 = nativeMax(start4, end3 - size2);
                  break;
              }
            }
            return { "start": start4, "end": end3 };
          }
          function getWrapDetails(source) {
            var match2 = source.match(reWrapDetails);
            return match2 ? match2[1].split(reSplitDetails) : [];
          }
          function hasPath(object, path, hasFunc) {
            path = castPath(path, object);
            var index2 = -1, length = path.length, result2 = false;
            while (++index2 < length) {
              var key = toKey(path[index2]);
              if (!(result2 = object != null && hasFunc(object, key))) {
                break;
              }
              object = object[key];
            }
            if (result2 || ++index2 != length) {
              return result2;
            }
            length = object == null ? 0 : object.length;
            return !!length && isLength(length) && isIndex(key, length) && (isArray(object) || isArguments(object));
          }
          function initCloneArray(array) {
            var length = array.length, result2 = new array.constructor(length);
            if (length && typeof array[0] == "string" && hasOwnProperty2.call(array, "index")) {
              result2.index = array.index;
              result2.input = array.input;
            }
            return result2;
          }
          function initCloneObject(object) {
            return typeof object.constructor == "function" && !isPrototype(object) ? baseCreate(getPrototype(object)) : {};
          }
          function initCloneByTag(object, tag, isDeep) {
            var Ctor = object.constructor;
            switch (tag) {
              case arrayBufferTag:
                return cloneArrayBuffer(object);
              case boolTag:
              case dateTag:
                return new Ctor(+object);
              case dataViewTag:
                return cloneDataView(object, isDeep);
              case float32Tag:
              case float64Tag:
              case int8Tag:
              case int16Tag:
              case int32Tag:
              case uint8Tag:
              case uint8ClampedTag:
              case uint16Tag:
              case uint32Tag:
                return cloneTypedArray(object, isDeep);
              case mapTag:
                return new Ctor();
              case numberTag:
              case stringTag:
                return new Ctor(object);
              case regexpTag:
                return cloneRegExp(object);
              case setTag:
                return new Ctor();
              case symbolTag:
                return cloneSymbol(object);
            }
          }
          function insertWrapDetails(source, details) {
            var length = details.length;
            if (!length) {
              return source;
            }
            var lastIndex = length - 1;
            details[lastIndex] = (length > 1 ? "& " : "") + details[lastIndex];
            details = details.join(length > 2 ? ", " : " ");
            return source.replace(reWrapComment, "{\n/* [wrapped with " + details + "] */\n");
          }
          function isFlattenable(value) {
            return isArray(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);
          }
          function isIndex(value, length) {
            var type = typeof value;
            length = length == null ? MAX_SAFE_INTEGER : length;
            return !!length && (type == "number" || type != "symbol" && reIsUint.test(value)) && (value > -1 && value % 1 == 0 && value < length);
          }
          function isIterateeCall(value, index2, object) {
            if (!isObject(object)) {
              return false;
            }
            var type = typeof index2;
            if (type == "number" ? isArrayLike(object) && isIndex(index2, object.length) : type == "string" && index2 in object) {
              return eq(object[index2], value);
            }
            return false;
          }
          function isKey(value, object) {
            if (isArray(value)) {
              return false;
            }
            var type = typeof value;
            if (type == "number" || type == "symbol" || type == "boolean" || value == null || isSymbol(value)) {
              return true;
            }
            return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object != null && value in Object2(object);
          }
          function isKeyable(value) {
            var type = typeof value;
            return type == "string" || type == "number" || type == "symbol" || type == "boolean" ? value !== "__proto__" : value === null;
          }
          function isLaziable(func) {
            var funcName = getFuncName(func), other = lodash[funcName];
            if (typeof other != "function" || !(funcName in LazyWrapper.prototype)) {
              return false;
            }
            if (func === other) {
              return true;
            }
            var data = getData(other);
            return !!data && func === data[0];
          }
          function isMasked(func) {
            return !!maskSrcKey && maskSrcKey in func;
          }
          var isMaskable = coreJsData ? isFunction3 : stubFalse;
          function isPrototype(value) {
            var Ctor = value && value.constructor, proto = typeof Ctor == "function" && Ctor.prototype || objectProto;
            return value === proto;
          }
          function isStrictComparable(value) {
            return value === value && !isObject(value);
          }
          function matchesStrictComparable(key, srcValue) {
            return function(object) {
              if (object == null) {
                return false;
              }
              return object[key] === srcValue && (srcValue !== undefined2 || key in Object2(object));
            };
          }
          function memoizeCapped(func) {
            var result2 = memoize(func, function(key) {
              if (cache.size === MAX_MEMOIZE_SIZE) {
                cache.clear();
              }
              return key;
            });
            var cache = result2.cache;
            return result2;
          }
          function mergeData(data, source) {
            var bitmask = data[1], srcBitmask = source[1], newBitmask = bitmask | srcBitmask, isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);
            var isCombo = srcBitmask == WRAP_ARY_FLAG && bitmask == WRAP_CURRY_FLAG || srcBitmask == WRAP_ARY_FLAG && bitmask == WRAP_REARG_FLAG && data[7].length <= source[8] || srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG) && source[7].length <= source[8] && bitmask == WRAP_CURRY_FLAG;
            if (!(isCommon || isCombo)) {
              return data;
            }
            if (srcBitmask & WRAP_BIND_FLAG) {
              data[2] = source[2];
              newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;
            }
            var value = source[3];
            if (value) {
              var partials = data[3];
              data[3] = partials ? composeArgs(partials, value, source[4]) : value;
              data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];
            }
            value = source[5];
            if (value) {
              partials = data[5];
              data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;
              data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];
            }
            value = source[7];
            if (value) {
              data[7] = value;
            }
            if (srcBitmask & WRAP_ARY_FLAG) {
              data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);
            }
            if (data[9] == null) {
              data[9] = source[9];
            }
            data[0] = source[0];
            data[1] = newBitmask;
            return data;
          }
          function nativeKeysIn(object) {
            var result2 = [];
            if (object != null) {
              for (var key in Object2(object)) {
                result2.push(key);
              }
            }
            return result2;
          }
          function objectToString(value) {
            return nativeObjectToString.call(value);
          }
          function overRest(func, start4, transform2) {
            start4 = nativeMax(start4 === undefined2 ? func.length - 1 : start4, 0);
            return function() {
              var args = arguments, index2 = -1, length = nativeMax(args.length - start4, 0), array = Array2(length);
              while (++index2 < length) {
                array[index2] = args[start4 + index2];
              }
              index2 = -1;
              var otherArgs = Array2(start4 + 1);
              while (++index2 < start4) {
                otherArgs[index2] = args[index2];
              }
              otherArgs[start4] = transform2(array);
              return apply3(func, this, otherArgs);
            };
          }
          function parent(object, path) {
            return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));
          }
          function reorder2(array, indexes) {
            var arrLength = array.length, length = nativeMin(indexes.length, arrLength), oldArray = copyArray(array);
            while (length--) {
              var index2 = indexes[length];
              array[length] = isIndex(index2, arrLength) ? oldArray[index2] : undefined2;
            }
            return array;
          }
          function safeGet(object, key) {
            if (key === "constructor" && typeof object[key] === "function") {
              return;
            }
            if (key == "__proto__") {
              return;
            }
            return object[key];
          }
          var setData = shortOut(baseSetData);
          var setTimeout2 = ctxSetTimeout || function(func, wait) {
            return root.setTimeout(func, wait);
          };
          var setToString = shortOut(baseSetToString);
          function setWrapToString(wrapper, reference2, bitmask) {
            var source = reference2 + "";
            return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));
          }
          function shortOut(func) {
            var count2 = 0, lastCalled = 0;
            return function() {
              var stamp = nativeNow(), remaining = HOT_SPAN - (stamp - lastCalled);
              lastCalled = stamp;
              if (remaining > 0) {
                if (++count2 >= HOT_COUNT) {
                  return arguments[0];
                }
              } else {
                count2 = 0;
              }
              return func.apply(undefined2, arguments);
            };
          }
          function shuffleSelf(array, size2) {
            var index2 = -1, length = array.length, lastIndex = length - 1;
            size2 = size2 === undefined2 ? length : size2;
            while (++index2 < size2) {
              var rand = baseRandom(index2, lastIndex), value = array[rand];
              array[rand] = array[index2];
              array[index2] = value;
            }
            array.length = size2;
            return array;
          }
          var stringToPath = memoizeCapped(function(string) {
            var result2 = [];
            if (string.charCodeAt(0) === 46) {
              result2.push("");
            }
            string.replace(rePropName, function(match2, number, quote, subString) {
              result2.push(quote ? subString.replace(reEscapeChar, "$1") : number || match2);
            });
            return result2;
          });
          function toKey(value) {
            if (typeof value == "string" || isSymbol(value)) {
              return value;
            }
            var result2 = value + "";
            return result2 == "0" && 1 / value == -INFINITY ? "-0" : result2;
          }
          function toSource(func) {
            if (func != null) {
              try {
                return funcToString.call(func);
              } catch (e2) {
              }
              try {
                return func + "";
              } catch (e2) {
              }
            }
            return "";
          }
          function updateWrapDetails(details, bitmask) {
            arrayEach(wrapFlags, function(pair) {
              var value = "_." + pair[0];
              if (bitmask & pair[1] && !arrayIncludes(details, value)) {
                details.push(value);
              }
            });
            return details.sort();
          }
          function wrapperClone(wrapper) {
            if (wrapper instanceof LazyWrapper) {
              return wrapper.clone();
            }
            var result2 = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);
            result2.__actions__ = copyArray(wrapper.__actions__);
            result2.__index__ = wrapper.__index__;
            result2.__values__ = wrapper.__values__;
            return result2;
          }
          function chunk(array, size2, guard) {
            if (guard ? isIterateeCall(array, size2, guard) : size2 === undefined2) {
              size2 = 1;
            } else {
              size2 = nativeMax(toInteger(size2), 0);
            }
            var length = array == null ? 0 : array.length;
            if (!length || size2 < 1) {
              return [];
            }
            var index2 = 0, resIndex = 0, result2 = Array2(nativeCeil(length / size2));
            while (index2 < length) {
              result2[resIndex++] = baseSlice(array, index2, index2 += size2);
            }
            return result2;
          }
          function compact(array) {
            var index2 = -1, length = array == null ? 0 : array.length, resIndex = 0, result2 = [];
            while (++index2 < length) {
              var value = array[index2];
              if (value) {
                result2[resIndex++] = value;
              }
            }
            return result2;
          }
          function concat() {
            var length = arguments.length;
            if (!length) {
              return [];
            }
            var args = Array2(length - 1), array = arguments[0], index2 = length;
            while (index2--) {
              args[index2 - 1] = arguments[index2];
            }
            return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));
          }
          var difference = baseRest(function(array, values3) {
            return isArrayLikeObject(array) ? baseDifference(array, baseFlatten(values3, 1, isArrayLikeObject, true)) : [];
          });
          var differenceBy = baseRest(function(array, values3) {
            var iteratee2 = last(values3);
            if (isArrayLikeObject(iteratee2)) {
              iteratee2 = undefined2;
            }
            return isArrayLikeObject(array) ? baseDifference(array, baseFlatten(values3, 1, isArrayLikeObject, true), getIteratee(iteratee2, 2)) : [];
          });
          var differenceWith = baseRest(function(array, values3) {
            var comparator = last(values3);
            if (isArrayLikeObject(comparator)) {
              comparator = undefined2;
            }
            return isArrayLikeObject(array) ? baseDifference(array, baseFlatten(values3, 1, isArrayLikeObject, true), undefined2, comparator) : [];
          });
          function drop5(array, n3, guard) {
            var length = array == null ? 0 : array.length;
            if (!length) {
              return [];
            }
            n3 = guard || n3 === undefined2 ? 1 : toInteger(n3);
            return baseSlice(array, n3 < 0 ? 0 : n3, length);
          }
          function dropRight(array, n3, guard) {
            var length = array == null ? 0 : array.length;
            if (!length) {
              return [];
            }
            n3 = guard || n3 === undefined2 ? 1 : toInteger(n3);
            n3 = length - n3;
            return baseSlice(array, 0, n3 < 0 ? 0 : n3);
          }
          function dropRightWhile(array, predicate) {
            return array && array.length ? baseWhile(array, getIteratee(predicate, 3), true, true) : [];
          }
          function dropWhile(array, predicate) {
            return array && array.length ? baseWhile(array, getIteratee(predicate, 3), true) : [];
          }
          function fill(array, value, start4, end3) {
            var length = array == null ? 0 : array.length;
            if (!length) {
              return [];
            }
            if (start4 && typeof start4 != "number" && isIterateeCall(array, value, start4)) {
              start4 = 0;
              end3 = length;
            }
            return baseFill(array, value, start4, end3);
          }
          function findIndex2(array, predicate, fromIndex) {
            var length = array == null ? 0 : array.length;
            if (!length) {
              return -1;
            }
            var index2 = fromIndex == null ? 0 : toInteger(fromIndex);
            if (index2 < 0) {
              index2 = nativeMax(length + index2, 0);
            }
            return baseFindIndex(array, getIteratee(predicate, 3), index2);
          }
          function findLastIndex(array, predicate, fromIndex) {
            var length = array == null ? 0 : array.length;
            if (!length) {
              return -1;
            }
            var index2 = length - 1;
            if (fromIndex !== undefined2) {
              index2 = toInteger(fromIndex);
              index2 = fromIndex < 0 ? nativeMax(length + index2, 0) : nativeMin(index2, length - 1);
            }
            return baseFindIndex(array, getIteratee(predicate, 3), index2, true);
          }
          function flatten(array) {
            var length = array == null ? 0 : array.length;
            return length ? baseFlatten(array, 1) : [];
          }
          function flattenDeep(array) {
            var length = array == null ? 0 : array.length;
            return length ? baseFlatten(array, INFINITY) : [];
          }
          function flattenDepth(array, depth) {
            var length = array == null ? 0 : array.length;
            if (!length) {
              return [];
            }
            depth = depth === undefined2 ? 1 : toInteger(depth);
            return baseFlatten(array, depth);
          }
          function fromPairs(pairs) {
            var index2 = -1, length = pairs == null ? 0 : pairs.length, result2 = {};
            while (++index2 < length) {
              var pair = pairs[index2];
              result2[pair[0]] = pair[1];
            }
            return result2;
          }
          function head(array) {
            return array && array.length ? array[0] : undefined2;
          }
          function indexOf(array, value, fromIndex) {
            var length = array == null ? 0 : array.length;
            if (!length) {
              return -1;
            }
            var index2 = fromIndex == null ? 0 : toInteger(fromIndex);
            if (index2 < 0) {
              index2 = nativeMax(length + index2, 0);
            }
            return baseIndexOf(array, value, index2);
          }
          function initial(array) {
            var length = array == null ? 0 : array.length;
            return length ? baseSlice(array, 0, -1) : [];
          }
          var intersection = baseRest(function(arrays) {
            var mapped = arrayMap(arrays, castArrayLikeObject);
            return mapped.length && mapped[0] === arrays[0] ? baseIntersection(mapped) : [];
          });
          var intersectionBy = baseRest(function(arrays) {
            var iteratee2 = last(arrays), mapped = arrayMap(arrays, castArrayLikeObject);
            if (iteratee2 === last(mapped)) {
              iteratee2 = undefined2;
            } else {
              mapped.pop();
            }
            return mapped.length && mapped[0] === arrays[0] ? baseIntersection(mapped, getIteratee(iteratee2, 2)) : [];
          });
          var intersectionWith = baseRest(function(arrays) {
            var comparator = last(arrays), mapped = arrayMap(arrays, castArrayLikeObject);
            comparator = typeof comparator == "function" ? comparator : undefined2;
            if (comparator) {
              mapped.pop();
            }
            return mapped.length && mapped[0] === arrays[0] ? baseIntersection(mapped, undefined2, comparator) : [];
          });
          function join(array, separator) {
            return array == null ? "" : nativeJoin.call(array, separator);
          }
          function last(array) {
            var length = array == null ? 0 : array.length;
            return length ? array[length - 1] : undefined2;
          }
          function lastIndexOf(array, value, fromIndex) {
            var length = array == null ? 0 : array.length;
            if (!length) {
              return -1;
            }
            var index2 = length;
            if (fromIndex !== undefined2) {
              index2 = toInteger(fromIndex);
              index2 = index2 < 0 ? nativeMax(length + index2, 0) : nativeMin(index2, length - 1);
            }
            return value === value ? strictLastIndexOf(array, value, index2) : baseFindIndex(array, baseIsNaN, index2, true);
          }
          function nth(array, n3) {
            return array && array.length ? baseNth(array, toInteger(n3)) : undefined2;
          }
          var pull = baseRest(pullAll);
          function pullAll(array, values3) {
            return array && array.length && values3 && values3.length ? basePullAll(array, values3) : array;
          }
          function pullAllBy(array, values3, iteratee2) {
            return array && array.length && values3 && values3.length ? basePullAll(array, values3, getIteratee(iteratee2, 2)) : array;
          }
          function pullAllWith(array, values3, comparator) {
            return array && array.length && values3 && values3.length ? basePullAll(array, values3, undefined2, comparator) : array;
          }
          var pullAt = flatRest(function(array, indexes) {
            var length = array == null ? 0 : array.length, result2 = baseAt(array, indexes);
            basePullAt(array, arrayMap(indexes, function(index2) {
              return isIndex(index2, length) ? +index2 : index2;
            }).sort(compareAscending));
            return result2;
          });
          function remove(array, predicate) {
            var result2 = [];
            if (!(array && array.length)) {
              return result2;
            }
            var index2 = -1, indexes = [], length = array.length;
            predicate = getIteratee(predicate, 3);
            while (++index2 < length) {
              var value = array[index2];
              if (predicate(value, index2, array)) {
                result2.push(value);
                indexes.push(index2);
              }
            }
            basePullAt(array, indexes);
            return result2;
          }
          function reverse(array) {
            return array == null ? array : nativeReverse.call(array);
          }
          function slice(array, start4, end3) {
            var length = array == null ? 0 : array.length;
            if (!length) {
              return [];
            }
            if (end3 && typeof end3 != "number" && isIterateeCall(array, start4, end3)) {
              start4 = 0;
              end3 = length;
            } else {
              start4 = start4 == null ? 0 : toInteger(start4);
              end3 = end3 === undefined2 ? length : toInteger(end3);
            }
            return baseSlice(array, start4, end3);
          }
          function sortedIndex(array, value) {
            return baseSortedIndex(array, value);
          }
          function sortedIndexBy(array, value, iteratee2) {
            return baseSortedIndexBy(array, value, getIteratee(iteratee2, 2));
          }
          function sortedIndexOf(array, value) {
            var length = array == null ? 0 : array.length;
            if (length) {
              var index2 = baseSortedIndex(array, value);
              if (index2 < length && eq(array[index2], value)) {
                return index2;
              }
            }
            return -1;
          }
          function sortedLastIndex(array, value) {
            return baseSortedIndex(array, value, true);
          }
          function sortedLastIndexBy(array, value, iteratee2) {
            return baseSortedIndexBy(array, value, getIteratee(iteratee2, 2), true);
          }
          function sortedLastIndexOf(array, value) {
            var length = array == null ? 0 : array.length;
            if (length) {
              var index2 = baseSortedIndex(array, value, true) - 1;
              if (eq(array[index2], value)) {
                return index2;
              }
            }
            return -1;
          }
          function sortedUniq(array) {
            return array && array.length ? baseSortedUniq(array) : [];
          }
          function sortedUniqBy(array, iteratee2) {
            return array && array.length ? baseSortedUniq(array, getIteratee(iteratee2, 2)) : [];
          }
          function tail(array) {
            var length = array == null ? 0 : array.length;
            return length ? baseSlice(array, 1, length) : [];
          }
          function take(array, n3, guard) {
            if (!(array && array.length)) {
              return [];
            }
            n3 = guard || n3 === undefined2 ? 1 : toInteger(n3);
            return baseSlice(array, 0, n3 < 0 ? 0 : n3);
          }
          function takeRight(array, n3, guard) {
            var length = array == null ? 0 : array.length;
            if (!length) {
              return [];
            }
            n3 = guard || n3 === undefined2 ? 1 : toInteger(n3);
            n3 = length - n3;
            return baseSlice(array, n3 < 0 ? 0 : n3, length);
          }
          function takeRightWhile(array, predicate) {
            return array && array.length ? baseWhile(array, getIteratee(predicate, 3), false, true) : [];
          }
          function takeWhile(array, predicate) {
            return array && array.length ? baseWhile(array, getIteratee(predicate, 3)) : [];
          }
          var union = baseRest(function(arrays) {
            return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));
          });
          var unionBy = baseRest(function(arrays) {
            var iteratee2 = last(arrays);
            if (isArrayLikeObject(iteratee2)) {
              iteratee2 = undefined2;
            }
            return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee2, 2));
          });
          var unionWith = baseRest(function(arrays) {
            var comparator = last(arrays);
            comparator = typeof comparator == "function" ? comparator : undefined2;
            return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined2, comparator);
          });
          function uniq(array) {
            return array && array.length ? baseUniq(array) : [];
          }
          function uniqBy(array, iteratee2) {
            return array && array.length ? baseUniq(array, getIteratee(iteratee2, 2)) : [];
          }
          function uniqWith(array, comparator) {
            comparator = typeof comparator == "function" ? comparator : undefined2;
            return array && array.length ? baseUniq(array, undefined2, comparator) : [];
          }
          function unzip(array) {
            if (!(array && array.length)) {
              return [];
            }
            var length = 0;
            array = arrayFilter(array, function(group) {
              if (isArrayLikeObject(group)) {
                length = nativeMax(group.length, length);
                return true;
              }
            });
            return baseTimes(length, function(index2) {
              return arrayMap(array, baseProperty(index2));
            });
          }
          function unzipWith(array, iteratee2) {
            if (!(array && array.length)) {
              return [];
            }
            var result2 = unzip(array);
            if (iteratee2 == null) {
              return result2;
            }
            return arrayMap(result2, function(group) {
              return apply3(iteratee2, undefined2, group);
            });
          }
          var without = baseRest(function(array, values3) {
            return isArrayLikeObject(array) ? baseDifference(array, values3) : [];
          });
          var xor = baseRest(function(arrays) {
            return baseXor(arrayFilter(arrays, isArrayLikeObject));
          });
          var xorBy = baseRest(function(arrays) {
            var iteratee2 = last(arrays);
            if (isArrayLikeObject(iteratee2)) {
              iteratee2 = undefined2;
            }
            return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee2, 2));
          });
          var xorWith = baseRest(function(arrays) {
            var comparator = last(arrays);
            comparator = typeof comparator == "function" ? comparator : undefined2;
            return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined2, comparator);
          });
          var zip = baseRest(unzip);
          function zipObject(props, values3) {
            return baseZipObject(props || [], values3 || [], assignValue);
          }
          function zipObjectDeep(props, values3) {
            return baseZipObject(props || [], values3 || [], baseSet);
          }
          var zipWith = baseRest(function(arrays) {
            var length = arrays.length, iteratee2 = length > 1 ? arrays[length - 1] : undefined2;
            iteratee2 = typeof iteratee2 == "function" ? (arrays.pop(), iteratee2) : undefined2;
            return unzipWith(arrays, iteratee2);
          });
          function chain(value) {
            var result2 = lodash(value);
            result2.__chain__ = true;
            return result2;
          }
          function tap(value, interceptor) {
            interceptor(value);
            return value;
          }
          function thru(value, interceptor) {
            return interceptor(value);
          }
          var wrapperAt = flatRest(function(paths) {
            var length = paths.length, start4 = length ? paths[0] : 0, value = this.__wrapped__, interceptor = function(object) {
              return baseAt(object, paths);
            };
            if (length > 1 || this.__actions__.length || !(value instanceof LazyWrapper) || !isIndex(start4)) {
              return this.thru(interceptor);
            }
            value = value.slice(start4, +start4 + (length ? 1 : 0));
            value.__actions__.push({
              "func": thru,
              "args": [interceptor],
              "thisArg": undefined2
            });
            return new LodashWrapper(value, this.__chain__).thru(function(array) {
              if (length && !array.length) {
                array.push(undefined2);
              }
              return array;
            });
          });
          function wrapperChain() {
            return chain(this);
          }
          function wrapperCommit() {
            return new LodashWrapper(this.value(), this.__chain__);
          }
          function wrapperNext() {
            if (this.__values__ === undefined2) {
              this.__values__ = toArray2(this.value());
            }
            var done = this.__index__ >= this.__values__.length, value = done ? undefined2 : this.__values__[this.__index__++];
            return { "done": done, "value": value };
          }
          function wrapperToIterator() {
            return this;
          }
          function wrapperPlant(value) {
            var result2, parent2 = this;
            while (parent2 instanceof baseLodash) {
              var clone2 = wrapperClone(parent2);
              clone2.__index__ = 0;
              clone2.__values__ = undefined2;
              if (result2) {
                previous.__wrapped__ = clone2;
              } else {
                result2 = clone2;
              }
              var previous = clone2;
              parent2 = parent2.__wrapped__;
            }
            previous.__wrapped__ = value;
            return result2;
          }
          function wrapperReverse() {
            var value = this.__wrapped__;
            if (value instanceof LazyWrapper) {
              var wrapped = value;
              if (this.__actions__.length) {
                wrapped = new LazyWrapper(this);
              }
              wrapped = wrapped.reverse();
              wrapped.__actions__.push({
                "func": thru,
                "args": [reverse],
                "thisArg": undefined2
              });
              return new LodashWrapper(wrapped, this.__chain__);
            }
            return this.thru(reverse);
          }
          function wrapperValue() {
            return baseWrapperValue(this.__wrapped__, this.__actions__);
          }
          var countBy = createAggregator(function(result2, value, key) {
            if (hasOwnProperty2.call(result2, key)) {
              ++result2[key];
            } else {
              baseAssignValue(result2, key, 1);
            }
          });
          function every(collection, predicate, guard) {
            var func = isArray(collection) ? arrayEvery : baseEvery;
            if (guard && isIterateeCall(collection, predicate, guard)) {
              predicate = undefined2;
            }
            return func(collection, getIteratee(predicate, 3));
          }
          function filter(collection, predicate) {
            var func = isArray(collection) ? arrayFilter : baseFilter;
            return func(collection, getIteratee(predicate, 3));
          }
          var find2 = createFind(findIndex2);
          var findLast = createFind(findLastIndex);
          function flatMap(collection, iteratee2) {
            return baseFlatten(map(collection, iteratee2), 1);
          }
          function flatMapDeep(collection, iteratee2) {
            return baseFlatten(map(collection, iteratee2), INFINITY);
          }
          function flatMapDepth(collection, iteratee2, depth) {
            depth = depth === undefined2 ? 1 : toInteger(depth);
            return baseFlatten(map(collection, iteratee2), depth);
          }
          function forEach(collection, iteratee2) {
            var func = isArray(collection) ? arrayEach : baseEach;
            return func(collection, getIteratee(iteratee2, 3));
          }
          function forEachRight(collection, iteratee2) {
            var func = isArray(collection) ? arrayEachRight : baseEachRight;
            return func(collection, getIteratee(iteratee2, 3));
          }
          var groupBy3 = createAggregator(function(result2, value, key) {
            if (hasOwnProperty2.call(result2, key)) {
              result2[key].push(value);
            } else {
              baseAssignValue(result2, key, [value]);
            }
          });
          function includes(collection, value, fromIndex, guard) {
            collection = isArrayLike(collection) ? collection : values2(collection);
            fromIndex = fromIndex && !guard ? toInteger(fromIndex) : 0;
            var length = collection.length;
            if (fromIndex < 0) {
              fromIndex = nativeMax(length + fromIndex, 0);
            }
            return isString(collection) ? fromIndex <= length && collection.indexOf(value, fromIndex) > -1 : !!length && baseIndexOf(collection, value, fromIndex) > -1;
          }
          var invokeMap = baseRest(function(collection, path, args) {
            var index2 = -1, isFunc = typeof path == "function", result2 = isArrayLike(collection) ? Array2(collection.length) : [];
            baseEach(collection, function(value) {
              result2[++index2] = isFunc ? apply3(path, value, args) : baseInvoke(value, path, args);
            });
            return result2;
          });
          var keyBy = createAggregator(function(result2, value, key) {
            baseAssignValue(result2, key, value);
          });
          function map(collection, iteratee2) {
            var func = isArray(collection) ? arrayMap : baseMap;
            return func(collection, getIteratee(iteratee2, 3));
          }
          function orderBy(collection, iteratees, orders, guard) {
            if (collection == null) {
              return [];
            }
            if (!isArray(iteratees)) {
              iteratees = iteratees == null ? [] : [iteratees];
            }
            orders = guard ? undefined2 : orders;
            if (!isArray(orders)) {
              orders = orders == null ? [] : [orders];
            }
            return baseOrderBy(collection, iteratees, orders);
          }
          var partition3 = createAggregator(function(result2, value, key) {
            result2[key ? 0 : 1].push(value);
          }, function() {
            return [[], []];
          });
          function reduce(collection, iteratee2, accumulator) {
            var func = isArray(collection) ? arrayReduce : baseReduce, initAccum = arguments.length < 3;
            return func(collection, getIteratee(iteratee2, 4), accumulator, initAccum, baseEach);
          }
          function reduceRight(collection, iteratee2, accumulator) {
            var func = isArray(collection) ? arrayReduceRight : baseReduce, initAccum = arguments.length < 3;
            return func(collection, getIteratee(iteratee2, 4), accumulator, initAccum, baseEachRight);
          }
          function reject(collection, predicate) {
            var func = isArray(collection) ? arrayFilter : baseFilter;
            return func(collection, negate3(getIteratee(predicate, 3)));
          }
          function sample(collection) {
            var func = isArray(collection) ? arraySample : baseSample;
            return func(collection);
          }
          function sampleSize(collection, n3, guard) {
            if (guard ? isIterateeCall(collection, n3, guard) : n3 === undefined2) {
              n3 = 1;
            } else {
              n3 = toInteger(n3);
            }
            var func = isArray(collection) ? arraySampleSize : baseSampleSize;
            return func(collection, n3);
          }
          function shuffle(collection) {
            var func = isArray(collection) ? arrayShuffle : baseShuffle;
            return func(collection);
          }
          function size(collection) {
            if (collection == null) {
              return 0;
            }
            if (isArrayLike(collection)) {
              return isString(collection) ? stringSize(collection) : collection.length;
            }
            var tag = getTag(collection);
            if (tag == mapTag || tag == setTag) {
              return collection.size;
            }
            return baseKeys(collection).length;
          }
          function some(collection, predicate, guard) {
            var func = isArray(collection) ? arraySome : baseSome;
            if (guard && isIterateeCall(collection, predicate, guard)) {
              predicate = undefined2;
            }
            return func(collection, getIteratee(predicate, 3));
          }
          var sortBy = baseRest(function(collection, iteratees) {
            if (collection == null) {
              return [];
            }
            var length = iteratees.length;
            if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {
              iteratees = [];
            } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {
              iteratees = [iteratees[0]];
            }
            return baseOrderBy(collection, baseFlatten(iteratees, 1), []);
          });
          var now = ctxNow || function() {
            return root.Date.now();
          };
          function after(n3, func) {
            if (typeof func != "function") {
              throw new TypeError2(FUNC_ERROR_TEXT);
            }
            n3 = toInteger(n3);
            return function() {
              if (--n3 < 1) {
                return func.apply(this, arguments);
              }
            };
          }
          function ary(func, n3, guard) {
            n3 = guard ? undefined2 : n3;
            n3 = func && n3 == null ? func.length : n3;
            return createWrap(func, WRAP_ARY_FLAG, undefined2, undefined2, undefined2, undefined2, n3);
          }
          function before(n3, func) {
            var result2;
            if (typeof func != "function") {
              throw new TypeError2(FUNC_ERROR_TEXT);
            }
            n3 = toInteger(n3);
            return function() {
              if (--n3 > 0) {
                result2 = func.apply(this, arguments);
              }
              if (n3 <= 1) {
                func = undefined2;
              }
              return result2;
            };
          }
          var bind = baseRest(function(func, thisArg, partials) {
            var bitmask = WRAP_BIND_FLAG;
            if (partials.length) {
              var holders = replaceHolders(partials, getHolder(bind));
              bitmask |= WRAP_PARTIAL_FLAG;
            }
            return createWrap(func, bitmask, thisArg, partials, holders);
          });
          var bindKey = baseRest(function(object, key, partials) {
            var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;
            if (partials.length) {
              var holders = replaceHolders(partials, getHolder(bindKey));
              bitmask |= WRAP_PARTIAL_FLAG;
            }
            return createWrap(key, bitmask, object, partials, holders);
          });
          function curry(func, arity, guard) {
            arity = guard ? undefined2 : arity;
            var result2 = createWrap(func, WRAP_CURRY_FLAG, undefined2, undefined2, undefined2, undefined2, undefined2, arity);
            result2.placeholder = curry.placeholder;
            return result2;
          }
          function curryRight(func, arity, guard) {
            arity = guard ? undefined2 : arity;
            var result2 = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined2, undefined2, undefined2, undefined2, undefined2, arity);
            result2.placeholder = curryRight.placeholder;
            return result2;
          }
          function debounce3(func, wait, options) {
            var lastArgs, lastThis, maxWait, result2, timerId, lastCallTime, lastInvokeTime = 0, leading = false, maxing = false, trailing = true;
            if (typeof func != "function") {
              throw new TypeError2(FUNC_ERROR_TEXT);
            }
            wait = toNumber(wait) || 0;
            if (isObject(options)) {
              leading = !!options.leading;
              maxing = "maxWait" in options;
              maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
              trailing = "trailing" in options ? !!options.trailing : trailing;
            }
            function invokeFunc(time) {
              var args = lastArgs, thisArg = lastThis;
              lastArgs = lastThis = undefined2;
              lastInvokeTime = time;
              result2 = func.apply(thisArg, args);
              return result2;
            }
            function leadingEdge(time) {
              lastInvokeTime = time;
              timerId = setTimeout2(timerExpired, wait);
              return leading ? invokeFunc(time) : result2;
            }
            function remainingWait(time) {
              var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime, timeWaiting = wait - timeSinceLastCall;
              return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;
            }
            function shouldInvoke(time) {
              var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime;
              return lastCallTime === undefined2 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;
            }
            function timerExpired() {
              var time = now();
              if (shouldInvoke(time)) {
                return trailingEdge(time);
              }
              timerId = setTimeout2(timerExpired, remainingWait(time));
            }
            function trailingEdge(time) {
              timerId = undefined2;
              if (trailing && lastArgs) {
                return invokeFunc(time);
              }
              lastArgs = lastThis = undefined2;
              return result2;
            }
            function cancel() {
              if (timerId !== undefined2) {
                clearTimeout2(timerId);
              }
              lastInvokeTime = 0;
              lastArgs = lastCallTime = lastThis = timerId = undefined2;
            }
            function flush3() {
              return timerId === undefined2 ? result2 : trailingEdge(now());
            }
            function debounced() {
              var time = now(), isInvoking = shouldInvoke(time);
              lastArgs = arguments;
              lastThis = this;
              lastCallTime = time;
              if (isInvoking) {
                if (timerId === undefined2) {
                  return leadingEdge(lastCallTime);
                }
                if (maxing) {
                  clearTimeout2(timerId);
                  timerId = setTimeout2(timerExpired, wait);
                  return invokeFunc(lastCallTime);
                }
              }
              if (timerId === undefined2) {
                timerId = setTimeout2(timerExpired, wait);
              }
              return result2;
            }
            debounced.cancel = cancel;
            debounced.flush = flush3;
            return debounced;
          }
          var defer = baseRest(function(func, args) {
            return baseDelay(func, 1, args);
          });
          var delay = baseRest(function(func, wait, args) {
            return baseDelay(func, toNumber(wait) || 0, args);
          });
          function flip2(func) {
            return createWrap(func, WRAP_FLIP_FLAG);
          }
          function memoize(func, resolver) {
            if (typeof func != "function" || resolver != null && typeof resolver != "function") {
              throw new TypeError2(FUNC_ERROR_TEXT);
            }
            var memoized = function() {
              var args = arguments, key = resolver ? resolver.apply(this, args) : args[0], cache = memoized.cache;
              if (cache.has(key)) {
                return cache.get(key);
              }
              var result2 = func.apply(this, args);
              memoized.cache = cache.set(key, result2) || cache;
              return result2;
            };
            memoized.cache = new (memoize.Cache || MapCache)();
            return memoized;
          }
          memoize.Cache = MapCache;
          function negate3(predicate) {
            if (typeof predicate != "function") {
              throw new TypeError2(FUNC_ERROR_TEXT);
            }
            return function() {
              var args = arguments;
              switch (args.length) {
                case 0:
                  return !predicate.call(this);
                case 1:
                  return !predicate.call(this, args[0]);
                case 2:
                  return !predicate.call(this, args[0], args[1]);
                case 3:
                  return !predicate.call(this, args[0], args[1], args[2]);
              }
              return !predicate.apply(this, args);
            };
          }
          function once(func) {
            return before(2, func);
          }
          var overArgs = castRest(function(func, transforms2) {
            transforms2 = transforms2.length == 1 && isArray(transforms2[0]) ? arrayMap(transforms2[0], baseUnary(getIteratee())) : arrayMap(baseFlatten(transforms2, 1), baseUnary(getIteratee()));
            var funcsLength = transforms2.length;
            return baseRest(function(args) {
              var index2 = -1, length = nativeMin(args.length, funcsLength);
              while (++index2 < length) {
                args[index2] = transforms2[index2].call(this, args[index2]);
              }
              return apply3(func, this, args);
            });
          });
          var partial = baseRest(function(func, partials) {
            var holders = replaceHolders(partials, getHolder(partial));
            return createWrap(func, WRAP_PARTIAL_FLAG, undefined2, partials, holders);
          });
          var partialRight = baseRest(function(func, partials) {
            var holders = replaceHolders(partials, getHolder(partialRight));
            return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined2, partials, holders);
          });
          var rearg = flatRest(function(func, indexes) {
            return createWrap(func, WRAP_REARG_FLAG, undefined2, undefined2, undefined2, indexes);
          });
          function rest(func, start4) {
            if (typeof func != "function") {
              throw new TypeError2(FUNC_ERROR_TEXT);
            }
            start4 = start4 === undefined2 ? start4 : toInteger(start4);
            return baseRest(func, start4);
          }
          function spread(func, start4) {
            if (typeof func != "function") {
              throw new TypeError2(FUNC_ERROR_TEXT);
            }
            start4 = start4 == null ? 0 : nativeMax(toInteger(start4), 0);
            return baseRest(function(args) {
              var array = args[start4], otherArgs = castSlice(args, 0, start4);
              if (array) {
                arrayPush(otherArgs, array);
              }
              return apply3(func, this, otherArgs);
            });
          }
          function throttle(func, wait, options) {
            var leading = true, trailing = true;
            if (typeof func != "function") {
              throw new TypeError2(FUNC_ERROR_TEXT);
            }
            if (isObject(options)) {
              leading = "leading" in options ? !!options.leading : leading;
              trailing = "trailing" in options ? !!options.trailing : trailing;
            }
            return debounce3(func, wait, {
              "leading": leading,
              "maxWait": wait,
              "trailing": trailing
            });
          }
          function unary(func) {
            return ary(func, 1);
          }
          function wrap(value, wrapper) {
            return partial(castFunction(wrapper), value);
          }
          function castArray() {
            if (!arguments.length) {
              return [];
            }
            var value = arguments[0];
            return isArray(value) ? value : [value];
          }
          function clone(value) {
            return baseClone(value, CLONE_SYMBOLS_FLAG);
          }
          function cloneWith(value, customizer) {
            customizer = typeof customizer == "function" ? customizer : undefined2;
            return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);
          }
          function cloneDeep(value) {
            return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);
          }
          function cloneDeepWith(value, customizer) {
            customizer = typeof customizer == "function" ? customizer : undefined2;
            return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);
          }
          function conformsTo(object, source) {
            return source == null || baseConformsTo(object, source, keys(source));
          }
          function eq(value, other) {
            return value === other || value !== value && other !== other;
          }
          var gt = createRelationalOperation(baseGt);
          var gte = createRelationalOperation(function(value, other) {
            return value >= other;
          });
          var isArguments = baseIsArguments(function() {
            return arguments;
          }()) ? baseIsArguments : function(value) {
            return isObjectLike(value) && hasOwnProperty2.call(value, "callee") && !propertyIsEnumerable.call(value, "callee");
          };
          var isArray = Array2.isArray;
          var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;
          function isArrayLike(value) {
            return value != null && isLength(value.length) && !isFunction3(value);
          }
          function isArrayLikeObject(value) {
            return isObjectLike(value) && isArrayLike(value);
          }
          function isBoolean2(value) {
            return value === true || value === false || isObjectLike(value) && baseGetTag(value) == boolTag;
          }
          var isBuffer = nativeIsBuffer || stubFalse;
          var isDate2 = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;
          function isElement4(value) {
            return isObjectLike(value) && value.nodeType === 1 && !isPlainObject4(value);
          }
          function isEmpty(value) {
            if (value == null) {
              return true;
            }
            if (isArrayLike(value) && (isArray(value) || typeof value == "string" || typeof value.splice == "function" || isBuffer(value) || isTypedArray(value) || isArguments(value))) {
              return !value.length;
            }
            var tag = getTag(value);
            if (tag == mapTag || tag == setTag) {
              return !value.size;
            }
            if (isPrototype(value)) {
              return !baseKeys(value).length;
            }
            for (var key in value) {
              if (hasOwnProperty2.call(value, key)) {
                return false;
              }
            }
            return true;
          }
          function isEqual5(value, other) {
            return baseIsEqual(value, other);
          }
          function isEqualWith(value, other, customizer) {
            customizer = typeof customizer == "function" ? customizer : undefined2;
            var result2 = customizer ? customizer(value, other) : undefined2;
            return result2 === undefined2 ? baseIsEqual(value, other, undefined2, customizer) : !!result2;
          }
          function isError2(value) {
            if (!isObjectLike(value)) {
              return false;
            }
            var tag = baseGetTag(value);
            return tag == errorTag || tag == domExcTag || typeof value.message == "string" && typeof value.name == "string" && !isPlainObject4(value);
          }
          function isFinite2(value) {
            return typeof value == "number" && nativeIsFinite(value);
          }
          function isFunction3(value) {
            if (!isObject(value)) {
              return false;
            }
            var tag = baseGetTag(value);
            return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
          }
          function isInteger2(value) {
            return typeof value == "number" && value == toInteger(value);
          }
          function isLength(value) {
            return typeof value == "number" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
          }
          function isObject(value) {
            var type = typeof value;
            return value != null && (type == "object" || type == "function");
          }
          function isObjectLike(value) {
            return value != null && typeof value == "object";
          }
          var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;
          function isMatch(object, source) {
            return object === source || baseIsMatch(object, source, getMatchData(source));
          }
          function isMatchWith(object, source, customizer) {
            customizer = typeof customizer == "function" ? customizer : undefined2;
            return baseIsMatch(object, source, getMatchData(source), customizer);
          }
          function isNaN2(value) {
            return isNumber(value) && value != +value;
          }
          function isNative(value) {
            if (isMaskable(value)) {
              throw new Error2(CORE_ERROR_TEXT);
            }
            return baseIsNative(value);
          }
          function isNull(value) {
            return value === null;
          }
          function isNil(value) {
            return value == null;
          }
          function isNumber(value) {
            return typeof value == "number" || isObjectLike(value) && baseGetTag(value) == numberTag;
          }
          function isPlainObject4(value) {
            if (!isObjectLike(value) || baseGetTag(value) != objectTag) {
              return false;
            }
            var proto = getPrototype(value);
            if (proto === null) {
              return true;
            }
            var Ctor = hasOwnProperty2.call(proto, "constructor") && proto.constructor;
            return typeof Ctor == "function" && Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString;
          }
          var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;
          function isSafeInteger(value) {
            return isInteger2(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;
          }
          var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;
          function isString(value) {
            return typeof value == "string" || !isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag;
          }
          function isSymbol(value) {
            return typeof value == "symbol" || isObjectLike(value) && baseGetTag(value) == symbolTag;
          }
          var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;
          function isUndefined(value) {
            return value === undefined2;
          }
          function isWeakMap(value) {
            return isObjectLike(value) && getTag(value) == weakMapTag;
          }
          function isWeakSet(value) {
            return isObjectLike(value) && baseGetTag(value) == weakSetTag;
          }
          var lt = createRelationalOperation(baseLt);
          var lte = createRelationalOperation(function(value, other) {
            return value <= other;
          });
          function toArray2(value) {
            if (!value) {
              return [];
            }
            if (isArrayLike(value)) {
              return isString(value) ? stringToArray(value) : copyArray(value);
            }
            if (symIterator && value[symIterator]) {
              return iteratorToArray(value[symIterator]());
            }
            var tag = getTag(value), func = tag == mapTag ? mapToArray : tag == setTag ? setToArray : values2;
            return func(value);
          }
          function toFinite(value) {
            if (!value) {
              return value === 0 ? value : 0;
            }
            value = toNumber(value);
            if (value === INFINITY || value === -INFINITY) {
              var sign = value < 0 ? -1 : 1;
              return sign * MAX_INTEGER;
            }
            return value === value ? value : 0;
          }
          function toInteger(value) {
            var result2 = toFinite(value), remainder = result2 % 1;
            return result2 === result2 ? remainder ? result2 - remainder : result2 : 0;
          }
          function toLength(value) {
            return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;
          }
          function toNumber(value) {
            if (typeof value == "number") {
              return value;
            }
            if (isSymbol(value)) {
              return NAN;
            }
            if (isObject(value)) {
              var other = typeof value.valueOf == "function" ? value.valueOf() : value;
              value = isObject(other) ? other + "" : other;
            }
            if (typeof value != "string") {
              return value === 0 ? value : +value;
            }
            value = baseTrim(value);
            var isBinary = reIsBinary.test(value);
            return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;
          }
          function toPlainObject(value) {
            return copyObject(value, keysIn(value));
          }
          function toSafeInteger(value) {
            return value ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER) : value === 0 ? value : 0;
          }
          function toString2(value) {
            return value == null ? "" : baseToString(value);
          }
          var assign = createAssigner(function(object, source) {
            if (isPrototype(source) || isArrayLike(source)) {
              copyObject(source, keys(source), object);
              return;
            }
            for (var key in source) {
              if (hasOwnProperty2.call(source, key)) {
                assignValue(object, key, source[key]);
              }
            }
          });
          var assignIn = createAssigner(function(object, source) {
            copyObject(source, keysIn(source), object);
          });
          var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {
            copyObject(source, keysIn(source), object, customizer);
          });
          var assignWith = createAssigner(function(object, source, srcIndex, customizer) {
            copyObject(source, keys(source), object, customizer);
          });
          var at = flatRest(baseAt);
          function create2(prototype, properties) {
            var result2 = baseCreate(prototype);
            return properties == null ? result2 : baseAssign(result2, properties);
          }
          var defaults2 = baseRest(function(object, sources) {
            object = Object2(object);
            var index2 = -1;
            var length = sources.length;
            var guard = length > 2 ? sources[2] : undefined2;
            if (guard && isIterateeCall(sources[0], sources[1], guard)) {
              length = 1;
            }
            while (++index2 < length) {
              var source = sources[index2];
              var props = keysIn(source);
              var propsIndex = -1;
              var propsLength = props.length;
              while (++propsIndex < propsLength) {
                var key = props[propsIndex];
                var value = object[key];
                if (value === undefined2 || eq(value, objectProto[key]) && !hasOwnProperty2.call(object, key)) {
                  object[key] = source[key];
                }
              }
            }
            return object;
          });
          var defaultsDeep = baseRest(function(args) {
            args.push(undefined2, customDefaultsMerge);
            return apply3(mergeWith, undefined2, args);
          });
          function findKey(object, predicate) {
            return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);
          }
          function findLastKey(object, predicate) {
            return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);
          }
          function forIn(object, iteratee2) {
            return object == null ? object : baseFor(object, getIteratee(iteratee2, 3), keysIn);
          }
          function forInRight(object, iteratee2) {
            return object == null ? object : baseForRight(object, getIteratee(iteratee2, 3), keysIn);
          }
          function forOwn(object, iteratee2) {
            return object && baseForOwn(object, getIteratee(iteratee2, 3));
          }
          function forOwnRight(object, iteratee2) {
            return object && baseForOwnRight(object, getIteratee(iteratee2, 3));
          }
          function functions(object) {
            return object == null ? [] : baseFunctions(object, keys(object));
          }
          function functionsIn(object) {
            return object == null ? [] : baseFunctions(object, keysIn(object));
          }
          function get2(object, path, defaultValue) {
            var result2 = object == null ? undefined2 : baseGet(object, path);
            return result2 === undefined2 ? defaultValue : result2;
          }
          function has(object, path) {
            return object != null && hasPath(object, path, baseHas);
          }
          function hasIn(object, path) {
            return object != null && hasPath(object, path, baseHasIn);
          }
          var invert = createInverter(function(result2, value, key) {
            if (value != null && typeof value.toString != "function") {
              value = nativeObjectToString.call(value);
            }
            result2[value] = key;
          }, constant(identity));
          var invertBy = createInverter(function(result2, value, key) {
            if (value != null && typeof value.toString != "function") {
              value = nativeObjectToString.call(value);
            }
            if (hasOwnProperty2.call(result2, value)) {
              result2[value].push(key);
            } else {
              result2[value] = [key];
            }
          }, getIteratee);
          var invoke = baseRest(baseInvoke);
          function keys(object) {
            return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);
          }
          function keysIn(object) {
            return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);
          }
          function mapKeys(object, iteratee2) {
            var result2 = {};
            iteratee2 = getIteratee(iteratee2, 3);
            baseForOwn(object, function(value, key, object2) {
              baseAssignValue(result2, iteratee2(value, key, object2), value);
            });
            return result2;
          }
          function mapValues(object, iteratee2) {
            var result2 = {};
            iteratee2 = getIteratee(iteratee2, 3);
            baseForOwn(object, function(value, key, object2) {
              baseAssignValue(result2, key, iteratee2(value, key, object2));
            });
            return result2;
          }
          var merge = createAssigner(function(object, source, srcIndex) {
            baseMerge(object, source, srcIndex);
          });
          var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {
            baseMerge(object, source, srcIndex, customizer);
          });
          var omit = flatRest(function(object, paths) {
            var result2 = {};
            if (object == null) {
              return result2;
            }
            var isDeep = false;
            paths = arrayMap(paths, function(path) {
              path = castPath(path, object);
              isDeep || (isDeep = path.length > 1);
              return path;
            });
            copyObject(object, getAllKeysIn(object), result2);
            if (isDeep) {
              result2 = baseClone(result2, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);
            }
            var length = paths.length;
            while (length--) {
              baseUnset(result2, paths[length]);
            }
            return result2;
          });
          function omitBy(object, predicate) {
            return pickBy(object, negate3(getIteratee(predicate)));
          }
          var pick = flatRest(function(object, paths) {
            return object == null ? {} : basePick(object, paths);
          });
          function pickBy(object, predicate) {
            if (object == null) {
              return {};
            }
            var props = arrayMap(getAllKeysIn(object), function(prop) {
              return [prop];
            });
            predicate = getIteratee(predicate);
            return basePickBy(object, props, function(value, path) {
              return predicate(value, path[0]);
            });
          }
          function result(object, path, defaultValue) {
            path = castPath(path, object);
            var index2 = -1, length = path.length;
            if (!length) {
              length = 1;
              object = undefined2;
            }
            while (++index2 < length) {
              var value = object == null ? undefined2 : object[toKey(path[index2])];
              if (value === undefined2) {
                index2 = length;
                value = defaultValue;
              }
              object = isFunction3(value) ? value.call(object) : value;
            }
            return object;
          }
          function set(object, path, value) {
            return object == null ? object : baseSet(object, path, value);
          }
          function setWith(object, path, value, customizer) {
            customizer = typeof customizer == "function" ? customizer : undefined2;
            return object == null ? object : baseSet(object, path, value, customizer);
          }
          var toPairs = createToPairs(keys);
          var toPairsIn = createToPairs(keysIn);
          function transform(object, iteratee2, accumulator) {
            var isArr = isArray(object), isArrLike = isArr || isBuffer(object) || isTypedArray(object);
            iteratee2 = getIteratee(iteratee2, 4);
            if (accumulator == null) {
              var Ctor = object && object.constructor;
              if (isArrLike) {
                accumulator = isArr ? new Ctor() : [];
              } else if (isObject(object)) {
                accumulator = isFunction3(Ctor) ? baseCreate(getPrototype(object)) : {};
              } else {
                accumulator = {};
              }
            }
            (isArrLike ? arrayEach : baseForOwn)(object, function(value, index2, object2) {
              return iteratee2(accumulator, value, index2, object2);
            });
            return accumulator;
          }
          function unset(object, path) {
            return object == null ? true : baseUnset(object, path);
          }
          function update2(object, path, updater) {
            return object == null ? object : baseUpdate(object, path, castFunction(updater));
          }
          function updateWith(object, path, updater, customizer) {
            customizer = typeof customizer == "function" ? customizer : undefined2;
            return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);
          }
          function values2(object) {
            return object == null ? [] : baseValues(object, keys(object));
          }
          function valuesIn(object) {
            return object == null ? [] : baseValues(object, keysIn(object));
          }
          function clamp(number, lower, upper) {
            if (upper === undefined2) {
              upper = lower;
              lower = undefined2;
            }
            if (upper !== undefined2) {
              upper = toNumber(upper);
              upper = upper === upper ? upper : 0;
            }
            if (lower !== undefined2) {
              lower = toNumber(lower);
              lower = lower === lower ? lower : 0;
            }
            return baseClamp(toNumber(number), lower, upper);
          }
          function inRange(number, start4, end3) {
            start4 = toFinite(start4);
            if (end3 === undefined2) {
              end3 = start4;
              start4 = 0;
            } else {
              end3 = toFinite(end3);
            }
            number = toNumber(number);
            return baseInRange(number, start4, end3);
          }
          function random(lower, upper, floating) {
            if (floating && typeof floating != "boolean" && isIterateeCall(lower, upper, floating)) {
              upper = floating = undefined2;
            }
            if (floating === undefined2) {
              if (typeof upper == "boolean") {
                floating = upper;
                upper = undefined2;
              } else if (typeof lower == "boolean") {
                floating = lower;
                lower = undefined2;
              }
            }
            if (lower === undefined2 && upper === undefined2) {
              lower = 0;
              upper = 1;
            } else {
              lower = toFinite(lower);
              if (upper === undefined2) {
                upper = lower;
                lower = 0;
              } else {
                upper = toFinite(upper);
              }
            }
            if (lower > upper) {
              var temp = lower;
              lower = upper;
              upper = temp;
            }
            if (floating || lower % 1 || upper % 1) {
              var rand = nativeRandom();
              return nativeMin(lower + rand * (upper - lower + freeParseFloat("1e-" + ((rand + "").length - 1))), upper);
            }
            return baseRandom(lower, upper);
          }
          var camelCase = createCompounder(function(result2, word, index2) {
            word = word.toLowerCase();
            return result2 + (index2 ? capitalize(word) : word);
          });
          function capitalize(string) {
            return upperFirst(toString2(string).toLowerCase());
          }
          function deburr(string) {
            string = toString2(string);
            return string && string.replace(reLatin, deburrLetter).replace(reComboMark, "");
          }
          function endsWith(string, target, position3) {
            string = toString2(string);
            target = baseToString(target);
            var length = string.length;
            position3 = position3 === undefined2 ? length : baseClamp(toInteger(position3), 0, length);
            var end3 = position3;
            position3 -= target.length;
            return position3 >= 0 && string.slice(position3, end3) == target;
          }
          function escape2(string) {
            string = toString2(string);
            return string && reHasUnescapedHtml.test(string) ? string.replace(reUnescapedHtml, escapeHtmlChar) : string;
          }
          function escapeRegExp(string) {
            string = toString2(string);
            return string && reHasRegExpChar.test(string) ? string.replace(reRegExpChar, "\\$&") : string;
          }
          var kebabCase = createCompounder(function(result2, word, index2) {
            return result2 + (index2 ? "-" : "") + word.toLowerCase();
          });
          var lowerCase = createCompounder(function(result2, word, index2) {
            return result2 + (index2 ? " " : "") + word.toLowerCase();
          });
          var lowerFirst = createCaseFirst("toLowerCase");
          function pad(string, length, chars) {
            string = toString2(string);
            length = toInteger(length);
            var strLength = length ? stringSize(string) : 0;
            if (!length || strLength >= length) {
              return string;
            }
            var mid = (length - strLength) / 2;
            return createPadding(nativeFloor(mid), chars) + string + createPadding(nativeCeil(mid), chars);
          }
          function padEnd(string, length, chars) {
            string = toString2(string);
            length = toInteger(length);
            var strLength = length ? stringSize(string) : 0;
            return length && strLength < length ? string + createPadding(length - strLength, chars) : string;
          }
          function padStart(string, length, chars) {
            string = toString2(string);
            length = toInteger(length);
            var strLength = length ? stringSize(string) : 0;
            return length && strLength < length ? createPadding(length - strLength, chars) + string : string;
          }
          function parseInt2(string, radix, guard) {
            if (guard || radix == null) {
              radix = 0;
            } else if (radix) {
              radix = +radix;
            }
            return nativeParseInt(toString2(string).replace(reTrimStart, ""), radix || 0);
          }
          function repeat(string, n3, guard) {
            if (guard ? isIterateeCall(string, n3, guard) : n3 === undefined2) {
              n3 = 1;
            } else {
              n3 = toInteger(n3);
            }
            return baseRepeat(toString2(string), n3);
          }
          function replace() {
            var args = arguments, string = toString2(args[0]);
            return args.length < 3 ? string : string.replace(args[1], args[2]);
          }
          var snakeCase = createCompounder(function(result2, word, index2) {
            return result2 + (index2 ? "_" : "") + word.toLowerCase();
          });
          function split(string, separator, limit) {
            if (limit && typeof limit != "number" && isIterateeCall(string, separator, limit)) {
              separator = limit = undefined2;
            }
            limit = limit === undefined2 ? MAX_ARRAY_LENGTH : limit >>> 0;
            if (!limit) {
              return [];
            }
            string = toString2(string);
            if (string && (typeof separator == "string" || separator != null && !isRegExp(separator))) {
              separator = baseToString(separator);
              if (!separator && hasUnicode(string)) {
                return castSlice(stringToArray(string), 0, limit);
              }
            }
            return string.split(separator, limit);
          }
          var startCase = createCompounder(function(result2, word, index2) {
            return result2 + (index2 ? " " : "") + upperFirst(word);
          });
          function startsWith(string, target, position3) {
            string = toString2(string);
            position3 = position3 == null ? 0 : baseClamp(toInteger(position3), 0, string.length);
            target = baseToString(target);
            return string.slice(position3, position3 + target.length) == target;
          }
          function template(string, options, guard) {
            var settings = lodash.templateSettings;
            if (guard && isIterateeCall(string, options, guard)) {
              options = undefined2;
            }
            string = toString2(string);
            options = assignInWith({}, options, settings, customDefaultsAssignIn);
            var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn), importsKeys = keys(imports), importsValues = baseValues(imports, importsKeys);
            var isEscaping, isEvaluating, index2 = 0, interpolate = options.interpolate || reNoMatch, source = "__p += '";
            var reDelimiters = RegExp2((options.escape || reNoMatch).source + "|" + interpolate.source + "|" + (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + "|" + (options.evaluate || reNoMatch).source + "|$", "g");
            var sourceURL = "//# sourceURL=" + (hasOwnProperty2.call(options, "sourceURL") ? (options.sourceURL + "").replace(/\s/g, " ") : "lodash.templateSources[" + ++templateCounter + "]") + "\n";
            string.replace(reDelimiters, function(match2, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset4) {
              interpolateValue || (interpolateValue = esTemplateValue);
              source += string.slice(index2, offset4).replace(reUnescapedString, escapeStringChar);
              if (escapeValue) {
                isEscaping = true;
                source += "' +\n__e(" + escapeValue + ") +\n'";
              }
              if (evaluateValue) {
                isEvaluating = true;
                source += "';\n" + evaluateValue + ";\n__p += '";
              }
              if (interpolateValue) {
                source += "' +\n((__t = (" + interpolateValue + ")) == null ? '' : __t) +\n'";
              }
              index2 = offset4 + match2.length;
              return match2;
            });
            source += "';\n";
            var variable = hasOwnProperty2.call(options, "variable") && options.variable;
            if (!variable) {
              source = "with (obj) {\n" + source + "\n}\n";
            } else if (reForbiddenIdentifierChars.test(variable)) {
              throw new Error2(INVALID_TEMPL_VAR_ERROR_TEXT);
            }
            source = (isEvaluating ? source.replace(reEmptyStringLeading, "") : source).replace(reEmptyStringMiddle, "$1").replace(reEmptyStringTrailing, "$1;");
            source = "function(" + (variable || "obj") + ") {\n" + (variable ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (isEscaping ? ", __e = _.escape" : "") + (isEvaluating ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + source + "return __p\n}";
            var result2 = attempt(function() {
              return Function2(importsKeys, sourceURL + "return " + source).apply(undefined2, importsValues);
            });
            result2.source = source;
            if (isError2(result2)) {
              throw result2;
            }
            return result2;
          }
          function toLower(value) {
            return toString2(value).toLowerCase();
          }
          function toUpper(value) {
            return toString2(value).toUpperCase();
          }
          function trim(string, chars, guard) {
            string = toString2(string);
            if (string && (guard || chars === undefined2)) {
              return baseTrim(string);
            }
            if (!string || !(chars = baseToString(chars))) {
              return string;
            }
            var strSymbols = stringToArray(string), chrSymbols = stringToArray(chars), start4 = charsStartIndex(strSymbols, chrSymbols), end3 = charsEndIndex(strSymbols, chrSymbols) + 1;
            return castSlice(strSymbols, start4, end3).join("");
          }
          function trimEnd(string, chars, guard) {
            string = toString2(string);
            if (string && (guard || chars === undefined2)) {
              return string.slice(0, trimmedEndIndex(string) + 1);
            }
            if (!string || !(chars = baseToString(chars))) {
              return string;
            }
            var strSymbols = stringToArray(string), end3 = charsEndIndex(strSymbols, stringToArray(chars)) + 1;
            return castSlice(strSymbols, 0, end3).join("");
          }
          function trimStart(string, chars, guard) {
            string = toString2(string);
            if (string && (guard || chars === undefined2)) {
              return string.replace(reTrimStart, "");
            }
            if (!string || !(chars = baseToString(chars))) {
              return string;
            }
            var strSymbols = stringToArray(string), start4 = charsStartIndex(strSymbols, stringToArray(chars));
            return castSlice(strSymbols, start4).join("");
          }
          function truncate(string, options) {
            var length = DEFAULT_TRUNC_LENGTH, omission = DEFAULT_TRUNC_OMISSION;
            if (isObject(options)) {
              var separator = "separator" in options ? options.separator : separator;
              length = "length" in options ? toInteger(options.length) : length;
              omission = "omission" in options ? baseToString(options.omission) : omission;
            }
            string = toString2(string);
            var strLength = string.length;
            if (hasUnicode(string)) {
              var strSymbols = stringToArray(string);
              strLength = strSymbols.length;
            }
            if (length >= strLength) {
              return string;
            }
            var end3 = length - stringSize(omission);
            if (end3 < 1) {
              return omission;
            }
            var result2 = strSymbols ? castSlice(strSymbols, 0, end3).join("") : string.slice(0, end3);
            if (separator === undefined2) {
              return result2 + omission;
            }
            if (strSymbols) {
              end3 += result2.length - end3;
            }
            if (isRegExp(separator)) {
              if (string.slice(end3).search(separator)) {
                var match2, substring = result2;
                if (!separator.global) {
                  separator = RegExp2(separator.source, toString2(reFlags.exec(separator)) + "g");
                }
                separator.lastIndex = 0;
                while (match2 = separator.exec(substring)) {
                  var newEnd = match2.index;
                }
                result2 = result2.slice(0, newEnd === undefined2 ? end3 : newEnd);
              }
            } else if (string.indexOf(baseToString(separator), end3) != end3) {
              var index2 = result2.lastIndexOf(separator);
              if (index2 > -1) {
                result2 = result2.slice(0, index2);
              }
            }
            return result2 + omission;
          }
          function unescape2(string) {
            string = toString2(string);
            return string && reHasEscapedHtml.test(string) ? string.replace(reEscapedHtml, unescapeHtmlChar) : string;
          }
          var upperCase = createCompounder(function(result2, word, index2) {
            return result2 + (index2 ? " " : "") + word.toUpperCase();
          });
          var upperFirst = createCaseFirst("toUpperCase");
          function words(string, pattern, guard) {
            string = toString2(string);
            pattern = guard ? undefined2 : pattern;
            if (pattern === undefined2) {
              return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);
            }
            return string.match(pattern) || [];
          }
          var attempt = baseRest(function(func, args) {
            try {
              return apply3(func, undefined2, args);
            } catch (e2) {
              return isError2(e2) ? e2 : new Error2(e2);
            }
          });
          var bindAll = flatRest(function(object, methodNames) {
            arrayEach(methodNames, function(key) {
              key = toKey(key);
              baseAssignValue(object, key, bind(object[key], object));
            });
            return object;
          });
          function cond(pairs) {
            var length = pairs == null ? 0 : pairs.length, toIteratee = getIteratee();
            pairs = !length ? [] : arrayMap(pairs, function(pair) {
              if (typeof pair[1] != "function") {
                throw new TypeError2(FUNC_ERROR_TEXT);
              }
              return [toIteratee(pair[0]), pair[1]];
            });
            return baseRest(function(args) {
              var index2 = -1;
              while (++index2 < length) {
                var pair = pairs[index2];
                if (apply3(pair[0], this, args)) {
                  return apply3(pair[1], this, args);
                }
              }
            });
          }
          function conforms(source) {
            return baseConforms(baseClone(source, CLONE_DEEP_FLAG));
          }
          function constant(value) {
            return function() {
              return value;
            };
          }
          function defaultTo(value, defaultValue) {
            return value == null || value !== value ? defaultValue : value;
          }
          var flow = createFlow();
          var flowRight = createFlow(true);
          function identity(value) {
            return value;
          }
          function iteratee(func) {
            return baseIteratee(typeof func == "function" ? func : baseClone(func, CLONE_DEEP_FLAG));
          }
          function matches(source) {
            return baseMatches(baseClone(source, CLONE_DEEP_FLAG));
          }
          function matchesProperty(path, srcValue) {
            return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));
          }
          var method = baseRest(function(path, args) {
            return function(object) {
              return baseInvoke(object, path, args);
            };
          });
          var methodOf = baseRest(function(object, args) {
            return function(path) {
              return baseInvoke(object, path, args);
            };
          });
          function mixin(object, source, options) {
            var props = keys(source), methodNames = baseFunctions(source, props);
            if (options == null && !(isObject(source) && (methodNames.length || !props.length))) {
              options = source;
              source = object;
              object = this;
              methodNames = baseFunctions(source, keys(source));
            }
            var chain2 = !(isObject(options) && "chain" in options) || !!options.chain, isFunc = isFunction3(object);
            arrayEach(methodNames, function(methodName) {
              var func = source[methodName];
              object[methodName] = func;
              if (isFunc) {
                object.prototype[methodName] = function() {
                  var chainAll = this.__chain__;
                  if (chain2 || chainAll) {
                    var result2 = object(this.__wrapped__), actions = result2.__actions__ = copyArray(this.__actions__);
                    actions.push({ "func": func, "args": arguments, "thisArg": object });
                    result2.__chain__ = chainAll;
                    return result2;
                  }
                  return func.apply(object, arrayPush([this.value()], arguments));
                };
              }
            });
            return object;
          }
          function noConflict() {
            if (root._ === this) {
              root._ = oldDash;
            }
            return this;
          }
          function noop3() {
          }
          function nthArg(n3) {
            n3 = toInteger(n3);
            return baseRest(function(args) {
              return baseNth(args, n3);
            });
          }
          var over = createOver(arrayMap);
          var overEvery = createOver(arrayEvery);
          var overSome = createOver(arraySome);
          function property(path) {
            return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);
          }
          function propertyOf(object) {
            return function(path) {
              return object == null ? undefined2 : baseGet(object, path);
            };
          }
          var range = createRange();
          var rangeRight = createRange(true);
          function stubArray() {
            return [];
          }
          function stubFalse() {
            return false;
          }
          function stubObject() {
            return {};
          }
          function stubString() {
            return "";
          }
          function stubTrue() {
            return true;
          }
          function times(n3, iteratee2) {
            n3 = toInteger(n3);
            if (n3 < 1 || n3 > MAX_SAFE_INTEGER) {
              return [];
            }
            var index2 = MAX_ARRAY_LENGTH, length = nativeMin(n3, MAX_ARRAY_LENGTH);
            iteratee2 = getIteratee(iteratee2);
            n3 -= MAX_ARRAY_LENGTH;
            var result2 = baseTimes(length, iteratee2);
            while (++index2 < n3) {
              iteratee2(index2);
            }
            return result2;
          }
          function toPath(value) {
            if (isArray(value)) {
              return arrayMap(value, toKey);
            }
            return isSymbol(value) ? [value] : copyArray(stringToPath(toString2(value)));
          }
          function uniqueId(prefix3) {
            var id = ++idCounter2;
            return toString2(prefix3) + id;
          }
          var add3 = createMathOperation(function(augend, addend) {
            return augend + addend;
          }, 0);
          var ceil = createRound("ceil");
          var divide = createMathOperation(function(dividend, divisor) {
            return dividend / divisor;
          }, 1);
          var floor = createRound("floor");
          function max2(array) {
            return array && array.length ? baseExtremum(array, identity, baseGt) : undefined2;
          }
          function maxBy(array, iteratee2) {
            return array && array.length ? baseExtremum(array, getIteratee(iteratee2, 2), baseGt) : undefined2;
          }
          function mean(array) {
            return baseMean(array, identity);
          }
          function meanBy(array, iteratee2) {
            return baseMean(array, getIteratee(iteratee2, 2));
          }
          function min2(array) {
            return array && array.length ? baseExtremum(array, identity, baseLt) : undefined2;
          }
          function minBy(array, iteratee2) {
            return array && array.length ? baseExtremum(array, getIteratee(iteratee2, 2), baseLt) : undefined2;
          }
          var multiply = createMathOperation(function(multiplier, multiplicand) {
            return multiplier * multiplicand;
          }, 1);
          var round2 = createRound("round");
          var subtract3 = createMathOperation(function(minuend, subtrahend) {
            return minuend - subtrahend;
          }, 0);
          function sum(array) {
            return array && array.length ? baseSum(array, identity) : 0;
          }
          function sumBy(array, iteratee2) {
            return array && array.length ? baseSum(array, getIteratee(iteratee2, 2)) : 0;
          }
          lodash.after = after;
          lodash.ary = ary;
          lodash.assign = assign;
          lodash.assignIn = assignIn;
          lodash.assignInWith = assignInWith;
          lodash.assignWith = assignWith;
          lodash.at = at;
          lodash.before = before;
          lodash.bind = bind;
          lodash.bindAll = bindAll;
          lodash.bindKey = bindKey;
          lodash.castArray = castArray;
          lodash.chain = chain;
          lodash.chunk = chunk;
          lodash.compact = compact;
          lodash.concat = concat;
          lodash.cond = cond;
          lodash.conforms = conforms;
          lodash.constant = constant;
          lodash.countBy = countBy;
          lodash.create = create2;
          lodash.curry = curry;
          lodash.curryRight = curryRight;
          lodash.debounce = debounce3;
          lodash.defaults = defaults2;
          lodash.defaultsDeep = defaultsDeep;
          lodash.defer = defer;
          lodash.delay = delay;
          lodash.difference = difference;
          lodash.differenceBy = differenceBy;
          lodash.differenceWith = differenceWith;
          lodash.drop = drop5;
          lodash.dropRight = dropRight;
          lodash.dropRightWhile = dropRightWhile;
          lodash.dropWhile = dropWhile;
          lodash.fill = fill;
          lodash.filter = filter;
          lodash.flatMap = flatMap;
          lodash.flatMapDeep = flatMapDeep;
          lodash.flatMapDepth = flatMapDepth;
          lodash.flatten = flatten;
          lodash.flattenDeep = flattenDeep;
          lodash.flattenDepth = flattenDepth;
          lodash.flip = flip2;
          lodash.flow = flow;
          lodash.flowRight = flowRight;
          lodash.fromPairs = fromPairs;
          lodash.functions = functions;
          lodash.functionsIn = functionsIn;
          lodash.groupBy = groupBy3;
          lodash.initial = initial;
          lodash.intersection = intersection;
          lodash.intersectionBy = intersectionBy;
          lodash.intersectionWith = intersectionWith;
          lodash.invert = invert;
          lodash.invertBy = invertBy;
          lodash.invokeMap = invokeMap;
          lodash.iteratee = iteratee;
          lodash.keyBy = keyBy;
          lodash.keys = keys;
          lodash.keysIn = keysIn;
          lodash.map = map;
          lodash.mapKeys = mapKeys;
          lodash.mapValues = mapValues;
          lodash.matches = matches;
          lodash.matchesProperty = matchesProperty;
          lodash.memoize = memoize;
          lodash.merge = merge;
          lodash.mergeWith = mergeWith;
          lodash.method = method;
          lodash.methodOf = methodOf;
          lodash.mixin = mixin;
          lodash.negate = negate3;
          lodash.nthArg = nthArg;
          lodash.omit = omit;
          lodash.omitBy = omitBy;
          lodash.once = once;
          lodash.orderBy = orderBy;
          lodash.over = over;
          lodash.overArgs = overArgs;
          lodash.overEvery = overEvery;
          lodash.overSome = overSome;
          lodash.partial = partial;
          lodash.partialRight = partialRight;
          lodash.partition = partition3;
          lodash.pick = pick;
          lodash.pickBy = pickBy;
          lodash.property = property;
          lodash.propertyOf = propertyOf;
          lodash.pull = pull;
          lodash.pullAll = pullAll;
          lodash.pullAllBy = pullAllBy;
          lodash.pullAllWith = pullAllWith;
          lodash.pullAt = pullAt;
          lodash.range = range;
          lodash.rangeRight = rangeRight;
          lodash.rearg = rearg;
          lodash.reject = reject;
          lodash.remove = remove;
          lodash.rest = rest;
          lodash.reverse = reverse;
          lodash.sampleSize = sampleSize;
          lodash.set = set;
          lodash.setWith = setWith;
          lodash.shuffle = shuffle;
          lodash.slice = slice;
          lodash.sortBy = sortBy;
          lodash.sortedUniq = sortedUniq;
          lodash.sortedUniqBy = sortedUniqBy;
          lodash.split = split;
          lodash.spread = spread;
          lodash.tail = tail;
          lodash.take = take;
          lodash.takeRight = takeRight;
          lodash.takeRightWhile = takeRightWhile;
          lodash.takeWhile = takeWhile;
          lodash.tap = tap;
          lodash.throttle = throttle;
          lodash.thru = thru;
          lodash.toArray = toArray2;
          lodash.toPairs = toPairs;
          lodash.toPairsIn = toPairsIn;
          lodash.toPath = toPath;
          lodash.toPlainObject = toPlainObject;
          lodash.transform = transform;
          lodash.unary = unary;
          lodash.union = union;
          lodash.unionBy = unionBy;
          lodash.unionWith = unionWith;
          lodash.uniq = uniq;
          lodash.uniqBy = uniqBy;
          lodash.uniqWith = uniqWith;
          lodash.unset = unset;
          lodash.unzip = unzip;
          lodash.unzipWith = unzipWith;
          lodash.update = update2;
          lodash.updateWith = updateWith;
          lodash.values = values2;
          lodash.valuesIn = valuesIn;
          lodash.without = without;
          lodash.words = words;
          lodash.wrap = wrap;
          lodash.xor = xor;
          lodash.xorBy = xorBy;
          lodash.xorWith = xorWith;
          lodash.zip = zip;
          lodash.zipObject = zipObject;
          lodash.zipObjectDeep = zipObjectDeep;
          lodash.zipWith = zipWith;
          lodash.entries = toPairs;
          lodash.entriesIn = toPairsIn;
          lodash.extend = assignIn;
          lodash.extendWith = assignInWith;
          mixin(lodash, lodash);
          lodash.add = add3;
          lodash.attempt = attempt;
          lodash.camelCase = camelCase;
          lodash.capitalize = capitalize;
          lodash.ceil = ceil;
          lodash.clamp = clamp;
          lodash.clone = clone;
          lodash.cloneDeep = cloneDeep;
          lodash.cloneDeepWith = cloneDeepWith;
          lodash.cloneWith = cloneWith;
          lodash.conformsTo = conformsTo;
          lodash.deburr = deburr;
          lodash.defaultTo = defaultTo;
          lodash.divide = divide;
          lodash.endsWith = endsWith;
          lodash.eq = eq;
          lodash.escape = escape2;
          lodash.escapeRegExp = escapeRegExp;
          lodash.every = every;
          lodash.find = find2;
          lodash.findIndex = findIndex2;
          lodash.findKey = findKey;
          lodash.findLast = findLast;
          lodash.findLastIndex = findLastIndex;
          lodash.findLastKey = findLastKey;
          lodash.floor = floor;
          lodash.forEach = forEach;
          lodash.forEachRight = forEachRight;
          lodash.forIn = forIn;
          lodash.forInRight = forInRight;
          lodash.forOwn = forOwn;
          lodash.forOwnRight = forOwnRight;
          lodash.get = get2;
          lodash.gt = gt;
          lodash.gte = gte;
          lodash.has = has;
          lodash.hasIn = hasIn;
          lodash.head = head;
          lodash.identity = identity;
          lodash.includes = includes;
          lodash.indexOf = indexOf;
          lodash.inRange = inRange;
          lodash.invoke = invoke;
          lodash.isArguments = isArguments;
          lodash.isArray = isArray;
          lodash.isArrayBuffer = isArrayBuffer;
          lodash.isArrayLike = isArrayLike;
          lodash.isArrayLikeObject = isArrayLikeObject;
          lodash.isBoolean = isBoolean2;
          lodash.isBuffer = isBuffer;
          lodash.isDate = isDate2;
          lodash.isElement = isElement4;
          lodash.isEmpty = isEmpty;
          lodash.isEqual = isEqual5;
          lodash.isEqualWith = isEqualWith;
          lodash.isError = isError2;
          lodash.isFinite = isFinite2;
          lodash.isFunction = isFunction3;
          lodash.isInteger = isInteger2;
          lodash.isLength = isLength;
          lodash.isMap = isMap;
          lodash.isMatch = isMatch;
          lodash.isMatchWith = isMatchWith;
          lodash.isNaN = isNaN2;
          lodash.isNative = isNative;
          lodash.isNil = isNil;
          lodash.isNull = isNull;
          lodash.isNumber = isNumber;
          lodash.isObject = isObject;
          lodash.isObjectLike = isObjectLike;
          lodash.isPlainObject = isPlainObject4;
          lodash.isRegExp = isRegExp;
          lodash.isSafeInteger = isSafeInteger;
          lodash.isSet = isSet;
          lodash.isString = isString;
          lodash.isSymbol = isSymbol;
          lodash.isTypedArray = isTypedArray;
          lodash.isUndefined = isUndefined;
          lodash.isWeakMap = isWeakMap;
          lodash.isWeakSet = isWeakSet;
          lodash.join = join;
          lodash.kebabCase = kebabCase;
          lodash.last = last;
          lodash.lastIndexOf = lastIndexOf;
          lodash.lowerCase = lowerCase;
          lodash.lowerFirst = lowerFirst;
          lodash.lt = lt;
          lodash.lte = lte;
          lodash.max = max2;
          lodash.maxBy = maxBy;
          lodash.mean = mean;
          lodash.meanBy = meanBy;
          lodash.min = min2;
          lodash.minBy = minBy;
          lodash.stubArray = stubArray;
          lodash.stubFalse = stubFalse;
          lodash.stubObject = stubObject;
          lodash.stubString = stubString;
          lodash.stubTrue = stubTrue;
          lodash.multiply = multiply;
          lodash.nth = nth;
          lodash.noConflict = noConflict;
          lodash.noop = noop3;
          lodash.now = now;
          lodash.pad = pad;
          lodash.padEnd = padEnd;
          lodash.padStart = padStart;
          lodash.parseInt = parseInt2;
          lodash.random = random;
          lodash.reduce = reduce;
          lodash.reduceRight = reduceRight;
          lodash.repeat = repeat;
          lodash.replace = replace;
          lodash.result = result;
          lodash.round = round2;
          lodash.runInContext = runInContext2;
          lodash.sample = sample;
          lodash.size = size;
          lodash.snakeCase = snakeCase;
          lodash.some = some;
          lodash.sortedIndex = sortedIndex;
          lodash.sortedIndexBy = sortedIndexBy;
          lodash.sortedIndexOf = sortedIndexOf;
          lodash.sortedLastIndex = sortedLastIndex;
          lodash.sortedLastIndexBy = sortedLastIndexBy;
          lodash.sortedLastIndexOf = sortedLastIndexOf;
          lodash.startCase = startCase;
          lodash.startsWith = startsWith;
          lodash.subtract = subtract3;
          lodash.sum = sum;
          lodash.sumBy = sumBy;
          lodash.template = template;
          lodash.times = times;
          lodash.toFinite = toFinite;
          lodash.toInteger = toInteger;
          lodash.toLength = toLength;
          lodash.toLower = toLower;
          lodash.toNumber = toNumber;
          lodash.toSafeInteger = toSafeInteger;
          lodash.toString = toString2;
          lodash.toUpper = toUpper;
          lodash.trim = trim;
          lodash.trimEnd = trimEnd;
          lodash.trimStart = trimStart;
          lodash.truncate = truncate;
          lodash.unescape = unescape2;
          lodash.uniqueId = uniqueId;
          lodash.upperCase = upperCase;
          lodash.upperFirst = upperFirst;
          lodash.each = forEach;
          lodash.eachRight = forEachRight;
          lodash.first = head;
          mixin(lodash, function() {
            var source = {};
            baseForOwn(lodash, function(func, methodName) {
              if (!hasOwnProperty2.call(lodash.prototype, methodName)) {
                source[methodName] = func;
              }
            });
            return source;
          }(), { "chain": false });
          lodash.VERSION = VERSION;
          arrayEach(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(methodName) {
            lodash[methodName].placeholder = lodash;
          });
          arrayEach(["drop", "take"], function(methodName, index2) {
            LazyWrapper.prototype[methodName] = function(n3) {
              n3 = n3 === undefined2 ? 1 : nativeMax(toInteger(n3), 0);
              var result2 = this.__filtered__ && !index2 ? new LazyWrapper(this) : this.clone();
              if (result2.__filtered__) {
                result2.__takeCount__ = nativeMin(n3, result2.__takeCount__);
              } else {
                result2.__views__.push({
                  "size": nativeMin(n3, MAX_ARRAY_LENGTH),
                  "type": methodName + (result2.__dir__ < 0 ? "Right" : "")
                });
              }
              return result2;
            };
            LazyWrapper.prototype[methodName + "Right"] = function(n3) {
              return this.reverse()[methodName](n3).reverse();
            };
          });
          arrayEach(["filter", "map", "takeWhile"], function(methodName, index2) {
            var type = index2 + 1, isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;
            LazyWrapper.prototype[methodName] = function(iteratee2) {
              var result2 = this.clone();
              result2.__iteratees__.push({
                "iteratee": getIteratee(iteratee2, 3),
                "type": type
              });
              result2.__filtered__ = result2.__filtered__ || isFilter;
              return result2;
            };
          });
          arrayEach(["head", "last"], function(methodName, index2) {
            var takeName = "take" + (index2 ? "Right" : "");
            LazyWrapper.prototype[methodName] = function() {
              return this[takeName](1).value()[0];
            };
          });
          arrayEach(["initial", "tail"], function(methodName, index2) {
            var dropName = "drop" + (index2 ? "" : "Right");
            LazyWrapper.prototype[methodName] = function() {
              return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);
            };
          });
          LazyWrapper.prototype.compact = function() {
            return this.filter(identity);
          };
          LazyWrapper.prototype.find = function(predicate) {
            return this.filter(predicate).head();
          };
          LazyWrapper.prototype.findLast = function(predicate) {
            return this.reverse().find(predicate);
          };
          LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {
            if (typeof path == "function") {
              return new LazyWrapper(this);
            }
            return this.map(function(value) {
              return baseInvoke(value, path, args);
            });
          });
          LazyWrapper.prototype.reject = function(predicate) {
            return this.filter(negate3(getIteratee(predicate)));
          };
          LazyWrapper.prototype.slice = function(start4, end3) {
            start4 = toInteger(start4);
            var result2 = this;
            if (result2.__filtered__ && (start4 > 0 || end3 < 0)) {
              return new LazyWrapper(result2);
            }
            if (start4 < 0) {
              result2 = result2.takeRight(-start4);
            } else if (start4) {
              result2 = result2.drop(start4);
            }
            if (end3 !== undefined2) {
              end3 = toInteger(end3);
              result2 = end3 < 0 ? result2.dropRight(-end3) : result2.take(end3 - start4);
            }
            return result2;
          };
          LazyWrapper.prototype.takeRightWhile = function(predicate) {
            return this.reverse().takeWhile(predicate).reverse();
          };
          LazyWrapper.prototype.toArray = function() {
            return this.take(MAX_ARRAY_LENGTH);
          };
          baseForOwn(LazyWrapper.prototype, function(func, methodName) {
            var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName), isTaker = /^(?:head|last)$/.test(methodName), lodashFunc = lodash[isTaker ? "take" + (methodName == "last" ? "Right" : "") : methodName], retUnwrapped = isTaker || /^find/.test(methodName);
            if (!lodashFunc) {
              return;
            }
            lodash.prototype[methodName] = function() {
              var value = this.__wrapped__, args = isTaker ? [1] : arguments, isLazy = value instanceof LazyWrapper, iteratee2 = args[0], useLazy = isLazy || isArray(value);
              var interceptor = function(value2) {
                var result3 = lodashFunc.apply(lodash, arrayPush([value2], args));
                return isTaker && chainAll ? result3[0] : result3;
              };
              if (useLazy && checkIteratee && typeof iteratee2 == "function" && iteratee2.length != 1) {
                isLazy = useLazy = false;
              }
              var chainAll = this.__chain__, isHybrid = !!this.__actions__.length, isUnwrapped = retUnwrapped && !chainAll, onlyLazy = isLazy && !isHybrid;
              if (!retUnwrapped && useLazy) {
                value = onlyLazy ? value : new LazyWrapper(this);
                var result2 = func.apply(value, args);
                result2.__actions__.push({ "func": thru, "args": [interceptor], "thisArg": undefined2 });
                return new LodashWrapper(result2, chainAll);
              }
              if (isUnwrapped && onlyLazy) {
                return func.apply(this, args);
              }
              result2 = this.thru(interceptor);
              return isUnwrapped ? isTaker ? result2.value()[0] : result2.value() : result2;
            };
          });
          arrayEach(["pop", "push", "shift", "sort", "splice", "unshift"], function(methodName) {
            var func = arrayProto[methodName], chainName = /^(?:push|sort|unshift)$/.test(methodName) ? "tap" : "thru", retUnwrapped = /^(?:pop|shift)$/.test(methodName);
            lodash.prototype[methodName] = function() {
              var args = arguments;
              if (retUnwrapped && !this.__chain__) {
                var value = this.value();
                return func.apply(isArray(value) ? value : [], args);
              }
              return this[chainName](function(value2) {
                return func.apply(isArray(value2) ? value2 : [], args);
              });
            };
          });
          baseForOwn(LazyWrapper.prototype, function(func, methodName) {
            var lodashFunc = lodash[methodName];
            if (lodashFunc) {
              var key = lodashFunc.name + "";
              if (!hasOwnProperty2.call(realNames, key)) {
                realNames[key] = [];
              }
              realNames[key].push({ "name": methodName, "func": lodashFunc });
            }
          });
          realNames[createHybrid(undefined2, WRAP_BIND_KEY_FLAG).name] = [{
            "name": "wrapper",
            "func": undefined2
          }];
          LazyWrapper.prototype.clone = lazyClone;
          LazyWrapper.prototype.reverse = lazyReverse;
          LazyWrapper.prototype.value = lazyValue;
          lodash.prototype.at = wrapperAt;
          lodash.prototype.chain = wrapperChain;
          lodash.prototype.commit = wrapperCommit;
          lodash.prototype.next = wrapperNext;
          lodash.prototype.plant = wrapperPlant;
          lodash.prototype.reverse = wrapperReverse;
          lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;
          lodash.prototype.first = lodash.prototype.head;
          if (symIterator) {
            lodash.prototype[symIterator] = wrapperToIterator;
          }
          return lodash;
        };
        var _2 = runInContext();
        if (typeof define == "function" && typeof define.amd == "object" && define.amd) {
          root._ = _2;
          define(function() {
            return _2;
          });
        } else if (freeModule) {
          (freeModule.exports = _2)._ = _2;
          freeExports._ = _2;
        } else {
          root._ = _2;
        }
      }).call(exports);
    }
  });

  // ../../node_modules/toggle-selection/index.js
  var require_toggle_selection = __commonJS({
    "../../node_modules/toggle-selection/index.js"(exports, module) {
      module.exports = function() {
        var selection = document.getSelection();
        if (!selection.rangeCount) {
          return function() {
          };
        }
        var active = document.activeElement;
        var ranges = [];
        for (var i3 = 0; i3 < selection.rangeCount; i3++) {
          ranges.push(selection.getRangeAt(i3));
        }
        switch (active.tagName.toUpperCase()) {
          case "INPUT":
          case "TEXTAREA":
            active.blur();
            break;
          default:
            active = null;
            break;
        }
        selection.removeAllRanges();
        return function() {
          selection.type === "Caret" && selection.removeAllRanges();
          if (!selection.rangeCount) {
            ranges.forEach(function(range) {
              selection.addRange(range);
            });
          }
          active && active.focus();
        };
      };
    }
  });

  // ../../node_modules/copy-to-clipboard/index.js
  var require_copy_to_clipboard = __commonJS({
    "../../node_modules/copy-to-clipboard/index.js"(exports, module) {
      "use strict";
      var deselectCurrent = require_toggle_selection();
      var clipboardToIE11Formatting = {
        "text/plain": "Text",
        "text/html": "Url",
        "default": "Text"
      };
      var defaultMessage = "Copy to clipboard: #{key}, Enter";
      function format2(message) {
        var copyKey = (/mac os x/i.test(navigator.userAgent) ? "\u2318" : "Ctrl") + "+C";
        return message.replace(/#{\s*key\s*}/g, copyKey);
      }
      function copy(text, options) {
        var debug, message, reselectPrevious, range, selection, mark, success = false;
        if (!options) {
          options = {};
        }
        debug = options.debug || false;
        try {
          reselectPrevious = deselectCurrent();
          range = document.createRange();
          selection = document.getSelection();
          mark = document.createElement("span");
          mark.textContent = text;
          mark.style.all = "unset";
          mark.style.position = "fixed";
          mark.style.top = 0;
          mark.style.clip = "rect(0, 0, 0, 0)";
          mark.style.whiteSpace = "pre";
          mark.style.webkitUserSelect = "text";
          mark.style.MozUserSelect = "text";
          mark.style.msUserSelect = "text";
          mark.style.userSelect = "text";
          mark.addEventListener("copy", function(e2) {
            e2.stopPropagation();
            if (options.format) {
              e2.preventDefault();
              if (typeof e2.clipboardData === "undefined") {
                debug && console.warn("unable to use e.clipboardData");
                debug && console.warn("trying IE specific stuff");
                window.clipboardData.clearData();
                var format3 = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting["default"];
                window.clipboardData.setData(format3, text);
              } else {
                e2.clipboardData.clearData();
                e2.clipboardData.setData(options.format, text);
              }
            }
            if (options.onCopy) {
              e2.preventDefault();
              options.onCopy(e2.clipboardData);
            }
          });
          document.body.appendChild(mark);
          range.selectNodeContents(mark);
          selection.addRange(range);
          var successful = document.execCommand("copy");
          if (!successful) {
            throw new Error("copy command was unsuccessful");
          }
          success = true;
        } catch (err) {
          debug && console.error("unable to copy using execCommand: ", err);
          debug && console.warn("trying IE specific stuff");
          try {
            window.clipboardData.setData(options.format || "text", text);
            options.onCopy && options.onCopy(window.clipboardData);
            success = true;
          } catch (err2) {
            debug && console.error("unable to copy using clipboardData: ", err2);
            debug && console.error("falling back to prompt");
            message = format2("message" in options ? options.message : defaultMessage);
            window.prompt(message, text);
          }
        } finally {
          if (selection) {
            if (typeof selection.removeRange == "function") {
              selection.removeRange(range);
            } else {
              selection.removeAllRanges();
            }
          }
          if (mark) {
            document.body.removeChild(mark);
          }
          reselectPrevious();
        }
        return success;
      }
      module.exports = copy;
    }
  });

  // src/index.tsx
  var src_exports = {};
  __export(src_exports, {
    BlocksEditor: () => BlocksEditor,
    BlocksList: () => BlocksList_default,
    fetcher: () => fetcher,
    queryClient: () => queryClient,
    registerPlugin: () => registerPlugin
  });

  // ../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js
  function _setPrototypeOf(o3, p3) {
    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o4, p4) {
      o4.__proto__ = p4;
      return o4;
    };
    return _setPrototypeOf(o3, p3);
  }

  // ../../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js
  function _inheritsLoose(subClass, superClass) {
    subClass.prototype = Object.create(superClass.prototype);
    subClass.prototype.constructor = subClass;
    _setPrototypeOf(subClass, superClass);
  }

  // ../../node_modules/react-query/es/core/subscribable.js
  var Subscribable = /* @__PURE__ */ function() {
    function Subscribable2() {
      this.listeners = [];
    }
    var _proto = Subscribable2.prototype;
    _proto.subscribe = function subscribe(listener) {
      var _this = this;
      var callback = listener || function() {
        return void 0;
      };
      this.listeners.push(callback);
      this.onSubscribe();
      return function() {
        _this.listeners = _this.listeners.filter(function(x2) {
          return x2 !== callback;
        });
        _this.onUnsubscribe();
      };
    };
    _proto.hasListeners = function hasListeners() {
      return this.listeners.length > 0;
    };
    _proto.onSubscribe = function onSubscribe() {
    };
    _proto.onUnsubscribe = function onUnsubscribe() {
    };
    return Subscribable2;
  }();

  // ../../node_modules/@babel/runtime/helpers/esm/extends.js
  function _extends() {
    _extends = Object.assign || function(target) {
      for (var i3 = 1; i3 < arguments.length; i3++) {
        var source = arguments[i3];
        for (var key in source) {
          if (Object.prototype.hasOwnProperty.call(source, key)) {
            target[key] = source[key];
          }
        }
      }
      return target;
    };
    return _extends.apply(this, arguments);
  }

  // ../../node_modules/react-query/es/core/utils.js
  var isServer = typeof window === "undefined";
  function noop() {
    return void 0;
  }
  function functionalUpdate(updater, input) {
    return typeof updater === "function" ? updater(input) : updater;
  }
  function isValidTimeout(value) {
    return typeof value === "number" && value >= 0 && value !== Infinity;
  }
  function ensureQueryKeyArray(value) {
    return Array.isArray(value) ? value : [value];
  }
  function timeUntilStale(updatedAt, staleTime) {
    return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0);
  }
  function parseQueryArgs(arg1, arg2, arg3) {
    if (!isQueryKey(arg1)) {
      return arg1;
    }
    if (typeof arg2 === "function") {
      return _extends({}, arg3, {
        queryKey: arg1,
        queryFn: arg2
      });
    }
    return _extends({}, arg2, {
      queryKey: arg1
    });
  }
  function parseMutationArgs(arg1, arg2, arg3) {
    if (isQueryKey(arg1)) {
      if (typeof arg2 === "function") {
        return _extends({}, arg3, {
          mutationKey: arg1,
          mutationFn: arg2
        });
      }
      return _extends({}, arg2, {
        mutationKey: arg1
      });
    }
    if (typeof arg1 === "function") {
      return _extends({}, arg2, {
        mutationFn: arg1
      });
    }
    return _extends({}, arg1);
  }
  function parseFilterArgs(arg1, arg2, arg3) {
    return isQueryKey(arg1) ? [_extends({}, arg2, {
      queryKey: arg1
    }), arg3] : [arg1 || {}, arg2];
  }
  function mapQueryStatusFilter(active, inactive) {
    if (active === true && inactive === true || active == null && inactive == null) {
      return "all";
    } else if (active === false && inactive === false) {
      return "none";
    } else {
      var isActive = active != null ? active : !inactive;
      return isActive ? "active" : "inactive";
    }
  }
  function matchQuery(filters, query) {
    var active = filters.active, exact = filters.exact, fetching = filters.fetching, inactive = filters.inactive, predicate = filters.predicate, queryKey = filters.queryKey, stale = filters.stale;
    if (isQueryKey(queryKey)) {
      if (exact) {
        if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {
          return false;
        }
      } else if (!partialMatchKey(query.queryKey, queryKey)) {
        return false;
      }
    }
    var queryStatusFilter = mapQueryStatusFilter(active, inactive);
    if (queryStatusFilter === "none") {
      return false;
    } else if (queryStatusFilter !== "all") {
      var isActive = query.isActive();
      if (queryStatusFilter === "active" && !isActive) {
        return false;
      }
      if (queryStatusFilter === "inactive" && isActive) {
        return false;
      }
    }
    if (typeof stale === "boolean" && query.isStale() !== stale) {
      return false;
    }
    if (typeof fetching === "boolean" && query.isFetching() !== fetching) {
      return false;
    }
    if (predicate && !predicate(query)) {
      return false;
    }
    return true;
  }
  function matchMutation(filters, mutation) {
    var exact = filters.exact, fetching = filters.fetching, predicate = filters.predicate, mutationKey = filters.mutationKey;
    if (isQueryKey(mutationKey)) {
      if (!mutation.options.mutationKey) {
        return false;
      }
      if (exact) {
        if (hashQueryKey(mutation.options.mutationKey) !== hashQueryKey(mutationKey)) {
          return false;
        }
      } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {
        return false;
      }
    }
    if (typeof fetching === "boolean" && mutation.state.status === "loading" !== fetching) {
      return false;
    }
    if (predicate && !predicate(mutation)) {
      return false;
    }
    return true;
  }
  function hashQueryKeyByOptions(queryKey, options) {
    var hashFn = (options == null ? void 0 : options.queryKeyHashFn) || hashQueryKey;
    return hashFn(queryKey);
  }
  function hashQueryKey(queryKey) {
    var asArray = ensureQueryKeyArray(queryKey);
    return stableValueHash(asArray);
  }
  function stableValueHash(value) {
    return JSON.stringify(value, function(_2, val) {
      return isPlainObject(val) ? Object.keys(val).sort().reduce(function(result, key) {
        result[key] = val[key];
        return result;
      }, {}) : val;
    });
  }
  function partialMatchKey(a3, b3) {
    return partialDeepEqual(ensureQueryKeyArray(a3), ensureQueryKeyArray(b3));
  }
  function partialDeepEqual(a3, b3) {
    if (a3 === b3) {
      return true;
    }
    if (typeof a3 !== typeof b3) {
      return false;
    }
    if (a3 && b3 && typeof a3 === "object" && typeof b3 === "object") {
      return !Object.keys(b3).some(function(key) {
        return !partialDeepEqual(a3[key], b3[key]);
      });
    }
    return false;
  }
  function replaceEqualDeep(a3, b3) {
    if (a3 === b3) {
      return a3;
    }
    var array = Array.isArray(a3) && Array.isArray(b3);
    if (array || isPlainObject(a3) && isPlainObject(b3)) {
      var aSize = array ? a3.length : Object.keys(a3).length;
      var bItems = array ? b3 : Object.keys(b3);
      var bSize = bItems.length;
      var copy = array ? [] : {};
      var equalItems = 0;
      for (var i3 = 0; i3 < bSize; i3++) {
        var key = array ? i3 : bItems[i3];
        copy[key] = replaceEqualDeep(a3[key], b3[key]);
        if (copy[key] === a3[key]) {
          equalItems++;
        }
      }
      return aSize === bSize && equalItems === aSize ? a3 : copy;
    }
    return b3;
  }
  function shallowEqualObjects(a3, b3) {
    if (a3 && !b3 || b3 && !a3) {
      return false;
    }
    for (var key in a3) {
      if (a3[key] !== b3[key]) {
        return false;
      }
    }
    return true;
  }
  function isPlainObject(o3) {
    if (!hasObjectPrototype(o3)) {
      return false;
    }
    var ctor = o3.constructor;
    if (typeof ctor === "undefined") {
      return true;
    }
    var prot = ctor.prototype;
    if (!hasObjectPrototype(prot)) {
      return false;
    }
    if (!prot.hasOwnProperty("isPrototypeOf")) {
      return false;
    }
    return true;
  }
  function hasObjectPrototype(o3) {
    return Object.prototype.toString.call(o3) === "[object Object]";
  }
  function isQueryKey(value) {
    return typeof value === "string" || Array.isArray(value);
  }
  function sleep(timeout) {
    return new Promise(function(resolve) {
      setTimeout(resolve, timeout);
    });
  }
  function scheduleMicrotask(callback) {
    Promise.resolve().then(callback).catch(function(error2) {
      return setTimeout(function() {
        throw error2;
      });
    });
  }
  function getAbortController() {
    if (typeof AbortController === "function") {
      return new AbortController();
    }
  }

  // ../../node_modules/react-query/es/core/focusManager.js
  var FocusManager = /* @__PURE__ */ function(_Subscribable) {
    _inheritsLoose(FocusManager2, _Subscribable);
    function FocusManager2() {
      var _this;
      _this = _Subscribable.call(this) || this;
      _this.setup = function(onFocus) {
        var _window;
        if (!isServer && ((_window = window) == null ? void 0 : _window.addEventListener)) {
          var listener = function listener2() {
            return onFocus();
          };
          window.addEventListener("visibilitychange", listener, false);
          window.addEventListener("focus", listener, false);
          return function() {
            window.removeEventListener("visibilitychange", listener);
            window.removeEventListener("focus", listener);
          };
        }
      };
      return _this;
    }
    var _proto = FocusManager2.prototype;
    _proto.onSubscribe = function onSubscribe() {
      if (!this.cleanup) {
        this.setEventListener(this.setup);
      }
    };
    _proto.onUnsubscribe = function onUnsubscribe() {
      if (!this.hasListeners()) {
        var _this$cleanup;
        (_this$cleanup = this.cleanup) == null ? void 0 : _this$cleanup.call(this);
        this.cleanup = void 0;
      }
    };
    _proto.setEventListener = function setEventListener(setup) {
      var _this$cleanup2, _this2 = this;
      this.setup = setup;
      (_this$cleanup2 = this.cleanup) == null ? void 0 : _this$cleanup2.call(this);
      this.cleanup = setup(function(focused) {
        if (typeof focused === "boolean") {
          _this2.setFocused(focused);
        } else {
          _this2.onFocus();
        }
      });
    };
    _proto.setFocused = function setFocused(focused) {
      this.focused = focused;
      if (focused) {
        this.onFocus();
      }
    };
    _proto.onFocus = function onFocus() {
      this.listeners.forEach(function(listener) {
        listener();
      });
    };
    _proto.isFocused = function isFocused() {
      if (typeof this.focused === "boolean") {
        return this.focused;
      }
      if (typeof document === "undefined") {
        return true;
      }
      return [void 0, "visible", "prerender"].includes(document.visibilityState);
    };
    return FocusManager2;
  }(Subscribable);
  var focusManager = new FocusManager();

  // ../../node_modules/react-query/es/core/onlineManager.js
  var OnlineManager = /* @__PURE__ */ function(_Subscribable) {
    _inheritsLoose(OnlineManager2, _Subscribable);
    function OnlineManager2() {
      var _this;
      _this = _Subscribable.call(this) || this;
      _this.setup = function(onOnline) {
        var _window;
        if (!isServer && ((_window = window) == null ? void 0 : _window.addEventListener)) {
          var listener = function listener2() {
            return onOnline();
          };
          window.addEventListener("online", listener, false);
          window.addEventListener("offline", listener, false);
          return function() {
            window.removeEventListener("online", listener);
            window.removeEventListener("offline", listener);
          };
        }
      };
      return _this;
    }
    var _proto = OnlineManager2.prototype;
    _proto.onSubscribe = function onSubscribe() {
      if (!this.cleanup) {
        this.setEventListener(this.setup);
      }
    };
    _proto.onUnsubscribe = function onUnsubscribe() {
      if (!this.hasListeners()) {
        var _this$cleanup;
        (_this$cleanup = this.cleanup) == null ? void 0 : _this$cleanup.call(this);
        this.cleanup = void 0;
      }
    };
    _proto.setEventListener = function setEventListener(setup) {
      var _this$cleanup2, _this2 = this;
      this.setup = setup;
      (_this$cleanup2 = this.cleanup) == null ? void 0 : _this$cleanup2.call(this);
      this.cleanup = setup(function(online) {
        if (typeof online === "boolean") {
          _this2.setOnline(online);
        } else {
          _this2.onOnline();
        }
      });
    };
    _proto.setOnline = function setOnline(online) {
      this.online = online;
      if (online) {
        this.onOnline();
      }
    };
    _proto.onOnline = function onOnline() {
      this.listeners.forEach(function(listener) {
        listener();
      });
    };
    _proto.isOnline = function isOnline() {
      if (typeof this.online === "boolean") {
        return this.online;
      }
      if (typeof navigator === "undefined" || typeof navigator.onLine === "undefined") {
        return true;
      }
      return navigator.onLine;
    };
    return OnlineManager2;
  }(Subscribable);
  var onlineManager = new OnlineManager();

  // ../../node_modules/react-query/es/core/retryer.js
  function defaultRetryDelay(failureCount) {
    return Math.min(1e3 * Math.pow(2, failureCount), 3e4);
  }
  function isCancelable(value) {
    return typeof (value == null ? void 0 : value.cancel) === "function";
  }
  var CancelledError = function CancelledError2(options) {
    this.revert = options == null ? void 0 : options.revert;
    this.silent = options == null ? void 0 : options.silent;
  };
  function isCancelledError(value) {
    return value instanceof CancelledError;
  }
  var Retryer = function Retryer2(config2) {
    var _this = this;
    var cancelRetry = false;
    var cancelFn;
    var continueFn;
    var promiseResolve;
    var promiseReject;
    this.abort = config2.abort;
    this.cancel = function(cancelOptions) {
      return cancelFn == null ? void 0 : cancelFn(cancelOptions);
    };
    this.cancelRetry = function() {
      cancelRetry = true;
    };
    this.continueRetry = function() {
      cancelRetry = false;
    };
    this.continue = function() {
      return continueFn == null ? void 0 : continueFn();
    };
    this.failureCount = 0;
    this.isPaused = false;
    this.isResolved = false;
    this.isTransportCancelable = false;
    this.promise = new Promise(function(outerResolve, outerReject) {
      promiseResolve = outerResolve;
      promiseReject = outerReject;
    });
    var resolve = function resolve2(value) {
      if (!_this.isResolved) {
        _this.isResolved = true;
        config2.onSuccess == null ? void 0 : config2.onSuccess(value);
        continueFn == null ? void 0 : continueFn();
        promiseResolve(value);
      }
    };
    var reject = function reject2(value) {
      if (!_this.isResolved) {
        _this.isResolved = true;
        config2.onError == null ? void 0 : config2.onError(value);
        continueFn == null ? void 0 : continueFn();
        promiseReject(value);
      }
    };
    var pause = function pause2() {
      return new Promise(function(continueResolve) {
        continueFn = continueResolve;
        _this.isPaused = true;
        config2.onPause == null ? void 0 : config2.onPause();
      }).then(function() {
        continueFn = void 0;
        _this.isPaused = false;
        config2.onContinue == null ? void 0 : config2.onContinue();
      });
    };
    var run = function run2() {
      if (_this.isResolved) {
        return;
      }
      var promiseOrValue;
      try {
        promiseOrValue = config2.fn();
      } catch (error2) {
        promiseOrValue = Promise.reject(error2);
      }
      cancelFn = function cancelFn2(cancelOptions) {
        if (!_this.isResolved) {
          reject(new CancelledError(cancelOptions));
          _this.abort == null ? void 0 : _this.abort();
          if (isCancelable(promiseOrValue)) {
            try {
              promiseOrValue.cancel();
            } catch (_unused) {
            }
          }
        }
      };
      _this.isTransportCancelable = isCancelable(promiseOrValue);
      Promise.resolve(promiseOrValue).then(resolve).catch(function(error2) {
        var _config$retry, _config$retryDelay;
        if (_this.isResolved) {
          return;
        }
        var retry = (_config$retry = config2.retry) != null ? _config$retry : 3;
        var retryDelay = (_config$retryDelay = config2.retryDelay) != null ? _config$retryDelay : defaultRetryDelay;
        var delay = typeof retryDelay === "function" ? retryDelay(_this.failureCount, error2) : retryDelay;
        var shouldRetry = retry === true || typeof retry === "number" && _this.failureCount < retry || typeof retry === "function" && retry(_this.failureCount, error2);
        if (cancelRetry || !shouldRetry) {
          reject(error2);
          return;
        }
        _this.failureCount++;
        config2.onFail == null ? void 0 : config2.onFail(_this.failureCount, error2);
        sleep(delay).then(function() {
          if (!focusManager.isFocused() || !onlineManager.isOnline()) {
            return pause();
          }
        }).then(function() {
          if (cancelRetry) {
            reject(error2);
          } else {
            run2();
          }
        });
      });
    };
    run();
  };

  // ../../node_modules/react-query/es/core/notifyManager.js
  var NotifyManager = /* @__PURE__ */ function() {
    function NotifyManager2() {
      this.queue = [];
      this.transactions = 0;
      this.notifyFn = function(callback) {
        callback();
      };
      this.batchNotifyFn = function(callback) {
        callback();
      };
    }
    var _proto = NotifyManager2.prototype;
    _proto.batch = function batch2(callback) {
      var result;
      this.transactions++;
      try {
        result = callback();
      } finally {
        this.transactions--;
        if (!this.transactions) {
          this.flush();
        }
      }
      return result;
    };
    _proto.schedule = function schedule(callback) {
      var _this = this;
      if (this.transactions) {
        this.queue.push(callback);
      } else {
        scheduleMicrotask(function() {
          _this.notifyFn(callback);
        });
      }
    };
    _proto.batchCalls = function batchCalls(callback) {
      var _this2 = this;
      return function() {
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        _this2.schedule(function() {
          callback.apply(void 0, args);
        });
      };
    };
    _proto.flush = function flush3() {
      var _this3 = this;
      var queue = this.queue;
      this.queue = [];
      if (queue.length) {
        scheduleMicrotask(function() {
          _this3.batchNotifyFn(function() {
            queue.forEach(function(callback) {
              _this3.notifyFn(callback);
            });
          });
        });
      }
    };
    _proto.setNotifyFunction = function setNotifyFunction(fn4) {
      this.notifyFn = fn4;
    };
    _proto.setBatchNotifyFunction = function setBatchNotifyFunction(fn4) {
      this.batchNotifyFn = fn4;
    };
    return NotifyManager2;
  }();
  var notifyManager = new NotifyManager();

  // ../../node_modules/react-query/es/core/logger.js
  var logger = console;
  function getLogger() {
    return logger;
  }
  function setLogger(newLogger) {
    logger = newLogger;
  }

  // ../../node_modules/react-query/es/core/query.js
  var Query = /* @__PURE__ */ function() {
    function Query2(config2) {
      this.abortSignalConsumed = false;
      this.hadObservers = false;
      this.defaultOptions = config2.defaultOptions;
      this.setOptions(config2.options);
      this.observers = [];
      this.cache = config2.cache;
      this.queryKey = config2.queryKey;
      this.queryHash = config2.queryHash;
      this.initialState = config2.state || this.getDefaultState(this.options);
      this.state = this.initialState;
      this.meta = config2.meta;
      this.scheduleGc();
    }
    var _proto = Query2.prototype;
    _proto.setOptions = function setOptions(options) {
      var _this$options$cacheTi;
      this.options = _extends({}, this.defaultOptions, options);
      this.meta = options == null ? void 0 : options.meta;
      this.cacheTime = Math.max(this.cacheTime || 0, (_this$options$cacheTi = this.options.cacheTime) != null ? _this$options$cacheTi : 5 * 60 * 1e3);
    };
    _proto.setDefaultOptions = function setDefaultOptions(options) {
      this.defaultOptions = options;
    };
    _proto.scheduleGc = function scheduleGc() {
      var _this = this;
      this.clearGcTimeout();
      if (isValidTimeout(this.cacheTime)) {
        this.gcTimeout = setTimeout(function() {
          _this.optionalRemove();
        }, this.cacheTime);
      }
    };
    _proto.clearGcTimeout = function clearGcTimeout() {
      clearTimeout(this.gcTimeout);
      this.gcTimeout = void 0;
    };
    _proto.optionalRemove = function optionalRemove() {
      if (!this.observers.length) {
        if (this.state.isFetching) {
          if (this.hadObservers) {
            this.scheduleGc();
          }
        } else {
          this.cache.remove(this);
        }
      }
    };
    _proto.setData = function setData(updater, options) {
      var _this$options$isDataE, _this$options;
      var prevData = this.state.data;
      var data = functionalUpdate(updater, prevData);
      if ((_this$options$isDataE = (_this$options = this.options).isDataEqual) == null ? void 0 : _this$options$isDataE.call(_this$options, prevData, data)) {
        data = prevData;
      } else if (this.options.structuralSharing !== false) {
        data = replaceEqualDeep(prevData, data);
      }
      this.dispatch({
        data,
        type: "success",
        dataUpdatedAt: options == null ? void 0 : options.updatedAt
      });
      return data;
    };
    _proto.setState = function setState(state, setStateOptions) {
      this.dispatch({
        type: "setState",
        state,
        setStateOptions
      });
    };
    _proto.cancel = function cancel(options) {
      var _this$retryer;
      var promise = this.promise;
      (_this$retryer = this.retryer) == null ? void 0 : _this$retryer.cancel(options);
      return promise ? promise.then(noop).catch(noop) : Promise.resolve();
    };
    _proto.destroy = function destroy() {
      this.clearGcTimeout();
      this.cancel({
        silent: true
      });
    };
    _proto.reset = function reset() {
      this.destroy();
      this.setState(this.initialState);
    };
    _proto.isActive = function isActive() {
      return this.observers.some(function(observer) {
        return observer.options.enabled !== false;
      });
    };
    _proto.isFetching = function isFetching() {
      return this.state.isFetching;
    };
    _proto.isStale = function isStale2() {
      return this.state.isInvalidated || !this.state.dataUpdatedAt || this.observers.some(function(observer) {
        return observer.getCurrentResult().isStale;
      });
    };
    _proto.isStaleByTime = function isStaleByTime(staleTime) {
      if (staleTime === void 0) {
        staleTime = 0;
      }
      return this.state.isInvalidated || !this.state.dataUpdatedAt || !timeUntilStale(this.state.dataUpdatedAt, staleTime);
    };
    _proto.onFocus = function onFocus() {
      var _this$retryer2;
      var observer = this.observers.find(function(x2) {
        return x2.shouldFetchOnWindowFocus();
      });
      if (observer) {
        observer.refetch();
      }
      (_this$retryer2 = this.retryer) == null ? void 0 : _this$retryer2.continue();
    };
    _proto.onOnline = function onOnline() {
      var _this$retryer3;
      var observer = this.observers.find(function(x2) {
        return x2.shouldFetchOnReconnect();
      });
      if (observer) {
        observer.refetch();
      }
      (_this$retryer3 = this.retryer) == null ? void 0 : _this$retryer3.continue();
    };
    _proto.addObserver = function addObserver(observer) {
      if (this.observers.indexOf(observer) === -1) {
        this.observers.push(observer);
        this.hadObservers = true;
        this.clearGcTimeout();
        this.cache.notify({
          type: "observerAdded",
          query: this,
          observer
        });
      }
    };
    _proto.removeObserver = function removeObserver(observer) {
      if (this.observers.indexOf(observer) !== -1) {
        this.observers = this.observers.filter(function(x2) {
          return x2 !== observer;
        });
        if (!this.observers.length) {
          if (this.retryer) {
            if (this.retryer.isTransportCancelable || this.abortSignalConsumed) {
              this.retryer.cancel({
                revert: true
              });
            } else {
              this.retryer.cancelRetry();
            }
          }
          if (this.cacheTime) {
            this.scheduleGc();
          } else {
            this.cache.remove(this);
          }
        }
        this.cache.notify({
          type: "observerRemoved",
          query: this,
          observer
        });
      }
    };
    _proto.getObserversCount = function getObserversCount() {
      return this.observers.length;
    };
    _proto.invalidate = function invalidate() {
      if (!this.state.isInvalidated) {
        this.dispatch({
          type: "invalidate"
        });
      }
    };
    _proto.fetch = function fetch(options, fetchOptions) {
      var _this2 = this, _this$options$behavio, _context$fetchOptions, _abortController$abor;
      if (this.state.isFetching) {
        if (this.state.dataUpdatedAt && (fetchOptions == null ? void 0 : fetchOptions.cancelRefetch)) {
          this.cancel({
            silent: true
          });
        } else if (this.promise) {
          var _this$retryer4;
          (_this$retryer4 = this.retryer) == null ? void 0 : _this$retryer4.continueRetry();
          return this.promise;
        }
      }
      if (options) {
        this.setOptions(options);
      }
      if (!this.options.queryFn) {
        var observer = this.observers.find(function(x2) {
          return x2.options.queryFn;
        });
        if (observer) {
          this.setOptions(observer.options);
        }
      }
      var queryKey = ensureQueryKeyArray(this.queryKey);
      var abortController = getAbortController();
      var queryFnContext = {
        queryKey,
        pageParam: void 0,
        meta: this.meta
      };
      Object.defineProperty(queryFnContext, "signal", {
        enumerable: true,
        get: function get2() {
          if (abortController) {
            _this2.abortSignalConsumed = true;
            return abortController.signal;
          }
          return void 0;
        }
      });
      var fetchFn = function fetchFn2() {
        if (!_this2.options.queryFn) {
          return Promise.reject("Missing queryFn");
        }
        _this2.abortSignalConsumed = false;
        return _this2.options.queryFn(queryFnContext);
      };
      var context = {
        fetchOptions,
        options: this.options,
        queryKey,
        state: this.state,
        fetchFn,
        meta: this.meta
      };
      if ((_this$options$behavio = this.options.behavior) == null ? void 0 : _this$options$behavio.onFetch) {
        var _this$options$behavio2;
        (_this$options$behavio2 = this.options.behavior) == null ? void 0 : _this$options$behavio2.onFetch(context);
      }
      this.revertState = this.state;
      if (!this.state.isFetching || this.state.fetchMeta !== ((_context$fetchOptions = context.fetchOptions) == null ? void 0 : _context$fetchOptions.meta)) {
        var _context$fetchOptions2;
        this.dispatch({
          type: "fetch",
          meta: (_context$fetchOptions2 = context.fetchOptions) == null ? void 0 : _context$fetchOptions2.meta
        });
      }
      this.retryer = new Retryer({
        fn: context.fetchFn,
        abort: abortController == null ? void 0 : (_abortController$abor = abortController.abort) == null ? void 0 : _abortController$abor.bind(abortController),
        onSuccess: function onSuccess(data) {
          _this2.setData(data);
          _this2.cache.config.onSuccess == null ? void 0 : _this2.cache.config.onSuccess(data, _this2);
          if (_this2.cacheTime === 0) {
            _this2.optionalRemove();
          }
        },
        onError: function onError(error2) {
          if (!(isCancelledError(error2) && error2.silent)) {
            _this2.dispatch({
              type: "error",
              error: error2
            });
          }
          if (!isCancelledError(error2)) {
            _this2.cache.config.onError == null ? void 0 : _this2.cache.config.onError(error2, _this2);
            getLogger().error(error2);
          }
          if (_this2.cacheTime === 0) {
            _this2.optionalRemove();
          }
        },
        onFail: function onFail() {
          _this2.dispatch({
            type: "failed"
          });
        },
        onPause: function onPause() {
          _this2.dispatch({
            type: "pause"
          });
        },
        onContinue: function onContinue() {
          _this2.dispatch({
            type: "continue"
          });
        },
        retry: context.options.retry,
        retryDelay: context.options.retryDelay
      });
      this.promise = this.retryer.promise;
      return this.promise;
    };
    _proto.dispatch = function dispatch3(action) {
      var _this3 = this;
      this.state = this.reducer(this.state, action);
      notifyManager.batch(function() {
        _this3.observers.forEach(function(observer) {
          observer.onQueryUpdate(action);
        });
        _this3.cache.notify({
          query: _this3,
          type: "queryUpdated",
          action
        });
      });
    };
    _proto.getDefaultState = function getDefaultState2(options) {
      var data = typeof options.initialData === "function" ? options.initialData() : options.initialData;
      var hasInitialData = typeof options.initialData !== "undefined";
      var initialDataUpdatedAt = hasInitialData ? typeof options.initialDataUpdatedAt === "function" ? options.initialDataUpdatedAt() : options.initialDataUpdatedAt : 0;
      var hasData = typeof data !== "undefined";
      return {
        data,
        dataUpdateCount: 0,
        dataUpdatedAt: hasData ? initialDataUpdatedAt != null ? initialDataUpdatedAt : Date.now() : 0,
        error: null,
        errorUpdateCount: 0,
        errorUpdatedAt: 0,
        fetchFailureCount: 0,
        fetchMeta: null,
        isFetching: false,
        isInvalidated: false,
        isPaused: false,
        status: hasData ? "success" : "idle"
      };
    };
    _proto.reducer = function reducer5(state, action) {
      var _action$meta, _action$dataUpdatedAt;
      switch (action.type) {
        case "failed":
          return _extends({}, state, {
            fetchFailureCount: state.fetchFailureCount + 1
          });
        case "pause":
          return _extends({}, state, {
            isPaused: true
          });
        case "continue":
          return _extends({}, state, {
            isPaused: false
          });
        case "fetch":
          return _extends({}, state, {
            fetchFailureCount: 0,
            fetchMeta: (_action$meta = action.meta) != null ? _action$meta : null,
            isFetching: true,
            isPaused: false
          }, !state.dataUpdatedAt && {
            error: null,
            status: "loading"
          });
        case "success":
          return _extends({}, state, {
            data: action.data,
            dataUpdateCount: state.dataUpdateCount + 1,
            dataUpdatedAt: (_action$dataUpdatedAt = action.dataUpdatedAt) != null ? _action$dataUpdatedAt : Date.now(),
            error: null,
            fetchFailureCount: 0,
            isFetching: false,
            isInvalidated: false,
            isPaused: false,
            status: "success"
          });
        case "error":
          var error2 = action.error;
          if (isCancelledError(error2) && error2.revert && this.revertState) {
            return _extends({}, this.revertState);
          }
          return _extends({}, state, {
            error: error2,
            errorUpdateCount: state.errorUpdateCount + 1,
            errorUpdatedAt: Date.now(),
            fetchFailureCount: state.fetchFailureCount + 1,
            isFetching: false,
            isPaused: false,
            status: "error"
          });
        case "invalidate":
          return _extends({}, state, {
            isInvalidated: true
          });
        case "setState":
          return _extends({}, state, action.state);
        default:
          return state;
      }
    };
    return Query2;
  }();

  // ../../node_modules/react-query/es/core/queryCache.js
  var QueryCache = /* @__PURE__ */ function(_Subscribable) {
    _inheritsLoose(QueryCache2, _Subscribable);
    function QueryCache2(config2) {
      var _this;
      _this = _Subscribable.call(this) || this;
      _this.config = config2 || {};
      _this.queries = [];
      _this.queriesMap = {};
      return _this;
    }
    var _proto = QueryCache2.prototype;
    _proto.build = function build(client, options, state) {
      var _options$queryHash;
      var queryKey = options.queryKey;
      var queryHash = (_options$queryHash = options.queryHash) != null ? _options$queryHash : hashQueryKeyByOptions(queryKey, options);
      var query = this.get(queryHash);
      if (!query) {
        query = new Query({
          cache: this,
          queryKey,
          queryHash,
          options: client.defaultQueryOptions(options),
          state,
          defaultOptions: client.getQueryDefaults(queryKey),
          meta: options.meta
        });
        this.add(query);
      }
      return query;
    };
    _proto.add = function add3(query) {
      if (!this.queriesMap[query.queryHash]) {
        this.queriesMap[query.queryHash] = query;
        this.queries.push(query);
        this.notify({
          type: "queryAdded",
          query
        });
      }
    };
    _proto.remove = function remove(query) {
      var queryInMap = this.queriesMap[query.queryHash];
      if (queryInMap) {
        query.destroy();
        this.queries = this.queries.filter(function(x2) {
          return x2 !== query;
        });
        if (queryInMap === query) {
          delete this.queriesMap[query.queryHash];
        }
        this.notify({
          type: "queryRemoved",
          query
        });
      }
    };
    _proto.clear = function clear() {
      var _this2 = this;
      notifyManager.batch(function() {
        _this2.queries.forEach(function(query) {
          _this2.remove(query);
        });
      });
    };
    _proto.get = function get2(queryHash) {
      return this.queriesMap[queryHash];
    };
    _proto.getAll = function getAll() {
      return this.queries;
    };
    _proto.find = function find2(arg1, arg2) {
      var _parseFilterArgs = parseFilterArgs(arg1, arg2), filters = _parseFilterArgs[0];
      if (typeof filters.exact === "undefined") {
        filters.exact = true;
      }
      return this.queries.find(function(query) {
        return matchQuery(filters, query);
      });
    };
    _proto.findAll = function findAll(arg1, arg2) {
      var _parseFilterArgs2 = parseFilterArgs(arg1, arg2), filters = _parseFilterArgs2[0];
      return Object.keys(filters).length > 0 ? this.queries.filter(function(query) {
        return matchQuery(filters, query);
      }) : this.queries;
    };
    _proto.notify = function notify2(event) {
      var _this3 = this;
      notifyManager.batch(function() {
        _this3.listeners.forEach(function(listener) {
          listener(event);
        });
      });
    };
    _proto.onFocus = function onFocus() {
      var _this4 = this;
      notifyManager.batch(function() {
        _this4.queries.forEach(function(query) {
          query.onFocus();
        });
      });
    };
    _proto.onOnline = function onOnline() {
      var _this5 = this;
      notifyManager.batch(function() {
        _this5.queries.forEach(function(query) {
          query.onOnline();
        });
      });
    };
    return QueryCache2;
  }(Subscribable);

  // ../../node_modules/react-query/es/core/mutation.js
  var Mutation = /* @__PURE__ */ function() {
    function Mutation2(config2) {
      this.options = _extends({}, config2.defaultOptions, config2.options);
      this.mutationId = config2.mutationId;
      this.mutationCache = config2.mutationCache;
      this.observers = [];
      this.state = config2.state || getDefaultState();
      this.meta = config2.meta;
    }
    var _proto = Mutation2.prototype;
    _proto.setState = function setState(state) {
      this.dispatch({
        type: "setState",
        state
      });
    };
    _proto.addObserver = function addObserver(observer) {
      if (this.observers.indexOf(observer) === -1) {
        this.observers.push(observer);
      }
    };
    _proto.removeObserver = function removeObserver(observer) {
      this.observers = this.observers.filter(function(x2) {
        return x2 !== observer;
      });
    };
    _proto.cancel = function cancel() {
      if (this.retryer) {
        this.retryer.cancel();
        return this.retryer.promise.then(noop).catch(noop);
      }
      return Promise.resolve();
    };
    _proto.continue = function _continue() {
      if (this.retryer) {
        this.retryer.continue();
        return this.retryer.promise;
      }
      return this.execute();
    };
    _proto.execute = function execute3() {
      var _this = this;
      var data;
      var restored = this.state.status === "loading";
      var promise = Promise.resolve();
      if (!restored) {
        this.dispatch({
          type: "loading",
          variables: this.options.variables
        });
        promise = promise.then(function() {
          _this.mutationCache.config.onMutate == null ? void 0 : _this.mutationCache.config.onMutate(_this.state.variables, _this);
        }).then(function() {
          return _this.options.onMutate == null ? void 0 : _this.options.onMutate(_this.state.variables);
        }).then(function(context) {
          if (context !== _this.state.context) {
            _this.dispatch({
              type: "loading",
              context,
              variables: _this.state.variables
            });
          }
        });
      }
      return promise.then(function() {
        return _this.executeMutation();
      }).then(function(result) {
        data = result;
        _this.mutationCache.config.onSuccess == null ? void 0 : _this.mutationCache.config.onSuccess(data, _this.state.variables, _this.state.context, _this);
      }).then(function() {
        return _this.options.onSuccess == null ? void 0 : _this.options.onSuccess(data, _this.state.variables, _this.state.context);
      }).then(function() {
        return _this.options.onSettled == null ? void 0 : _this.options.onSettled(data, null, _this.state.variables, _this.state.context);
      }).then(function() {
        _this.dispatch({
          type: "success",
          data
        });
        return data;
      }).catch(function(error2) {
        _this.mutationCache.config.onError == null ? void 0 : _this.mutationCache.config.onError(error2, _this.state.variables, _this.state.context, _this);
        getLogger().error(error2);
        return Promise.resolve().then(function() {
          return _this.options.onError == null ? void 0 : _this.options.onError(error2, _this.state.variables, _this.state.context);
        }).then(function() {
          return _this.options.onSettled == null ? void 0 : _this.options.onSettled(void 0, error2, _this.state.variables, _this.state.context);
        }).then(function() {
          _this.dispatch({
            type: "error",
            error: error2
          });
          throw error2;
        });
      });
    };
    _proto.executeMutation = function executeMutation() {
      var _this2 = this, _this$options$retry;
      this.retryer = new Retryer({
        fn: function fn4() {
          if (!_this2.options.mutationFn) {
            return Promise.reject("No mutationFn found");
          }
          return _this2.options.mutationFn(_this2.state.variables);
        },
        onFail: function onFail() {
          _this2.dispatch({
            type: "failed"
          });
        },
        onPause: function onPause() {
          _this2.dispatch({
            type: "pause"
          });
        },
        onContinue: function onContinue() {
          _this2.dispatch({
            type: "continue"
          });
        },
        retry: (_this$options$retry = this.options.retry) != null ? _this$options$retry : 0,
        retryDelay: this.options.retryDelay
      });
      return this.retryer.promise;
    };
    _proto.dispatch = function dispatch3(action) {
      var _this3 = this;
      this.state = reducer(this.state, action);
      notifyManager.batch(function() {
        _this3.observers.forEach(function(observer) {
          observer.onMutationUpdate(action);
        });
        _this3.mutationCache.notify(_this3);
      });
    };
    return Mutation2;
  }();
  function getDefaultState() {
    return {
      context: void 0,
      data: void 0,
      error: null,
      failureCount: 0,
      isPaused: false,
      status: "idle",
      variables: void 0
    };
  }
  function reducer(state, action) {
    switch (action.type) {
      case "failed":
        return _extends({}, state, {
          failureCount: state.failureCount + 1
        });
      case "pause":
        return _extends({}, state, {
          isPaused: true
        });
      case "continue":
        return _extends({}, state, {
          isPaused: false
        });
      case "loading":
        return _extends({}, state, {
          context: action.context,
          data: void 0,
          error: null,
          isPaused: false,
          status: "loading",
          variables: action.variables
        });
      case "success":
        return _extends({}, state, {
          data: action.data,
          error: null,
          status: "success",
          isPaused: false
        });
      case "error":
        return _extends({}, state, {
          data: void 0,
          error: action.error,
          failureCount: state.failureCount + 1,
          isPaused: false,
          status: "error"
        });
      case "setState":
        return _extends({}, state, action.state);
      default:
        return state;
    }
  }

  // ../../node_modules/react-query/es/core/mutationCache.js
  var MutationCache = /* @__PURE__ */ function(_Subscribable) {
    _inheritsLoose(MutationCache2, _Subscribable);
    function MutationCache2(config2) {
      var _this;
      _this = _Subscribable.call(this) || this;
      _this.config = config2 || {};
      _this.mutations = [];
      _this.mutationId = 0;
      return _this;
    }
    var _proto = MutationCache2.prototype;
    _proto.build = function build(client, options, state) {
      var mutation = new Mutation({
        mutationCache: this,
        mutationId: ++this.mutationId,
        options: client.defaultMutationOptions(options),
        state,
        defaultOptions: options.mutationKey ? client.getMutationDefaults(options.mutationKey) : void 0,
        meta: options.meta
      });
      this.add(mutation);
      return mutation;
    };
    _proto.add = function add3(mutation) {
      this.mutations.push(mutation);
      this.notify(mutation);
    };
    _proto.remove = function remove(mutation) {
      this.mutations = this.mutations.filter(function(x2) {
        return x2 !== mutation;
      });
      mutation.cancel();
      this.notify(mutation);
    };
    _proto.clear = function clear() {
      var _this2 = this;
      notifyManager.batch(function() {
        _this2.mutations.forEach(function(mutation) {
          _this2.remove(mutation);
        });
      });
    };
    _proto.getAll = function getAll() {
      return this.mutations;
    };
    _proto.find = function find2(filters) {
      if (typeof filters.exact === "undefined") {
        filters.exact = true;
      }
      return this.mutations.find(function(mutation) {
        return matchMutation(filters, mutation);
      });
    };
    _proto.findAll = function findAll(filters) {
      return this.mutations.filter(function(mutation) {
        return matchMutation(filters, mutation);
      });
    };
    _proto.notify = function notify2(mutation) {
      var _this3 = this;
      notifyManager.batch(function() {
        _this3.listeners.forEach(function(listener) {
          listener(mutation);
        });
      });
    };
    _proto.onFocus = function onFocus() {
      this.resumePausedMutations();
    };
    _proto.onOnline = function onOnline() {
      this.resumePausedMutations();
    };
    _proto.resumePausedMutations = function resumePausedMutations() {
      var pausedMutations = this.mutations.filter(function(x2) {
        return x2.state.isPaused;
      });
      return notifyManager.batch(function() {
        return pausedMutations.reduce(function(promise, mutation) {
          return promise.then(function() {
            return mutation.continue().catch(noop);
          });
        }, Promise.resolve());
      });
    };
    return MutationCache2;
  }(Subscribable);

  // ../../node_modules/react-query/es/core/infiniteQueryBehavior.js
  function infiniteQueryBehavior() {
    return {
      onFetch: function onFetch(context) {
        context.fetchFn = function() {
          var _context$fetchOptions, _context$fetchOptions2, _context$fetchOptions3, _context$fetchOptions4, _context$state$data, _context$state$data2;
          var refetchPage = (_context$fetchOptions = context.fetchOptions) == null ? void 0 : (_context$fetchOptions2 = _context$fetchOptions.meta) == null ? void 0 : _context$fetchOptions2.refetchPage;
          var fetchMore = (_context$fetchOptions3 = context.fetchOptions) == null ? void 0 : (_context$fetchOptions4 = _context$fetchOptions3.meta) == null ? void 0 : _context$fetchOptions4.fetchMore;
          var pageParam = fetchMore == null ? void 0 : fetchMore.pageParam;
          var isFetchingNextPage = (fetchMore == null ? void 0 : fetchMore.direction) === "forward";
          var isFetchingPreviousPage = (fetchMore == null ? void 0 : fetchMore.direction) === "backward";
          var oldPages = ((_context$state$data = context.state.data) == null ? void 0 : _context$state$data.pages) || [];
          var oldPageParams = ((_context$state$data2 = context.state.data) == null ? void 0 : _context$state$data2.pageParams) || [];
          var abortController = getAbortController();
          var abortSignal = abortController == null ? void 0 : abortController.signal;
          var newPageParams = oldPageParams;
          var cancelled = false;
          var queryFn = context.options.queryFn || function() {
            return Promise.reject("Missing queryFn");
          };
          var buildNewPages = function buildNewPages2(pages, param2, page, previous) {
            newPageParams = previous ? [param2].concat(newPageParams) : [].concat(newPageParams, [param2]);
            return previous ? [page].concat(pages) : [].concat(pages, [page]);
          };
          var fetchPage = function fetchPage2(pages, manual2, param2, previous) {
            if (cancelled) {
              return Promise.reject("Cancelled");
            }
            if (typeof param2 === "undefined" && !manual2 && pages.length) {
              return Promise.resolve(pages);
            }
            var queryFnContext = {
              queryKey: context.queryKey,
              signal: abortSignal,
              pageParam: param2,
              meta: context.meta
            };
            var queryFnResult = queryFn(queryFnContext);
            var promise2 = Promise.resolve(queryFnResult).then(function(page) {
              return buildNewPages(pages, param2, page, previous);
            });
            if (isCancelable(queryFnResult)) {
              var promiseAsAny = promise2;
              promiseAsAny.cancel = queryFnResult.cancel;
            }
            return promise2;
          };
          var promise;
          if (!oldPages.length) {
            promise = fetchPage([]);
          } else if (isFetchingNextPage) {
            var manual = typeof pageParam !== "undefined";
            var param = manual ? pageParam : getNextPageParam(context.options, oldPages);
            promise = fetchPage(oldPages, manual, param);
          } else if (isFetchingPreviousPage) {
            var _manual = typeof pageParam !== "undefined";
            var _param = _manual ? pageParam : getPreviousPageParam(context.options, oldPages);
            promise = fetchPage(oldPages, _manual, _param, true);
          } else {
            (function() {
              newPageParams = [];
              var manual2 = typeof context.options.getNextPageParam === "undefined";
              var shouldFetchFirstPage = refetchPage && oldPages[0] ? refetchPage(oldPages[0], 0, oldPages) : true;
              promise = shouldFetchFirstPage ? fetchPage([], manual2, oldPageParams[0]) : Promise.resolve(buildNewPages([], oldPageParams[0], oldPages[0]));
              var _loop = function _loop2(i4) {
                promise = promise.then(function(pages) {
                  var shouldFetchNextPage = refetchPage && oldPages[i4] ? refetchPage(oldPages[i4], i4, oldPages) : true;
                  if (shouldFetchNextPage) {
                    var _param2 = manual2 ? oldPageParams[i4] : getNextPageParam(context.options, pages);
                    return fetchPage(pages, manual2, _param2);
                  }
                  return Promise.resolve(buildNewPages(pages, oldPageParams[i4], oldPages[i4]));
                });
              };
              for (var i3 = 1; i3 < oldPages.length; i3++) {
                _loop(i3);
              }
            })();
          }
          var finalPromise = promise.then(function(pages) {
            return {
              pages,
              pageParams: newPageParams
            };
          });
          var finalPromiseAsAny = finalPromise;
          finalPromiseAsAny.cancel = function() {
            cancelled = true;
            abortController == null ? void 0 : abortController.abort();
            if (isCancelable(promise)) {
              promise.cancel();
            }
          };
          return finalPromise;
        };
      }
    };
  }
  function getNextPageParam(options, pages) {
    return options.getNextPageParam == null ? void 0 : options.getNextPageParam(pages[pages.length - 1], pages);
  }
  function getPreviousPageParam(options, pages) {
    return options.getPreviousPageParam == null ? void 0 : options.getPreviousPageParam(pages[0], pages);
  }

  // ../../node_modules/react-query/es/core/queryClient.js
  var QueryClient = /* @__PURE__ */ function() {
    function QueryClient2(config2) {
      if (config2 === void 0) {
        config2 = {};
      }
      this.queryCache = config2.queryCache || new QueryCache();
      this.mutationCache = config2.mutationCache || new MutationCache();
      this.defaultOptions = config2.defaultOptions || {};
      this.queryDefaults = [];
      this.mutationDefaults = [];
    }
    var _proto = QueryClient2.prototype;
    _proto.mount = function mount() {
      var _this = this;
      this.unsubscribeFocus = focusManager.subscribe(function() {
        if (focusManager.isFocused() && onlineManager.isOnline()) {
          _this.mutationCache.onFocus();
          _this.queryCache.onFocus();
        }
      });
      this.unsubscribeOnline = onlineManager.subscribe(function() {
        if (focusManager.isFocused() && onlineManager.isOnline()) {
          _this.mutationCache.onOnline();
          _this.queryCache.onOnline();
        }
      });
    };
    _proto.unmount = function unmount() {
      var _this$unsubscribeFocu, _this$unsubscribeOnli;
      (_this$unsubscribeFocu = this.unsubscribeFocus) == null ? void 0 : _this$unsubscribeFocu.call(this);
      (_this$unsubscribeOnli = this.unsubscribeOnline) == null ? void 0 : _this$unsubscribeOnli.call(this);
    };
    _proto.isFetching = function isFetching(arg1, arg2) {
      var _parseFilterArgs = parseFilterArgs(arg1, arg2), filters = _parseFilterArgs[0];
      filters.fetching = true;
      return this.queryCache.findAll(filters).length;
    };
    _proto.isMutating = function isMutating(filters) {
      return this.mutationCache.findAll(_extends({}, filters, {
        fetching: true
      })).length;
    };
    _proto.getQueryData = function getQueryData(queryKey, filters) {
      var _this$queryCache$find;
      return (_this$queryCache$find = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find.state.data;
    };
    _proto.getQueriesData = function getQueriesData(queryKeyOrFilters) {
      return this.getQueryCache().findAll(queryKeyOrFilters).map(function(_ref) {
        var queryKey = _ref.queryKey, state = _ref.state;
        var data = state.data;
        return [queryKey, data];
      });
    };
    _proto.setQueryData = function setQueryData(queryKey, updater, options) {
      var parsedOptions = parseQueryArgs(queryKey);
      var defaultedOptions = this.defaultQueryOptions(parsedOptions);
      return this.queryCache.build(this, defaultedOptions).setData(updater, options);
    };
    _proto.setQueriesData = function setQueriesData(queryKeyOrFilters, updater, options) {
      var _this2 = this;
      return notifyManager.batch(function() {
        return _this2.getQueryCache().findAll(queryKeyOrFilters).map(function(_ref2) {
          var queryKey = _ref2.queryKey;
          return [queryKey, _this2.setQueryData(queryKey, updater, options)];
        });
      });
    };
    _proto.getQueryState = function getQueryState(queryKey, filters) {
      var _this$queryCache$find2;
      return (_this$queryCache$find2 = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find2.state;
    };
    _proto.removeQueries = function removeQueries(arg1, arg2) {
      var _parseFilterArgs2 = parseFilterArgs(arg1, arg2), filters = _parseFilterArgs2[0];
      var queryCache = this.queryCache;
      notifyManager.batch(function() {
        queryCache.findAll(filters).forEach(function(query) {
          queryCache.remove(query);
        });
      });
    };
    _proto.resetQueries = function resetQueries(arg1, arg2, arg3) {
      var _this3 = this;
      var _parseFilterArgs3 = parseFilterArgs(arg1, arg2, arg3), filters = _parseFilterArgs3[0], options = _parseFilterArgs3[1];
      var queryCache = this.queryCache;
      var refetchFilters = _extends({}, filters, {
        active: true
      });
      return notifyManager.batch(function() {
        queryCache.findAll(filters).forEach(function(query) {
          query.reset();
        });
        return _this3.refetchQueries(refetchFilters, options);
      });
    };
    _proto.cancelQueries = function cancelQueries(arg1, arg2, arg3) {
      var _this4 = this;
      var _parseFilterArgs4 = parseFilterArgs(arg1, arg2, arg3), filters = _parseFilterArgs4[0], _parseFilterArgs4$ = _parseFilterArgs4[1], cancelOptions = _parseFilterArgs4$ === void 0 ? {} : _parseFilterArgs4$;
      if (typeof cancelOptions.revert === "undefined") {
        cancelOptions.revert = true;
      }
      var promises = notifyManager.batch(function() {
        return _this4.queryCache.findAll(filters).map(function(query) {
          return query.cancel(cancelOptions);
        });
      });
      return Promise.all(promises).then(noop).catch(noop);
    };
    _proto.invalidateQueries = function invalidateQueries(arg1, arg2, arg3) {
      var _ref3, _filters$refetchActiv, _filters$refetchInact, _this5 = this;
      var _parseFilterArgs5 = parseFilterArgs(arg1, arg2, arg3), filters = _parseFilterArgs5[0], options = _parseFilterArgs5[1];
      var refetchFilters = _extends({}, filters, {
        active: (_ref3 = (_filters$refetchActiv = filters.refetchActive) != null ? _filters$refetchActiv : filters.active) != null ? _ref3 : true,
        inactive: (_filters$refetchInact = filters.refetchInactive) != null ? _filters$refetchInact : false
      });
      return notifyManager.batch(function() {
        _this5.queryCache.findAll(filters).forEach(function(query) {
          query.invalidate();
        });
        return _this5.refetchQueries(refetchFilters, options);
      });
    };
    _proto.refetchQueries = function refetchQueries(arg1, arg2, arg3) {
      var _this6 = this;
      var _parseFilterArgs6 = parseFilterArgs(arg1, arg2, arg3), filters = _parseFilterArgs6[0], options = _parseFilterArgs6[1];
      var promises = notifyManager.batch(function() {
        return _this6.queryCache.findAll(filters).map(function(query) {
          return query.fetch(void 0, _extends({}, options, {
            meta: {
              refetchPage: filters == null ? void 0 : filters.refetchPage
            }
          }));
        });
      });
      var promise = Promise.all(promises).then(noop);
      if (!(options == null ? void 0 : options.throwOnError)) {
        promise = promise.catch(noop);
      }
      return promise;
    };
    _proto.fetchQuery = function fetchQuery(arg1, arg2, arg3) {
      var parsedOptions = parseQueryArgs(arg1, arg2, arg3);
      var defaultedOptions = this.defaultQueryOptions(parsedOptions);
      if (typeof defaultedOptions.retry === "undefined") {
        defaultedOptions.retry = false;
      }
      var query = this.queryCache.build(this, defaultedOptions);
      return query.isStaleByTime(defaultedOptions.staleTime) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);
    };
    _proto.prefetchQuery = function prefetchQuery(arg1, arg2, arg3) {
      return this.fetchQuery(arg1, arg2, arg3).then(noop).catch(noop);
    };
    _proto.fetchInfiniteQuery = function fetchInfiniteQuery(arg1, arg2, arg3) {
      var parsedOptions = parseQueryArgs(arg1, arg2, arg3);
      parsedOptions.behavior = infiniteQueryBehavior();
      return this.fetchQuery(parsedOptions);
    };
    _proto.prefetchInfiniteQuery = function prefetchInfiniteQuery(arg1, arg2, arg3) {
      return this.fetchInfiniteQuery(arg1, arg2, arg3).then(noop).catch(noop);
    };
    _proto.cancelMutations = function cancelMutations() {
      var _this7 = this;
      var promises = notifyManager.batch(function() {
        return _this7.mutationCache.getAll().map(function(mutation) {
          return mutation.cancel();
        });
      });
      return Promise.all(promises).then(noop).catch(noop);
    };
    _proto.resumePausedMutations = function resumePausedMutations() {
      return this.getMutationCache().resumePausedMutations();
    };
    _proto.executeMutation = function executeMutation(options) {
      return this.mutationCache.build(this, options).execute();
    };
    _proto.getQueryCache = function getQueryCache() {
      return this.queryCache;
    };
    _proto.getMutationCache = function getMutationCache() {
      return this.mutationCache;
    };
    _proto.getDefaultOptions = function getDefaultOptions() {
      return this.defaultOptions;
    };
    _proto.setDefaultOptions = function setDefaultOptions(options) {
      this.defaultOptions = options;
    };
    _proto.setQueryDefaults = function setQueryDefaults(queryKey, options) {
      var result = this.queryDefaults.find(function(x2) {
        return hashQueryKey(queryKey) === hashQueryKey(x2.queryKey);
      });
      if (result) {
        result.defaultOptions = options;
      } else {
        this.queryDefaults.push({
          queryKey,
          defaultOptions: options
        });
      }
    };
    _proto.getQueryDefaults = function getQueryDefaults(queryKey) {
      var _this$queryDefaults$f;
      return queryKey ? (_this$queryDefaults$f = this.queryDefaults.find(function(x2) {
        return partialMatchKey(queryKey, x2.queryKey);
      })) == null ? void 0 : _this$queryDefaults$f.defaultOptions : void 0;
    };
    _proto.setMutationDefaults = function setMutationDefaults(mutationKey, options) {
      var result = this.mutationDefaults.find(function(x2) {
        return hashQueryKey(mutationKey) === hashQueryKey(x2.mutationKey);
      });
      if (result) {
        result.defaultOptions = options;
      } else {
        this.mutationDefaults.push({
          mutationKey,
          defaultOptions: options
        });
      }
    };
    _proto.getMutationDefaults = function getMutationDefaults(mutationKey) {
      var _this$mutationDefault;
      return mutationKey ? (_this$mutationDefault = this.mutationDefaults.find(function(x2) {
        return partialMatchKey(mutationKey, x2.mutationKey);
      })) == null ? void 0 : _this$mutationDefault.defaultOptions : void 0;
    };
    _proto.defaultQueryOptions = function defaultQueryOptions(options) {
      if (options == null ? void 0 : options._defaulted) {
        return options;
      }
      var defaultedOptions = _extends({}, this.defaultOptions.queries, this.getQueryDefaults(options == null ? void 0 : options.queryKey), options, {
        _defaulted: true
      });
      if (!defaultedOptions.queryHash && defaultedOptions.queryKey) {
        defaultedOptions.queryHash = hashQueryKeyByOptions(defaultedOptions.queryKey, defaultedOptions);
      }
      return defaultedOptions;
    };
    _proto.defaultQueryObserverOptions = function defaultQueryObserverOptions(options) {
      return this.defaultQueryOptions(options);
    };
    _proto.defaultMutationOptions = function defaultMutationOptions(options) {
      if (options == null ? void 0 : options._defaulted) {
        return options;
      }
      return _extends({}, this.defaultOptions.mutations, this.getMutationDefaults(options == null ? void 0 : options.mutationKey), options, {
        _defaulted: true
      });
    };
    _proto.clear = function clear() {
      this.queryCache.clear();
      this.mutationCache.clear();
    };
    return QueryClient2;
  }();

  // ../../node_modules/react-query/es/core/queryObserver.js
  var QueryObserver = /* @__PURE__ */ function(_Subscribable) {
    _inheritsLoose(QueryObserver2, _Subscribable);
    function QueryObserver2(client, options) {
      var _this;
      _this = _Subscribable.call(this) || this;
      _this.client = client;
      _this.options = options;
      _this.trackedProps = [];
      _this.selectError = null;
      _this.bindMethods();
      _this.setOptions(options);
      return _this;
    }
    var _proto = QueryObserver2.prototype;
    _proto.bindMethods = function bindMethods() {
      this.remove = this.remove.bind(this);
      this.refetch = this.refetch.bind(this);
    };
    _proto.onSubscribe = function onSubscribe() {
      if (this.listeners.length === 1) {
        this.currentQuery.addObserver(this);
        if (shouldFetchOnMount(this.currentQuery, this.options)) {
          this.executeFetch();
        }
        this.updateTimers();
      }
    };
    _proto.onUnsubscribe = function onUnsubscribe() {
      if (!this.listeners.length) {
        this.destroy();
      }
    };
    _proto.shouldFetchOnReconnect = function shouldFetchOnReconnect() {
      return shouldFetchOn(this.currentQuery, this.options, this.options.refetchOnReconnect);
    };
    _proto.shouldFetchOnWindowFocus = function shouldFetchOnWindowFocus() {
      return shouldFetchOn(this.currentQuery, this.options, this.options.refetchOnWindowFocus);
    };
    _proto.destroy = function destroy() {
      this.listeners = [];
      this.clearTimers();
      this.currentQuery.removeObserver(this);
    };
    _proto.setOptions = function setOptions(options, notifyOptions) {
      var prevOptions = this.options;
      var prevQuery = this.currentQuery;
      this.options = this.client.defaultQueryObserverOptions(options);
      if (typeof this.options.enabled !== "undefined" && typeof this.options.enabled !== "boolean") {
        throw new Error("Expected enabled to be a boolean");
      }
      if (!this.options.queryKey) {
        this.options.queryKey = prevOptions.queryKey;
      }
      this.updateQuery();
      var mounted = this.hasListeners();
      if (mounted && shouldFetchOptionally(this.currentQuery, prevQuery, this.options, prevOptions)) {
        this.executeFetch();
      }
      this.updateResult(notifyOptions);
      if (mounted && (this.currentQuery !== prevQuery || this.options.enabled !== prevOptions.enabled || this.options.staleTime !== prevOptions.staleTime)) {
        this.updateStaleTimeout();
      }
      var nextRefetchInterval = this.computeRefetchInterval();
      if (mounted && (this.currentQuery !== prevQuery || this.options.enabled !== prevOptions.enabled || nextRefetchInterval !== this.currentRefetchInterval)) {
        this.updateRefetchInterval(nextRefetchInterval);
      }
    };
    _proto.getOptimisticResult = function getOptimisticResult(options) {
      var defaultedOptions = this.client.defaultQueryObserverOptions(options);
      var query = this.client.getQueryCache().build(this.client, defaultedOptions);
      return this.createResult(query, defaultedOptions);
    };
    _proto.getCurrentResult = function getCurrentResult() {
      return this.currentResult;
    };
    _proto.trackResult = function trackResult(result, defaultedOptions) {
      var _this2 = this;
      var trackedResult = {};
      var trackProp = function trackProp2(key) {
        if (!_this2.trackedProps.includes(key)) {
          _this2.trackedProps.push(key);
        }
      };
      Object.keys(result).forEach(function(key) {
        Object.defineProperty(trackedResult, key, {
          configurable: false,
          enumerable: true,
          get: function get2() {
            trackProp(key);
            return result[key];
          }
        });
      });
      if (defaultedOptions.useErrorBoundary || defaultedOptions.suspense) {
        trackProp("error");
      }
      return trackedResult;
    };
    _proto.getNextResult = function getNextResult(options) {
      var _this3 = this;
      return new Promise(function(resolve, reject) {
        var unsubscribe = _this3.subscribe(function(result) {
          if (!result.isFetching) {
            unsubscribe();
            if (result.isError && (options == null ? void 0 : options.throwOnError)) {
              reject(result.error);
            } else {
              resolve(result);
            }
          }
        });
      });
    };
    _proto.getCurrentQuery = function getCurrentQuery() {
      return this.currentQuery;
    };
    _proto.remove = function remove() {
      this.client.getQueryCache().remove(this.currentQuery);
    };
    _proto.refetch = function refetch(options) {
      return this.fetch(_extends({}, options, {
        meta: {
          refetchPage: options == null ? void 0 : options.refetchPage
        }
      }));
    };
    _proto.fetchOptimistic = function fetchOptimistic(options) {
      var _this4 = this;
      var defaultedOptions = this.client.defaultQueryObserverOptions(options);
      var query = this.client.getQueryCache().build(this.client, defaultedOptions);
      return query.fetch().then(function() {
        return _this4.createResult(query, defaultedOptions);
      });
    };
    _proto.fetch = function fetch(fetchOptions) {
      var _this5 = this;
      return this.executeFetch(fetchOptions).then(function() {
        _this5.updateResult();
        return _this5.currentResult;
      });
    };
    _proto.executeFetch = function executeFetch(fetchOptions) {
      this.updateQuery();
      var promise = this.currentQuery.fetch(this.options, fetchOptions);
      if (!(fetchOptions == null ? void 0 : fetchOptions.throwOnError)) {
        promise = promise.catch(noop);
      }
      return promise;
    };
    _proto.updateStaleTimeout = function updateStaleTimeout() {
      var _this6 = this;
      this.clearStaleTimeout();
      if (isServer || this.currentResult.isStale || !isValidTimeout(this.options.staleTime)) {
        return;
      }
      var time = timeUntilStale(this.currentResult.dataUpdatedAt, this.options.staleTime);
      var timeout = time + 1;
      this.staleTimeoutId = setTimeout(function() {
        if (!_this6.currentResult.isStale) {
          _this6.updateResult();
        }
      }, timeout);
    };
    _proto.computeRefetchInterval = function computeRefetchInterval() {
      var _this$options$refetch;
      return typeof this.options.refetchInterval === "function" ? this.options.refetchInterval(this.currentResult.data, this.currentQuery) : (_this$options$refetch = this.options.refetchInterval) != null ? _this$options$refetch : false;
    };
    _proto.updateRefetchInterval = function updateRefetchInterval(nextInterval) {
      var _this7 = this;
      this.clearRefetchInterval();
      this.currentRefetchInterval = nextInterval;
      if (isServer || this.options.enabled === false || !isValidTimeout(this.currentRefetchInterval) || this.currentRefetchInterval === 0) {
        return;
      }
      this.refetchIntervalId = setInterval(function() {
        if (_this7.options.refetchIntervalInBackground || focusManager.isFocused()) {
          _this7.executeFetch();
        }
      }, this.currentRefetchInterval);
    };
    _proto.updateTimers = function updateTimers() {
      this.updateStaleTimeout();
      this.updateRefetchInterval(this.computeRefetchInterval());
    };
    _proto.clearTimers = function clearTimers() {
      this.clearStaleTimeout();
      this.clearRefetchInterval();
    };
    _proto.clearStaleTimeout = function clearStaleTimeout() {
      clearTimeout(this.staleTimeoutId);
      this.staleTimeoutId = void 0;
    };
    _proto.clearRefetchInterval = function clearRefetchInterval() {
      clearInterval(this.refetchIntervalId);
      this.refetchIntervalId = void 0;
    };
    _proto.createResult = function createResult(query, options) {
      var prevQuery = this.currentQuery;
      var prevOptions = this.options;
      var prevResult = this.currentResult;
      var prevResultState = this.currentResultState;
      var prevResultOptions = this.currentResultOptions;
      var queryChange = query !== prevQuery;
      var queryInitialState = queryChange ? query.state : this.currentQueryInitialState;
      var prevQueryResult = queryChange ? this.currentResult : this.previousQueryResult;
      var state = query.state;
      var dataUpdatedAt = state.dataUpdatedAt, error2 = state.error, errorUpdatedAt = state.errorUpdatedAt, isFetching = state.isFetching, status = state.status;
      var isPreviousData = false;
      var isPlaceholderData = false;
      var data;
      if (options.optimisticResults) {
        var mounted = this.hasListeners();
        var fetchOnMount = !mounted && shouldFetchOnMount(query, options);
        var fetchOptionally = mounted && shouldFetchOptionally(query, prevQuery, options, prevOptions);
        if (fetchOnMount || fetchOptionally) {
          isFetching = true;
          if (!dataUpdatedAt) {
            status = "loading";
          }
        }
      }
      if (options.keepPreviousData && !state.dataUpdateCount && (prevQueryResult == null ? void 0 : prevQueryResult.isSuccess) && status !== "error") {
        data = prevQueryResult.data;
        dataUpdatedAt = prevQueryResult.dataUpdatedAt;
        status = prevQueryResult.status;
        isPreviousData = true;
      } else if (options.select && typeof state.data !== "undefined") {
        if (prevResult && state.data === (prevResultState == null ? void 0 : prevResultState.data) && options.select === this.selectFn) {
          data = this.selectResult;
        } else {
          try {
            this.selectFn = options.select;
            data = options.select(state.data);
            if (options.structuralSharing !== false) {
              data = replaceEqualDeep(prevResult == null ? void 0 : prevResult.data, data);
            }
            this.selectResult = data;
            this.selectError = null;
          } catch (selectError) {
            getLogger().error(selectError);
            this.selectError = selectError;
          }
        }
      } else {
        data = state.data;
      }
      if (typeof options.placeholderData !== "undefined" && typeof data === "undefined" && (status === "loading" || status === "idle")) {
        var placeholderData;
        if ((prevResult == null ? void 0 : prevResult.isPlaceholderData) && options.placeholderData === (prevResultOptions == null ? void 0 : prevResultOptions.placeholderData)) {
          placeholderData = prevResult.data;
        } else {
          placeholderData = typeof options.placeholderData === "function" ? options.placeholderData() : options.placeholderData;
          if (options.select && typeof placeholderData !== "undefined") {
            try {
              placeholderData = options.select(placeholderData);
              if (options.structuralSharing !== false) {
                placeholderData = replaceEqualDeep(prevResult == null ? void 0 : prevResult.data, placeholderData);
              }
              this.selectError = null;
            } catch (selectError) {
              getLogger().error(selectError);
              this.selectError = selectError;
            }
          }
        }
        if (typeof placeholderData !== "undefined") {
          status = "success";
          data = placeholderData;
          isPlaceholderData = true;
        }
      }
      if (this.selectError) {
        error2 = this.selectError;
        data = this.selectResult;
        errorUpdatedAt = Date.now();
        status = "error";
      }
      var result = {
        status,
        isLoading: status === "loading",
        isSuccess: status === "success",
        isError: status === "error",
        isIdle: status === "idle",
        data,
        dataUpdatedAt,
        error: error2,
        errorUpdatedAt,
        failureCount: state.fetchFailureCount,
        errorUpdateCount: state.errorUpdateCount,
        isFetched: state.dataUpdateCount > 0 || state.errorUpdateCount > 0,
        isFetchedAfterMount: state.dataUpdateCount > queryInitialState.dataUpdateCount || state.errorUpdateCount > queryInitialState.errorUpdateCount,
        isFetching,
        isRefetching: isFetching && status !== "loading",
        isLoadingError: status === "error" && state.dataUpdatedAt === 0,
        isPlaceholderData,
        isPreviousData,
        isRefetchError: status === "error" && state.dataUpdatedAt !== 0,
        isStale: isStale(query, options),
        refetch: this.refetch,
        remove: this.remove
      };
      return result;
    };
    _proto.shouldNotifyListeners = function shouldNotifyListeners(result, prevResult) {
      if (!prevResult) {
        return true;
      }
      var _this$options = this.options, notifyOnChangeProps = _this$options.notifyOnChangeProps, notifyOnChangePropsExclusions = _this$options.notifyOnChangePropsExclusions;
      if (!notifyOnChangeProps && !notifyOnChangePropsExclusions) {
        return true;
      }
      if (notifyOnChangeProps === "tracked" && !this.trackedProps.length) {
        return true;
      }
      var includedProps = notifyOnChangeProps === "tracked" ? this.trackedProps : notifyOnChangeProps;
      return Object.keys(result).some(function(key) {
        var typedKey = key;
        var changed = result[typedKey] !== prevResult[typedKey];
        var isIncluded = includedProps == null ? void 0 : includedProps.some(function(x2) {
          return x2 === key;
        });
        var isExcluded = notifyOnChangePropsExclusions == null ? void 0 : notifyOnChangePropsExclusions.some(function(x2) {
          return x2 === key;
        });
        return changed && !isExcluded && (!includedProps || isIncluded);
      });
    };
    _proto.updateResult = function updateResult(notifyOptions) {
      var prevResult = this.currentResult;
      this.currentResult = this.createResult(this.currentQuery, this.options);
      this.currentResultState = this.currentQuery.state;
      this.currentResultOptions = this.options;
      if (shallowEqualObjects(this.currentResult, prevResult)) {
        return;
      }
      var defaultNotifyOptions = {
        cache: true
      };
      if ((notifyOptions == null ? void 0 : notifyOptions.listeners) !== false && this.shouldNotifyListeners(this.currentResult, prevResult)) {
        defaultNotifyOptions.listeners = true;
      }
      this.notify(_extends({}, defaultNotifyOptions, notifyOptions));
    };
    _proto.updateQuery = function updateQuery() {
      var query = this.client.getQueryCache().build(this.client, this.options);
      if (query === this.currentQuery) {
        return;
      }
      var prevQuery = this.currentQuery;
      this.currentQuery = query;
      this.currentQueryInitialState = query.state;
      this.previousQueryResult = this.currentResult;
      if (this.hasListeners()) {
        prevQuery == null ? void 0 : prevQuery.removeObserver(this);
        query.addObserver(this);
      }
    };
    _proto.onQueryUpdate = function onQueryUpdate(action) {
      var notifyOptions = {};
      if (action.type === "success") {
        notifyOptions.onSuccess = true;
      } else if (action.type === "error" && !isCancelledError(action.error)) {
        notifyOptions.onError = true;
      }
      this.updateResult(notifyOptions);
      if (this.hasListeners()) {
        this.updateTimers();
      }
    };
    _proto.notify = function notify2(notifyOptions) {
      var _this8 = this;
      notifyManager.batch(function() {
        if (notifyOptions.onSuccess) {
          _this8.options.onSuccess == null ? void 0 : _this8.options.onSuccess(_this8.currentResult.data);
          _this8.options.onSettled == null ? void 0 : _this8.options.onSettled(_this8.currentResult.data, null);
        } else if (notifyOptions.onError) {
          _this8.options.onError == null ? void 0 : _this8.options.onError(_this8.currentResult.error);
          _this8.options.onSettled == null ? void 0 : _this8.options.onSettled(void 0, _this8.currentResult.error);
        }
        if (notifyOptions.listeners) {
          _this8.listeners.forEach(function(listener) {
            listener(_this8.currentResult);
          });
        }
        if (notifyOptions.cache) {
          _this8.client.getQueryCache().notify({
            query: _this8.currentQuery,
            type: "observerResultsUpdated"
          });
        }
      });
    };
    return QueryObserver2;
  }(Subscribable);
  function shouldLoadOnMount(query, options) {
    return options.enabled !== false && !query.state.dataUpdatedAt && !(query.state.status === "error" && options.retryOnMount === false);
  }
  function shouldFetchOnMount(query, options) {
    return shouldLoadOnMount(query, options) || query.state.dataUpdatedAt > 0 && shouldFetchOn(query, options, options.refetchOnMount);
  }
  function shouldFetchOn(query, options, field) {
    if (options.enabled !== false) {
      var value = typeof field === "function" ? field(query) : field;
      return value === "always" || value !== false && isStale(query, options);
    }
    return false;
  }
  function shouldFetchOptionally(query, prevQuery, options, prevOptions) {
    return options.enabled !== false && (query !== prevQuery || prevOptions.enabled === false) && (!options.suspense || query.state.status !== "error") && isStale(query, options);
  }
  function isStale(query, options) {
    return query.isStaleByTime(options.staleTime);
  }

  // ../../node_modules/react-query/es/core/mutationObserver.js
  var MutationObserver2 = /* @__PURE__ */ function(_Subscribable) {
    _inheritsLoose(MutationObserver3, _Subscribable);
    function MutationObserver3(client, options) {
      var _this;
      _this = _Subscribable.call(this) || this;
      _this.client = client;
      _this.setOptions(options);
      _this.bindMethods();
      _this.updateResult();
      return _this;
    }
    var _proto = MutationObserver3.prototype;
    _proto.bindMethods = function bindMethods() {
      this.mutate = this.mutate.bind(this);
      this.reset = this.reset.bind(this);
    };
    _proto.setOptions = function setOptions(options) {
      this.options = this.client.defaultMutationOptions(options);
    };
    _proto.onUnsubscribe = function onUnsubscribe() {
      if (!this.listeners.length) {
        var _this$currentMutation;
        (_this$currentMutation = this.currentMutation) == null ? void 0 : _this$currentMutation.removeObserver(this);
      }
    };
    _proto.onMutationUpdate = function onMutationUpdate(action) {
      this.updateResult();
      var notifyOptions = {
        listeners: true
      };
      if (action.type === "success") {
        notifyOptions.onSuccess = true;
      } else if (action.type === "error") {
        notifyOptions.onError = true;
      }
      this.notify(notifyOptions);
    };
    _proto.getCurrentResult = function getCurrentResult() {
      return this.currentResult;
    };
    _proto.reset = function reset() {
      this.currentMutation = void 0;
      this.updateResult();
      this.notify({
        listeners: true
      });
    };
    _proto.mutate = function mutate(variables, options) {
      this.mutateOptions = options;
      if (this.currentMutation) {
        this.currentMutation.removeObserver(this);
      }
      this.currentMutation = this.client.getMutationCache().build(this.client, _extends({}, this.options, {
        variables: typeof variables !== "undefined" ? variables : this.options.variables
      }));
      this.currentMutation.addObserver(this);
      return this.currentMutation.execute();
    };
    _proto.updateResult = function updateResult() {
      var state = this.currentMutation ? this.currentMutation.state : getDefaultState();
      var result = _extends({}, state, {
        isLoading: state.status === "loading",
        isSuccess: state.status === "success",
        isError: state.status === "error",
        isIdle: state.status === "idle",
        mutate: this.mutate,
        reset: this.reset
      });
      this.currentResult = result;
    };
    _proto.notify = function notify2(options) {
      var _this2 = this;
      notifyManager.batch(function() {
        if (_this2.mutateOptions) {
          if (options.onSuccess) {
            _this2.mutateOptions.onSuccess == null ? void 0 : _this2.mutateOptions.onSuccess(_this2.currentResult.data, _this2.currentResult.variables, _this2.currentResult.context);
            _this2.mutateOptions.onSettled == null ? void 0 : _this2.mutateOptions.onSettled(_this2.currentResult.data, null, _this2.currentResult.variables, _this2.currentResult.context);
          } else if (options.onError) {
            _this2.mutateOptions.onError == null ? void 0 : _this2.mutateOptions.onError(_this2.currentResult.error, _this2.currentResult.variables, _this2.currentResult.context);
            _this2.mutateOptions.onSettled == null ? void 0 : _this2.mutateOptions.onSettled(void 0, _this2.currentResult.error, _this2.currentResult.variables, _this2.currentResult.context);
          }
        }
        if (options.listeners) {
          _this2.listeners.forEach(function(listener) {
            listener(_this2.currentResult);
          });
        }
      });
    };
    return MutationObserver3;
  }(Subscribable);

  // ../../node_modules/react-query/es/react/reactBatchedUpdates.js
  var import_react_dom = __toESM(require_react_dom());
  var unstable_batchedUpdates = import_react_dom.default.unstable_batchedUpdates;

  // ../../node_modules/react-query/es/react/setBatchUpdatesFn.js
  notifyManager.setBatchNotifyFunction(unstable_batchedUpdates);

  // ../../node_modules/react-query/es/react/logger.js
  var logger2 = console;

  // ../../node_modules/react-query/es/react/setLogger.js
  setLogger(logger2);

  // ../../node_modules/react-query/es/react/QueryClientProvider.js
  var import_react = __toESM(require_react());
  var defaultContext = /* @__PURE__ */ import_react.default.createContext(void 0);
  var QueryClientSharingContext = /* @__PURE__ */ import_react.default.createContext(false);
  function getQueryClientContext(contextSharing) {
    if (contextSharing && typeof window !== "undefined") {
      if (!window.ReactQueryClientContext) {
        window.ReactQueryClientContext = defaultContext;
      }
      return window.ReactQueryClientContext;
    }
    return defaultContext;
  }
  var useQueryClient = function useQueryClient2() {
    var queryClient2 = import_react.default.useContext(getQueryClientContext(import_react.default.useContext(QueryClientSharingContext)));
    if (!queryClient2) {
      throw new Error("No QueryClient set, use QueryClientProvider to set one");
    }
    return queryClient2;
  };
  var QueryClientProvider = function QueryClientProvider2(_ref) {
    var client = _ref.client, _ref$contextSharing = _ref.contextSharing, contextSharing = _ref$contextSharing === void 0 ? false : _ref$contextSharing, children = _ref.children;
    import_react.default.useEffect(function() {
      client.mount();
      return function() {
        client.unmount();
      };
    }, [client]);
    var Context = getQueryClientContext(contextSharing);
    return /* @__PURE__ */ import_react.default.createElement(QueryClientSharingContext.Provider, {
      value: contextSharing
    }, /* @__PURE__ */ import_react.default.createElement(Context.Provider, {
      value: client
    }, children));
  };

  // ../../node_modules/react-query/es/react/QueryErrorResetBoundary.js
  var import_react2 = __toESM(require_react());
  function createValue() {
    var _isReset = false;
    return {
      clearReset: function clearReset() {
        _isReset = false;
      },
      reset: function reset() {
        _isReset = true;
      },
      isReset: function isReset() {
        return _isReset;
      }
    };
  }
  var QueryErrorResetBoundaryContext = /* @__PURE__ */ import_react2.default.createContext(createValue());
  var useQueryErrorResetBoundary = function useQueryErrorResetBoundary2() {
    return import_react2.default.useContext(QueryErrorResetBoundaryContext);
  };

  // ../../node_modules/react-query/es/react/useMutation.js
  var import_react3 = __toESM(require_react());

  // ../../node_modules/react-query/es/react/utils.js
  function shouldThrowError(suspense, _useErrorBoundary, params) {
    if (typeof _useErrorBoundary === "function") {
      return _useErrorBoundary.apply(void 0, params);
    }
    if (typeof _useErrorBoundary === "boolean")
      return _useErrorBoundary;
    return !!suspense;
  }

  // ../../node_modules/react-query/es/react/useMutation.js
  function useMutation(arg1, arg2, arg3) {
    var mountedRef = import_react3.default.useRef(false);
    var _React$useState = import_react3.default.useState(0), forceUpdate = _React$useState[1];
    var options = parseMutationArgs(arg1, arg2, arg3);
    var queryClient2 = useQueryClient();
    var obsRef = import_react3.default.useRef();
    if (!obsRef.current) {
      obsRef.current = new MutationObserver2(queryClient2, options);
    } else {
      obsRef.current.setOptions(options);
    }
    var currentResult = obsRef.current.getCurrentResult();
    import_react3.default.useEffect(function() {
      mountedRef.current = true;
      var unsubscribe = obsRef.current.subscribe(notifyManager.batchCalls(function() {
        if (mountedRef.current) {
          forceUpdate(function(x2) {
            return x2 + 1;
          });
        }
      }));
      return function() {
        mountedRef.current = false;
        unsubscribe();
      };
    }, []);
    var mutate = import_react3.default.useCallback(function(variables, mutateOptions) {
      obsRef.current.mutate(variables, mutateOptions).catch(noop);
    }, []);
    if (currentResult.error && shouldThrowError(void 0, obsRef.current.options.useErrorBoundary, [currentResult.error])) {
      throw currentResult.error;
    }
    return _extends({}, currentResult, {
      mutate,
      mutateAsync: currentResult.mutate
    });
  }

  // ../../node_modules/react-query/es/react/useBaseQuery.js
  var import_react4 = __toESM(require_react());
  function useBaseQuery(options, Observer) {
    var mountedRef = import_react4.default.useRef(false);
    var _React$useState = import_react4.default.useState(0), forceUpdate = _React$useState[1];
    var queryClient2 = useQueryClient();
    var errorResetBoundary = useQueryErrorResetBoundary();
    var defaultedOptions = queryClient2.defaultQueryObserverOptions(options);
    defaultedOptions.optimisticResults = true;
    if (defaultedOptions.onError) {
      defaultedOptions.onError = notifyManager.batchCalls(defaultedOptions.onError);
    }
    if (defaultedOptions.onSuccess) {
      defaultedOptions.onSuccess = notifyManager.batchCalls(defaultedOptions.onSuccess);
    }
    if (defaultedOptions.onSettled) {
      defaultedOptions.onSettled = notifyManager.batchCalls(defaultedOptions.onSettled);
    }
    if (defaultedOptions.suspense) {
      if (typeof defaultedOptions.staleTime !== "number") {
        defaultedOptions.staleTime = 1e3;
      }
      if (defaultedOptions.cacheTime === 0) {
        defaultedOptions.cacheTime = 1;
      }
    }
    if (defaultedOptions.suspense || defaultedOptions.useErrorBoundary) {
      if (!errorResetBoundary.isReset()) {
        defaultedOptions.retryOnMount = false;
      }
    }
    var _React$useState2 = import_react4.default.useState(function() {
      return new Observer(queryClient2, defaultedOptions);
    }), observer = _React$useState2[0];
    var result = observer.getOptimisticResult(defaultedOptions);
    import_react4.default.useEffect(function() {
      mountedRef.current = true;
      errorResetBoundary.clearReset();
      var unsubscribe = observer.subscribe(notifyManager.batchCalls(function() {
        if (mountedRef.current) {
          forceUpdate(function(x2) {
            return x2 + 1;
          });
        }
      }));
      observer.updateResult();
      return function() {
        mountedRef.current = false;
        unsubscribe();
      };
    }, [errorResetBoundary, observer]);
    import_react4.default.useEffect(function() {
      observer.setOptions(defaultedOptions, {
        listeners: false
      });
    }, [defaultedOptions, observer]);
    if (defaultedOptions.suspense && result.isLoading) {
      throw observer.fetchOptimistic(defaultedOptions).then(function(_ref) {
        var data = _ref.data;
        defaultedOptions.onSuccess == null ? void 0 : defaultedOptions.onSuccess(data);
        defaultedOptions.onSettled == null ? void 0 : defaultedOptions.onSettled(data, null);
      }).catch(function(error2) {
        errorResetBoundary.clearReset();
        defaultedOptions.onError == null ? void 0 : defaultedOptions.onError(error2);
        defaultedOptions.onSettled == null ? void 0 : defaultedOptions.onSettled(void 0, error2);
      });
    }
    if (result.isError && !errorResetBoundary.isReset() && !result.isFetching && shouldThrowError(defaultedOptions.suspense, defaultedOptions.useErrorBoundary, [result.error, observer.getCurrentQuery()])) {
      throw result.error;
    }
    if (defaultedOptions.notifyOnChangeProps === "tracked") {
      result = observer.trackResult(result, defaultedOptions);
    }
    return result;
  }

  // ../../node_modules/react-query/es/react/useQuery.js
  function useQuery(arg1, arg2, arg3) {
    var parsedOptions = parseQueryArgs(arg1, arg2, arg3);
    return useBaseQuery(parsedOptions, QueryObserver);
  }

  // src/utils/queries.tsx
  var import_react8 = __toESM(require_react(), 1);
  var import_axios = __toESM(require_axios2(), 1);

  // src/providers/BlockGroupContext.tsx
  var import_react5 = __toESM(require_react(), 1);
  var BlocksGroupContext = (0, import_react5.createContext)({
    group: void 0,
    editGroup: () => {
    },
    noRedirect: false
  });
  var BlocksGroupProvider = ({
    groupId,
    itemType,
    itemId,
    children,
    noRedirect
  }) => {
    const [group, setGroup] = (0, import_react5.useState)({
      visible: true,
      title: "",
      slug: null
    });
    const { data, editGroup } = useGroup(groupId);
    (0, import_react5.useEffect)(() => {
      if (data) {
        setGroup(data);
      }
    }, [data]);
    return /* @__PURE__ */ React.createElement(BlocksGroupContext.Provider, {
      value: { group, editGroup, groupId, itemType, itemId, noRedirect }
    }, /* @__PURE__ */ React.createElement(import_react5.Suspense, {
      fallback: "loading group"
    }, children));
  };

  // src/providers/LocaleContext.tsx
  var import_react6 = __toESM(require_react(), 1);
  var LocaleContext = (0, import_react6.createContext)({
    currentLocale: "",
    locales: [],
    setCurrentLocale: () => {
    }
  });
  function LocaleProvider({
    locales,
    children
  }) {
    const [currentLocale, setCurrentLocale] = (0, import_react6.useState)("");
    (0, import_react6.useEffect)(() => {
      if (Array.isArray(locales)) {
        const current = locales.find((locale) => locale.active);
        if (current) {
          setCurrentLocale(current.code);
        }
      }
    }, [locales]);
    return /* @__PURE__ */ React.createElement(LocaleContext.Provider, {
      value: { locales, currentLocale, setCurrentLocale }
    }, children);
  }

  // ../../node_modules/react-hot-toast/dist/react-hot-toast.esm.js
  var import_react7 = __toESM(require_react());

  // ../../node_modules/goober/dist/goober.modern.js
  var e = { data: "" };
  var t = (t3) => typeof window == "object" ? ((t3 ? t3.querySelector("#_goober") : window._goober) || Object.assign((t3 || document.head).appendChild(document.createElement("style")), { innerHTML: " ", id: "_goober" })).firstChild : t3 || e;
  var l = /(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g;
  var a = /\/\*[^]*?\*\/|  +/g;
  var n = /\n+/g;
  var o = (e2, t3) => {
    let r2 = "", l3 = "", a3 = "";
    for (let n3 in e2) {
      let c3 = e2[n3];
      n3[0] == "@" ? n3[1] == "i" ? r2 = n3 + " " + c3 + ";" : l3 += n3[1] == "f" ? o(c3, n3) : n3 + "{" + o(c3, n3[1] == "k" ? "" : t3) + "}" : typeof c3 == "object" ? l3 += o(c3, t3 ? t3.replace(/([^,])+/g, (e3) => n3.replace(/(^:.*)|([^,])+/g, (t4) => /&/.test(t4) ? t4.replace(/&/g, e3) : e3 ? e3 + " " + t4 : t4)) : n3) : c3 != null && (n3 = /^--/.test(n3) ? n3 : n3.replace(/[A-Z]/g, "-$&").toLowerCase(), a3 += o.p ? o.p(n3, c3) : n3 + ":" + c3 + ";");
    }
    return r2 + (t3 && a3 ? t3 + "{" + a3 + "}" : a3) + l3;
  };
  var c = {};
  var s = (e2) => {
    if (typeof e2 == "object") {
      let t3 = "";
      for (let r2 in e2)
        t3 += r2 + s(e2[r2]);
      return t3;
    }
    return e2;
  };
  var i = (e2, t3, r2, i3, p3) => {
    let u3 = s(e2), d3 = c[u3] || (c[u3] = ((e3) => {
      let t4 = 0, r3 = 11;
      for (; t4 < e3.length; )
        r3 = 101 * r3 + e3.charCodeAt(t4++) >>> 0;
      return "go" + r3;
    })(u3));
    if (!c[d3]) {
      let t4 = u3 !== e2 ? e2 : ((e3) => {
        let t5, r3, o3 = [{}];
        for (; t5 = l.exec(e3.replace(a, "")); )
          t5[4] ? o3.shift() : t5[3] ? (r3 = t5[3].replace(n, " ").trim(), o3.unshift(o3[0][r3] = o3[0][r3] || {})) : o3[0][t5[1]] = t5[2].replace(n, " ").trim();
        return o3[0];
      })(e2);
      c[d3] = o(p3 ? { ["@keyframes " + d3]: t4 } : t4, r2 ? "" : "." + d3);
    }
    return ((e3, t4, r3) => {
      t4.data.indexOf(e3) == -1 && (t4.data = r3 ? e3 + t4.data : t4.data + e3);
    })(c[d3], t3, i3), d3;
  };
  var p = (e2, t3, r2) => e2.reduce((e3, l3, a3) => {
    let n3 = t3[a3];
    if (n3 && n3.call) {
      let e4 = n3(r2), t4 = e4 && e4.props && e4.props.className || /^go/.test(e4) && e4;
      n3 = t4 ? "." + t4 : e4 && typeof e4 == "object" ? e4.props ? "" : o(e4, "") : e4 === false ? "" : e4;
    }
    return e3 + l3 + (n3 == null ? "" : n3);
  }, "");
  function u(e2) {
    let r2 = this || {}, l3 = e2.call ? e2(r2.p) : e2;
    return i(l3.unshift ? l3.raw ? p(l3, [].slice.call(arguments, 1), r2.p) : l3.reduce((e3, t3) => Object.assign(e3, t3 && t3.call ? t3(r2.p) : t3), {}) : l3, t(r2.target), r2.g, r2.o, r2.k);
  }
  var d;
  var f;
  var g;
  var b = u.bind({ g: 1 });
  var h = u.bind({ k: 1 });
  function m(e2, t3, r2, l3) {
    o.p = t3, d = e2, f = r2, g = l3;
  }
  function j(e2, t3) {
    let r2 = this || {};
    return function() {
      let l3 = arguments;
      function a3(n3, o3) {
        let c3 = Object.assign({}, n3), s3 = c3.className || a3.className;
        r2.p = Object.assign({ theme: f && f() }, c3), r2.o = / *go\d+/.test(s3), c3.className = u.apply(r2, l3) + (s3 ? " " + s3 : ""), t3 && (c3.ref = o3);
        let i3 = e2;
        return e2[0] && (i3 = c3.as || e2, delete c3.as), g && i3[0] && g(c3), d(i3, c3);
      }
      return t3 ? t3(a3) : a3;
    };
  }

  // ../../node_modules/react-hot-toast/dist/react-hot-toast.esm.js
  function _extends2() {
    _extends2 = Object.assign || function(target) {
      for (var i3 = 1; i3 < arguments.length; i3++) {
        var source = arguments[i3];
        for (var key in source) {
          if (Object.prototype.hasOwnProperty.call(source, key)) {
            target[key] = source[key];
          }
        }
      }
      return target;
    };
    return _extends2.apply(this, arguments);
  }
  function _taggedTemplateLiteralLoose(strings, raw) {
    if (!raw) {
      raw = strings.slice(0);
    }
    strings.raw = raw;
    return strings;
  }
  var isFunction = function isFunction2(valOrFunction) {
    return typeof valOrFunction === "function";
  };
  var resolveValue = function resolveValue2(valOrFunction, arg) {
    return isFunction(valOrFunction) ? valOrFunction(arg) : valOrFunction;
  };
  var genId = /* @__PURE__ */ function() {
    var count2 = 0;
    return function() {
      return (++count2).toString();
    };
  }();
  var createRectRef = function createRectRef2(onRect) {
    return function(el) {
      if (el) {
        setTimeout(function() {
          var boundingRect = el.getBoundingClientRect();
          onRect(boundingRect);
        });
      }
    };
  };
  var prefersReducedMotion = /* @__PURE__ */ function() {
    var shouldReduceMotion = void 0;
    return function() {
      if (shouldReduceMotion === void 0 && typeof window !== "undefined") {
        var mediaQuery = matchMedia("(prefers-reduced-motion: reduce)");
        shouldReduceMotion = !mediaQuery || mediaQuery.matches;
      }
      return shouldReduceMotion;
    };
  }();
  var TOAST_LIMIT = 20;
  var ActionType;
  (function(ActionType2) {
    ActionType2[ActionType2["ADD_TOAST"] = 0] = "ADD_TOAST";
    ActionType2[ActionType2["UPDATE_TOAST"] = 1] = "UPDATE_TOAST";
    ActionType2[ActionType2["UPSERT_TOAST"] = 2] = "UPSERT_TOAST";
    ActionType2[ActionType2["DISMISS_TOAST"] = 3] = "DISMISS_TOAST";
    ActionType2[ActionType2["REMOVE_TOAST"] = 4] = "REMOVE_TOAST";
    ActionType2[ActionType2["START_PAUSE"] = 5] = "START_PAUSE";
    ActionType2[ActionType2["END_PAUSE"] = 6] = "END_PAUSE";
  })(ActionType || (ActionType = {}));
  var toastTimeouts = /* @__PURE__ */ new Map();
  var addToRemoveQueue = function addToRemoveQueue2(toastId) {
    if (toastTimeouts.has(toastId)) {
      return;
    }
    var timeout = setTimeout(function() {
      toastTimeouts["delete"](toastId);
      dispatch({
        type: ActionType.REMOVE_TOAST,
        toastId
      });
    }, 1e3);
    toastTimeouts.set(toastId, timeout);
  };
  var clearFromRemoveQueue = function clearFromRemoveQueue2(toastId) {
    var timeout = toastTimeouts.get(toastId);
    if (timeout) {
      clearTimeout(timeout);
    }
  };
  var reducer2 = function reducer3(state, action) {
    switch (action.type) {
      case ActionType.ADD_TOAST:
        return _extends2({}, state, {
          toasts: [action.toast].concat(state.toasts).slice(0, TOAST_LIMIT)
        });
      case ActionType.UPDATE_TOAST:
        if (action.toast.id) {
          clearFromRemoveQueue(action.toast.id);
        }
        return _extends2({}, state, {
          toasts: state.toasts.map(function(t3) {
            return t3.id === action.toast.id ? _extends2({}, t3, action.toast) : t3;
          })
        });
      case ActionType.UPSERT_TOAST:
        var toast3 = action.toast;
        return state.toasts.find(function(t3) {
          return t3.id === toast3.id;
        }) ? reducer3(state, {
          type: ActionType.UPDATE_TOAST,
          toast: toast3
        }) : reducer3(state, {
          type: ActionType.ADD_TOAST,
          toast: toast3
        });
      case ActionType.DISMISS_TOAST:
        var toastId = action.toastId;
        if (toastId) {
          addToRemoveQueue(toastId);
        } else {
          state.toasts.forEach(function(toast4) {
            addToRemoveQueue(toast4.id);
          });
        }
        return _extends2({}, state, {
          toasts: state.toasts.map(function(t3) {
            return t3.id === toastId || toastId === void 0 ? _extends2({}, t3, {
              visible: false
            }) : t3;
          })
        });
      case ActionType.REMOVE_TOAST:
        if (action.toastId === void 0) {
          return _extends2({}, state, {
            toasts: []
          });
        }
        return _extends2({}, state, {
          toasts: state.toasts.filter(function(t3) {
            return t3.id !== action.toastId;
          })
        });
      case ActionType.START_PAUSE:
        return _extends2({}, state, {
          pausedAt: action.time
        });
      case ActionType.END_PAUSE:
        var diff = action.time - (state.pausedAt || 0);
        return _extends2({}, state, {
          pausedAt: void 0,
          toasts: state.toasts.map(function(t3) {
            return _extends2({}, t3, {
              pauseDuration: t3.pauseDuration + diff
            });
          })
        });
    }
  };
  var listeners = [];
  var memoryState = {
    toasts: [],
    pausedAt: void 0
  };
  var dispatch = function dispatch2(action) {
    memoryState = reducer2(memoryState, action);
    listeners.forEach(function(listener) {
      listener(memoryState);
    });
  };
  var defaultTimeouts = {
    blank: 4e3,
    error: 4e3,
    success: 2e3,
    loading: Infinity,
    custom: 4e3
  };
  var useStore = function useStore2(toastOptions) {
    if (toastOptions === void 0) {
      toastOptions = {};
    }
    var _useState = (0, import_react7.useState)(memoryState), state = _useState[0], setState = _useState[1];
    (0, import_react7.useEffect)(function() {
      listeners.push(setState);
      return function() {
        var index2 = listeners.indexOf(setState);
        if (index2 > -1) {
          listeners.splice(index2, 1);
        }
      };
    }, [state]);
    var mergedToasts = state.toasts.map(function(t3) {
      var _toastOptions$t$type, _toastOptions, _toastOptions$t$type2;
      return _extends2({}, toastOptions, toastOptions[t3.type], t3, {
        duration: t3.duration || ((_toastOptions$t$type = toastOptions[t3.type]) == null ? void 0 : _toastOptions$t$type.duration) || ((_toastOptions = toastOptions) == null ? void 0 : _toastOptions.duration) || defaultTimeouts[t3.type],
        style: _extends2({}, toastOptions.style, (_toastOptions$t$type2 = toastOptions[t3.type]) == null ? void 0 : _toastOptions$t$type2.style, t3.style)
      });
    });
    return _extends2({}, state, {
      toasts: mergedToasts
    });
  };
  var createToast = function createToast2(message, type, opts) {
    if (type === void 0) {
      type = "blank";
    }
    return _extends2({
      createdAt: Date.now(),
      visible: true,
      type,
      ariaProps: {
        role: "status",
        "aria-live": "polite"
      },
      message,
      pauseDuration: 0
    }, opts, {
      id: (opts == null ? void 0 : opts.id) || genId()
    });
  };
  var createHandler = function createHandler2(type) {
    return function(message, options) {
      var toast3 = createToast(message, type, options);
      dispatch({
        type: ActionType.UPSERT_TOAST,
        toast: toast3
      });
      return toast3.id;
    };
  };
  var toast = function toast2(message, opts) {
    return createHandler("blank")(message, opts);
  };
  toast.error = /* @__PURE__ */ createHandler("error");
  toast.success = /* @__PURE__ */ createHandler("success");
  toast.loading = /* @__PURE__ */ createHandler("loading");
  toast.custom = /* @__PURE__ */ createHandler("custom");
  toast.dismiss = function(toastId) {
    dispatch({
      type: ActionType.DISMISS_TOAST,
      toastId
    });
  };
  toast.remove = function(toastId) {
    return dispatch({
      type: ActionType.REMOVE_TOAST,
      toastId
    });
  };
  toast.promise = function(promise, msgs, opts) {
    var id = toast.loading(msgs.loading, _extends2({}, opts, opts == null ? void 0 : opts.loading));
    promise.then(function(p3) {
      toast.success(resolveValue(msgs.success, p3), _extends2({
        id
      }, opts, opts == null ? void 0 : opts.success));
      return p3;
    })["catch"](function(e2) {
      toast.error(resolveValue(msgs.error, e2), _extends2({
        id
      }, opts, opts == null ? void 0 : opts.error));
    });
    return promise;
  };
  var useToaster = function useToaster2(toastOptions) {
    var _useStore = useStore(toastOptions), toasts = _useStore.toasts, pausedAt = _useStore.pausedAt;
    (0, import_react7.useEffect)(function() {
      if (pausedAt) {
        return;
      }
      var now = Date.now();
      var timeouts = toasts.map(function(t3) {
        if (t3.duration === Infinity) {
          return;
        }
        var durationLeft = (t3.duration || 0) + t3.pauseDuration - (now - t3.createdAt);
        if (durationLeft < 0) {
          if (t3.visible) {
            toast.dismiss(t3.id);
          }
          return;
        }
        return setTimeout(function() {
          return toast.dismiss(t3.id);
        }, durationLeft);
      });
      return function() {
        timeouts.forEach(function(timeout) {
          return timeout && clearTimeout(timeout);
        });
      };
    }, [toasts, pausedAt]);
    var handlers = (0, import_react7.useMemo)(function() {
      return {
        startPause: function startPause() {
          dispatch({
            type: ActionType.START_PAUSE,
            time: Date.now()
          });
        },
        endPause: function endPause() {
          if (pausedAt) {
            dispatch({
              type: ActionType.END_PAUSE,
              time: Date.now()
            });
          }
        },
        updateHeight: function updateHeight(toastId, height) {
          return dispatch({
            type: ActionType.UPDATE_TOAST,
            toast: {
              id: toastId,
              height
            }
          });
        },
        calculateOffset: function calculateOffset(toast3, opts) {
          var _relevantToasts$filte;
          var _ref = opts || {}, _ref$reverseOrder = _ref.reverseOrder, reverseOrder = _ref$reverseOrder === void 0 ? false : _ref$reverseOrder, _ref$gutter = _ref.gutter, gutter = _ref$gutter === void 0 ? 8 : _ref$gutter, defaultPosition = _ref.defaultPosition;
          var relevantToasts = toasts.filter(function(t3) {
            return (t3.position || defaultPosition) === (toast3.position || defaultPosition) && t3.height;
          });
          var toastIndex = relevantToasts.findIndex(function(t3) {
            return t3.id === toast3.id;
          });
          var toastsBefore = relevantToasts.filter(function(toast4, i3) {
            return i3 < toastIndex && toast4.visible;
          }).length;
          var offset4 = (_relevantToasts$filte = relevantToasts.filter(function(t3) {
            return t3.visible;
          })).slice.apply(_relevantToasts$filte, reverseOrder ? [toastsBefore + 1] : [0, toastsBefore]).reduce(function(acc, t3) {
            return acc + (t3.height || 0) + gutter;
          }, 0);
          return offset4;
        }
      };
    }, [toasts, pausedAt]);
    return {
      toasts,
      handlers
    };
  };
  function _templateObject4() {
    var data = _taggedTemplateLiteralLoose(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ", ";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ", " 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: ", " 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ", ";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: ", " 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"]);
    _templateObject4 = function _templateObject42() {
      return data;
    };
    return data;
  }
  function _templateObject3() {
    var data = _taggedTemplateLiteralLoose(["\nfrom {\n  transform: scale(0) rotate(90deg);\n	opacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n	opacity: 1;\n}"]);
    _templateObject3 = function _templateObject32() {
      return data;
    };
    return data;
  }
  function _templateObject2() {
    var data = _taggedTemplateLiteralLoose(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]);
    _templateObject2 = function _templateObject22() {
      return data;
    };
    return data;
  }
  function _templateObject() {
    var data = _taggedTemplateLiteralLoose(["\nfrom {\n  transform: scale(0) rotate(45deg);\n	opacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]);
    _templateObject = function _templateObject5() {
      return data;
    };
    return data;
  }
  var circleAnimation = /* @__PURE__ */ h(/* @__PURE__ */ _templateObject());
  var firstLineAnimation = /* @__PURE__ */ h(/* @__PURE__ */ _templateObject2());
  var secondLineAnimation = /* @__PURE__ */ h(/* @__PURE__ */ _templateObject3());
  var ErrorIcon = /* @__PURE__ */ j("div")(/* @__PURE__ */ _templateObject4(), function(p3) {
    return p3.primary || "#ff4b4b";
  }, circleAnimation, firstLineAnimation, function(p3) {
    return p3.secondary || "#fff";
  }, secondLineAnimation);
  function _templateObject2$1() {
    var data = _taggedTemplateLiteralLoose(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ", ";\n  border-right-color: ", ";\n  animation: ", " 1s linear infinite;\n"]);
    _templateObject2$1 = function _templateObject22() {
      return data;
    };
    return data;
  }
  function _templateObject$1() {
    var data = _taggedTemplateLiteralLoose(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]);
    _templateObject$1 = function _templateObject5() {
      return data;
    };
    return data;
  }
  var rotate = /* @__PURE__ */ h(/* @__PURE__ */ _templateObject$1());
  var LoaderIcon = /* @__PURE__ */ j("div")(/* @__PURE__ */ _templateObject2$1(), function(p3) {
    return p3.secondary || "#e0e0e0";
  }, function(p3) {
    return p3.primary || "#616161";
  }, rotate);
  function _templateObject3$1() {
    var data = _taggedTemplateLiteralLoose(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ", ";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ", " 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: ", " 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ", ";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"]);
    _templateObject3$1 = function _templateObject32() {
      return data;
    };
    return data;
  }
  function _templateObject2$2() {
    var data = _taggedTemplateLiteralLoose(["\n0% {\n	height: 0;\n	width: 0;\n	opacity: 0;\n}\n40% {\n  height: 0;\n	width: 6px;\n	opacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]);
    _templateObject2$2 = function _templateObject22() {
      return data;
    };
    return data;
  }
  function _templateObject$2() {
    var data = _taggedTemplateLiteralLoose(["\nfrom {\n  transform: scale(0) rotate(45deg);\n	opacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n	opacity: 1;\n}"]);
    _templateObject$2 = function _templateObject5() {
      return data;
    };
    return data;
  }
  var circleAnimation$1 = /* @__PURE__ */ h(/* @__PURE__ */ _templateObject$2());
  var checkmarkAnimation = /* @__PURE__ */ h(/* @__PURE__ */ _templateObject2$2());
  var CheckmarkIcon = /* @__PURE__ */ j("div")(/* @__PURE__ */ _templateObject3$1(), function(p3) {
    return p3.primary || "#61d345";
  }, circleAnimation$1, checkmarkAnimation, function(p3) {
    return p3.secondary || "#fff";
  });
  function _templateObject4$1() {
    var data = _taggedTemplateLiteralLoose(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: ", " 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"]);
    _templateObject4$1 = function _templateObject42() {
      return data;
    };
    return data;
  }
  function _templateObject3$2() {
    var data = _taggedTemplateLiteralLoose(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]);
    _templateObject3$2 = function _templateObject32() {
      return data;
    };
    return data;
  }
  function _templateObject2$3() {
    var data = _taggedTemplateLiteralLoose(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]);
    _templateObject2$3 = function _templateObject22() {
      return data;
    };
    return data;
  }
  function _templateObject$3() {
    var data = _taggedTemplateLiteralLoose(["\n  position: absolute;\n"]);
    _templateObject$3 = function _templateObject5() {
      return data;
    };
    return data;
  }
  var StatusWrapper = /* @__PURE__ */ j("div")(/* @__PURE__ */ _templateObject$3());
  var IndicatorWrapper = /* @__PURE__ */ j("div")(/* @__PURE__ */ _templateObject2$3());
  var enter = /* @__PURE__ */ h(/* @__PURE__ */ _templateObject3$2());
  var AnimatedIconWrapper = /* @__PURE__ */ j("div")(/* @__PURE__ */ _templateObject4$1(), enter);
  var ToastIcon = function ToastIcon2(_ref) {
    var toast3 = _ref.toast;
    var icon = toast3.icon, type = toast3.type, iconTheme = toast3.iconTheme;
    if (icon !== void 0) {
      if (typeof icon === "string") {
        return (0, import_react7.createElement)(AnimatedIconWrapper, null, icon);
      } else {
        return icon;
      }
    }
    if (type === "blank") {
      return null;
    }
    return (0, import_react7.createElement)(IndicatorWrapper, null, (0, import_react7.createElement)(LoaderIcon, Object.assign({}, iconTheme)), type !== "loading" && (0, import_react7.createElement)(StatusWrapper, null, type === "error" ? (0, import_react7.createElement)(ErrorIcon, Object.assign({}, iconTheme)) : (0, import_react7.createElement)(CheckmarkIcon, Object.assign({}, iconTheme))));
  };
  function _templateObject2$4() {
    var data = _taggedTemplateLiteralLoose(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]);
    _templateObject2$4 = function _templateObject22() {
      return data;
    };
    return data;
  }
  function _templateObject$4() {
    var data = _taggedTemplateLiteralLoose(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]);
    _templateObject$4 = function _templateObject5() {
      return data;
    };
    return data;
  }
  var enterAnimation = function enterAnimation2(factor) {
    return "\n0% {transform: translate3d(0," + factor * -200 + "%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n";
  };
  var exitAnimation = function exitAnimation2(factor) {
    return "\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0," + factor * -150 + "%,-1px) scale(.6); opacity:0;}\n";
  };
  var fadeInAnimation = "0%{opacity:0;} 100%{opacity:1;}";
  var fadeOutAnimation = "0%{opacity:1;} 100%{opacity:0;}";
  var ToastBarBase = /* @__PURE__ */ j("div", import_react7.forwardRef)(/* @__PURE__ */ _templateObject$4());
  var Message = /* @__PURE__ */ j("div")(/* @__PURE__ */ _templateObject2$4());
  var getAnimationStyle = function getAnimationStyle2(position3, visible) {
    var top2 = position3.includes("top");
    var factor = top2 ? 1 : -1;
    var _ref = prefersReducedMotion() ? [fadeInAnimation, fadeOutAnimation] : [enterAnimation(factor), exitAnimation(factor)], enter3 = _ref[0], exit = _ref[1];
    return {
      animation: visible ? h(enter3) + " 0.35s cubic-bezier(.21,1.02,.73,1) forwards" : h(exit) + " 0.4s forwards cubic-bezier(.06,.71,.55,1)"
    };
  };
  var ToastBar = /* @__PURE__ */ (0, import_react7.memo)(function(_ref2) {
    var toast3 = _ref2.toast, position3 = _ref2.position, style2 = _ref2.style, children = _ref2.children;
    var animationStyle = toast3 != null && toast3.height ? getAnimationStyle(toast3.position || position3 || "top-center", toast3.visible) : {
      opacity: 0
    };
    var icon = (0, import_react7.createElement)(ToastIcon, {
      toast: toast3
    });
    var message = (0, import_react7.createElement)(Message, Object.assign({}, toast3.ariaProps), resolveValue(toast3.message, toast3));
    return (0, import_react7.createElement)(ToastBarBase, {
      className: toast3.className,
      style: _extends2({}, animationStyle, style2, toast3.style)
    }, typeof children === "function" ? children({
      icon,
      message
    }) : (0, import_react7.createElement)(import_react7.Fragment, null, icon, message));
  });
  function _templateObject$5() {
    var data = _taggedTemplateLiteralLoose(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]);
    _templateObject$5 = function _templateObject5() {
      return data;
    };
    return data;
  }
  m(import_react7.createElement);
  var getPositionStyle = function getPositionStyle2(position3, offset4) {
    var top2 = position3.includes("top");
    var verticalStyle = top2 ? {
      top: 0
    } : {
      bottom: 0
    };
    var horizontalStyle = position3.includes("center") ? {
      justifyContent: "center"
    } : position3.includes("right") ? {
      justifyContent: "flex-end"
    } : {};
    return _extends2({
      left: 0,
      right: 0,
      display: "flex",
      position: "absolute",
      transition: prefersReducedMotion() ? void 0 : "all 230ms cubic-bezier(.21,1.02,.73,1)",
      transform: "translateY(" + offset4 * (top2 ? 1 : -1) + "px)"
    }, verticalStyle, horizontalStyle);
  };
  var activeClass = /* @__PURE__ */ u(/* @__PURE__ */ _templateObject$5());
  var DEFAULT_OFFSET = 16;
  var Toaster = function Toaster2(_ref) {
    var reverseOrder = _ref.reverseOrder, _ref$position = _ref.position, position3 = _ref$position === void 0 ? "top-center" : _ref$position, toastOptions = _ref.toastOptions, gutter = _ref.gutter, children = _ref.children, containerStyle = _ref.containerStyle, containerClassName = _ref.containerClassName;
    var _useToaster = useToaster(toastOptions), toasts = _useToaster.toasts, handlers = _useToaster.handlers;
    return (0, import_react7.createElement)("div", {
      style: _extends2({
        position: "fixed",
        zIndex: 9999,
        top: DEFAULT_OFFSET,
        left: DEFAULT_OFFSET,
        right: DEFAULT_OFFSET,
        bottom: DEFAULT_OFFSET,
        pointerEvents: "none"
      }, containerStyle),
      className: containerClassName,
      onMouseEnter: handlers.startPause,
      onMouseLeave: handlers.endPause
    }, toasts.map(function(t3) {
      var toastPosition = t3.position || position3;
      var offset4 = handlers.calculateOffset(t3, {
        reverseOrder,
        gutter,
        defaultPosition: position3
      });
      var positionStyle = getPositionStyle(toastPosition, offset4);
      var ref2 = t3.height ? void 0 : createRectRef(function(rect) {
        handlers.updateHeight(t3.id, rect.height);
      });
      return (0, import_react7.createElement)("div", {
        ref: ref2,
        className: t3.visible ? activeClass : "",
        key: t3.id,
        style: positionStyle
      }, t3.type === "custom" ? resolveValue(t3.message, t3) : children ? children(t3) : (0, import_react7.createElement)(ToastBar, {
        toast: t3,
        position: toastPosition
      }));
    }));
  };
  var react_hot_toast_esm_default = toast;

  // src/utils/queries.tsx
  var instance = import_axios.default.create();
  async function fetcher(url, config2 = {}) {
    try {
      const response = await instance({
        url,
        withCredentials: true,
        ...config2
      });
      return response.data;
    } catch (error2) {
      throw Error(error2);
    }
  }
  var queryClient = new QueryClient({
    defaultOptions: {
      queries: {
        suspense: true,
        refetchOnWindowFocus: false,
        cacheTime: Infinity
      }
    }
  });
  function BlocksProvider({
    children,
    api
  }) {
    const [initialized, setInitialized] = (0, import_react8.useState)(false);
    (0, import_react8.useEffect)(() => {
      instance.defaults.baseURL = api;
      setInitialized(true);
    }, [api]);
    if (!initialized) {
      return null;
    }
    return /* @__PURE__ */ import_react8.default.createElement(QueryClientProvider, {
      client: queryClient
    }, children);
  }
  function useGroups() {
    return useQuery(["block_group"], () => fetcher(`/block_group/list`));
  }
  function useGroup(id) {
    const { groupId: contextGroupId } = (0, import_react8.useContext)(BlocksGroupContext);
    const { currentLocale } = (0, import_react8.useContext)(LocaleContext);
    const groupId = id || contextGroupId;
    const key = ["block_group", groupId, currentLocale];
    const queryClient2 = useQueryClient();
    const query = useQuery(key, async () => {
      const data = await fetcher(`/block_group`, {
        method: "GET",
        params: {
          id: groupId,
          locale: currentLocale
        }
      });
      return data;
    }, {
      enabled: !!groupId,
      cacheTime: Infinity
    });
    return {
      ...query,
      editGroup: (data) => {
        queryClient2.setQueryData(key, () => {
          return data;
        });
      }
    };
  }
  function useCreateOrUpdateGroup() {
    const {
      groupId: contextGroupId,
      itemId: contextItemId,
      itemType: contextItemType,
      noRedirect = false
    } = (0, import_react8.useContext)(BlocksGroupContext);
    const { currentLocale } = (0, import_react8.useContext)(LocaleContext);
    const { group: contextGroup } = (0, import_react8.useContext)(BlocksGroupContext);
    return useMutation(({
      groupId = contextGroupId,
      itemId = contextItemId,
      itemType = contextItemType,
      group = contextGroup,
      blocks
    }) => {
      const { itemBlockGroups = {}, ...groupOmitItemBlockGroups } = group;
      let data = {
        blockGroup: {
          ...groupOmitItemBlockGroups,
          jsonContent: JSON.stringify(blocks)
        },
        locale: currentLocale
      };
      console.log(itemId, itemType, contextItemId, contextItemType);
      if (itemId || itemType) {
        data.itemBlockGroup = {
          itemType,
          itemId,
          blockGroupId: group.id
        };
      }
      if (!data.blockGroup.slug) {
        data.blockGroup.slug = null;
      }
      return fetcher(`/block_group`, {
        method: groupId ? "PATCH" : "POST",
        data
      });
    }, {
      onSuccess: (data) => {
        react_hot_toast_esm_default.success("enregistr\xE9 avec succ\xE8s");
        if (noRedirect) {
          window.location.reload();
          return;
        }
        window.location.replace(`/admin/TheliaBlocks/${data.id}`);
      }
    });
  }
  function useDeleteGroup() {
    const queryClient2 = useQueryClient();
    const { groupId: contextGroupId } = (0, import_react8.useContext)(BlocksGroupContext);
    const { currentLocale } = (0, import_react8.useContext)(LocaleContext);
    return useMutation((id) => {
      if (!id && !contextGroupId) {
        throw new Error("id is mandatory, and no fallback groupId was found in current context");
      }
      return fetcher(`/block_group/${id || contextGroupId}`, {
        method: "DELETE"
      });
    }, {
      onSuccess: (data, groupId) => {
        queryClient2.invalidateQueries(["block_group"]);
        react_hot_toast_esm_default.success("groupe supprim\xE9");
      }
    });
  }
  function useDuplicateGroup() {
    const { groupId } = (0, import_react8.useContext)(BlocksGroupContext);
    return useMutation((id) => {
      if (!id && !groupId) {
        throw new Error("id is mandatory, and no fallback groupId was found in current context");
      }
      return fetcher(`/block_group/duplicate/${id}`, {
        method: "POST"
      });
    }, {
      onSuccess: (newGroupId) => {
        window.location.replace(`/admin/TheliaBlocks/${newGroupId}`);
      }
    });
  }
  function usePreviewGroup(timestamp, data) {
    const { currentLocale } = (0, import_react8.useContext)(LocaleContext);
    const key = ["preview_block_group", currentLocale, timestamp];
    const query = useQuery(key, async () => {
      return fetcher(`/preview`, {
        baseURL: window.location.origin + "/TheliaBlocks",
        method: "POST",
        data: {
          json: data
        }
      });
    }, {
      enabled: !!timestamp && !!currentLocale,
      cacheTime: Infinity,
      refetchOnMount: false,
      refetchOnReconnect: false,
      retry: false,
      suspense: false
    });
    return query;
  }
  function useProductsBy({ type, value = null }) {
    let params = {
      ids: null,
      reference: null,
      title: null
    };
    params[type] = value;
    return useQuery(["Product", type, value], () => fetcher(`/product/search`, {
      method: "GET",
      params
    }), {
      enabled: !!value
    });
  }

  // src/BlocksEditor.tsx
  var import_react48 = __toESM(require_react(), 1);

  // src/components/BlockTooltip/BlockTooltip.tsx
  var BlockTooltip = ({
    title,
    description
  }) => {
    return /* @__PURE__ */ React.createElement("div", {
      className: "BlockTooltip"
    }, /* @__PURE__ */ React.createElement("p", {
      className: "BlockTooltip__Title"
    }, title), description && /* @__PURE__ */ React.createElement("p", {
      className: "BlockTooltip__Description"
    }, description));
  };
  var BlockTooltip_default = BlockTooltip;

  // assets/svg/drag.svg
  var React7 = __toESM(require_react(), 1);
  var SvgDrag = (props) => /* @__PURE__ */ React7.createElement("svg", {
    width: 33,
    height: 32,
    viewBox: "0 0 33 32",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
    ...props
  }, /* @__PURE__ */ React7.createElement("path", {
    d: "M3.04007 13.0524C3.32723 12.6855 3.85427 12.6307 4.2172 12.9297L6.59917 14.8913C6.13983 9.67928 9.27272 4.70023 14.3434 3.15603C17.1741 2.29397 20.18 2.61562 22.8074 4.06187C23.2174 4.28751 23.3757 4.80764 23.161 5.22343C22.9463 5.63933 22.4399 5.79356 22.0299 5.56777C19.7993 4.33985 17.2471 4.06682 14.8437 4.79875C10.4373 6.14068 7.75656 10.5378 8.30343 15.0753L10.5355 12.2238C10.8226 11.8568 11.3497 11.8021 11.7127 12.1011C12.0757 12.4 12.1372 12.9397 11.8501 13.3065L8.51826 17.5627C8.518 17.563 8.51782 17.5632 8.51768 17.5635C8.43628 17.6674 8.33572 17.7462 8.22496 17.7992C8.18812 17.8168 8.15009 17.8316 8.11128 17.8434C7.85576 17.9212 7.5664 17.8722 7.34058 17.6863L3.17761 14.2579C2.81443 13.9588 2.75298 13.4192 3.04007 13.0524Z",
    fill: "#222222"
  }), /* @__PURE__ */ React7.createElement("path", {
    d: "M28.1911 14.26C27.4517 14.4581 27.0124 15.2189 27.2106 15.9583L27.6293 17.521C27.6623 17.6443 27.5891 17.7711 27.4659 17.8041C27.3426 17.8371 27.2158 17.7639 27.1828 17.6407L26.5248 15.185C26.3267 14.4456 25.5658 14.0063 24.8264 14.2044C24.087 14.4025 23.6478 15.1634 23.8459 15.9028L24.5039 18.3585C24.5369 18.4817 24.4637 18.6085 24.3404 18.6415C24.2172 18.6746 24.0904 18.6013 24.0574 18.4781L23.1601 15.1295C22.962 14.3901 22.2011 13.9508 21.4618 14.1489C20.7224 14.347 20.2831 15.1079 20.4812 15.8473L21.3785 19.1959C21.4115 19.3192 21.3383 19.446 21.215 19.479C21.0918 19.512 20.965 19.4388 20.932 19.3156L18.4795 10.1626C18.2813 9.4232 17.5205 8.98392 16.7811 9.18203C16.0417 9.38015 15.6024 10.141 15.8005 10.8804L18.5983 21.3219L15.2536 20.3298L15.2509 20.3306C15.0209 20.2582 14.7607 20.2513 14.5017 20.3207C13.7605 20.5193 13.3226 21.2779 13.5212 22.0191C13.5906 22.2781 13.729 22.509 13.918 22.6784L13.9152 22.6754L19.885 28.4922C20.8189 29.402 22.1629 29.753 23.4229 29.4153L29.4281 27.8062C31.4007 27.2777 32.5715 25.2498 32.0429 23.2773L29.8895 15.2405C29.6914 14.5011 28.9305 14.0618 28.1911 14.26Z",
    fill: "#222222"
  }));

  // src/components/AddBlocks/AddBlocks.tsx
  var import_react_modal3 = __toESM(require_lib(), 1);

  // ../../node_modules/@popperjs/core/lib/enums.js
  var top = "top";
  var bottom = "bottom";
  var right = "right";
  var left = "left";
  var auto = "auto";
  var basePlacements = [top, bottom, right, left];
  var start = "start";
  var end = "end";
  var clippingParents = "clippingParents";
  var viewport = "viewport";
  var popper = "popper";
  var reference = "reference";
  var variationPlacements = /* @__PURE__ */ basePlacements.reduce(function(acc, placement) {
    return acc.concat([placement + "-" + start, placement + "-" + end]);
  }, []);
  var placements = /* @__PURE__ */ [].concat(basePlacements, [auto]).reduce(function(acc, placement) {
    return acc.concat([placement, placement + "-" + start, placement + "-" + end]);
  }, []);
  var beforeRead = "beforeRead";
  var read = "read";
  var afterRead = "afterRead";
  var beforeMain = "beforeMain";
  var main = "main";
  var afterMain = "afterMain";
  var beforeWrite = "beforeWrite";
  var write = "write";
  var afterWrite = "afterWrite";
  var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];

  // ../../node_modules/@popperjs/core/lib/dom-utils/getNodeName.js
  function getNodeName(element) {
    return element ? (element.nodeName || "").toLowerCase() : null;
  }

  // ../../node_modules/@popperjs/core/lib/dom-utils/getWindow.js
  function getWindow(node) {
    if (node == null) {
      return window;
    }
    if (node.toString() !== "[object Window]") {
      var ownerDocument = node.ownerDocument;
      return ownerDocument ? ownerDocument.defaultView || window : window;
    }
    return node;
  }

  // ../../node_modules/@popperjs/core/lib/dom-utils/instanceOf.js
  function isElement(node) {
    var OwnElement = getWindow(node).Element;
    return node instanceof OwnElement || node instanceof Element;
  }
  function isHTMLElement(node) {
    var OwnElement = getWindow(node).HTMLElement;
    return node instanceof OwnElement || node instanceof HTMLElement;
  }
  function isShadowRoot(node) {
    if (typeof ShadowRoot === "undefined") {
      return false;
    }
    var OwnElement = getWindow(node).ShadowRoot;
    return node instanceof OwnElement || node instanceof ShadowRoot;
  }

  // ../../node_modules/@popperjs/core/lib/modifiers/applyStyles.js
  function applyStyles(_ref) {
    var state = _ref.state;
    Object.keys(state.elements).forEach(function(name) {
      var style2 = state.styles[name] || {};
      var attributes = state.attributes[name] || {};
      var element = state.elements[name];
      if (!isHTMLElement(element) || !getNodeName(element)) {
        return;
      }
      Object.assign(element.style, style2);
      Object.keys(attributes).forEach(function(name2) {
        var value = attributes[name2];
        if (value === false) {
          element.removeAttribute(name2);
        } else {
          element.setAttribute(name2, value === true ? "" : value);
        }
      });
    });
  }
  function effect(_ref2) {
    var state = _ref2.state;
    var initialStyles = {
      popper: {
        position: state.options.strategy,
        left: "0",
        top: "0",
        margin: "0"
      },
      arrow: {
        position: "absolute"
      },
      reference: {}
    };
    Object.assign(state.elements.popper.style, initialStyles.popper);
    state.styles = initialStyles;
    if (state.elements.arrow) {
      Object.assign(state.elements.arrow.style, initialStyles.arrow);
    }
    return function() {
      Object.keys(state.elements).forEach(function(name) {
        var element = state.elements[name];
        var attributes = state.attributes[name] || {};
        var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]);
        var style2 = styleProperties.reduce(function(style3, property) {
          style3[property] = "";
          return style3;
        }, {});
        if (!isHTMLElement(element) || !getNodeName(element)) {
          return;
        }
        Object.assign(element.style, style2);
        Object.keys(attributes).forEach(function(attribute) {
          element.removeAttribute(attribute);
        });
      });
    };
  }
  var applyStyles_default = {
    name: "applyStyles",
    enabled: true,
    phase: "write",
    fn: applyStyles,
    effect,
    requires: ["computeStyles"]
  };

  // ../../node_modules/@popperjs/core/lib/utils/getBasePlacement.js
  function getBasePlacement(placement) {
    return placement.split("-")[0];
  }

  // ../../node_modules/@popperjs/core/lib/utils/math.js
  var max = Math.max;
  var min = Math.min;
  var round = Math.round;

  // ../../node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js
  function getBoundingClientRect(element, includeScale) {
    if (includeScale === void 0) {
      includeScale = false;
    }
    var rect = element.getBoundingClientRect();
    var scaleX = 1;
    var scaleY = 1;
    if (isHTMLElement(element) && includeScale) {
      var offsetHeight = element.offsetHeight;
      var offsetWidth = element.offsetWidth;
      if (offsetWidth > 0) {
        scaleX = round(rect.width) / offsetWidth || 1;
      }
      if (offsetHeight > 0) {
        scaleY = round(rect.height) / offsetHeight || 1;
      }
    }
    return {
      width: rect.width / scaleX,
      height: rect.height / scaleY,
      top: rect.top / scaleY,
      right: rect.right / scaleX,
      bottom: rect.bottom / scaleY,
      left: rect.left / scaleX,
      x: rect.left / scaleX,
      y: rect.top / scaleY
    };
  }

  // ../../node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js
  function getLayoutRect(element) {
    var clientRect = getBoundingClientRect(element);
    var width = element.offsetWidth;
    var height = element.offsetHeight;
    if (Math.abs(clientRect.width - width) <= 1) {
      width = clientRect.width;
    }
    if (Math.abs(clientRect.height - height) <= 1) {
      height = clientRect.height;
    }
    return {
      x: element.offsetLeft,
      y: element.offsetTop,
      width,
      height
    };
  }

  // ../../node_modules/@popperjs/core/lib/dom-utils/contains.js
  function contains(parent, child) {
    var rootNode = child.getRootNode && child.getRootNode();
    if (parent.contains(child)) {
      return true;
    } else if (rootNode && isShadowRoot(rootNode)) {
      var next = child;
      do {
        if (next && parent.isSameNode(next)) {
          return true;
        }
        next = next.parentNode || next.host;
      } while (next);
    }
    return false;
  }

  // ../../node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js
  function getComputedStyle(element) {
    return getWindow(element).getComputedStyle(element);
  }

  // ../../node_modules/@popperjs/core/lib/dom-utils/isTableElement.js
  function isTableElement(element) {
    return ["table", "td", "th"].indexOf(getNodeName(element)) >= 0;
  }

  // ../../node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js
  function getDocumentElement(element) {
    return ((isElement(element) ? element.ownerDocument : element.document) || window.document).documentElement;
  }

  // ../../node_modules/@popperjs/core/lib/dom-utils/getParentNode.js
  function getParentNode(element) {
    if (getNodeName(element) === "html") {
      return element;
    }
    return element.assignedSlot || element.parentNode || (isShadowRoot(element) ? element.host : null) || getDocumentElement(element);
  }

  // ../../node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js
  function getTrueOffsetParent(element) {
    if (!isHTMLElement(element) || getComputedStyle(element).position === "fixed") {
      return null;
    }
    return element.offsetParent;
  }
  function getContainingBlock(element) {
    var isFirefox = navigator.userAgent.toLowerCase().indexOf("firefox") !== -1;
    var isIE = navigator.userAgent.indexOf("Trident") !== -1;
    if (isIE && isHTMLElement(element)) {
      var elementCss = getComputedStyle(element);
      if (elementCss.position === "fixed") {
        return null;
      }
    }
    var currentNode = getParentNode(element);
    if (isShadowRoot(currentNode)) {
      currentNode = currentNode.host;
    }
    while (isHTMLElement(currentNode) && ["html", "body"].indexOf(getNodeName(currentNode)) < 0) {
      var css = getComputedStyle(currentNode);
      if (css.transform !== "none" || css.perspective !== "none" || css.contain === "paint" || ["transform", "perspective"].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === "filter" || isFirefox && css.filter && css.filter !== "none") {
        return currentNode;
      } else {
        currentNode = currentNode.parentNode;
      }
    }
    return null;
  }
  function getOffsetParent(element) {
    var window2 = getWindow(element);
    var offsetParent = getTrueOffsetParent(element);
    while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === "static") {
      offsetParent = getTrueOffsetParent(offsetParent);
    }
    if (offsetParent && (getNodeName(offsetParent) === "html" || getNodeName(offsetParent) === "body" && getComputedStyle(offsetParent).position === "static")) {
      return window2;
    }
    return offsetParent || getContainingBlock(element) || window2;
  }

  // ../../node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js
  function getMainAxisFromPlacement(placement) {
    return ["top", "bottom"].indexOf(placement) >= 0 ? "x" : "y";
  }

  // ../../node_modules/@popperjs/core/lib/utils/within.js
  function within(min2, value, max2) {
    return max(min2, min(value, max2));
  }
  function withinMaxClamp(min2, value, max2) {
    var v2 = within(min2, value, max2);
    return v2 > max2 ? max2 : v2;
  }

  // ../../node_modules/@popperjs/core/lib/utils/getFreshSideObject.js
  function getFreshSideObject() {
    return {
      top: 0,
      right: 0,
      bottom: 0,
      left: 0
    };
  }

  // ../../node_modules/@popperjs/core/lib/utils/mergePaddingObject.js
  function mergePaddingObject(paddingObject) {
    return Object.assign({}, getFreshSideObject(), paddingObject);
  }

  // ../../node_modules/@popperjs/core/lib/utils/expandToHashMap.js
  function expandToHashMap(value, keys) {
    return keys.reduce(function(hashMap, key) {
      hashMap[key] = value;
      return hashMap;
    }, {});
  }

  // ../../node_modules/@popperjs/core/lib/modifiers/arrow.js
  var toPaddingObject = function toPaddingObject2(padding, state) {
    padding = typeof padding === "function" ? padding(Object.assign({}, state.rects, {
      placement: state.placement
    })) : padding;
    return mergePaddingObject(typeof padding !== "number" ? padding : expandToHashMap(padding, basePlacements));
  };
  function arrow(_ref) {
    var _state$modifiersData$;
    var state = _ref.state, name = _ref.name, options = _ref.options;
    var arrowElement = state.elements.arrow;
    var popperOffsets2 = state.modifiersData.popperOffsets;
    var basePlacement = getBasePlacement(state.placement);
    var axis = getMainAxisFromPlacement(basePlacement);
    var isVertical = [left, right].indexOf(basePlacement) >= 0;
    var len = isVertical ? "height" : "width";
    if (!arrowElement || !popperOffsets2) {
      return;
    }
    var paddingObject = toPaddingObject(options.padding, state);
    var arrowRect = getLayoutRect(arrowElement);
    var minProp = axis === "y" ? top : left;
    var maxProp = axis === "y" ? bottom : right;
    var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets2[axis] - state.rects.popper[len];
    var startDiff = popperOffsets2[axis] - state.rects.reference[axis];
    var arrowOffsetParent = getOffsetParent(arrowElement);
    var clientSize = arrowOffsetParent ? axis === "y" ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;
    var centerToReference = endDiff / 2 - startDiff / 2;
    var min2 = paddingObject[minProp];
    var max2 = clientSize - arrowRect[len] - paddingObject[maxProp];
    var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;
    var offset4 = within(min2, center, max2);
    var axisProp = axis;
    state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset4, _state$modifiersData$.centerOffset = offset4 - center, _state$modifiersData$);
  }
  function effect2(_ref2) {
    var state = _ref2.state, options = _ref2.options;
    var _options$element = options.element, arrowElement = _options$element === void 0 ? "[data-popper-arrow]" : _options$element;
    if (arrowElement == null) {
      return;
    }
    if (typeof arrowElement === "string") {
      arrowElement = state.elements.popper.querySelector(arrowElement);
      if (!arrowElement) {
        return;
      }
    }
    if (true) {
      if (!isHTMLElement(arrowElement)) {
        console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).', "To use an SVG arrow, wrap it in an HTMLElement that will be used as", "the arrow."].join(" "));
      }
    }
    if (!contains(state.elements.popper, arrowElement)) {
      if (true) {
        console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper', "element."].join(" "));
      }
      return;
    }
    state.elements.arrow = arrowElement;
  }
  var arrow_default = {
    name: "arrow",
    enabled: true,
    phase: "main",
    fn: arrow,
    effect: effect2,
    requires: ["popperOffsets"],
    requiresIfExists: ["preventOverflow"]
  };

  // ../../node_modules/@popperjs/core/lib/utils/getVariation.js
  function getVariation(placement) {
    return placement.split("-")[1];
  }

  // ../../node_modules/@popperjs/core/lib/modifiers/computeStyles.js
  var unsetSides = {
    top: "auto",
    right: "auto",
    bottom: "auto",
    left: "auto"
  };
  function roundOffsetsByDPR(_ref) {
    var x2 = _ref.x, y2 = _ref.y;
    var win = window;
    var dpr = win.devicePixelRatio || 1;
    return {
      x: round(x2 * dpr) / dpr || 0,
      y: round(y2 * dpr) / dpr || 0
    };
  }
  function mapToStyles(_ref2) {
    var _Object$assign2;
    var popper2 = _ref2.popper, popperRect = _ref2.popperRect, placement = _ref2.placement, variation = _ref2.variation, offsets = _ref2.offsets, position3 = _ref2.position, gpuAcceleration = _ref2.gpuAcceleration, adaptive = _ref2.adaptive, roundOffsets = _ref2.roundOffsets, isFixed = _ref2.isFixed;
    var _offsets$x = offsets.x, x2 = _offsets$x === void 0 ? 0 : _offsets$x, _offsets$y = offsets.y, y2 = _offsets$y === void 0 ? 0 : _offsets$y;
    var _ref3 = typeof roundOffsets === "function" ? roundOffsets({
      x: x2,
      y: y2
    }) : {
      x: x2,
      y: y2
    };
    x2 = _ref3.x;
    y2 = _ref3.y;
    var hasX = offsets.hasOwnProperty("x");
    var hasY = offsets.hasOwnProperty("y");
    var sideX = left;
    var sideY = top;
    var win = window;
    if (adaptive) {
      var offsetParent = getOffsetParent(popper2);
      var heightProp = "clientHeight";
      var widthProp = "clientWidth";
      if (offsetParent === getWindow(popper2)) {
        offsetParent = getDocumentElement(popper2);
        if (getComputedStyle(offsetParent).position !== "static" && position3 === "absolute") {
          heightProp = "scrollHeight";
          widthProp = "scrollWidth";
        }
      }
      offsetParent = offsetParent;
      if (placement === top || (placement === left || placement === right) && variation === end) {
        sideY = bottom;
        var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : offsetParent[heightProp];
        y2 -= offsetY - popperRect.height;
        y2 *= gpuAcceleration ? 1 : -1;
      }
      if (placement === left || (placement === top || placement === bottom) && variation === end) {
        sideX = right;
        var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : offsetParent[widthProp];
        x2 -= offsetX - popperRect.width;
        x2 *= gpuAcceleration ? 1 : -1;
      }
    }
    var commonStyles = Object.assign({
      position: position3
    }, adaptive && unsetSides);
    var _ref4 = roundOffsets === true ? roundOffsetsByDPR({
      x: x2,
      y: y2
    }) : {
      x: x2,
      y: y2
    };
    x2 = _ref4.x;
    y2 = _ref4.y;
    if (gpuAcceleration) {
      var _Object$assign;
      return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? "0" : "", _Object$assign[sideX] = hasX ? "0" : "", _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? "translate(" + x2 + "px, " + y2 + "px)" : "translate3d(" + x2 + "px, " + y2 + "px, 0)", _Object$assign));
    }
    return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y2 + "px" : "", _Object$assign2[sideX] = hasX ? x2 + "px" : "", _Object$assign2.transform = "", _Object$assign2));
  }
  function computeStyles(_ref5) {
    var state = _ref5.state, options = _ref5.options;
    var _options$gpuAccelerat = options.gpuAcceleration, gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat, _options$adaptive = options.adaptive, adaptive = _options$adaptive === void 0 ? true : _options$adaptive, _options$roundOffsets = options.roundOffsets, roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;
    if (true) {
      var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || "";
      if (adaptive && ["transform", "top", "right", "bottom", "left"].some(function(property) {
        return transitionProperty.indexOf(property) >= 0;
      })) {
        console.warn(["Popper: Detected CSS transitions on at least one of the following", 'CSS properties: "transform", "top", "right", "bottom", "left".', "\n\n", 'Disable the "computeStyles" modifier\'s `adaptive` option to allow', "for smooth transitions, or remove these properties from the CSS", "transition declaration on the popper element if only transitioning", "opacity or background-color for example.", "\n\n", "We recommend using the popper element as a wrapper around an inner", "element that can have any CSS property transitioned for animations."].join(" "));
      }
    }
    var commonStyles = {
      placement: getBasePlacement(state.placement),
      variation: getVariation(state.placement),
      popper: state.elements.popper,
      popperRect: state.rects.popper,
      gpuAcceleration,
      isFixed: state.options.strategy === "fixed"
    };
    if (state.modifiersData.popperOffsets != null) {
      state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {
        offsets: state.modifiersData.popperOffsets,
        position: state.options.strategy,
        adaptive,
        roundOffsets
      })));
    }
    if (state.modifiersData.arrow != null) {
      state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {
        offsets: state.modifiersData.arrow,
        position: "absolute",
        adaptive: false,
        roundOffsets
      })));
    }
    state.attributes.popper = Object.assign({}, state.attributes.popper, {
      "data-popper-placement": state.placement
    });
  }
  var computeStyles_default = {
    name: "computeStyles",
    enabled: true,
    phase: "beforeWrite",
    fn: computeStyles,
    data: {}
  };

  // ../../node_modules/@popperjs/core/lib/modifiers/eventListeners.js
  var passive = {
    passive: true
  };
  function effect3(_ref) {
    var state = _ref.state, instance2 = _ref.instance, options = _ref.options;
    var _options$scroll = options.scroll, scroll3 = _options$scroll === void 0 ? true : _options$scroll, _options$resize = options.resize, resize = _options$resize === void 0 ? true : _options$resize;
    var window2 = getWindow(state.elements.popper);
    var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);
    if (scroll3) {
      scrollParents.forEach(function(scrollParent) {
        scrollParent.addEventListener("scroll", instance2.update, passive);
      });
    }
    if (resize) {
      window2.addEventListener("resize", instance2.update, passive);
    }
    return function() {
      if (scroll3) {
        scrollParents.forEach(function(scrollParent) {
          scrollParent.removeEventListener("scroll", instance2.update, passive);
        });
      }
      if (resize) {
        window2.removeEventListener("resize", instance2.update, passive);
      }
    };
  }
  var eventListeners_default = {
    name: "eventListeners",
    enabled: true,
    phase: "write",
    fn: function fn() {
    },
    effect: effect3,
    data: {}
  };

  // ../../node_modules/@popperjs/core/lib/utils/getOppositePlacement.js
  var hash = {
    left: "right",
    right: "left",
    bottom: "top",
    top: "bottom"
  };
  function getOppositePlacement(placement) {
    return placement.replace(/left|right|bottom|top/g, function(matched) {
      return hash[matched];
    });
  }

  // ../../node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js
  var hash2 = {
    start: "end",
    end: "start"
  };
  function getOppositeVariationPlacement(placement) {
    return placement.replace(/start|end/g, function(matched) {
      return hash2[matched];
    });
  }

  // ../../node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js
  function getWindowScroll(node) {
    var win = getWindow(node);
    var scrollLeft = win.pageXOffset;
    var scrollTop = win.pageYOffset;
    return {
      scrollLeft,
      scrollTop
    };
  }

  // ../../node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js
  function getWindowScrollBarX(element) {
    return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;
  }

  // ../../node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js
  function getViewportRect(element) {
    var win = getWindow(element);
    var html = getDocumentElement(element);
    var visualViewport = win.visualViewport;
    var width = html.clientWidth;
    var height = html.clientHeight;
    var x2 = 0;
    var y2 = 0;
    if (visualViewport) {
      width = visualViewport.width;
      height = visualViewport.height;
      if (!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {
        x2 = visualViewport.offsetLeft;
        y2 = visualViewport.offsetTop;
      }
    }
    return {
      width,
      height,
      x: x2 + getWindowScrollBarX(element),
      y: y2
    };
  }

  // ../../node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js
  function getDocumentRect(element) {
    var _element$ownerDocumen;
    var html = getDocumentElement(element);
    var winScroll = getWindowScroll(element);
    var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;
    var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);
    var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);
    var x2 = -winScroll.scrollLeft + getWindowScrollBarX(element);
    var y2 = -winScroll.scrollTop;
    if (getComputedStyle(body || html).direction === "rtl") {
      x2 += max(html.clientWidth, body ? body.clientWidth : 0) - width;
    }
    return {
      width,
      height,
      x: x2,
      y: y2
    };
  }

  // ../../node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js
  function isScrollParent(element) {
    var _getComputedStyle = getComputedStyle(element), overflow = _getComputedStyle.overflow, overflowX = _getComputedStyle.overflowX, overflowY = _getComputedStyle.overflowY;
    return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);
  }

  // ../../node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js
  function getScrollParent(node) {
    if (["html", "body", "#document"].indexOf(getNodeName(node)) >= 0) {
      return node.ownerDocument.body;
    }
    if (isHTMLElement(node) && isScrollParent(node)) {
      return node;
    }
    return getScrollParent(getParentNode(node));
  }

  // ../../node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js
  function listScrollParents(element, list) {
    var _element$ownerDocumen;
    if (list === void 0) {
      list = [];
    }
    var scrollParent = getScrollParent(element);
    var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);
    var win = getWindow(scrollParent);
    var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;
    var updatedList = list.concat(target);
    return isBody ? updatedList : updatedList.concat(listScrollParents(getParentNode(target)));
  }

  // ../../node_modules/@popperjs/core/lib/utils/rectToClientRect.js
  function rectToClientRect(rect) {
    return Object.assign({}, rect, {
      left: rect.x,
      top: rect.y,
      right: rect.x + rect.width,
      bottom: rect.y + rect.height
    });
  }

  // ../../node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js
  function getInnerBoundingClientRect(element) {
    var rect = getBoundingClientRect(element);
    rect.top = rect.top + element.clientTop;
    rect.left = rect.left + element.clientLeft;
    rect.bottom = rect.top + element.clientHeight;
    rect.right = rect.left + element.clientWidth;
    rect.width = element.clientWidth;
    rect.height = element.clientHeight;
    rect.x = rect.left;
    rect.y = rect.top;
    return rect;
  }
  function getClientRectFromMixedType(element, clippingParent) {
    return clippingParent === viewport ? rectToClientRect(getViewportRect(element)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent) : rectToClientRect(getDocumentRect(getDocumentElement(element)));
  }
  function getClippingParents(element) {
    var clippingParents2 = listScrollParents(getParentNode(element));
    var canEscapeClipping = ["absolute", "fixed"].indexOf(getComputedStyle(element).position) >= 0;
    var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;
    if (!isElement(clipperElement)) {
      return [];
    }
    return clippingParents2.filter(function(clippingParent) {
      return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== "body";
    });
  }
  function getClippingRect(element, boundary, rootBoundary) {
    var mainClippingParents = boundary === "clippingParents" ? getClippingParents(element) : [].concat(boundary);
    var clippingParents2 = [].concat(mainClippingParents, [rootBoundary]);
    var firstClippingParent = clippingParents2[0];
    var clippingRect = clippingParents2.reduce(function(accRect, clippingParent) {
      var rect = getClientRectFromMixedType(element, clippingParent);
      accRect.top = max(rect.top, accRect.top);
      accRect.right = min(rect.right, accRect.right);
      accRect.bottom = min(rect.bottom, accRect.bottom);
      accRect.left = max(rect.left, accRect.left);
      return accRect;
    }, getClientRectFromMixedType(element, firstClippingParent));
    clippingRect.width = clippingRect.right - clippingRect.left;
    clippingRect.height = clippingRect.bottom - clippingRect.top;
    clippingRect.x = clippingRect.left;
    clippingRect.y = clippingRect.top;
    return clippingRect;
  }

  // ../../node_modules/@popperjs/core/lib/utils/computeOffsets.js
  function computeOffsets(_ref) {
    var reference2 = _ref.reference, element = _ref.element, placement = _ref.placement;
    var basePlacement = placement ? getBasePlacement(placement) : null;
    var variation = placement ? getVariation(placement) : null;
    var commonX = reference2.x + reference2.width / 2 - element.width / 2;
    var commonY = reference2.y + reference2.height / 2 - element.height / 2;
    var offsets;
    switch (basePlacement) {
      case top:
        offsets = {
          x: commonX,
          y: reference2.y - element.height
        };
        break;
      case bottom:
        offsets = {
          x: commonX,
          y: reference2.y + reference2.height
        };
        break;
      case right:
        offsets = {
          x: reference2.x + reference2.width,
          y: commonY
        };
        break;
      case left:
        offsets = {
          x: reference2.x - element.width,
          y: commonY
        };
        break;
      default:
        offsets = {
          x: reference2.x,
          y: reference2.y
        };
    }
    var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;
    if (mainAxis != null) {
      var len = mainAxis === "y" ? "height" : "width";
      switch (variation) {
        case start:
          offsets[mainAxis] = offsets[mainAxis] - (reference2[len] / 2 - element[len] / 2);
          break;
        case end:
          offsets[mainAxis] = offsets[mainAxis] + (reference2[len] / 2 - element[len] / 2);
          break;
        default:
      }
    }
    return offsets;
  }

  // ../../node_modules/@popperjs/core/lib/utils/detectOverflow.js
  function detectOverflow(state, options) {
    if (options === void 0) {
      options = {};
    }
    var _options = options, _options$placement = _options.placement, placement = _options$placement === void 0 ? state.placement : _options$placement, _options$boundary = _options.boundary, boundary = _options$boundary === void 0 ? clippingParents : _options$boundary, _options$rootBoundary = _options.rootBoundary, rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary, _options$elementConte = _options.elementContext, elementContext = _options$elementConte === void 0 ? popper : _options$elementConte, _options$altBoundary = _options.altBoundary, altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary, _options$padding = _options.padding, padding = _options$padding === void 0 ? 0 : _options$padding;
    var paddingObject = mergePaddingObject(typeof padding !== "number" ? padding : expandToHashMap(padding, basePlacements));
    var altContext = elementContext === popper ? reference : popper;
    var popperRect = state.rects.popper;
    var element = state.elements[altBoundary ? altContext : elementContext];
    var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary);
    var referenceClientRect = getBoundingClientRect(state.elements.reference);
    var popperOffsets2 = computeOffsets({
      reference: referenceClientRect,
      element: popperRect,
      strategy: "absolute",
      placement
    });
    var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets2));
    var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect;
    var overflowOffsets = {
      top: clippingClientRect.top - elementClientRect.top + paddingObject.top,
      bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,
      left: clippingClientRect.left - elementClientRect.left + paddingObject.left,
      right: elementClientRect.right - clippingClientRect.right + paddingObject.right
    };
    var offsetData = state.modifiersData.offset;
    if (elementContext === popper && offsetData) {
      var offset4 = offsetData[placement];
      Object.keys(overflowOffsets).forEach(function(key) {
        var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;
        var axis = [top, bottom].indexOf(key) >= 0 ? "y" : "x";
        overflowOffsets[key] += offset4[axis] * multiply;
      });
    }
    return overflowOffsets;
  }

  // ../../node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js
  function computeAutoPlacement(state, options) {
    if (options === void 0) {
      options = {};
    }
    var _options = options, placement = _options.placement, boundary = _options.boundary, rootBoundary = _options.rootBoundary, padding = _options.padding, flipVariations = _options.flipVariations, _options$allowedAutoP = _options.allowedAutoPlacements, allowedAutoPlacements = _options$allowedAutoP === void 0 ? placements : _options$allowedAutoP;
    var variation = getVariation(placement);
    var placements2 = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function(placement2) {
      return getVariation(placement2) === variation;
    }) : basePlacements;
    var allowedPlacements = placements2.filter(function(placement2) {
      return allowedAutoPlacements.indexOf(placement2) >= 0;
    });
    if (allowedPlacements.length === 0) {
      allowedPlacements = placements2;
      if (true) {
        console.error(["Popper: The `allowedAutoPlacements` option did not allow any", "placements. Ensure the `placement` option matches the variation", "of the allowed placements.", 'For example, "auto" cannot be used to allow "bottom-start".', 'Use "auto-start" instead.'].join(" "));
      }
    }
    var overflows = allowedPlacements.reduce(function(acc, placement2) {
      acc[placement2] = detectOverflow(state, {
        placement: placement2,
        boundary,
        rootBoundary,
        padding
      })[getBasePlacement(placement2)];
      return acc;
    }, {});
    return Object.keys(overflows).sort(function(a3, b3) {
      return overflows[a3] - overflows[b3];
    });
  }

  // ../../node_modules/@popperjs/core/lib/modifiers/flip.js
  function getExpandedFallbackPlacements(placement) {
    if (getBasePlacement(placement) === auto) {
      return [];
    }
    var oppositePlacement = getOppositePlacement(placement);
    return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];
  }
  function flip(_ref) {
    var state = _ref.state, options = _ref.options, name = _ref.name;
    if (state.modifiersData[name]._skip) {
      return;
    }
    var _options$mainAxis = options.mainAxis, checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis, _options$altAxis = options.altAxis, checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis, specifiedFallbackPlacements = options.fallbackPlacements, padding = options.padding, boundary = options.boundary, rootBoundary = options.rootBoundary, altBoundary = options.altBoundary, _options$flipVariatio = options.flipVariations, flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio, allowedAutoPlacements = options.allowedAutoPlacements;
    var preferredPlacement = state.options.placement;
    var basePlacement = getBasePlacement(preferredPlacement);
    var isBasePlacement = basePlacement === preferredPlacement;
    var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));
    var placements2 = [preferredPlacement].concat(fallbackPlacements).reduce(function(acc, placement2) {
      return acc.concat(getBasePlacement(placement2) === auto ? computeAutoPlacement(state, {
        placement: placement2,
        boundary,
        rootBoundary,
        padding,
        flipVariations,
        allowedAutoPlacements
      }) : placement2);
    }, []);
    var referenceRect = state.rects.reference;
    var popperRect = state.rects.popper;
    var checksMap = /* @__PURE__ */ new Map();
    var makeFallbackChecks = true;
    var firstFittingPlacement = placements2[0];
    for (var i3 = 0; i3 < placements2.length; i3++) {
      var placement = placements2[i3];
      var _basePlacement = getBasePlacement(placement);
      var isStartVariation = getVariation(placement) === start;
      var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;
      var len = isVertical ? "width" : "height";
      var overflow = detectOverflow(state, {
        placement,
        boundary,
        rootBoundary,
        altBoundary,
        padding
      });
      var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;
      if (referenceRect[len] > popperRect[len]) {
        mainVariationSide = getOppositePlacement(mainVariationSide);
      }
      var altVariationSide = getOppositePlacement(mainVariationSide);
      var checks = [];
      if (checkMainAxis) {
        checks.push(overflow[_basePlacement] <= 0);
      }
      if (checkAltAxis) {
        checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);
      }
      if (checks.every(function(check) {
        return check;
      })) {
        firstFittingPlacement = placement;
        makeFallbackChecks = false;
        break;
      }
      checksMap.set(placement, checks);
    }
    if (makeFallbackChecks) {
      var numberOfChecks = flipVariations ? 3 : 1;
      var _loop = function _loop2(_i2) {
        var fittingPlacement = placements2.find(function(placement2) {
          var checks2 = checksMap.get(placement2);
          if (checks2) {
            return checks2.slice(0, _i2).every(function(check) {
              return check;
            });
          }
        });
        if (fittingPlacement) {
          firstFittingPlacement = fittingPlacement;
          return "break";
        }
      };
      for (var _i = numberOfChecks; _i > 0; _i--) {
        var _ret = _loop(_i);
        if (_ret === "break")
          break;
      }
    }
    if (state.placement !== firstFittingPlacement) {
      state.modifiersData[name]._skip = true;
      state.placement = firstFittingPlacement;
      state.reset = true;
    }
  }
  var flip_default = {
    name: "flip",
    enabled: true,
    phase: "main",
    fn: flip,
    requiresIfExists: ["offset"],
    data: {
      _skip: false
    }
  };

  // ../../node_modules/@popperjs/core/lib/modifiers/hide.js
  function getSideOffsets(overflow, rect, preventedOffsets) {
    if (preventedOffsets === void 0) {
      preventedOffsets = {
        x: 0,
        y: 0
      };
    }
    return {
      top: overflow.top - rect.height - preventedOffsets.y,
      right: overflow.right - rect.width + preventedOffsets.x,
      bottom: overflow.bottom - rect.height + preventedOffsets.y,
      left: overflow.left - rect.width - preventedOffsets.x
    };
  }
  function isAnySideFullyClipped(overflow) {
    return [top, right, bottom, left].some(function(side) {
      return overflow[side] >= 0;
    });
  }
  function hide(_ref) {
    var state = _ref.state, name = _ref.name;
    var referenceRect = state.rects.reference;
    var popperRect = state.rects.popper;
    var preventedOffsets = state.modifiersData.preventOverflow;
    var referenceOverflow = detectOverflow(state, {
      elementContext: "reference"
    });
    var popperAltOverflow = detectOverflow(state, {
      altBoundary: true
    });
    var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);
    var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);
    var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);
    var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);
    state.modifiersData[name] = {
      referenceClippingOffsets,
      popperEscapeOffsets,
      isReferenceHidden,
      hasPopperEscaped
    };
    state.attributes.popper = Object.assign({}, state.attributes.popper, {
      "data-popper-reference-hidden": isReferenceHidden,
      "data-popper-escaped": hasPopperEscaped
    });
  }
  var hide_default = {
    name: "hide",
    enabled: true,
    phase: "main",
    requiresIfExists: ["preventOverflow"],
    fn: hide
  };

  // ../../node_modules/@popperjs/core/lib/modifiers/offset.js
  function distanceAndSkiddingToXY(placement, rects, offset4) {
    var basePlacement = getBasePlacement(placement);
    var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;
    var _ref = typeof offset4 === "function" ? offset4(Object.assign({}, rects, {
      placement
    })) : offset4, skidding = _ref[0], distance3 = _ref[1];
    skidding = skidding || 0;
    distance3 = (distance3 || 0) * invertDistance;
    return [left, right].indexOf(basePlacement) >= 0 ? {
      x: distance3,
      y: skidding
    } : {
      x: skidding,
      y: distance3
    };
  }
  function offset(_ref2) {
    var state = _ref2.state, options = _ref2.options, name = _ref2.name;
    var _options$offset = options.offset, offset4 = _options$offset === void 0 ? [0, 0] : _options$offset;
    var data = placements.reduce(function(acc, placement) {
      acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset4);
      return acc;
    }, {});
    var _data$state$placement = data[state.placement], x2 = _data$state$placement.x, y2 = _data$state$placement.y;
    if (state.modifiersData.popperOffsets != null) {
      state.modifiersData.popperOffsets.x += x2;
      state.modifiersData.popperOffsets.y += y2;
    }
    state.modifiersData[name] = data;
  }
  var offset_default = {
    name: "offset",
    enabled: true,
    phase: "main",
    requires: ["popperOffsets"],
    fn: offset
  };

  // ../../node_modules/@popperjs/core/lib/modifiers/popperOffsets.js
  function popperOffsets(_ref) {
    var state = _ref.state, name = _ref.name;
    state.modifiersData[name] = computeOffsets({
      reference: state.rects.reference,
      element: state.rects.popper,
      strategy: "absolute",
      placement: state.placement
    });
  }
  var popperOffsets_default = {
    name: "popperOffsets",
    enabled: true,
    phase: "read",
    fn: popperOffsets,
    data: {}
  };

  // ../../node_modules/@popperjs/core/lib/utils/getAltAxis.js
  function getAltAxis(axis) {
    return axis === "x" ? "y" : "x";
  }

  // ../../node_modules/@popperjs/core/lib/modifiers/preventOverflow.js
  function preventOverflow(_ref) {
    var state = _ref.state, options = _ref.options, name = _ref.name;
    var _options$mainAxis = options.mainAxis, checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis, _options$altAxis = options.altAxis, checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis, boundary = options.boundary, rootBoundary = options.rootBoundary, altBoundary = options.altBoundary, padding = options.padding, _options$tether = options.tether, tether = _options$tether === void 0 ? true : _options$tether, _options$tetherOffset = options.tetherOffset, tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;
    var overflow = detectOverflow(state, {
      boundary,
      rootBoundary,
      padding,
      altBoundary
    });
    var basePlacement = getBasePlacement(state.placement);
    var variation = getVariation(state.placement);
    var isBasePlacement = !variation;
    var mainAxis = getMainAxisFromPlacement(basePlacement);
    var altAxis = getAltAxis(mainAxis);
    var popperOffsets2 = state.modifiersData.popperOffsets;
    var referenceRect = state.rects.reference;
    var popperRect = state.rects.popper;
    var tetherOffsetValue = typeof tetherOffset === "function" ? tetherOffset(Object.assign({}, state.rects, {
      placement: state.placement
    })) : tetherOffset;
    var normalizedTetherOffsetValue = typeof tetherOffsetValue === "number" ? {
      mainAxis: tetherOffsetValue,
      altAxis: tetherOffsetValue
    } : Object.assign({
      mainAxis: 0,
      altAxis: 0
    }, tetherOffsetValue);
    var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;
    var data = {
      x: 0,
      y: 0
    };
    if (!popperOffsets2) {
      return;
    }
    if (checkMainAxis) {
      var _offsetModifierState$;
      var mainSide = mainAxis === "y" ? top : left;
      var altSide = mainAxis === "y" ? bottom : right;
      var len = mainAxis === "y" ? "height" : "width";
      var offset4 = popperOffsets2[mainAxis];
      var min2 = offset4 + overflow[mainSide];
      var max2 = offset4 - overflow[altSide];
      var additive = tether ? -popperRect[len] / 2 : 0;
      var minLen = variation === start ? referenceRect[len] : popperRect[len];
      var maxLen = variation === start ? -popperRect[len] : -referenceRect[len];
      var arrowElement = state.elements.arrow;
      var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {
        width: 0,
        height: 0
      };
      var arrowPaddingObject = state.modifiersData["arrow#persistent"] ? state.modifiersData["arrow#persistent"].padding : getFreshSideObject();
      var arrowPaddingMin = arrowPaddingObject[mainSide];
      var arrowPaddingMax = arrowPaddingObject[altSide];
      var arrowLen = within(0, referenceRect[len], arrowRect[len]);
      var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;
      var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;
      var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);
      var clientOffset = arrowOffsetParent ? mainAxis === "y" ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;
      var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;
      var tetherMin = offset4 + minOffset - offsetModifierValue - clientOffset;
      var tetherMax = offset4 + maxOffset - offsetModifierValue;
      var preventedOffset = within(tether ? min(min2, tetherMin) : min2, offset4, tether ? max(max2, tetherMax) : max2);
      popperOffsets2[mainAxis] = preventedOffset;
      data[mainAxis] = preventedOffset - offset4;
    }
    if (checkAltAxis) {
      var _offsetModifierState$2;
      var _mainSide = mainAxis === "x" ? top : left;
      var _altSide = mainAxis === "x" ? bottom : right;
      var _offset = popperOffsets2[altAxis];
      var _len = altAxis === "y" ? "height" : "width";
      var _min = _offset + overflow[_mainSide];
      var _max = _offset - overflow[_altSide];
      var isOriginSide = [top, left].indexOf(basePlacement) !== -1;
      var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;
      var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;
      var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;
      var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);
      popperOffsets2[altAxis] = _preventedOffset;
      data[altAxis] = _preventedOffset - _offset;
    }
    state.modifiersData[name] = data;
  }
  var preventOverflow_default = {
    name: "preventOverflow",
    enabled: true,
    phase: "main",
    fn: preventOverflow,
    requiresIfExists: ["offset"]
  };

  // ../../node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js
  function getHTMLElementScroll(element) {
    return {
      scrollLeft: element.scrollLeft,
      scrollTop: element.scrollTop
    };
  }

  // ../../node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js
  function getNodeScroll(node) {
    if (node === getWindow(node) || !isHTMLElement(node)) {
      return getWindowScroll(node);
    } else {
      return getHTMLElementScroll(node);
    }
  }

  // ../../node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js
  function isElementScaled(element) {
    var rect = element.getBoundingClientRect();
    var scaleX = round(rect.width) / element.offsetWidth || 1;
    var scaleY = round(rect.height) / element.offsetHeight || 1;
    return scaleX !== 1 || scaleY !== 1;
  }
  function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {
    if (isFixed === void 0) {
      isFixed = false;
    }
    var isOffsetParentAnElement = isHTMLElement(offsetParent);
    var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);
    var documentElement = getDocumentElement(offsetParent);
    var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled);
    var scroll3 = {
      scrollLeft: 0,
      scrollTop: 0
    };
    var offsets = {
      x: 0,
      y: 0
    };
    if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {
      if (getNodeName(offsetParent) !== "body" || isScrollParent(documentElement)) {
        scroll3 = getNodeScroll(offsetParent);
      }
      if (isHTMLElement(offsetParent)) {
        offsets = getBoundingClientRect(offsetParent, true);
        offsets.x += offsetParent.clientLeft;
        offsets.y += offsetParent.clientTop;
      } else if (documentElement) {
        offsets.x = getWindowScrollBarX(documentElement);
      }
    }
    return {
      x: rect.left + scroll3.scrollLeft - offsets.x,
      y: rect.top + scroll3.scrollTop - offsets.y,
      width: rect.width,
      height: rect.height
    };
  }

  // ../../node_modules/@popperjs/core/lib/utils/orderModifiers.js
  function order(modifiers) {
    var map = /* @__PURE__ */ new Map();
    var visited = /* @__PURE__ */ new Set();
    var result = [];
    modifiers.forEach(function(modifier) {
      map.set(modifier.name, modifier);
    });
    function sort(modifier) {
      visited.add(modifier.name);
      var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);
      requires.forEach(function(dep) {
        if (!visited.has(dep)) {
          var depModifier = map.get(dep);
          if (depModifier) {
            sort(depModifier);
          }
        }
      });
      result.push(modifier);
    }
    modifiers.forEach(function(modifier) {
      if (!visited.has(modifier.name)) {
        sort(modifier);
      }
    });
    return result;
  }
  function orderModifiers(modifiers) {
    var orderedModifiers = order(modifiers);
    return modifierPhases.reduce(function(acc, phase) {
      return acc.concat(orderedModifiers.filter(function(modifier) {
        return modifier.phase === phase;
      }));
    }, []);
  }

  // ../../node_modules/@popperjs/core/lib/utils/debounce.js
  function debounce(fn4) {
    var pending;
    return function() {
      if (!pending) {
        pending = new Promise(function(resolve) {
          Promise.resolve().then(function() {
            pending = void 0;
            resolve(fn4());
          });
        });
      }
      return pending;
    };
  }

  // ../../node_modules/@popperjs/core/lib/utils/format.js
  function format(str) {
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }
    return [].concat(args).reduce(function(p3, c3) {
      return p3.replace(/%s/, c3);
    }, str);
  }

  // ../../node_modules/@popperjs/core/lib/utils/validateModifiers.js
  var INVALID_MODIFIER_ERROR = 'Popper: modifier "%s" provided an invalid %s property, expected %s but got %s';
  var MISSING_DEPENDENCY_ERROR = 'Popper: modifier "%s" requires "%s", but "%s" modifier is not available';
  var VALID_PROPERTIES = ["name", "enabled", "phase", "fn", "effect", "requires", "options"];
  function validateModifiers(modifiers) {
    modifiers.forEach(function(modifier) {
      [].concat(Object.keys(modifier), VALID_PROPERTIES).filter(function(value, index2, self2) {
        return self2.indexOf(value) === index2;
      }).forEach(function(key) {
        switch (key) {
          case "name":
            if (typeof modifier.name !== "string") {
              console.error(format(INVALID_MODIFIER_ERROR, String(modifier.name), '"name"', '"string"', '"' + String(modifier.name) + '"'));
            }
            break;
          case "enabled":
            if (typeof modifier.enabled !== "boolean") {
              console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '"enabled"', '"boolean"', '"' + String(modifier.enabled) + '"'));
            }
            break;
          case "phase":
            if (modifierPhases.indexOf(modifier.phase) < 0) {
              console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '"phase"', "either " + modifierPhases.join(", "), '"' + String(modifier.phase) + '"'));
            }
            break;
          case "fn":
            if (typeof modifier.fn !== "function") {
              console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '"fn"', '"function"', '"' + String(modifier.fn) + '"'));
            }
            break;
          case "effect":
            if (modifier.effect != null && typeof modifier.effect !== "function") {
              console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '"effect"', '"function"', '"' + String(modifier.fn) + '"'));
            }
            break;
          case "requires":
            if (modifier.requires != null && !Array.isArray(modifier.requires)) {
              console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '"requires"', '"array"', '"' + String(modifier.requires) + '"'));
            }
            break;
          case "requiresIfExists":
            if (!Array.isArray(modifier.requiresIfExists)) {
              console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '"requiresIfExists"', '"array"', '"' + String(modifier.requiresIfExists) + '"'));
            }
            break;
          case "options":
          case "data":
            break;
          default:
            console.error('PopperJS: an invalid property has been provided to the "' + modifier.name + '" modifier, valid properties are ' + VALID_PROPERTIES.map(function(s3) {
              return '"' + s3 + '"';
            }).join(", ") + '; but "' + key + '" was provided.');
        }
        modifier.requires && modifier.requires.forEach(function(requirement) {
          if (modifiers.find(function(mod) {
            return mod.name === requirement;
          }) == null) {
            console.error(format(MISSING_DEPENDENCY_ERROR, String(modifier.name), requirement, requirement));
          }
        });
      });
    });
  }

  // ../../node_modules/@popperjs/core/lib/utils/uniqueBy.js
  function uniqueBy(arr, fn4) {
    var identifiers = /* @__PURE__ */ new Set();
    return arr.filter(function(item) {
      var identifier = fn4(item);
      if (!identifiers.has(identifier)) {
        identifiers.add(identifier);
        return true;
      }
    });
  }

  // ../../node_modules/@popperjs/core/lib/utils/mergeByName.js
  function mergeByName(modifiers) {
    var merged = modifiers.reduce(function(merged2, current) {
      var existing = merged2[current.name];
      merged2[current.name] = existing ? Object.assign({}, existing, current, {
        options: Object.assign({}, existing.options, current.options),
        data: Object.assign({}, existing.data, current.data)
      }) : current;
      return merged2;
    }, {});
    return Object.keys(merged).map(function(key) {
      return merged[key];
    });
  }

  // ../../node_modules/@popperjs/core/lib/createPopper.js
  var INVALID_ELEMENT_ERROR = "Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.";
  var INFINITE_LOOP_ERROR = "Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.";
  var DEFAULT_OPTIONS = {
    placement: "bottom",
    modifiers: [],
    strategy: "absolute"
  };
  function areValidElements() {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    return !args.some(function(element) {
      return !(element && typeof element.getBoundingClientRect === "function");
    });
  }
  function popperGenerator(generatorOptions) {
    if (generatorOptions === void 0) {
      generatorOptions = {};
    }
    var _generatorOptions = generatorOptions, _generatorOptions$def = _generatorOptions.defaultModifiers, defaultModifiers2 = _generatorOptions$def === void 0 ? [] : _generatorOptions$def, _generatorOptions$def2 = _generatorOptions.defaultOptions, defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;
    return function createPopper2(reference2, popper2, options) {
      if (options === void 0) {
        options = defaultOptions;
      }
      var state = {
        placement: "bottom",
        orderedModifiers: [],
        options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),
        modifiersData: {},
        elements: {
          reference: reference2,
          popper: popper2
        },
        attributes: {},
        styles: {}
      };
      var effectCleanupFns = [];
      var isDestroyed = false;
      var instance2 = {
        state,
        setOptions: function setOptions(setOptionsAction) {
          var options2 = typeof setOptionsAction === "function" ? setOptionsAction(state.options) : setOptionsAction;
          cleanupModifierEffects();
          state.options = Object.assign({}, defaultOptions, state.options, options2);
          state.scrollParents = {
            reference: isElement(reference2) ? listScrollParents(reference2) : reference2.contextElement ? listScrollParents(reference2.contextElement) : [],
            popper: listScrollParents(popper2)
          };
          var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers2, state.options.modifiers)));
          state.orderedModifiers = orderedModifiers.filter(function(m2) {
            return m2.enabled;
          });
          if (true) {
            var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function(_ref) {
              var name = _ref.name;
              return name;
            });
            validateModifiers(modifiers);
            if (getBasePlacement(state.options.placement) === auto) {
              var flipModifier = state.orderedModifiers.find(function(_ref2) {
                var name = _ref2.name;
                return name === "flip";
              });
              if (!flipModifier) {
                console.error(['Popper: "auto" placements require the "flip" modifier be', "present and enabled to work."].join(" "));
              }
            }
            var _getComputedStyle = getComputedStyle(popper2), marginTop = _getComputedStyle.marginTop, marginRight = _getComputedStyle.marginRight, marginBottom = _getComputedStyle.marginBottom, marginLeft = _getComputedStyle.marginLeft;
            if ([marginTop, marginRight, marginBottom, marginLeft].some(function(margin) {
              return parseFloat(margin);
            })) {
              console.warn(['Popper: CSS "margin" styles cannot be used to apply padding', "between the popper and its reference element or boundary.", "To replicate margin, use the `offset` modifier, as well as", "the `padding` option in the `preventOverflow` and `flip`", "modifiers."].join(" "));
            }
          }
          runModifierEffects();
          return instance2.update();
        },
        forceUpdate: function forceUpdate() {
          if (isDestroyed) {
            return;
          }
          var _state$elements = state.elements, reference3 = _state$elements.reference, popper3 = _state$elements.popper;
          if (!areValidElements(reference3, popper3)) {
            if (true) {
              console.error(INVALID_ELEMENT_ERROR);
            }
            return;
          }
          state.rects = {
            reference: getCompositeRect(reference3, getOffsetParent(popper3), state.options.strategy === "fixed"),
            popper: getLayoutRect(popper3)
          };
          state.reset = false;
          state.placement = state.options.placement;
          state.orderedModifiers.forEach(function(modifier) {
            return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);
          });
          var __debug_loops__ = 0;
          for (var index2 = 0; index2 < state.orderedModifiers.length; index2++) {
            if (true) {
              __debug_loops__ += 1;
              if (__debug_loops__ > 100) {
                console.error(INFINITE_LOOP_ERROR);
                break;
              }
            }
            if (state.reset === true) {
              state.reset = false;
              index2 = -1;
              continue;
            }
            var _state$orderedModifie = state.orderedModifiers[index2], fn4 = _state$orderedModifie.fn, _state$orderedModifie2 = _state$orderedModifie.options, _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2, name = _state$orderedModifie.name;
            if (typeof fn4 === "function") {
              state = fn4({
                state,
                options: _options,
                name,
                instance: instance2
              }) || state;
            }
          }
        },
        update: debounce(function() {
          return new Promise(function(resolve) {
            instance2.forceUpdate();
            resolve(state);
          });
        }),
        destroy: function destroy() {
          cleanupModifierEffects();
          isDestroyed = true;
        }
      };
      if (!areValidElements(reference2, popper2)) {
        if (true) {
          console.error(INVALID_ELEMENT_ERROR);
        }
        return instance2;
      }
      instance2.setOptions(options).then(function(state2) {
        if (!isDestroyed && options.onFirstUpdate) {
          options.onFirstUpdate(state2);
        }
      });
      function runModifierEffects() {
        state.orderedModifiers.forEach(function(_ref3) {
          var name = _ref3.name, _ref3$options = _ref3.options, options2 = _ref3$options === void 0 ? {} : _ref3$options, effect5 = _ref3.effect;
          if (typeof effect5 === "function") {
            var cleanupFn = effect5({
              state,
              name,
              instance: instance2,
              options: options2
            });
            var noopFn = function noopFn2() {
            };
            effectCleanupFns.push(cleanupFn || noopFn);
          }
        });
      }
      function cleanupModifierEffects() {
        effectCleanupFns.forEach(function(fn4) {
          return fn4();
        });
        effectCleanupFns = [];
      }
      return instance2;
    };
  }

  // ../../node_modules/@popperjs/core/lib/popper.js
  var defaultModifiers = [eventListeners_default, popperOffsets_default, computeStyles_default, applyStyles_default, offset_default, flip_default, preventOverflow_default, arrow_default, hide_default];
  var createPopper = /* @__PURE__ */ popperGenerator({
    defaultModifiers
  });

  // ../../node_modules/tippy.js/dist/tippy.esm.js
  var BOX_CLASS = "tippy-box";
  var CONTENT_CLASS = "tippy-content";
  var BACKDROP_CLASS = "tippy-backdrop";
  var ARROW_CLASS = "tippy-arrow";
  var SVG_ARROW_CLASS = "tippy-svg-arrow";
  var TOUCH_OPTIONS = {
    passive: true,
    capture: true
  };
  var TIPPY_DEFAULT_APPEND_TO = function TIPPY_DEFAULT_APPEND_TO2() {
    return document.body;
  };
  function hasOwnProperty(obj, key) {
    return {}.hasOwnProperty.call(obj, key);
  }
  function getValueAtIndexOrReturn(value, index2, defaultValue) {
    if (Array.isArray(value)) {
      var v2 = value[index2];
      return v2 == null ? Array.isArray(defaultValue) ? defaultValue[index2] : defaultValue : v2;
    }
    return value;
  }
  function isType(value, type) {
    var str = {}.toString.call(value);
    return str.indexOf("[object") === 0 && str.indexOf(type + "]") > -1;
  }
  function invokeWithArgsOrReturn(value, args) {
    return typeof value === "function" ? value.apply(void 0, args) : value;
  }
  function debounce2(fn4, ms) {
    if (ms === 0) {
      return fn4;
    }
    var timeout;
    return function(arg) {
      clearTimeout(timeout);
      timeout = setTimeout(function() {
        fn4(arg);
      }, ms);
    };
  }
  function removeProperties(obj, keys) {
    var clone = Object.assign({}, obj);
    keys.forEach(function(key) {
      delete clone[key];
    });
    return clone;
  }
  function splitBySpaces(value) {
    return value.split(/\s+/).filter(Boolean);
  }
  function normalizeToArray(value) {
    return [].concat(value);
  }
  function pushIfUnique(arr, value) {
    if (arr.indexOf(value) === -1) {
      arr.push(value);
    }
  }
  function unique(arr) {
    return arr.filter(function(item, index2) {
      return arr.indexOf(item) === index2;
    });
  }
  function getBasePlacement2(placement) {
    return placement.split("-")[0];
  }
  function arrayFrom(value) {
    return [].slice.call(value);
  }
  function removeUndefinedProps(obj) {
    return Object.keys(obj).reduce(function(acc, key) {
      if (obj[key] !== void 0) {
        acc[key] = obj[key];
      }
      return acc;
    }, {});
  }
  function div() {
    return document.createElement("div");
  }
  function isElement2(value) {
    return ["Element", "Fragment"].some(function(type) {
      return isType(value, type);
    });
  }
  function isNodeList(value) {
    return isType(value, "NodeList");
  }
  function isMouseEvent(value) {
    return isType(value, "MouseEvent");
  }
  function isReferenceElement(value) {
    return !!(value && value._tippy && value._tippy.reference === value);
  }
  function getArrayOfElements(value) {
    if (isElement2(value)) {
      return [value];
    }
    if (isNodeList(value)) {
      return arrayFrom(value);
    }
    if (Array.isArray(value)) {
      return value;
    }
    return arrayFrom(document.querySelectorAll(value));
  }
  function setTransitionDuration(els, value) {
    els.forEach(function(el) {
      if (el) {
        el.style.transitionDuration = value + "ms";
      }
    });
  }
  function setVisibilityState(els, state) {
    els.forEach(function(el) {
      if (el) {
        el.setAttribute("data-state", state);
      }
    });
  }
  function getOwnerDocument(elementOrElements) {
    var _element$ownerDocumen;
    var _normalizeToArray = normalizeToArray(elementOrElements), element = _normalizeToArray[0];
    return element != null && (_element$ownerDocumen = element.ownerDocument) != null && _element$ownerDocumen.body ? element.ownerDocument : document;
  }
  function isCursorOutsideInteractiveBorder(popperTreeData, event) {
    var clientX = event.clientX, clientY = event.clientY;
    return popperTreeData.every(function(_ref) {
      var popperRect = _ref.popperRect, popperState = _ref.popperState, props = _ref.props;
      var interactiveBorder = props.interactiveBorder;
      var basePlacement = getBasePlacement2(popperState.placement);
      var offsetData = popperState.modifiersData.offset;
      if (!offsetData) {
        return true;
      }
      var topDistance = basePlacement === "bottom" ? offsetData.top.y : 0;
      var bottomDistance = basePlacement === "top" ? offsetData.bottom.y : 0;
      var leftDistance = basePlacement === "right" ? offsetData.left.x : 0;
      var rightDistance = basePlacement === "left" ? offsetData.right.x : 0;
      var exceedsTop = popperRect.top - clientY + topDistance > interactiveBorder;
      var exceedsBottom = clientY - popperRect.bottom - bottomDistance > interactiveBorder;
      var exceedsLeft = popperRect.left - clientX + leftDistance > interactiveBorder;
      var exceedsRight = clientX - popperRect.right - rightDistance > interactiveBorder;
      return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight;
    });
  }
  function updateTransitionEndListener(box, action, listener) {
    var method = action + "EventListener";
    ["transitionend", "webkitTransitionEnd"].forEach(function(event) {
      box[method](event, listener);
    });
  }
  function actualContains(parent, child) {
    var target = child;
    while (target) {
      var _target$getRootNode;
      if (parent.contains(target)) {
        return true;
      }
      target = target.getRootNode == null ? void 0 : (_target$getRootNode = target.getRootNode()) == null ? void 0 : _target$getRootNode.host;
    }
    return false;
  }
  var currentInput = {
    isTouch: false
  };
  var lastMouseMoveTime = 0;
  function onDocumentTouchStart() {
    if (currentInput.isTouch) {
      return;
    }
    currentInput.isTouch = true;
    if (window.performance) {
      document.addEventListener("mousemove", onDocumentMouseMove);
    }
  }
  function onDocumentMouseMove() {
    var now = performance.now();
    if (now - lastMouseMoveTime < 20) {
      currentInput.isTouch = false;
      document.removeEventListener("mousemove", onDocumentMouseMove);
    }
    lastMouseMoveTime = now;
  }
  function onWindowBlur() {
    var activeElement = document.activeElement;
    if (isReferenceElement(activeElement)) {
      var instance2 = activeElement._tippy;
      if (activeElement.blur && !instance2.state.isVisible) {
        activeElement.blur();
      }
    }
  }
  function bindGlobalEventListeners() {
    document.addEventListener("touchstart", onDocumentTouchStart, TOUCH_OPTIONS);
    window.addEventListener("blur", onWindowBlur);
  }
  var isBrowser = typeof window !== "undefined" && typeof document !== "undefined";
  var isIE11 = isBrowser ? !!window.msCrypto : false;
  function createMemoryLeakWarning(method) {
    var txt = method === "destroy" ? "n already-" : " ";
    return [method + "() was called on a" + txt + "destroyed instance. This is a no-op but", "indicates a potential memory leak."].join(" ");
  }
  function clean(value) {
    var spacesAndTabs2 = /[ \t]{2,}/g;
    var lineStartWithSpaces2 = /^[ \t]*/gm;
    return value.replace(spacesAndTabs2, " ").replace(lineStartWithSpaces2, "").trim();
  }
  function getDevMessage(message) {
    return clean("\n  %ctippy.js\n\n  %c" + clean(message) + "\n\n  %c\u{1F477}\u200D This is a development-only message. It will be removed in production.\n  ");
  }
  function getFormattedMessage(message) {
    return [
      getDevMessage(message),
      "color: #00C584; font-size: 1.3em; font-weight: bold;",
      "line-height: 1.5",
      "color: #a6a095;"
    ];
  }
  var visitedMessages;
  if (true) {
    resetVisitedMessages();
  }
  function resetVisitedMessages() {
    visitedMessages = /* @__PURE__ */ new Set();
  }
  function warnWhen(condition, message) {
    if (condition && !visitedMessages.has(message)) {
      var _console;
      visitedMessages.add(message);
      (_console = console).warn.apply(_console, getFormattedMessage(message));
    }
  }
  function errorWhen(condition, message) {
    if (condition && !visitedMessages.has(message)) {
      var _console2;
      visitedMessages.add(message);
      (_console2 = console).error.apply(_console2, getFormattedMessage(message));
    }
  }
  function validateTargets(targets) {
    var didPassFalsyValue = !targets;
    var didPassPlainObject = Object.prototype.toString.call(targets) === "[object Object]" && !targets.addEventListener;
    errorWhen(didPassFalsyValue, ["tippy() was passed", "`" + String(targets) + "`", "as its targets (first) argument. Valid types are: String, Element,", "Element[], or NodeList."].join(" "));
    errorWhen(didPassPlainObject, ["tippy() was passed a plain object which is not supported as an argument", "for virtual positioning. Use props.getReferenceClientRect instead."].join(" "));
  }
  var pluginProps = {
    animateFill: false,
    followCursor: false,
    inlinePositioning: false,
    sticky: false
  };
  var renderProps = {
    allowHTML: false,
    animation: "fade",
    arrow: true,
    content: "",
    inertia: false,
    maxWidth: 350,
    role: "tooltip",
    theme: "",
    zIndex: 9999
  };
  var defaultProps = Object.assign({
    appendTo: TIPPY_DEFAULT_APPEND_TO,
    aria: {
      content: "auto",
      expanded: "auto"
    },
    delay: 0,
    duration: [300, 250],
    getReferenceClientRect: null,
    hideOnClick: true,
    ignoreAttributes: false,
    interactive: false,
    interactiveBorder: 2,
    interactiveDebounce: 0,
    moveTransition: "",
    offset: [0, 10],
    onAfterUpdate: function onAfterUpdate() {
    },
    onBeforeUpdate: function onBeforeUpdate() {
    },
    onCreate: function onCreate() {
    },
    onDestroy: function onDestroy() {
    },
    onHidden: function onHidden() {
    },
    onHide: function onHide() {
    },
    onMount: function onMount() {
    },
    onShow: function onShow() {
    },
    onShown: function onShown() {
    },
    onTrigger: function onTrigger() {
    },
    onUntrigger: function onUntrigger() {
    },
    onClickOutside: function onClickOutside() {
    },
    placement: "top",
    plugins: [],
    popperOptions: {},
    render: null,
    showOnCreate: false,
    touch: true,
    trigger: "mouseenter focus",
    triggerTarget: null
  }, pluginProps, renderProps);
  var defaultKeys = Object.keys(defaultProps);
  var setDefaultProps = function setDefaultProps2(partialProps) {
    if (true) {
      validateProps(partialProps, []);
    }
    var keys = Object.keys(partialProps);
    keys.forEach(function(key) {
      defaultProps[key] = partialProps[key];
    });
  };
  function getExtendedPassedProps(passedProps) {
    var plugins = passedProps.plugins || [];
    var pluginProps2 = plugins.reduce(function(acc, plugin) {
      var name = plugin.name, defaultValue = plugin.defaultValue;
      if (name) {
        var _name;
        acc[name] = passedProps[name] !== void 0 ? passedProps[name] : (_name = defaultProps[name]) != null ? _name : defaultValue;
      }
      return acc;
    }, {});
    return Object.assign({}, passedProps, pluginProps2);
  }
  function getDataAttributeProps(reference2, plugins) {
    var propKeys = plugins ? Object.keys(getExtendedPassedProps(Object.assign({}, defaultProps, {
      plugins
    }))) : defaultKeys;
    var props = propKeys.reduce(function(acc, key) {
      var valueAsString = (reference2.getAttribute("data-tippy-" + key) || "").trim();
      if (!valueAsString) {
        return acc;
      }
      if (key === "content") {
        acc[key] = valueAsString;
      } else {
        try {
          acc[key] = JSON.parse(valueAsString);
        } catch (e2) {
          acc[key] = valueAsString;
        }
      }
      return acc;
    }, {});
    return props;
  }
  function evaluateProps(reference2, props) {
    var out = Object.assign({}, props, {
      content: invokeWithArgsOrReturn(props.content, [reference2])
    }, props.ignoreAttributes ? {} : getDataAttributeProps(reference2, props.plugins));
    out.aria = Object.assign({}, defaultProps.aria, out.aria);
    out.aria = {
      expanded: out.aria.expanded === "auto" ? props.interactive : out.aria.expanded,
      content: out.aria.content === "auto" ? props.interactive ? null : "describedby" : out.aria.content
    };
    return out;
  }
  function validateProps(partialProps, plugins) {
    if (partialProps === void 0) {
      partialProps = {};
    }
    if (plugins === void 0) {
      plugins = [];
    }
    var keys = Object.keys(partialProps);
    keys.forEach(function(prop) {
      var nonPluginProps = removeProperties(defaultProps, Object.keys(pluginProps));
      var didPassUnknownProp = !hasOwnProperty(nonPluginProps, prop);
      if (didPassUnknownProp) {
        didPassUnknownProp = plugins.filter(function(plugin) {
          return plugin.name === prop;
        }).length === 0;
      }
      warnWhen(didPassUnknownProp, ["`" + prop + "`", "is not a valid prop. You may have spelled it incorrectly, or if it's", "a plugin, forgot to pass it in an array as props.plugins.", "\n\n", "All props: https://atomiks.github.io/tippyjs/v6/all-props/\n", "Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "));
    });
  }
  var innerHTML = function innerHTML2() {
    return "innerHTML";
  };
  function dangerouslySetInnerHTML(element, html) {
    element[innerHTML()] = html;
  }
  function createArrowElement(value) {
    var arrow2 = div();
    if (value === true) {
      arrow2.className = ARROW_CLASS;
    } else {
      arrow2.className = SVG_ARROW_CLASS;
      if (isElement2(value)) {
        arrow2.appendChild(value);
      } else {
        dangerouslySetInnerHTML(arrow2, value);
      }
    }
    return arrow2;
  }
  function setContent(content, props) {
    if (isElement2(props.content)) {
      dangerouslySetInnerHTML(content, "");
      content.appendChild(props.content);
    } else if (typeof props.content !== "function") {
      if (props.allowHTML) {
        dangerouslySetInnerHTML(content, props.content);
      } else {
        content.textContent = props.content;
      }
    }
  }
  function getChildren(popper2) {
    var box = popper2.firstElementChild;
    var boxChildren = arrayFrom(box.children);
    return {
      box,
      content: boxChildren.find(function(node) {
        return node.classList.contains(CONTENT_CLASS);
      }),
      arrow: boxChildren.find(function(node) {
        return node.classList.contains(ARROW_CLASS) || node.classList.contains(SVG_ARROW_CLASS);
      }),
      backdrop: boxChildren.find(function(node) {
        return node.classList.contains(BACKDROP_CLASS);
      })
    };
  }
  function render(instance2) {
    var popper2 = div();
    var box = div();
    box.className = BOX_CLASS;
    box.setAttribute("data-state", "hidden");
    box.setAttribute("tabindex", "-1");
    var content = div();
    content.className = CONTENT_CLASS;
    content.setAttribute("data-state", "hidden");
    setContent(content, instance2.props);
    popper2.appendChild(box);
    box.appendChild(content);
    onUpdate(instance2.props, instance2.props);
    function onUpdate(prevProps, nextProps) {
      var _getChildren = getChildren(popper2), box2 = _getChildren.box, content2 = _getChildren.content, arrow2 = _getChildren.arrow;
      if (nextProps.theme) {
        box2.setAttribute("data-theme", nextProps.theme);
      } else {
        box2.removeAttribute("data-theme");
      }
      if (typeof nextProps.animation === "string") {
        box2.setAttribute("data-animation", nextProps.animation);
      } else {
        box2.removeAttribute("data-animation");
      }
      if (nextProps.inertia) {
        box2.setAttribute("data-inertia", "");
      } else {
        box2.removeAttribute("data-inertia");
      }
      box2.style.maxWidth = typeof nextProps.maxWidth === "number" ? nextProps.maxWidth + "px" : nextProps.maxWidth;
      if (nextProps.role) {
        box2.setAttribute("role", nextProps.role);
      } else {
        box2.removeAttribute("role");
      }
      if (prevProps.content !== nextProps.content || prevProps.allowHTML !== nextProps.allowHTML) {
        setContent(content2, instance2.props);
      }
      if (nextProps.arrow) {
        if (!arrow2) {
          box2.appendChild(createArrowElement(nextProps.arrow));
        } else if (prevProps.arrow !== nextProps.arrow) {
          box2.removeChild(arrow2);
          box2.appendChild(createArrowElement(nextProps.arrow));
        }
      } else if (arrow2) {
        box2.removeChild(arrow2);
      }
    }
    return {
      popper: popper2,
      onUpdate
    };
  }
  render.$$tippy = true;
  var idCounter = 1;
  var mouseMoveListeners = [];
  var mountedInstances = [];
  function createTippy(reference2, passedProps) {
    var props = evaluateProps(reference2, Object.assign({}, defaultProps, getExtendedPassedProps(removeUndefinedProps(passedProps))));
    var showTimeout;
    var hideTimeout;
    var scheduleHideAnimationFrame;
    var isVisibleFromClick = false;
    var didHideDueToDocumentMouseDown = false;
    var didTouchMove = false;
    var ignoreOnFirstUpdate = false;
    var lastTriggerEvent;
    var currentTransitionEndListener;
    var onFirstUpdate;
    var listeners2 = [];
    var debouncedOnMouseMove = debounce2(onMouseMove, props.interactiveDebounce);
    var currentTarget;
    var id = idCounter++;
    var popperInstance = null;
    var plugins = unique(props.plugins);
    var state = {
      isEnabled: true,
      isVisible: false,
      isDestroyed: false,
      isMounted: false,
      isShown: false
    };
    var instance2 = {
      id,
      reference: reference2,
      popper: div(),
      popperInstance,
      props,
      state,
      plugins,
      clearDelayTimeouts,
      setProps,
      setContent: setContent2,
      show,
      hide: hide2,
      hideWithInteractivity,
      enable,
      disable,
      unmount,
      destroy
    };
    if (!props.render) {
      if (true) {
        errorWhen(true, "render() function has not been supplied.");
      }
      return instance2;
    }
    var _props$render = props.render(instance2), popper2 = _props$render.popper, onUpdate = _props$render.onUpdate;
    popper2.setAttribute("data-tippy-root", "");
    popper2.id = "tippy-" + instance2.id;
    instance2.popper = popper2;
    reference2._tippy = instance2;
    popper2._tippy = instance2;
    var pluginsHooks = plugins.map(function(plugin) {
      return plugin.fn(instance2);
    });
    var hasAriaExpanded = reference2.hasAttribute("aria-expanded");
    addListeners();
    handleAriaExpandedAttribute();
    handleStyles();
    invokeHook("onCreate", [instance2]);
    if (props.showOnCreate) {
      scheduleShow();
    }
    popper2.addEventListener("mouseenter", function() {
      if (instance2.props.interactive && instance2.state.isVisible) {
        instance2.clearDelayTimeouts();
      }
    });
    popper2.addEventListener("mouseleave", function() {
      if (instance2.props.interactive && instance2.props.trigger.indexOf("mouseenter") >= 0) {
        getDocument().addEventListener("mousemove", debouncedOnMouseMove);
      }
    });
    return instance2;
    function getNormalizedTouchSettings() {
      var touch = instance2.props.touch;
      return Array.isArray(touch) ? touch : [touch, 0];
    }
    function getIsCustomTouchBehavior() {
      return getNormalizedTouchSettings()[0] === "hold";
    }
    function getIsDefaultRenderFn() {
      var _instance$props$rende;
      return !!((_instance$props$rende = instance2.props.render) != null && _instance$props$rende.$$tippy);
    }
    function getCurrentTarget() {
      return currentTarget || reference2;
    }
    function getDocument() {
      var parent = getCurrentTarget().parentNode;
      return parent ? getOwnerDocument(parent) : document;
    }
    function getDefaultTemplateChildren() {
      return getChildren(popper2);
    }
    function getDelay(isShow) {
      if (instance2.state.isMounted && !instance2.state.isVisible || currentInput.isTouch || lastTriggerEvent && lastTriggerEvent.type === "focus") {
        return 0;
      }
      return getValueAtIndexOrReturn(instance2.props.delay, isShow ? 0 : 1, defaultProps.delay);
    }
    function handleStyles(fromHide) {
      if (fromHide === void 0) {
        fromHide = false;
      }
      popper2.style.pointerEvents = instance2.props.interactive && !fromHide ? "" : "none";
      popper2.style.zIndex = "" + instance2.props.zIndex;
    }
    function invokeHook(hook, args, shouldInvokePropsHook) {
      if (shouldInvokePropsHook === void 0) {
        shouldInvokePropsHook = true;
      }
      pluginsHooks.forEach(function(pluginHooks) {
        if (pluginHooks[hook]) {
          pluginHooks[hook].apply(pluginHooks, args);
        }
      });
      if (shouldInvokePropsHook) {
        var _instance$props;
        (_instance$props = instance2.props)[hook].apply(_instance$props, args);
      }
    }
    function handleAriaContentAttribute() {
      var aria = instance2.props.aria;
      if (!aria.content) {
        return;
      }
      var attr = "aria-" + aria.content;
      var id2 = popper2.id;
      var nodes = normalizeToArray(instance2.props.triggerTarget || reference2);
      nodes.forEach(function(node) {
        var currentValue = node.getAttribute(attr);
        if (instance2.state.isVisible) {
          node.setAttribute(attr, currentValue ? currentValue + " " + id2 : id2);
        } else {
          var nextValue = currentValue && currentValue.replace(id2, "").trim();
          if (nextValue) {
            node.setAttribute(attr, nextValue);
          } else {
            node.removeAttribute(attr);
          }
        }
      });
    }
    function handleAriaExpandedAttribute() {
      if (hasAriaExpanded || !instance2.props.aria.expanded) {
        return;
      }
      var nodes = normalizeToArray(instance2.props.triggerTarget || reference2);
      nodes.forEach(function(node) {
        if (instance2.props.interactive) {
          node.setAttribute("aria-expanded", instance2.state.isVisible && node === getCurrentTarget() ? "true" : "false");
        } else {
          node.removeAttribute("aria-expanded");
        }
      });
    }
    function cleanupInteractiveMouseListeners() {
      getDocument().removeEventListener("mousemove", debouncedOnMouseMove);
      mouseMoveListeners = mouseMoveListeners.filter(function(listener) {
        return listener !== debouncedOnMouseMove;
      });
    }
    function onDocumentPress(event) {
      if (currentInput.isTouch) {
        if (didTouchMove || event.type === "mousedown") {
          return;
        }
      }
      var actualTarget = event.composedPath && event.composedPath()[0] || event.target;
      if (instance2.props.interactive && actualContains(popper2, actualTarget)) {
        return;
      }
      if (normalizeToArray(instance2.props.triggerTarget || reference2).some(function(el) {
        return actualContains(el, actualTarget);
      })) {
        if (currentInput.isTouch) {
          return;
        }
        if (instance2.state.isVisible && instance2.props.trigger.indexOf("click") >= 0) {
          return;
        }
      } else {
        invokeHook("onClickOutside", [instance2, event]);
      }
      if (instance2.props.hideOnClick === true) {
        instance2.clearDelayTimeouts();
        instance2.hide();
        didHideDueToDocumentMouseDown = true;
        setTimeout(function() {
          didHideDueToDocumentMouseDown = false;
        });
        if (!instance2.state.isMounted) {
          removeDocumentPress();
        }
      }
    }
    function onTouchMove() {
      didTouchMove = true;
    }
    function onTouchStart() {
      didTouchMove = false;
    }
    function addDocumentPress() {
      var doc = getDocument();
      doc.addEventListener("mousedown", onDocumentPress, true);
      doc.addEventListener("touchend", onDocumentPress, TOUCH_OPTIONS);
      doc.addEventListener("touchstart", onTouchStart, TOUCH_OPTIONS);
      doc.addEventListener("touchmove", onTouchMove, TOUCH_OPTIONS);
    }
    function removeDocumentPress() {
      var doc = getDocument();
      doc.removeEventListener("mousedown", onDocumentPress, true);
      doc.removeEventListener("touchend", onDocumentPress, TOUCH_OPTIONS);
      doc.removeEventListener("touchstart", onTouchStart, TOUCH_OPTIONS);
      doc.removeEventListener("touchmove", onTouchMove, TOUCH_OPTIONS);
    }
    function onTransitionedOut(duration, callback) {
      onTransitionEnd(duration, function() {
        if (!instance2.state.isVisible && popper2.parentNode && popper2.parentNode.contains(popper2)) {
          callback();
        }
      });
    }
    function onTransitionedIn(duration, callback) {
      onTransitionEnd(duration, callback);
    }
    function onTransitionEnd(duration, callback) {
      var box = getDefaultTemplateChildren().box;
      function listener(event) {
        if (event.target === box) {
          updateTransitionEndListener(box, "remove", listener);
          callback();
        }
      }
      if (duration === 0) {
        return callback();
      }
      updateTransitionEndListener(box, "remove", currentTransitionEndListener);
      updateTransitionEndListener(box, "add", listener);
      currentTransitionEndListener = listener;
    }
    function on2(eventType, handler, options) {
      if (options === void 0) {
        options = false;
      }
      var nodes = normalizeToArray(instance2.props.triggerTarget || reference2);
      nodes.forEach(function(node) {
        node.addEventListener(eventType, handler, options);
        listeners2.push({
          node,
          eventType,
          handler,
          options
        });
      });
    }
    function addListeners() {
      if (getIsCustomTouchBehavior()) {
        on2("touchstart", onTrigger2, {
          passive: true
        });
        on2("touchend", onMouseLeave, {
          passive: true
        });
      }
      splitBySpaces(instance2.props.trigger).forEach(function(eventType) {
        if (eventType === "manual") {
          return;
        }
        on2(eventType, onTrigger2);
        switch (eventType) {
          case "mouseenter":
            on2("mouseleave", onMouseLeave);
            break;
          case "focus":
            on2(isIE11 ? "focusout" : "blur", onBlurOrFocusOut);
            break;
          case "focusin":
            on2("focusout", onBlurOrFocusOut);
            break;
        }
      });
    }
    function removeListeners() {
      listeners2.forEach(function(_ref) {
        var node = _ref.node, eventType = _ref.eventType, handler = _ref.handler, options = _ref.options;
        node.removeEventListener(eventType, handler, options);
      });
      listeners2 = [];
    }
    function onTrigger2(event) {
      var _lastTriggerEvent;
      var shouldScheduleClickHide = false;
      if (!instance2.state.isEnabled || isEventListenerStopped(event) || didHideDueToDocumentMouseDown) {
        return;
      }
      var wasFocused = ((_lastTriggerEvent = lastTriggerEvent) == null ? void 0 : _lastTriggerEvent.type) === "focus";
      lastTriggerEvent = event;
      currentTarget = event.currentTarget;
      handleAriaExpandedAttribute();
      if (!instance2.state.isVisible && isMouseEvent(event)) {
        mouseMoveListeners.forEach(function(listener) {
          return listener(event);
        });
      }
      if (event.type === "click" && (instance2.props.trigger.indexOf("mouseenter") < 0 || isVisibleFromClick) && instance2.props.hideOnClick !== false && instance2.state.isVisible) {
        shouldScheduleClickHide = true;
      } else {
        scheduleShow(event);
      }
      if (event.type === "click") {
        isVisibleFromClick = !shouldScheduleClickHide;
      }
      if (shouldScheduleClickHide && !wasFocused) {
        scheduleHide(event);
      }
    }
    function onMouseMove(event) {
      var target = event.target;
      var isCursorOverReferenceOrPopper = getCurrentTarget().contains(target) || popper2.contains(target);
      if (event.type === "mousemove" && isCursorOverReferenceOrPopper) {
        return;
      }
      var popperTreeData = getNestedPopperTree().concat(popper2).map(function(popper3) {
        var _instance$popperInsta;
        var instance3 = popper3._tippy;
        var state2 = (_instance$popperInsta = instance3.popperInstance) == null ? void 0 : _instance$popperInsta.state;
        if (state2) {
          return {
            popperRect: popper3.getBoundingClientRect(),
            popperState: state2,
            props
          };
        }
        return null;
      }).filter(Boolean);
      if (isCursorOutsideInteractiveBorder(popperTreeData, event)) {
        cleanupInteractiveMouseListeners();
        scheduleHide(event);
      }
    }
    function onMouseLeave(event) {
      var shouldBail = isEventListenerStopped(event) || instance2.props.trigger.indexOf("click") >= 0 && isVisibleFromClick;
      if (shouldBail) {
        return;
      }
      if (instance2.props.interactive) {
        instance2.hideWithInteractivity(event);
        return;
      }
      scheduleHide(event);
    }
    function onBlurOrFocusOut(event) {
      if (instance2.props.trigger.indexOf("focusin") < 0 && event.target !== getCurrentTarget()) {
        return;
      }
      if (instance2.props.interactive && event.relatedTarget && popper2.contains(event.relatedTarget)) {
        return;
      }
      scheduleHide(event);
    }
    function isEventListenerStopped(event) {
      return currentInput.isTouch ? getIsCustomTouchBehavior() !== event.type.indexOf("touch") >= 0 : false;
    }
    function createPopperInstance() {
      destroyPopperInstance();
      var _instance$props2 = instance2.props, popperOptions = _instance$props2.popperOptions, placement = _instance$props2.placement, offset4 = _instance$props2.offset, getReferenceClientRect = _instance$props2.getReferenceClientRect, moveTransition = _instance$props2.moveTransition;
      var arrow2 = getIsDefaultRenderFn() ? getChildren(popper2).arrow : null;
      var computedReference = getReferenceClientRect ? {
        getBoundingClientRect: getReferenceClientRect,
        contextElement: getReferenceClientRect.contextElement || getCurrentTarget()
      } : reference2;
      var tippyModifier = {
        name: "$$tippy",
        enabled: true,
        phase: "beforeWrite",
        requires: ["computeStyles"],
        fn: function fn4(_ref2) {
          var state2 = _ref2.state;
          if (getIsDefaultRenderFn()) {
            var _getDefaultTemplateCh = getDefaultTemplateChildren(), box = _getDefaultTemplateCh.box;
            ["placement", "reference-hidden", "escaped"].forEach(function(attr) {
              if (attr === "placement") {
                box.setAttribute("data-placement", state2.placement);
              } else {
                if (state2.attributes.popper["data-popper-" + attr]) {
                  box.setAttribute("data-" + attr, "");
                } else {
                  box.removeAttribute("data-" + attr);
                }
              }
            });
            state2.attributes.popper = {};
          }
        }
      };
      var modifiers = [{
        name: "offset",
        options: {
          offset: offset4
        }
      }, {
        name: "preventOverflow",
        options: {
          padding: {
            top: 2,
            bottom: 2,
            left: 5,
            right: 5
          }
        }
      }, {
        name: "flip",
        options: {
          padding: 5
        }
      }, {
        name: "computeStyles",
        options: {
          adaptive: !moveTransition
        }
      }, tippyModifier];
      if (getIsDefaultRenderFn() && arrow2) {
        modifiers.push({
          name: "arrow",
          options: {
            element: arrow2,
            padding: 3
          }
        });
      }
      modifiers.push.apply(modifiers, (popperOptions == null ? void 0 : popperOptions.modifiers) || []);
      instance2.popperInstance = createPopper(computedReference, popper2, Object.assign({}, popperOptions, {
        placement,
        onFirstUpdate,
        modifiers
      }));
    }
    function destroyPopperInstance() {
      if (instance2.popperInstance) {
        instance2.popperInstance.destroy();
        instance2.popperInstance = null;
      }
    }
    function mount() {
      var appendTo = instance2.props.appendTo;
      var parentNode;
      var node = getCurrentTarget();
      if (instance2.props.interactive && appendTo === TIPPY_DEFAULT_APPEND_TO || appendTo === "parent") {
        parentNode = node.parentNode;
      } else {
        parentNode = invokeWithArgsOrReturn(appendTo, [node]);
      }
      if (!parentNode.contains(popper2)) {
        parentNode.appendChild(popper2);
      }
      instance2.state.isMounted = true;
      createPopperInstance();
      if (true) {
        warnWhen(instance2.props.interactive && appendTo === defaultProps.appendTo && node.nextElementSibling !== popper2, ["Interactive tippy element may not be accessible via keyboard", "navigation because it is not directly after the reference element", "in the DOM source order.", "\n\n", "Using a wrapper <div> or <span> tag around the reference element", "solves this by creating a new parentNode context.", "\n\n", "Specifying `appendTo: document.body` silences this warning, but it", "assumes you are using a focus management solution to handle", "keyboard navigation.", "\n\n", "See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "));
      }
    }
    function getNestedPopperTree() {
      return arrayFrom(popper2.querySelectorAll("[data-tippy-root]"));
    }
    function scheduleShow(event) {
      instance2.clearDelayTimeouts();
      if (event) {
        invokeHook("onTrigger", [instance2, event]);
      }
      addDocumentPress();
      var delay = getDelay(true);
      var _getNormalizedTouchSe = getNormalizedTouchSettings(), touchValue = _getNormalizedTouchSe[0], touchDelay = _getNormalizedTouchSe[1];
      if (currentInput.isTouch && touchValue === "hold" && touchDelay) {
        delay = touchDelay;
      }
      if (delay) {
        showTimeout = setTimeout(function() {
          instance2.show();
        }, delay);
      } else {
        instance2.show();
      }
    }
    function scheduleHide(event) {
      instance2.clearDelayTimeouts();
      invokeHook("onUntrigger", [instance2, event]);
      if (!instance2.state.isVisible) {
        removeDocumentPress();
        return;
      }
      if (instance2.props.trigger.indexOf("mouseenter") >= 0 && instance2.props.trigger.indexOf("click") >= 0 && ["mouseleave", "mousemove"].indexOf(event.type) >= 0 && isVisibleFromClick) {
        return;
      }
      var delay = getDelay(false);
      if (delay) {
        hideTimeout = setTimeout(function() {
          if (instance2.state.isVisible) {
            instance2.hide();
          }
        }, delay);
      } else {
        scheduleHideAnimationFrame = requestAnimationFrame(function() {
          instance2.hide();
        });
      }
    }
    function enable() {
      instance2.state.isEnabled = true;
    }
    function disable() {
      instance2.hide();
      instance2.state.isEnabled = false;
    }
    function clearDelayTimeouts() {
      clearTimeout(showTimeout);
      clearTimeout(hideTimeout);
      cancelAnimationFrame(scheduleHideAnimationFrame);
    }
    function setProps(partialProps) {
      if (true) {
        warnWhen(instance2.state.isDestroyed, createMemoryLeakWarning("setProps"));
      }
      if (instance2.state.isDestroyed) {
        return;
      }
      invokeHook("onBeforeUpdate", [instance2, partialProps]);
      removeListeners();
      var prevProps = instance2.props;
      var nextProps = evaluateProps(reference2, Object.assign({}, prevProps, removeUndefinedProps(partialProps), {
        ignoreAttributes: true
      }));
      instance2.props = nextProps;
      addListeners();
      if (prevProps.interactiveDebounce !== nextProps.interactiveDebounce) {
        cleanupInteractiveMouseListeners();
        debouncedOnMouseMove = debounce2(onMouseMove, nextProps.interactiveDebounce);
      }
      if (prevProps.triggerTarget && !nextProps.triggerTarget) {
        normalizeToArray(prevProps.triggerTarget).forEach(function(node) {
          node.removeAttribute("aria-expanded");
        });
      } else if (nextProps.triggerTarget) {
        reference2.removeAttribute("aria-expanded");
      }
      handleAriaExpandedAttribute();
      handleStyles();
      if (onUpdate) {
        onUpdate(prevProps, nextProps);
      }
      if (instance2.popperInstance) {
        createPopperInstance();
        getNestedPopperTree().forEach(function(nestedPopper) {
          requestAnimationFrame(nestedPopper._tippy.popperInstance.forceUpdate);
        });
      }
      invokeHook("onAfterUpdate", [instance2, partialProps]);
    }
    function setContent2(content) {
      instance2.setProps({
        content
      });
    }
    function show() {
      if (true) {
        warnWhen(instance2.state.isDestroyed, createMemoryLeakWarning("show"));
      }
      var isAlreadyVisible = instance2.state.isVisible;
      var isDestroyed = instance2.state.isDestroyed;
      var isDisabled = !instance2.state.isEnabled;
      var isTouchAndTouchDisabled = currentInput.isTouch && !instance2.props.touch;
      var duration = getValueAtIndexOrReturn(instance2.props.duration, 0, defaultProps.duration);
      if (isAlreadyVisible || isDestroyed || isDisabled || isTouchAndTouchDisabled) {
        return;
      }
      if (getCurrentTarget().hasAttribute("disabled")) {
        return;
      }
      invokeHook("onShow", [instance2], false);
      if (instance2.props.onShow(instance2) === false) {
        return;
      }
      instance2.state.isVisible = true;
      if (getIsDefaultRenderFn()) {
        popper2.style.visibility = "visible";
      }
      handleStyles();
      addDocumentPress();
      if (!instance2.state.isMounted) {
        popper2.style.transition = "none";
      }
      if (getIsDefaultRenderFn()) {
        var _getDefaultTemplateCh2 = getDefaultTemplateChildren(), box = _getDefaultTemplateCh2.box, content = _getDefaultTemplateCh2.content;
        setTransitionDuration([box, content], 0);
      }
      onFirstUpdate = function onFirstUpdate2() {
        var _instance$popperInsta2;
        if (!instance2.state.isVisible || ignoreOnFirstUpdate) {
          return;
        }
        ignoreOnFirstUpdate = true;
        void popper2.offsetHeight;
        popper2.style.transition = instance2.props.moveTransition;
        if (getIsDefaultRenderFn() && instance2.props.animation) {
          var _getDefaultTemplateCh3 = getDefaultTemplateChildren(), _box = _getDefaultTemplateCh3.box, _content = _getDefaultTemplateCh3.content;
          setTransitionDuration([_box, _content], duration);
          setVisibilityState([_box, _content], "visible");
        }
        handleAriaContentAttribute();
        handleAriaExpandedAttribute();
        pushIfUnique(mountedInstances, instance2);
        (_instance$popperInsta2 = instance2.popperInstance) == null ? void 0 : _instance$popperInsta2.forceUpdate();
        invokeHook("onMount", [instance2]);
        if (instance2.props.animation && getIsDefaultRenderFn()) {
          onTransitionedIn(duration, function() {
            instance2.state.isShown = true;
            invokeHook("onShown", [instance2]);
          });
        }
      };
      mount();
    }
    function hide2() {
      if (true) {
        warnWhen(instance2.state.isDestroyed, createMemoryLeakWarning("hide"));
      }
      var isAlreadyHidden = !instance2.state.isVisible;
      var isDestroyed = instance2.state.isDestroyed;
      var isDisabled = !instance2.state.isEnabled;
      var duration = getValueAtIndexOrReturn(instance2.props.duration, 1, defaultProps.duration);
      if (isAlreadyHidden || isDestroyed || isDisabled) {
        return;
      }
      invokeHook("onHide", [instance2], false);
      if (instance2.props.onHide(instance2) === false) {
        return;
      }
      instance2.state.isVisible = false;
      instance2.state.isShown = false;
      ignoreOnFirstUpdate = false;
      isVisibleFromClick = false;
      if (getIsDefaultRenderFn()) {
        popper2.style.visibility = "hidden";
      }
      cleanupInteractiveMouseListeners();
      removeDocumentPress();
      handleStyles(true);
      if (getIsDefaultRenderFn()) {
        var _getDefaultTemplateCh4 = getDefaultTemplateChildren(), box = _getDefaultTemplateCh4.box, content = _getDefaultTemplateCh4.content;
        if (instance2.props.animation) {
          setTransitionDuration([box, content], duration);
          setVisibilityState([box, content], "hidden");
        }
      }
      handleAriaContentAttribute();
      handleAriaExpandedAttribute();
      if (instance2.props.animation) {
        if (getIsDefaultRenderFn()) {
          onTransitionedOut(duration, instance2.unmount);
        }
      } else {
        instance2.unmount();
      }
    }
    function hideWithInteractivity(event) {
      if (true) {
        warnWhen(instance2.state.isDestroyed, createMemoryLeakWarning("hideWithInteractivity"));
      }
      getDocument().addEventListener("mousemove", debouncedOnMouseMove);
      pushIfUnique(mouseMoveListeners, debouncedOnMouseMove);
      debouncedOnMouseMove(event);
    }
    function unmount() {
      if (true) {
        warnWhen(instance2.state.isDestroyed, createMemoryLeakWarning("unmount"));
      }
      if (instance2.state.isVisible) {
        instance2.hide();
      }
      if (!instance2.state.isMounted) {
        return;
      }
      destroyPopperInstance();
      getNestedPopperTree().forEach(function(nestedPopper) {
        nestedPopper._tippy.unmount();
      });
      if (popper2.parentNode) {
        popper2.parentNode.removeChild(popper2);
      }
      mountedInstances = mountedInstances.filter(function(i3) {
        return i3 !== instance2;
      });
      instance2.state.isMounted = false;
      invokeHook("onHidden", [instance2]);
    }
    function destroy() {
      if (true) {
        warnWhen(instance2.state.isDestroyed, createMemoryLeakWarning("destroy"));
      }
      if (instance2.state.isDestroyed) {
        return;
      }
      instance2.clearDelayTimeouts();
      instance2.unmount();
      removeListeners();
      delete reference2._tippy;
      instance2.state.isDestroyed = true;
      invokeHook("onDestroy", [instance2]);
    }
  }
  function tippy(targets, optionalProps) {
    if (optionalProps === void 0) {
      optionalProps = {};
    }
    var plugins = defaultProps.plugins.concat(optionalProps.plugins || []);
    if (true) {
      validateTargets(targets);
      validateProps(optionalProps, plugins);
    }
    bindGlobalEventListeners();
    var passedProps = Object.assign({}, optionalProps, {
      plugins
    });
    var elements = getArrayOfElements(targets);
    if (true) {
      var isSingleContentElement = isElement2(passedProps.content);
      var isMoreThanOneReferenceElement = elements.length > 1;
      warnWhen(isSingleContentElement && isMoreThanOneReferenceElement, ["tippy() was passed an Element as the `content` prop, but more than", "one tippy instance was created by this invocation. This means the", "content element will only be appended to the last tippy instance.", "\n\n", "Instead, pass the .innerHTML of the element, or use a function that", "returns a cloned version of the element instead.", "\n\n", "1) content: element.innerHTML\n", "2) content: () => element.cloneNode(true)"].join(" "));
    }
    var instances = elements.reduce(function(acc, reference2) {
      var instance2 = reference2 && createTippy(reference2, passedProps);
      if (instance2) {
        acc.push(instance2);
      }
      return acc;
    }, []);
    return isElement2(targets) ? instances[0] : instances;
  }
  tippy.defaultProps = defaultProps;
  tippy.setDefaultProps = setDefaultProps;
  tippy.currentInput = currentInput;
  var applyStylesModifier = Object.assign({}, applyStyles_default, {
    effect: function effect4(_ref) {
      var state = _ref.state;
      var initialStyles = {
        popper: {
          position: state.options.strategy,
          left: "0",
          top: "0",
          margin: "0"
        },
        arrow: {
          position: "absolute"
        },
        reference: {}
      };
      Object.assign(state.elements.popper.style, initialStyles.popper);
      state.styles = initialStyles;
      if (state.elements.arrow) {
        Object.assign(state.elements.arrow.style, initialStyles.arrow);
      }
    }
  });
  tippy.setDefaultProps({
    render
  });
  var tippy_esm_default = tippy;

  // ../../node_modules/@tippyjs/react/dist/tippy-react.esm.js
  var import_react9 = __toESM(require_react());
  var import_react_dom2 = __toESM(require_react_dom());
  function _objectWithoutPropertiesLoose(source, excluded) {
    if (source == null)
      return {};
    var target = {};
    var sourceKeys = Object.keys(source);
    var key, i3;
    for (i3 = 0; i3 < sourceKeys.length; i3++) {
      key = sourceKeys[i3];
      if (excluded.indexOf(key) >= 0)
        continue;
      target[key] = source[key];
    }
    return target;
  }
  var isBrowser2 = typeof window !== "undefined" && typeof document !== "undefined";
  function preserveRef(ref2, node) {
    if (ref2) {
      if (typeof ref2 === "function") {
        ref2(node);
      }
      if ({}.hasOwnProperty.call(ref2, "current")) {
        ref2.current = node;
      }
    }
  }
  function ssrSafeCreateDiv() {
    return isBrowser2 && document.createElement("div");
  }
  function toDataAttributes(attrs) {
    var dataAttrs = {
      "data-placement": attrs.placement
    };
    if (attrs.referenceHidden) {
      dataAttrs["data-reference-hidden"] = "";
    }
    if (attrs.escaped) {
      dataAttrs["data-escaped"] = "";
    }
    return dataAttrs;
  }
  function deepEqual(x2, y2) {
    if (x2 === y2) {
      return true;
    } else if (typeof x2 === "object" && x2 != null && typeof y2 === "object" && y2 != null) {
      if (Object.keys(x2).length !== Object.keys(y2).length) {
        return false;
      }
      for (var prop in x2) {
        if (y2.hasOwnProperty(prop)) {
          if (!deepEqual(x2[prop], y2[prop])) {
            return false;
          }
        } else {
          return false;
        }
      }
      return true;
    } else {
      return false;
    }
  }
  function uniqueByShape(arr) {
    var output = [];
    arr.forEach(function(item) {
      if (!output.find(function(outputItem) {
        return deepEqual(item, outputItem);
      })) {
        output.push(item);
      }
    });
    return output;
  }
  function deepPreserveProps(instanceProps, componentProps) {
    var _instanceProps$popper, _componentProps$poppe;
    return Object.assign({}, componentProps, {
      popperOptions: Object.assign({}, instanceProps.popperOptions, componentProps.popperOptions, {
        modifiers: uniqueByShape([].concat(((_instanceProps$popper = instanceProps.popperOptions) == null ? void 0 : _instanceProps$popper.modifiers) || [], ((_componentProps$poppe = componentProps.popperOptions) == null ? void 0 : _componentProps$poppe.modifiers) || []))
      })
    });
  }
  var useIsomorphicLayoutEffect = isBrowser2 ? import_react9.useLayoutEffect : import_react9.useEffect;
  function useMutableBox(initialValue) {
    var ref2 = (0, import_react9.useRef)();
    if (!ref2.current) {
      ref2.current = typeof initialValue === "function" ? initialValue() : initialValue;
    }
    return ref2.current;
  }
  function updateClassName(box, action, classNames) {
    classNames.split(/\s+/).forEach(function(name) {
      if (name) {
        box.classList[action](name);
      }
    });
  }
  var classNamePlugin = {
    name: "className",
    defaultValue: "",
    fn: function fn2(instance2) {
      var box = instance2.popper.firstElementChild;
      var isDefaultRenderFn = function isDefaultRenderFn2() {
        var _instance$props$rende;
        return !!((_instance$props$rende = instance2.props.render) == null ? void 0 : _instance$props$rende.$$tippy);
      };
      function add3() {
        if (instance2.props.className && !isDefaultRenderFn()) {
          if (true) {
            console.warn(["@tippyjs/react: Cannot use `className` prop in conjunction with", "`render` prop. Place the className on the element you are", "rendering."].join(" "));
          }
          return;
        }
        updateClassName(box, "add", instance2.props.className);
      }
      function remove() {
        if (isDefaultRenderFn()) {
          updateClassName(box, "remove", instance2.props.className);
        }
      }
      return {
        onCreate: add3,
        onBeforeUpdate: remove,
        onAfterUpdate: add3
      };
    }
  };
  function TippyGenerator(tippy2) {
    function Tippy(_ref) {
      var children = _ref.children, content = _ref.content, visible = _ref.visible, singleton = _ref.singleton, render2 = _ref.render, reference2 = _ref.reference, _ref$disabled = _ref.disabled, disabled = _ref$disabled === void 0 ? false : _ref$disabled, _ref$ignoreAttributes = _ref.ignoreAttributes, ignoreAttributes = _ref$ignoreAttributes === void 0 ? true : _ref$ignoreAttributes, __source = _ref.__source, __self = _ref.__self, restOfNativeProps = _objectWithoutPropertiesLoose(_ref, ["children", "content", "visible", "singleton", "render", "reference", "disabled", "ignoreAttributes", "__source", "__self"]);
      var isControlledMode = visible !== void 0;
      var isSingletonMode = singleton !== void 0;
      var _useState = (0, import_react9.useState)(false), mounted = _useState[0], setMounted = _useState[1];
      var _useState2 = (0, import_react9.useState)({}), attrs = _useState2[0], setAttrs = _useState2[1];
      var _useState3 = (0, import_react9.useState)(), singletonContent = _useState3[0], setSingletonContent = _useState3[1];
      var mutableBox = useMutableBox(function() {
        return {
          container: ssrSafeCreateDiv(),
          renders: 1
        };
      });
      var props = Object.assign({
        ignoreAttributes
      }, restOfNativeProps, {
        content: mutableBox.container
      });
      if (isControlledMode) {
        if (true) {
          ["trigger", "hideOnClick", "showOnCreate"].forEach(function(nativeStateProp) {
            if (props[nativeStateProp] !== void 0) {
              console.warn(["@tippyjs/react: Cannot specify `" + nativeStateProp + "` prop in", "controlled mode (`visible` prop)"].join(" "));
            }
          });
        }
        props.trigger = "manual";
        props.hideOnClick = false;
      }
      if (isSingletonMode) {
        disabled = true;
      }
      var computedProps = props;
      var plugins = props.plugins || [];
      if (render2) {
        computedProps = Object.assign({}, props, {
          plugins: isSingletonMode && singleton.data != null ? [].concat(plugins, [{
            fn: function fn4() {
              return {
                onTrigger: function onTrigger2(instance2, event) {
                  var node = singleton.data.children.find(function(_ref2) {
                    var instance3 = _ref2.instance;
                    return instance3.reference === event.currentTarget;
                  });
                  instance2.state.$$activeSingletonInstance = node.instance;
                  setSingletonContent(node.content);
                }
              };
            }
          }]) : plugins,
          render: function render3() {
            return {
              popper: mutableBox.container
            };
          }
        });
      }
      var deps = [reference2].concat(children ? [children.type] : []);
      useIsomorphicLayoutEffect(function() {
        var element = reference2;
        if (reference2 && reference2.hasOwnProperty("current")) {
          element = reference2.current;
        }
        var instance2 = tippy2(element || mutableBox.ref || ssrSafeCreateDiv(), Object.assign({}, computedProps, {
          plugins: [classNamePlugin].concat(props.plugins || [])
        }));
        mutableBox.instance = instance2;
        if (disabled) {
          instance2.disable();
        }
        if (visible) {
          instance2.show();
        }
        if (isSingletonMode) {
          singleton.hook({
            instance: instance2,
            content,
            props: computedProps,
            setSingletonContent
          });
        }
        setMounted(true);
        return function() {
          instance2.destroy();
          singleton == null ? void 0 : singleton.cleanup(instance2);
        };
      }, deps);
      useIsomorphicLayoutEffect(function() {
        var _instance$popperInsta;
        if (mutableBox.renders === 1) {
          mutableBox.renders++;
          return;
        }
        var instance2 = mutableBox.instance;
        instance2.setProps(deepPreserveProps(instance2.props, computedProps));
        (_instance$popperInsta = instance2.popperInstance) == null ? void 0 : _instance$popperInsta.forceUpdate();
        if (disabled) {
          instance2.disable();
        } else {
          instance2.enable();
        }
        if (isControlledMode) {
          if (visible) {
            instance2.show();
          } else {
            instance2.hide();
          }
        }
        if (isSingletonMode) {
          singleton.hook({
            instance: instance2,
            content,
            props: computedProps,
            setSingletonContent
          });
        }
      });
      useIsomorphicLayoutEffect(function() {
        var _instance$props$poppe;
        if (!render2) {
          return;
        }
        var instance2 = mutableBox.instance;
        instance2.setProps({
          popperOptions: Object.assign({}, instance2.props.popperOptions, {
            modifiers: [].concat((((_instance$props$poppe = instance2.props.popperOptions) == null ? void 0 : _instance$props$poppe.modifiers) || []).filter(function(_ref3) {
              var name = _ref3.name;
              return name !== "$$tippyReact";
            }), [{
              name: "$$tippyReact",
              enabled: true,
              phase: "beforeWrite",
              requires: ["computeStyles"],
              fn: function fn4(_ref4) {
                var _state$modifiersData;
                var state = _ref4.state;
                var hideData = (_state$modifiersData = state.modifiersData) == null ? void 0 : _state$modifiersData.hide;
                if (attrs.placement !== state.placement || attrs.referenceHidden !== (hideData == null ? void 0 : hideData.isReferenceHidden) || attrs.escaped !== (hideData == null ? void 0 : hideData.hasPopperEscaped)) {
                  setAttrs({
                    placement: state.placement,
                    referenceHidden: hideData == null ? void 0 : hideData.isReferenceHidden,
                    escaped: hideData == null ? void 0 : hideData.hasPopperEscaped
                  });
                }
                state.attributes.popper = {};
              }
            }])
          })
        });
      }, [attrs.placement, attrs.referenceHidden, attrs.escaped].concat(deps));
      return /* @__PURE__ */ import_react9.default.createElement(import_react9.default.Fragment, null, children ? /* @__PURE__ */ (0, import_react9.cloneElement)(children, {
        ref: function ref2(node) {
          mutableBox.ref = node;
          preserveRef(children.ref, node);
        }
      }) : null, mounted && /* @__PURE__ */ (0, import_react_dom2.createPortal)(render2 ? render2(toDataAttributes(attrs), singletonContent, mutableBox.instance) : content, mutableBox.container));
    }
    return Tippy;
  }
  var forwardRef2 = function(Tippy, defaultProps3) {
    return /* @__PURE__ */ (0, import_react9.forwardRef)(function TippyWrapper(_ref, _ref2) {
      var children = _ref.children, props = _objectWithoutPropertiesLoose(_ref, ["children"]);
      return /* @__PURE__ */ import_react9.default.createElement(Tippy, Object.assign({}, defaultProps3, props), children ? /* @__PURE__ */ (0, import_react9.cloneElement)(children, {
        ref: function ref2(node) {
          preserveRef(_ref2, node);
          preserveRef(children.ref, node);
        }
      }) : null);
    });
  };
  var index = /* @__PURE__ */ forwardRef2(/* @__PURE__ */ TippyGenerator(tippy_esm_default));
  var tippy_react_esm_default = index;

  // src/components/AddBlocks/AddBlocks.tsx
  var import_groupBy = __toESM(require_groupBy(), 1);

  // ../../node_modules/nanoid/index.browser.js
  var nanoid = (size = 21) => crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {
    byte &= 63;
    if (byte < 36) {
      id += byte.toString(36);
    } else if (byte < 62) {
      id += (byte - 26).toString(36).toUpperCase();
    } else if (byte > 62) {
      id += "-";
    } else {
      id += "_";
    }
    return id;
  }, "");

  // src/components/AddBlocks/AddBlocks.tsx
  var import_partition = __toESM(require_partition(), 1);

  // src/hooks/useBlockContext.tsx
  var import_react11 = __toESM(require_react(), 1);

  // src/providers/BlockContext.tsx
  var import_react10 = __toESM(require_react(), 1);
  var BlockContext = (0, import_react10.createContext)({ blocks: [], setBlocks: () => [] });
  var BlockContextProvider = ({
    children,
    defaultBlocks,
    root = false
  }) => {
    const [blocks, setBlocks] = (0, import_react10.useState)(defaultBlocks || []);
    const { group } = (0, import_react10.useContext)(BlocksGroupContext);
    (0, import_react10.useEffect)(() => {
      if (root && group?.jsonContent) {
        setBlocks(JSON.parse(group?.jsonContent));
      }
    }, [group?.jsonContent, root]);
    return /* @__PURE__ */ React.createElement(BlockContext.Provider, {
      value: { blocks, setBlocks }
    }, children);
  };

  // src/utils/array.ts
  var reorder = (list, startIndex, endIndex) => {
    const result = Array.from(list);
    const [removed] = result.splice(startIndex, 1);
    result.splice(endIndex, 0, removed);
    return result;
  };

  // src/hooks/useBlockContext.tsx
  var useBlocksContext = () => {
    const { blocks, setBlocks } = (0, import_react11.useContext)(BlockContext);
    const findBlockIndex = (0, import_react11.useCallback)((blockId) => blocks.findIndex((block) => block.id === blockId), []);
    const addBlock = (0, import_react11.useCallback)((newBlock) => {
      setBlocks((blocks2) => [...blocks2, newBlock]);
    }, []);
    const removeBlock = (0, import_react11.useCallback)((blockId) => {
      setBlocks((blocks2) => blocks2.filter((block) => block.id !== blockId));
    }, []);
    const updateBlock = (0, import_react11.useCallback)((blockId, data) => {
      setBlocks((blocks2) => blocks2.map((block) => block.id === blockId ? { ...block, data } : block));
    }, []);
    const moveBlockUp = (0, import_react11.useCallback)((blockIndex) => {
      if (blockIndex !== -1 && blockIndex !== 0) {
        setBlocks((blocks2) => [...reorder(blocks2, blockIndex, blockIndex - 1)]);
      }
    }, []);
    const moveBlockDown = (0, import_react11.useCallback)((blockIndex) => {
      if (blockIndex !== -1 && blockIndex < blocks.length) {
        setBlocks((blocks2) => [...reorder(blocks2, blockIndex, blockIndex + 1)]);
      }
    }, []);
    const moveBlockTo = (0, import_react11.useCallback)((blockIndex, to) => {
      if (typeof to === "number" && to <= blocks.length) {
        setBlocks((blocks2) => [...reorder(blocks2, blockIndex, to)]);
      }
    }, []);
    return {
      addBlock,
      removeBlock,
      updateBlock,
      moveBlockUp,
      moveBlockDown,
      moveBlockTo,
      findBlockIndex,
      blockList: blocks
    };
  };

  // src/blocks/MultiColumns/MultiColumns.tsx
  var import_react24 = __toESM(require_react(), 1);

  // src/hooks/useWindowSize.tsx
  var import_react12 = __toESM(require_react(), 1);
  var useWindowSize = () => {
    const [size, setSize] = (0, import_react12.useState)({
      width: window.innerWidth,
      height: window.innerHeight
    });
    const handleResize = () => {
      setSize({
        width: window.innerWidth,
        height: window.innerHeight
      });
    };
    (0, import_react12.useEffect)(() => {
      window.addEventListener("resize", handleResize);
      return () => window.removeEventListener("resize", handleResize);
    }, []);
    return size;
  };
  var useWindowSize_default = useWindowSize;

  // src/components/BlockControls/BlockControls.tsx
  var BlockControls = ({
    blockId,
    blockIndex,
    inLayout = false,
    DndDragHandle: DndDragHandle2
  }) => {
    const { blockList, removeBlock, moveBlockUp, moveBlockDown } = useBlocksContext();
    const { width } = useWindowSize_default();
    return /* @__PURE__ */ React.createElement("div", {
      className: "BlockControls"
    }, DndDragHandle2 && /* @__PURE__ */ React.createElement("div", {
      className: `${!inLayout && width > 1024 ? "BlockControl BlockControl--drag" : "NestedBlockControl"}`
    }, /* @__PURE__ */ React.createElement(DndDragHandle2, null)), /* @__PURE__ */ React.createElement(tippy_react_esm_default, {
      delay: [700, 0],
      disabled: !inLayout && width > 1024,
      content: "Monter l'\xE9l\xE9ment"
    }, /* @__PURE__ */ React.createElement("button", {
      className: `${!inLayout && width > 1024 ? "BlockControl BlockControl--left" : "NestedBlockControl"}`,
      disabled: blockIndex === 0,
      onClick: () => moveBlockUp(blockIndex)
    }, /* @__PURE__ */ React.createElement("i", {
      className: "fa fa-arrow-up"
    }), !inLayout && width > 1024 && /* @__PURE__ */ React.createElement("span", {
      className: "BlockControl__Label"
    }, "Monter"))), /* @__PURE__ */ React.createElement(tippy_react_esm_default, {
      delay: [700, 0],
      disabled: !inLayout && width > 1024,
      content: "Descendre l'\xE9l\xE9ment",
      placement: "bottom"
    }, /* @__PURE__ */ React.createElement("button", {
      className: `${!inLayout && width > 1024 ? "BlockControl BlockControl--center" : "NestedBlockControl"}`,
      disabled: blockIndex === blockList.length - 1,
      onClick: () => moveBlockDown(blockIndex)
    }, /* @__PURE__ */ React.createElement("i", {
      className: "fa fa-arrow-down"
    }), !inLayout && width > 1024 && /* @__PURE__ */ React.createElement("span", {
      className: "BlockControl__Label"
    }, "Descendre"))), /* @__PURE__ */ React.createElement(tippy_react_esm_default, {
      delay: [700, 0],
      disabled: !inLayout && width > 1024,
      content: "Supprimer l'\xE9l\xE9ment",
      placement: "bottom"
    }, /* @__PURE__ */ React.createElement("button", {
      className: `${!inLayout && width > 1024 ? "BlockControl BlockControl--right BlockControl--danger" : "NestedBlockControl"}`,
      onClick: () => removeBlock(blockId)
    }, /* @__PURE__ */ React.createElement("i", {
      className: "fa fa-trash-alt"
    }), !inLayout && width > 1024 && /* @__PURE__ */ React.createElement("span", {
      className: "BlockControl__Label"
    }, "Supprimer"))));
  };
  var BlockControls_default = BlockControls;

  // src/components/Block/Block.tsx
  var Block = ({
    block,
    inLayout = false,
    className = "",
    DndDragHandle: DndDragHandle2
  }) => {
    const { findBlockIndex, updateBlock } = useBlocksContext();
    const blockIndex = findBlockIndex(block.id);
    const plugins = usePlugins();
    const currentPlugin = plugins.find((plugin) => plugin.type.id === block.type.id);
    if (!currentPlugin) {
      return /* @__PURE__ */ React.createElement("div", {
        style: {
          backgroundColor: "red",
          padding: "1rem",
          margin: "1rem 0"
        }
      }, /* @__PURE__ */ React.createElement("div", null, "Unsupported Block"), /* @__PURE__ */ React.createElement(BlockControls_default, {
        blockIndex,
        blockId: block.id,
        DndDragHandle: DndDragHandle2
      }));
    }
    const { component: Component2, icon: Icon } = currentPlugin;
    return /* @__PURE__ */ React.createElement("div", {
      className: `${inLayout ? "NestedBlock" : "Block"}`
    }, /* @__PURE__ */ React.createElement("div", {
      className: `${inLayout ? "NestedBlock__Header" : "Block__Header"}`
    }, /* @__PURE__ */ React.createElement("div", {
      className: "Block__Header__Infos"
    }, !inLayout && /* @__PURE__ */ React.createElement(Icon, null), /* @__PURE__ */ React.createElement("div", {
      className: `${inLayout ? "NestedBlock__Header__Infos__Title" : "Block__Header__Infos__Title"}`
    }, currentPlugin.title.fr_FR)), /* @__PURE__ */ React.createElement(BlockControls_default, {
      blockIndex,
      inLayout,
      blockId: block.id,
      DndDragHandle: DndDragHandle2
    })), /* @__PURE__ */ React.createElement(Component2, {
      data: block.data,
      onUpdate: (data) => updateBlock(block.id, data)
    }));
  };
  var Block_default = Block;

  // src/blocks/MultiColumns/assets/column.svg
  var React9 = __toESM(require_react(), 1);
  var SvgColumn = (props) => /* @__PURE__ */ React9.createElement("svg", {
    width: 27,
    height: 7,
    viewBox: "0 0 27 7",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
    ...props
  }, /* @__PURE__ */ React9.createElement("path", {
    d: "M24.0482 0.551392H3.58632C2.80345 0.551392 2.05265 0.862384 1.49908 1.41595C0.945514 1.96952 0.634521 2.72032 0.634521 3.50319C0.634521 4.28606 0.945514 5.03686 1.49908 5.59043C2.05265 6.144 2.80345 6.45499 3.58632 6.45499H24.0482C24.4359 6.45499 24.8197 6.37864 25.1778 6.2303C25.536 6.08195 25.8614 5.86453 26.1355 5.59043C26.4096 5.31633 26.627 4.99092 26.7753 4.63279C26.9237 4.27467 27 3.89083 27 3.50319C27 3.11555 26.9237 2.73171 26.7753 2.37359C26.627 2.01546 26.4096 1.69005 26.1355 1.41595C25.8614 1.14185 25.536 0.924426 25.1778 0.776084C24.8197 0.627742 24.4359 0.551392 24.0482 0.551392ZM3.58632 5.61878C3.02523 5.61878 2.48712 5.39589 2.09037 4.99914C1.69362 4.60239 1.47073 4.06428 1.47073 3.50319C1.47073 2.9421 1.69362 2.40399 2.09037 2.00724C2.48712 1.61049 3.02523 1.3876 3.58632 1.3876H9.14708V5.61878H3.58632ZM9.98328 5.61878V1.3876H17.6596V5.61878H9.98328ZM24.0482 5.61878H18.4958V1.3876H24.0482C24.6093 1.3876 25.1474 1.61049 25.5442 2.00724C25.9409 2.40399 26.1638 2.9421 26.1638 3.50319C26.1638 4.06428 25.9409 4.60239 25.5442 4.99914C25.1474 5.39589 24.6093 5.61878 24.0482 5.61878Z",
    fill: "#444444"
  }));

  // ../../node_modules/immer/dist/immer.esm.js
  function n2(n3) {
    for (var r2 = arguments.length, t3 = Array(r2 > 1 ? r2 - 1 : 0), e2 = 1; e2 < r2; e2++)
      t3[e2 - 1] = arguments[e2];
    if (true) {
      var i3 = Y[n3], o3 = i3 ? typeof i3 == "function" ? i3.apply(null, t3) : i3 : "unknown error nr: " + n3;
      throw Error("[Immer] " + o3);
    }
    throw Error("[Immer] minified error nr: " + n3 + (t3.length ? " " + t3.map(function(n4) {
      return "'" + n4 + "'";
    }).join(",") : "") + ". Find the full error at: https://bit.ly/3cXEKWf");
  }
  function r(n3) {
    return !!n3 && !!n3[Q];
  }
  function t2(n3) {
    return !!n3 && (function(n4) {
      if (!n4 || typeof n4 != "object")
        return false;
      var r2 = Object.getPrototypeOf(n4);
      if (r2 === null)
        return true;
      var t3 = Object.hasOwnProperty.call(r2, "constructor") && r2.constructor;
      return t3 === Object || typeof t3 == "function" && Function.toString.call(t3) === Z;
    }(n3) || Array.isArray(n3) || !!n3[L] || !!n3.constructor[L] || s2(n3) || v(n3));
  }
  function i2(n3, r2, t3) {
    t3 === void 0 && (t3 = false), o2(n3) === 0 ? (t3 ? Object.keys : nn)(n3).forEach(function(e2) {
      t3 && typeof e2 == "symbol" || r2(e2, n3[e2], n3);
    }) : n3.forEach(function(t4, e2) {
      return r2(e2, t4, n3);
    });
  }
  function o2(n3) {
    var r2 = n3[Q];
    return r2 ? r2.i > 3 ? r2.i - 4 : r2.i : Array.isArray(n3) ? 1 : s2(n3) ? 2 : v(n3) ? 3 : 0;
  }
  function u2(n3, r2) {
    return o2(n3) === 2 ? n3.has(r2) : Object.prototype.hasOwnProperty.call(n3, r2);
  }
  function a2(n3, r2) {
    return o2(n3) === 2 ? n3.get(r2) : n3[r2];
  }
  function f2(n3, r2, t3) {
    var e2 = o2(n3);
    e2 === 2 ? n3.set(r2, t3) : e2 === 3 ? (n3.delete(r2), n3.add(t3)) : n3[r2] = t3;
  }
  function c2(n3, r2) {
    return n3 === r2 ? n3 !== 0 || 1 / n3 == 1 / r2 : n3 != n3 && r2 != r2;
  }
  function s2(n3) {
    return X && n3 instanceof Map;
  }
  function v(n3) {
    return q && n3 instanceof Set;
  }
  function p2(n3) {
    return n3.o || n3.t;
  }
  function l2(n3) {
    if (Array.isArray(n3))
      return Array.prototype.slice.call(n3);
    var r2 = rn(n3);
    delete r2[Q];
    for (var t3 = nn(r2), e2 = 0; e2 < t3.length; e2++) {
      var i3 = t3[e2], o3 = r2[i3];
      o3.writable === false && (o3.writable = true, o3.configurable = true), (o3.get || o3.set) && (r2[i3] = { configurable: true, writable: true, enumerable: o3.enumerable, value: n3[i3] });
    }
    return Object.create(Object.getPrototypeOf(n3), r2);
  }
  function d2(n3, e2) {
    return e2 === void 0 && (e2 = false), y(n3) || r(n3) || !t2(n3) ? n3 : (o2(n3) > 1 && (n3.set = n3.add = n3.clear = n3.delete = h2), Object.freeze(n3), e2 && i2(n3, function(n4, r2) {
      return d2(r2, true);
    }, true), n3);
  }
  function h2() {
    n2(2);
  }
  function y(n3) {
    return n3 == null || typeof n3 != "object" || Object.isFrozen(n3);
  }
  function b2(r2) {
    var t3 = tn[r2];
    return t3 || n2(18, r2), t3;
  }
  function _() {
    return U || n2(0), U;
  }
  function j2(n3, r2) {
    r2 && (b2("Patches"), n3.u = [], n3.s = [], n3.v = r2);
  }
  function O(n3) {
    g2(n3), n3.p.forEach(S), n3.p = null;
  }
  function g2(n3) {
    n3 === U && (U = n3.l);
  }
  function w(n3) {
    return U = { p: [], l: U, h: n3, m: true, _: 0 };
  }
  function S(n3) {
    var r2 = n3[Q];
    r2.i === 0 || r2.i === 1 ? r2.j() : r2.O = true;
  }
  function P(r2, e2) {
    e2._ = e2.p.length;
    var i3 = e2.p[0], o3 = r2 !== void 0 && r2 !== i3;
    return e2.h.g || b2("ES5").S(e2, r2, o3), o3 ? (i3[Q].P && (O(e2), n2(4)), t2(r2) && (r2 = M(e2, r2), e2.l || x(e2, r2)), e2.u && b2("Patches").M(i3[Q].t, r2, e2.u, e2.s)) : r2 = M(e2, i3, []), O(e2), e2.u && e2.v(e2.u, e2.s), r2 !== H ? r2 : void 0;
  }
  function M(n3, r2, t3) {
    if (y(r2))
      return r2;
    var e2 = r2[Q];
    if (!e2)
      return i2(r2, function(i3, o4) {
        return A(n3, e2, r2, i3, o4, t3);
      }, true), r2;
    if (e2.A !== n3)
      return r2;
    if (!e2.P)
      return x(n3, e2.t, true), e2.t;
    if (!e2.I) {
      e2.I = true, e2.A._--;
      var o3 = e2.i === 4 || e2.i === 5 ? e2.o = l2(e2.k) : e2.o;
      i2(e2.i === 3 ? new Set(o3) : o3, function(r3, i3) {
        return A(n3, e2, o3, r3, i3, t3);
      }), x(n3, o3, false), t3 && n3.u && b2("Patches").R(e2, t3, n3.u, n3.s);
    }
    return e2.o;
  }
  function A(e2, i3, o3, a3, c3, s3) {
    if (c3 === o3 && n2(5), r(c3)) {
      var v2 = M(e2, c3, s3 && i3 && i3.i !== 3 && !u2(i3.D, a3) ? s3.concat(a3) : void 0);
      if (f2(o3, a3, v2), !r(v2))
        return;
      e2.m = false;
    }
    if (t2(c3) && !y(c3)) {
      if (!e2.h.F && e2._ < 1)
        return;
      M(e2, c3), i3 && i3.A.l || x(e2, c3);
    }
  }
  function x(n3, r2, t3) {
    t3 === void 0 && (t3 = false), n3.h.F && n3.m && d2(r2, t3);
  }
  function z(n3, r2) {
    var t3 = n3[Q];
    return (t3 ? p2(t3) : n3)[r2];
  }
  function I(n3, r2) {
    if (r2 in n3)
      for (var t3 = Object.getPrototypeOf(n3); t3; ) {
        var e2 = Object.getOwnPropertyDescriptor(t3, r2);
        if (e2)
          return e2;
        t3 = Object.getPrototypeOf(t3);
      }
  }
  function k(n3) {
    n3.P || (n3.P = true, n3.l && k(n3.l));
  }
  function E(n3) {
    n3.o || (n3.o = l2(n3.t));
  }
  function R(n3, r2, t3) {
    var e2 = s2(r2) ? b2("MapSet").N(r2, t3) : v(r2) ? b2("MapSet").T(r2, t3) : n3.g ? function(n4, r3) {
      var t4 = Array.isArray(n4), e3 = { i: t4 ? 1 : 0, A: r3 ? r3.A : _(), P: false, I: false, D: {}, l: r3, t: n4, k: null, o: null, j: null, C: false }, i3 = e3, o3 = en;
      t4 && (i3 = [e3], o3 = on);
      var u3 = Proxy.revocable(i3, o3), a3 = u3.revoke, f3 = u3.proxy;
      return e3.k = f3, e3.j = a3, f3;
    }(r2, t3) : b2("ES5").J(r2, t3);
    return (t3 ? t3.A : _()).p.push(e2), e2;
  }
  function D(e2) {
    return r(e2) || n2(22, e2), function n3(r2) {
      if (!t2(r2))
        return r2;
      var e3, u3 = r2[Q], c3 = o2(r2);
      if (u3) {
        if (!u3.P && (u3.i < 4 || !b2("ES5").K(u3)))
          return u3.t;
        u3.I = true, e3 = F(r2, c3), u3.I = false;
      } else
        e3 = F(r2, c3);
      return i2(e3, function(r3, t3) {
        u3 && a2(u3.t, r3) === t3 || f2(e3, r3, n3(t3));
      }), c3 === 3 ? new Set(e3) : e3;
    }(e2);
  }
  function F(n3, r2) {
    switch (r2) {
      case 2:
        return new Map(n3);
      case 3:
        return Array.from(n3);
    }
    return l2(n3);
  }
  var G;
  var U;
  var W = typeof Symbol != "undefined" && typeof Symbol("x") == "symbol";
  var X = typeof Map != "undefined";
  var q = typeof Set != "undefined";
  var B = typeof Proxy != "undefined" && Proxy.revocable !== void 0 && typeof Reflect != "undefined";
  var H = W ? Symbol.for("immer-nothing") : ((G = {})["immer-nothing"] = true, G);
  var L = W ? Symbol.for("immer-draftable") : "__$immer_draftable";
  var Q = W ? Symbol.for("immer-state") : "__$immer_state";
  var V = typeof Symbol != "undefined" && Symbol.iterator || "@@iterator";
  var Y = { 0: "Illegal state", 1: "Immer drafts cannot have computed properties", 2: "This object has been frozen and should not be mutated", 3: function(n3) {
    return "Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? " + n3;
  }, 4: "An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.", 5: "Immer forbids circular references", 6: "The first or second argument to `produce` must be a function", 7: "The third argument to `produce` must be a function or undefined", 8: "First argument to `createDraft` must be a plain object, an array, or an immerable object", 9: "First argument to `finishDraft` must be a draft returned by `createDraft`", 10: "The given draft is already finalized", 11: "Object.defineProperty() cannot be used on an Immer draft", 12: "Object.setPrototypeOf() cannot be used on an Immer draft", 13: "Immer only supports deleting array indices", 14: "Immer only supports setting array indices and the 'length' property", 15: function(n3) {
    return "Cannot apply patch, path doesn't resolve: " + n3;
  }, 16: 'Sets cannot have "replace" patches.', 17: function(n3) {
    return "Unsupported patch operation: " + n3;
  }, 18: function(n3) {
    return "The plugin for '" + n3 + "' has not been loaded into Immer. To enable the plugin, import and call `enable" + n3 + "()` when initializing your application.";
  }, 20: "Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available", 21: function(n3) {
    return "produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '" + n3 + "'";
  }, 22: function(n3) {
    return "'current' expects a draft, got: " + n3;
  }, 23: function(n3) {
    return "'original' expects a draft, got: " + n3;
  }, 24: "Patching reserved attributes like __proto__, prototype and constructor is not allowed" };
  var Z = "" + Object.prototype.constructor;
  var nn = typeof Reflect != "undefined" && Reflect.ownKeys ? Reflect.ownKeys : Object.getOwnPropertySymbols !== void 0 ? function(n3) {
    return Object.getOwnPropertyNames(n3).concat(Object.getOwnPropertySymbols(n3));
  } : Object.getOwnPropertyNames;
  var rn = Object.getOwnPropertyDescriptors || function(n3) {
    var r2 = {};
    return nn(n3).forEach(function(t3) {
      r2[t3] = Object.getOwnPropertyDescriptor(n3, t3);
    }), r2;
  };
  var tn = {};
  var en = { get: function(n3, r2) {
    if (r2 === Q)
      return n3;
    var e2 = p2(n3);
    if (!u2(e2, r2))
      return function(n4, r3, t3) {
        var e3, i4 = I(r3, t3);
        return i4 ? "value" in i4 ? i4.value : (e3 = i4.get) === null || e3 === void 0 ? void 0 : e3.call(n4.k) : void 0;
      }(n3, e2, r2);
    var i3 = e2[r2];
    return n3.I || !t2(i3) ? i3 : i3 === z(n3.t, r2) ? (E(n3), n3.o[r2] = R(n3.A.h, i3, n3)) : i3;
  }, has: function(n3, r2) {
    return r2 in p2(n3);
  }, ownKeys: function(n3) {
    return Reflect.ownKeys(p2(n3));
  }, set: function(n3, r2, t3) {
    var e2 = I(p2(n3), r2);
    if (e2 == null ? void 0 : e2.set)
      return e2.set.call(n3.k, t3), true;
    if (!n3.P) {
      var i3 = z(p2(n3), r2), o3 = i3 == null ? void 0 : i3[Q];
      if (o3 && o3.t === t3)
        return n3.o[r2] = t3, n3.D[r2] = false, true;
      if (c2(t3, i3) && (t3 !== void 0 || u2(n3.t, r2)))
        return true;
      E(n3), k(n3);
    }
    return n3.o[r2] === t3 && typeof t3 != "number" && (t3 !== void 0 || r2 in n3.o) || (n3.o[r2] = t3, n3.D[r2] = true, true);
  }, deleteProperty: function(n3, r2) {
    return z(n3.t, r2) !== void 0 || r2 in n3.t ? (n3.D[r2] = false, E(n3), k(n3)) : delete n3.D[r2], n3.o && delete n3.o[r2], true;
  }, getOwnPropertyDescriptor: function(n3, r2) {
    var t3 = p2(n3), e2 = Reflect.getOwnPropertyDescriptor(t3, r2);
    return e2 ? { writable: true, configurable: n3.i !== 1 || r2 !== "length", enumerable: e2.enumerable, value: t3[r2] } : e2;
  }, defineProperty: function() {
    n2(11);
  }, getPrototypeOf: function(n3) {
    return Object.getPrototypeOf(n3.t);
  }, setPrototypeOf: function() {
    n2(12);
  } };
  var on = {};
  i2(en, function(n3, r2) {
    on[n3] = function() {
      return arguments[0] = arguments[0][0], r2.apply(this, arguments);
    };
  }), on.deleteProperty = function(r2, t3) {
    return isNaN(parseInt(t3)) && n2(13), on.set.call(this, r2, t3, void 0);
  }, on.set = function(r2, t3, e2) {
    return t3 !== "length" && isNaN(parseInt(t3)) && n2(14), en.set.call(this, r2[0], t3, e2, r2[0]);
  };
  var un = function() {
    function e2(r2) {
      var e3 = this;
      this.g = B, this.F = true, this.produce = function(r3, i4, o3) {
        if (typeof r3 == "function" && typeof i4 != "function") {
          var u3 = i4;
          i4 = r3;
          var a3 = e3;
          return function(n3) {
            var r4 = this;
            n3 === void 0 && (n3 = u3);
            for (var t3 = arguments.length, e4 = Array(t3 > 1 ? t3 - 1 : 0), o4 = 1; o4 < t3; o4++)
              e4[o4 - 1] = arguments[o4];
            return a3.produce(n3, function(n4) {
              var t4;
              return (t4 = i4).call.apply(t4, [r4, n4].concat(e4));
            });
          };
        }
        var f3;
        if (typeof i4 != "function" && n2(6), o3 !== void 0 && typeof o3 != "function" && n2(7), t2(r3)) {
          var c3 = w(e3), s3 = R(e3, r3, void 0), v2 = true;
          try {
            f3 = i4(s3), v2 = false;
          } finally {
            v2 ? O(c3) : g2(c3);
          }
          return typeof Promise != "undefined" && f3 instanceof Promise ? f3.then(function(n3) {
            return j2(c3, o3), P(n3, c3);
          }, function(n3) {
            throw O(c3), n3;
          }) : (j2(c3, o3), P(f3, c3));
        }
        if (!r3 || typeof r3 != "object") {
          if ((f3 = i4(r3)) === void 0 && (f3 = r3), f3 === H && (f3 = void 0), e3.F && d2(f3, true), o3) {
            var p3 = [], l3 = [];
            b2("Patches").M(r3, f3, p3, l3), o3(p3, l3);
          }
          return f3;
        }
        n2(21, r3);
      }, this.produceWithPatches = function(n3, r3) {
        if (typeof n3 == "function")
          return function(r4) {
            for (var t4 = arguments.length, i5 = Array(t4 > 1 ? t4 - 1 : 0), o4 = 1; o4 < t4; o4++)
              i5[o4 - 1] = arguments[o4];
            return e3.produceWithPatches(r4, function(r5) {
              return n3.apply(void 0, [r5].concat(i5));
            });
          };
        var t3, i4, o3 = e3.produce(n3, r3, function(n4, r4) {
          t3 = n4, i4 = r4;
        });
        return typeof Promise != "undefined" && o3 instanceof Promise ? o3.then(function(n4) {
          return [n4, t3, i4];
        }) : [o3, t3, i4];
      }, typeof (r2 == null ? void 0 : r2.useProxies) == "boolean" && this.setUseProxies(r2.useProxies), typeof (r2 == null ? void 0 : r2.autoFreeze) == "boolean" && this.setAutoFreeze(r2.autoFreeze);
    }
    var i3 = e2.prototype;
    return i3.createDraft = function(e3) {
      t2(e3) || n2(8), r(e3) && (e3 = D(e3));
      var i4 = w(this), o3 = R(this, e3, void 0);
      return o3[Q].C = true, g2(i4), o3;
    }, i3.finishDraft = function(r2, t3) {
      var e3 = r2 && r2[Q];
      e3 && e3.C || n2(9), e3.I && n2(10);
      var i4 = e3.A;
      return j2(i4, t3), P(void 0, i4);
    }, i3.setAutoFreeze = function(n3) {
      this.F = n3;
    }, i3.setUseProxies = function(r2) {
      r2 && !B && n2(20), this.g = r2;
    }, i3.applyPatches = function(n3, t3) {
      var e3;
      for (e3 = t3.length - 1; e3 >= 0; e3--) {
        var i4 = t3[e3];
        if (i4.path.length === 0 && i4.op === "replace") {
          n3 = i4.value;
          break;
        }
      }
      e3 > -1 && (t3 = t3.slice(e3 + 1));
      var o3 = b2("Patches").$;
      return r(n3) ? o3(n3, t3) : this.produce(n3, function(n4) {
        return o3(n4, t3);
      });
    }, e2;
  }();
  var an = new un();
  var fn3 = an.produce;
  var cn = an.produceWithPatches.bind(an);
  var sn = an.setAutoFreeze.bind(an);
  var vn = an.setUseProxies.bind(an);
  var pn = an.applyPatches.bind(an);
  var ln = an.createDraft.bind(an);
  var dn = an.finishDraft.bind(an);
  var immer_esm_default = fn3;

  // ../../node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js
  var import_react22 = __toESM(require_react());

  // ../../node_modules/@babel/runtime/helpers/esm/defineProperty.js
  function _defineProperty(obj, key, value) {
    if (key in obj) {
      Object.defineProperty(obj, key, {
        value,
        enumerable: true,
        configurable: true,
        writable: true
      });
    } else {
      obj[key] = value;
    }
    return obj;
  }

  // ../../node_modules/@babel/runtime/helpers/esm/objectSpread2.js
  function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);
    if (Object.getOwnPropertySymbols) {
      var symbols = Object.getOwnPropertySymbols(object);
      enumerableOnly && (symbols = symbols.filter(function(sym) {
        return Object.getOwnPropertyDescriptor(object, sym).enumerable;
      })), keys.push.apply(keys, symbols);
    }
    return keys;
  }
  function _objectSpread2(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3] != null ? arguments[i3] : {};
      i3 % 2 ? ownKeys(Object(source), true).forEach(function(key) {
        _defineProperty(target, key, source[key]);
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
    return target;
  }

  // ../../node_modules/redux/es/redux.js
  var $$observable = function() {
    return typeof Symbol === "function" && Symbol.observable || "@@observable";
  }();
  var randomString = function randomString2() {
    return Math.random().toString(36).substring(7).split("").join(".");
  };
  var ActionTypes = {
    INIT: "@@redux/INIT" + randomString(),
    REPLACE: "@@redux/REPLACE" + randomString(),
    PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {
      return "@@redux/PROBE_UNKNOWN_ACTION" + randomString();
    }
  };
  function isPlainObject2(obj) {
    if (typeof obj !== "object" || obj === null)
      return false;
    var proto = obj;
    while (Object.getPrototypeOf(proto) !== null) {
      proto = Object.getPrototypeOf(proto);
    }
    return Object.getPrototypeOf(obj) === proto;
  }
  function miniKindOf(val) {
    if (val === void 0)
      return "undefined";
    if (val === null)
      return "null";
    var type = typeof val;
    switch (type) {
      case "boolean":
      case "string":
      case "number":
      case "symbol":
      case "function": {
        return type;
      }
    }
    if (Array.isArray(val))
      return "array";
    if (isDate(val))
      return "date";
    if (isError(val))
      return "error";
    var constructorName = ctorName(val);
    switch (constructorName) {
      case "Symbol":
      case "Promise":
      case "WeakMap":
      case "WeakSet":
      case "Map":
      case "Set":
        return constructorName;
    }
    return type.slice(8, -1).toLowerCase().replace(/\s/g, "");
  }
  function ctorName(val) {
    return typeof val.constructor === "function" ? val.constructor.name : null;
  }
  function isError(val) {
    return val instanceof Error || typeof val.message === "string" && val.constructor && typeof val.constructor.stackTraceLimit === "number";
  }
  function isDate(val) {
    if (val instanceof Date)
      return true;
    return typeof val.toDateString === "function" && typeof val.getDate === "function" && typeof val.setDate === "function";
  }
  function kindOf(val) {
    var typeOfVal = typeof val;
    if (true) {
      typeOfVal = miniKindOf(val);
    }
    return typeOfVal;
  }
  function createStore(reducer5, preloadedState, enhancer) {
    var _ref2;
    if (typeof preloadedState === "function" && typeof enhancer === "function" || typeof enhancer === "function" && typeof arguments[3] === "function") {
      throw new Error(false ? formatProdErrorMessage(0) : "It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.");
    }
    if (typeof preloadedState === "function" && typeof enhancer === "undefined") {
      enhancer = preloadedState;
      preloadedState = void 0;
    }
    if (typeof enhancer !== "undefined") {
      if (typeof enhancer !== "function") {
        throw new Error(false ? formatProdErrorMessage(1) : "Expected the enhancer to be a function. Instead, received: '" + kindOf(enhancer) + "'");
      }
      return enhancer(createStore)(reducer5, preloadedState);
    }
    if (typeof reducer5 !== "function") {
      throw new Error(false ? formatProdErrorMessage(2) : "Expected the root reducer to be a function. Instead, received: '" + kindOf(reducer5) + "'");
    }
    var currentReducer = reducer5;
    var currentState = preloadedState;
    var currentListeners = [];
    var nextListeners = currentListeners;
    var isDispatching = false;
    function ensureCanMutateNextListeners() {
      if (nextListeners === currentListeners) {
        nextListeners = currentListeners.slice();
      }
    }
    function getState() {
      if (isDispatching) {
        throw new Error(false ? formatProdErrorMessage(3) : "You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");
      }
      return currentState;
    }
    function subscribe(listener) {
      if (typeof listener !== "function") {
        throw new Error(false ? formatProdErrorMessage(4) : "Expected the listener to be a function. Instead, received: '" + kindOf(listener) + "'");
      }
      if (isDispatching) {
        throw new Error(false ? formatProdErrorMessage(5) : "You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");
      }
      var isSubscribed = true;
      ensureCanMutateNextListeners();
      nextListeners.push(listener);
      return function unsubscribe() {
        if (!isSubscribed) {
          return;
        }
        if (isDispatching) {
          throw new Error(false ? formatProdErrorMessage(6) : "You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");
        }
        isSubscribed = false;
        ensureCanMutateNextListeners();
        var index2 = nextListeners.indexOf(listener);
        nextListeners.splice(index2, 1);
        currentListeners = null;
      };
    }
    function dispatch3(action) {
      if (!isPlainObject2(action)) {
        throw new Error(false ? formatProdErrorMessage(7) : "Actions must be plain objects. Instead, the actual type was: '" + kindOf(action) + "'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.");
      }
      if (typeof action.type === "undefined") {
        throw new Error(false ? formatProdErrorMessage(8) : 'Actions may not have an undefined "type" property. You may have misspelled an action type string constant.');
      }
      if (isDispatching) {
        throw new Error(false ? formatProdErrorMessage(9) : "Reducers may not dispatch actions.");
      }
      try {
        isDispatching = true;
        currentState = currentReducer(currentState, action);
      } finally {
        isDispatching = false;
      }
      var listeners2 = currentListeners = nextListeners;
      for (var i3 = 0; i3 < listeners2.length; i3++) {
        var listener = listeners2[i3];
        listener();
      }
      return action;
    }
    function replaceReducer(nextReducer) {
      if (typeof nextReducer !== "function") {
        throw new Error(false ? formatProdErrorMessage(10) : "Expected the nextReducer to be a function. Instead, received: '" + kindOf(nextReducer));
      }
      currentReducer = nextReducer;
      dispatch3({
        type: ActionTypes.REPLACE
      });
    }
    function observable() {
      var _ref;
      var outerSubscribe = subscribe;
      return _ref = {
        subscribe: function subscribe2(observer) {
          if (typeof observer !== "object" || observer === null) {
            throw new Error(false ? formatProdErrorMessage(11) : "Expected the observer to be an object. Instead, received: '" + kindOf(observer) + "'");
          }
          function observeState() {
            if (observer.next) {
              observer.next(getState());
            }
          }
          observeState();
          var unsubscribe = outerSubscribe(observeState);
          return {
            unsubscribe
          };
        }
      }, _ref[$$observable] = function() {
        return this;
      }, _ref;
    }
    dispatch3({
      type: ActionTypes.INIT
    });
    return _ref2 = {
      dispatch: dispatch3,
      subscribe,
      getState,
      replaceReducer
    }, _ref2[$$observable] = observable, _ref2;
  }
  function warning(message) {
    if (typeof console !== "undefined" && typeof console.error === "function") {
      console.error(message);
    }
    try {
      throw new Error(message);
    } catch (e2) {
    }
  }
  function bindActionCreator(actionCreator, dispatch3) {
    return function() {
      return dispatch3(actionCreator.apply(this, arguments));
    };
  }
  function bindActionCreators(actionCreators, dispatch3) {
    if (typeof actionCreators === "function") {
      return bindActionCreator(actionCreators, dispatch3);
    }
    if (typeof actionCreators !== "object" || actionCreators === null) {
      throw new Error(false ? formatProdErrorMessage(16) : "bindActionCreators expected an object or a function, but instead received: '" + kindOf(actionCreators) + `'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?`);
    }
    var boundActionCreators = {};
    for (var key in actionCreators) {
      var actionCreator = actionCreators[key];
      if (typeof actionCreator === "function") {
        boundActionCreators[key] = bindActionCreator(actionCreator, dispatch3);
      }
    }
    return boundActionCreators;
  }
  function compose() {
    for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {
      funcs[_key] = arguments[_key];
    }
    if (funcs.length === 0) {
      return function(arg) {
        return arg;
      };
    }
    if (funcs.length === 1) {
      return funcs[0];
    }
    return funcs.reduce(function(a3, b3) {
      return function() {
        return a3(b3.apply(void 0, arguments));
      };
    });
  }
  function applyMiddleware() {
    for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {
      middlewares[_key] = arguments[_key];
    }
    return function(createStore3) {
      return function() {
        var store = createStore3.apply(void 0, arguments);
        var _dispatch = function dispatch3() {
          throw new Error(false ? formatProdErrorMessage(15) : "Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.");
        };
        var middlewareAPI = {
          getState: store.getState,
          dispatch: function dispatch3() {
            return _dispatch.apply(void 0, arguments);
          }
        };
        var chain = middlewares.map(function(middleware) {
          return middleware(middlewareAPI);
        });
        _dispatch = compose.apply(void 0, chain)(store.dispatch);
        return _objectSpread2(_objectSpread2({}, store), {}, {
          dispatch: _dispatch
        });
      };
    };
  }
  function isCrushed() {
  }
  if (typeof isCrushed.name === "string" && isCrushed.name !== "isCrushed") {
    warning('You are currently using minified code outside of NODE_ENV === "production". This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) to ensure you have the correct code for your production build.');
  }

  // ../../node_modules/react-redux/es/components/Provider.js
  var import_react16 = __toESM(require_react());
  var import_prop_types = __toESM(require_prop_types());

  // ../../node_modules/react-redux/es/components/Context.js
  var import_react14 = __toESM(require_react());
  var ReactReduxContext = /* @__PURE__ */ import_react14.default.createContext(null);
  if (true) {
    ReactReduxContext.displayName = "ReactRedux";
  }

  // ../../node_modules/react-redux/es/utils/batch.js
  function defaultNoopBatch(callback) {
    callback();
  }
  var batch = defaultNoopBatch;
  var setBatch = function setBatch2(newBatch) {
    return batch = newBatch;
  };
  var getBatch = function getBatch2() {
    return batch;
  };

  // ../../node_modules/react-redux/es/utils/Subscription.js
  function createListenerCollection() {
    var batch2 = getBatch();
    var first = null;
    var last = null;
    return {
      clear: function clear() {
        first = null;
        last = null;
      },
      notify: function notify2() {
        batch2(function() {
          var listener = first;
          while (listener) {
            listener.callback();
            listener = listener.next;
          }
        });
      },
      get: function get2() {
        var listeners2 = [];
        var listener = first;
        while (listener) {
          listeners2.push(listener);
          listener = listener.next;
        }
        return listeners2;
      },
      subscribe: function subscribe(callback) {
        var isSubscribed = true;
        var listener = last = {
          callback,
          next: null,
          prev: last
        };
        if (listener.prev) {
          listener.prev.next = listener;
        } else {
          first = listener;
        }
        return function unsubscribe() {
          if (!isSubscribed || first === null)
            return;
          isSubscribed = false;
          if (listener.next) {
            listener.next.prev = listener.prev;
          } else {
            last = listener.prev;
          }
          if (listener.prev) {
            listener.prev.next = listener.next;
          } else {
            first = listener.next;
          }
        };
      }
    };
  }
  var nullListeners = {
    notify: function notify() {
    },
    get: function get() {
      return [];
    }
  };
  function createSubscription(store, parentSub) {
    var unsubscribe;
    var listeners2 = nullListeners;
    function addNestedSub(listener) {
      trySubscribe();
      return listeners2.subscribe(listener);
    }
    function notifyNestedSubs() {
      listeners2.notify();
    }
    function handleChangeWrapper() {
      if (subscription.onStateChange) {
        subscription.onStateChange();
      }
    }
    function isSubscribed() {
      return Boolean(unsubscribe);
    }
    function trySubscribe() {
      if (!unsubscribe) {
        unsubscribe = parentSub ? parentSub.addNestedSub(handleChangeWrapper) : store.subscribe(handleChangeWrapper);
        listeners2 = createListenerCollection();
      }
    }
    function tryUnsubscribe() {
      if (unsubscribe) {
        unsubscribe();
        unsubscribe = void 0;
        listeners2.clear();
        listeners2 = nullListeners;
      }
    }
    var subscription = {
      addNestedSub,
      notifyNestedSubs,
      handleChangeWrapper,
      isSubscribed,
      trySubscribe,
      tryUnsubscribe,
      getListeners: function getListeners() {
        return listeners2;
      }
    };
    return subscription;
  }

  // ../../node_modules/react-redux/es/utils/useIsomorphicLayoutEffect.js
  var import_react15 = __toESM(require_react());
  var useIsomorphicLayoutEffect2 = typeof window !== "undefined" && typeof window.document !== "undefined" && typeof window.document.createElement !== "undefined" ? import_react15.useLayoutEffect : import_react15.useEffect;

  // ../../node_modules/react-redux/es/components/Provider.js
  function Provider(_ref) {
    var store = _ref.store, context = _ref.context, children = _ref.children;
    var contextValue = (0, import_react16.useMemo)(function() {
      var subscription = createSubscription(store);
      return {
        store,
        subscription
      };
    }, [store]);
    var previousState = (0, import_react16.useMemo)(function() {
      return store.getState();
    }, [store]);
    useIsomorphicLayoutEffect2(function() {
      var subscription = contextValue.subscription;
      subscription.onStateChange = subscription.notifyNestedSubs;
      subscription.trySubscribe();
      if (previousState !== store.getState()) {
        subscription.notifyNestedSubs();
      }
      return function() {
        subscription.tryUnsubscribe();
        subscription.onStateChange = null;
      };
    }, [contextValue, previousState]);
    var Context = context || ReactReduxContext;
    return /* @__PURE__ */ import_react16.default.createElement(Context.Provider, {
      value: contextValue
    }, children);
  }
  if (true) {
    Provider.propTypes = {
      store: import_prop_types.default.shape({
        subscribe: import_prop_types.default.func.isRequired,
        dispatch: import_prop_types.default.func.isRequired,
        getState: import_prop_types.default.func.isRequired
      }),
      context: import_prop_types.default.object,
      children: import_prop_types.default.any
    };
  }
  var Provider_default = Provider;

  // ../../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js
  function _objectWithoutPropertiesLoose2(source, excluded) {
    if (source == null)
      return {};
    var target = {};
    var sourceKeys = Object.keys(source);
    var key, i3;
    for (i3 = 0; i3 < sourceKeys.length; i3++) {
      key = sourceKeys[i3];
      if (excluded.indexOf(key) >= 0)
        continue;
      target[key] = source[key];
    }
    return target;
  }

  // ../../node_modules/react-redux/es/components/connectAdvanced.js
  var import_hoist_non_react_statics = __toESM(require_hoist_non_react_statics_cjs());
  var import_react17 = __toESM(require_react());
  var import_react_is = __toESM(require_react_is3());
  var _excluded = ["getDisplayName", "methodName", "renderCountProp", "shouldHandleStateChanges", "storeKey", "withRef", "forwardRef", "context"];
  var _excluded2 = ["reactReduxForwardedRef"];
  var EMPTY_ARRAY = [];
  var NO_SUBSCRIPTION_ARRAY = [null, null];
  var stringifyComponent = function stringifyComponent2(Comp) {
    try {
      return JSON.stringify(Comp);
    } catch (err) {
      return String(Comp);
    }
  };
  function storeStateUpdatesReducer(state, action) {
    var updateCount = state[1];
    return [action.payload, updateCount + 1];
  }
  function useIsomorphicLayoutEffectWithArgs(effectFunc, effectArgs, dependencies) {
    useIsomorphicLayoutEffect2(function() {
      return effectFunc.apply(void 0, effectArgs);
    }, dependencies);
  }
  function captureWrapperProps(lastWrapperProps, lastChildProps, renderIsScheduled, wrapperProps, actualChildProps, childPropsFromStoreUpdate, notifyNestedSubs) {
    lastWrapperProps.current = wrapperProps;
    lastChildProps.current = actualChildProps;
    renderIsScheduled.current = false;
    if (childPropsFromStoreUpdate.current) {
      childPropsFromStoreUpdate.current = null;
      notifyNestedSubs();
    }
  }
  function subscribeUpdates(shouldHandleStateChanges, store, subscription, childPropsSelector, lastWrapperProps, lastChildProps, renderIsScheduled, childPropsFromStoreUpdate, notifyNestedSubs, forceComponentUpdateDispatch) {
    if (!shouldHandleStateChanges)
      return;
    var didUnsubscribe = false;
    var lastThrownError = null;
    var checkForUpdates = function checkForUpdates2() {
      if (didUnsubscribe) {
        return;
      }
      var latestStoreState = store.getState();
      var newChildProps, error2;
      try {
        newChildProps = childPropsSelector(latestStoreState, lastWrapperProps.current);
      } catch (e2) {
        error2 = e2;
        lastThrownError = e2;
      }
      if (!error2) {
        lastThrownError = null;
      }
      if (newChildProps === lastChildProps.current) {
        if (!renderIsScheduled.current) {
          notifyNestedSubs();
        }
      } else {
        lastChildProps.current = newChildProps;
        childPropsFromStoreUpdate.current = newChildProps;
        renderIsScheduled.current = true;
        forceComponentUpdateDispatch({
          type: "STORE_UPDATED",
          payload: {
            error: error2
          }
        });
      }
    };
    subscription.onStateChange = checkForUpdates;
    subscription.trySubscribe();
    checkForUpdates();
    var unsubscribeWrapper = function unsubscribeWrapper2() {
      didUnsubscribe = true;
      subscription.tryUnsubscribe();
      subscription.onStateChange = null;
      if (lastThrownError) {
        throw lastThrownError;
      }
    };
    return unsubscribeWrapper;
  }
  var initStateUpdates = function initStateUpdates2() {
    return [null, 0];
  };
  function connectAdvanced(selectorFactory, _ref) {
    if (_ref === void 0) {
      _ref = {};
    }
    var _ref2 = _ref, _ref2$getDisplayName = _ref2.getDisplayName, getDisplayName = _ref2$getDisplayName === void 0 ? function(name) {
      return "ConnectAdvanced(" + name + ")";
    } : _ref2$getDisplayName, _ref2$methodName = _ref2.methodName, methodName = _ref2$methodName === void 0 ? "connectAdvanced" : _ref2$methodName, _ref2$renderCountProp = _ref2.renderCountProp, renderCountProp = _ref2$renderCountProp === void 0 ? void 0 : _ref2$renderCountProp, _ref2$shouldHandleSta = _ref2.shouldHandleStateChanges, shouldHandleStateChanges = _ref2$shouldHandleSta === void 0 ? true : _ref2$shouldHandleSta, _ref2$storeKey = _ref2.storeKey, storeKey = _ref2$storeKey === void 0 ? "store" : _ref2$storeKey, _ref2$withRef = _ref2.withRef, withRef = _ref2$withRef === void 0 ? false : _ref2$withRef, _ref2$forwardRef = _ref2.forwardRef, forwardRef6 = _ref2$forwardRef === void 0 ? false : _ref2$forwardRef, _ref2$context = _ref2.context, context = _ref2$context === void 0 ? ReactReduxContext : _ref2$context, connectOptions = _objectWithoutPropertiesLoose2(_ref2, _excluded);
    if (true) {
      if (renderCountProp !== void 0) {
        throw new Error("renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension");
      }
      if (withRef) {
        throw new Error("withRef is removed. To access the wrapped instance, use a ref on the connected component");
      }
      var customStoreWarningMessage = "To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect";
      if (storeKey !== "store") {
        throw new Error("storeKey has been removed and does not do anything. " + customStoreWarningMessage);
      }
    }
    var Context = context;
    return function wrapWithConnect(WrappedComponent) {
      if (!(0, import_react_is.isValidElementType)(WrappedComponent)) {
        throw new Error("You must pass a component to the function returned by " + (methodName + ". Instead received " + stringifyComponent(WrappedComponent)));
      }
      var wrappedComponentName = WrappedComponent.displayName || WrappedComponent.name || "Component";
      var displayName = getDisplayName(wrappedComponentName);
      var selectorFactoryOptions = _extends({}, connectOptions, {
        getDisplayName,
        methodName,
        renderCountProp,
        shouldHandleStateChanges,
        storeKey,
        displayName,
        wrappedComponentName,
        WrappedComponent
      });
      var pure = connectOptions.pure;
      function createChildSelector(store) {
        return selectorFactory(store.dispatch, selectorFactoryOptions);
      }
      var usePureOnlyMemo = pure ? import_react17.useMemo : function(callback) {
        return callback();
      };
      function ConnectFunction(props) {
        var _useMemo = (0, import_react17.useMemo)(function() {
          var reactReduxForwardedRef2 = props.reactReduxForwardedRef, wrapperProps2 = _objectWithoutPropertiesLoose2(props, _excluded2);
          return [props.context, reactReduxForwardedRef2, wrapperProps2];
        }, [props]), propsContext = _useMemo[0], reactReduxForwardedRef = _useMemo[1], wrapperProps = _useMemo[2];
        var ContextToUse = (0, import_react17.useMemo)(function() {
          return propsContext && propsContext.Consumer && (0, import_react_is.isContextConsumer)(/* @__PURE__ */ import_react17.default.createElement(propsContext.Consumer, null)) ? propsContext : Context;
        }, [propsContext, Context]);
        var contextValue = (0, import_react17.useContext)(ContextToUse);
        var didStoreComeFromProps = Boolean(props.store) && Boolean(props.store.getState) && Boolean(props.store.dispatch);
        var didStoreComeFromContext = Boolean(contextValue) && Boolean(contextValue.store);
        if (!didStoreComeFromProps && !didStoreComeFromContext) {
          throw new Error('Could not find "store" in the context of ' + ('"' + displayName + '". Either wrap the root component in a <Provider>, ') + "or pass a custom React context provider to <Provider> and the corresponding " + ("React context consumer to " + displayName + " in connect options."));
        }
        var store = didStoreComeFromProps ? props.store : contextValue.store;
        var childPropsSelector = (0, import_react17.useMemo)(function() {
          return createChildSelector(store);
        }, [store]);
        var _useMemo2 = (0, import_react17.useMemo)(function() {
          if (!shouldHandleStateChanges)
            return NO_SUBSCRIPTION_ARRAY;
          var subscription2 = createSubscription(store, didStoreComeFromProps ? null : contextValue.subscription);
          var notifyNestedSubs2 = subscription2.notifyNestedSubs.bind(subscription2);
          return [subscription2, notifyNestedSubs2];
        }, [store, didStoreComeFromProps, contextValue]), subscription = _useMemo2[0], notifyNestedSubs = _useMemo2[1];
        var overriddenContextValue = (0, import_react17.useMemo)(function() {
          if (didStoreComeFromProps) {
            return contextValue;
          }
          return _extends({}, contextValue, {
            subscription
          });
        }, [didStoreComeFromProps, contextValue, subscription]);
        var _useReducer = (0, import_react17.useReducer)(storeStateUpdatesReducer, EMPTY_ARRAY, initStateUpdates), _useReducer$ = _useReducer[0], previousStateUpdateResult = _useReducer$[0], forceComponentUpdateDispatch = _useReducer[1];
        if (previousStateUpdateResult && previousStateUpdateResult.error) {
          throw previousStateUpdateResult.error;
        }
        var lastChildProps = (0, import_react17.useRef)();
        var lastWrapperProps = (0, import_react17.useRef)(wrapperProps);
        var childPropsFromStoreUpdate = (0, import_react17.useRef)();
        var renderIsScheduled = (0, import_react17.useRef)(false);
        var actualChildProps = usePureOnlyMemo(function() {
          if (childPropsFromStoreUpdate.current && wrapperProps === lastWrapperProps.current) {
            return childPropsFromStoreUpdate.current;
          }
          return childPropsSelector(store.getState(), wrapperProps);
        }, [store, previousStateUpdateResult, wrapperProps]);
        useIsomorphicLayoutEffectWithArgs(captureWrapperProps, [lastWrapperProps, lastChildProps, renderIsScheduled, wrapperProps, actualChildProps, childPropsFromStoreUpdate, notifyNestedSubs]);
        useIsomorphicLayoutEffectWithArgs(subscribeUpdates, [shouldHandleStateChanges, store, subscription, childPropsSelector, lastWrapperProps, lastChildProps, renderIsScheduled, childPropsFromStoreUpdate, notifyNestedSubs, forceComponentUpdateDispatch], [store, subscription, childPropsSelector]);
        var renderedWrappedComponent = (0, import_react17.useMemo)(function() {
          return /* @__PURE__ */ import_react17.default.createElement(WrappedComponent, _extends({}, actualChildProps, {
            ref: reactReduxForwardedRef
          }));
        }, [reactReduxForwardedRef, WrappedComponent, actualChildProps]);
        var renderedChild = (0, import_react17.useMemo)(function() {
          if (shouldHandleStateChanges) {
            return /* @__PURE__ */ import_react17.default.createElement(ContextToUse.Provider, {
              value: overriddenContextValue
            }, renderedWrappedComponent);
          }
          return renderedWrappedComponent;
        }, [ContextToUse, renderedWrappedComponent, overriddenContextValue]);
        return renderedChild;
      }
      var Connect = pure ? import_react17.default.memo(ConnectFunction) : ConnectFunction;
      Connect.WrappedComponent = WrappedComponent;
      Connect.displayName = ConnectFunction.displayName = displayName;
      if (forwardRef6) {
        var forwarded = import_react17.default.forwardRef(function forwardConnectRef(props, ref2) {
          return /* @__PURE__ */ import_react17.default.createElement(Connect, _extends({}, props, {
            reactReduxForwardedRef: ref2
          }));
        });
        forwarded.displayName = displayName;
        forwarded.WrappedComponent = WrappedComponent;
        return (0, import_hoist_non_react_statics.default)(forwarded, WrappedComponent);
      }
      return (0, import_hoist_non_react_statics.default)(Connect, WrappedComponent);
    };
  }

  // ../../node_modules/react-redux/es/utils/shallowEqual.js
  function is(x2, y2) {
    if (x2 === y2) {
      return x2 !== 0 || y2 !== 0 || 1 / x2 === 1 / y2;
    } else {
      return x2 !== x2 && y2 !== y2;
    }
  }
  function shallowEqual(objA, objB) {
    if (is(objA, objB))
      return true;
    if (typeof objA !== "object" || objA === null || typeof objB !== "object" || objB === null) {
      return false;
    }
    var keysA = Object.keys(objA);
    var keysB = Object.keys(objB);
    if (keysA.length !== keysB.length)
      return false;
    for (var i3 = 0; i3 < keysA.length; i3++) {
      if (!Object.prototype.hasOwnProperty.call(objB, keysA[i3]) || !is(objA[keysA[i3]], objB[keysA[i3]])) {
        return false;
      }
    }
    return true;
  }

  // ../../node_modules/react-redux/es/utils/bindActionCreators.js
  function bindActionCreators2(actionCreators, dispatch3) {
    var boundActionCreators = {};
    var _loop = function _loop2(key2) {
      var actionCreator = actionCreators[key2];
      if (typeof actionCreator === "function") {
        boundActionCreators[key2] = function() {
          return dispatch3(actionCreator.apply(void 0, arguments));
        };
      }
    };
    for (var key in actionCreators) {
      _loop(key);
    }
    return boundActionCreators;
  }

  // ../../node_modules/react-redux/es/utils/isPlainObject.js
  function isPlainObject3(obj) {
    if (typeof obj !== "object" || obj === null)
      return false;
    var proto = Object.getPrototypeOf(obj);
    if (proto === null)
      return true;
    var baseProto = proto;
    while (Object.getPrototypeOf(baseProto) !== null) {
      baseProto = Object.getPrototypeOf(baseProto);
    }
    return proto === baseProto;
  }

  // ../../node_modules/react-redux/es/utils/warning.js
  function warning2(message) {
    if (typeof console !== "undefined" && typeof console.error === "function") {
      console.error(message);
    }
    try {
      throw new Error(message);
    } catch (e2) {
    }
  }

  // ../../node_modules/react-redux/es/utils/verifyPlainObject.js
  function verifyPlainObject(value, displayName, methodName) {
    if (!isPlainObject3(value)) {
      warning2(methodName + "() in " + displayName + " must return a plain object. Instead received " + value + ".");
    }
  }

  // ../../node_modules/react-redux/es/connect/wrapMapToProps.js
  function wrapMapToPropsConstant(getConstant) {
    return function initConstantSelector(dispatch3, options) {
      var constant = getConstant(dispatch3, options);
      function constantSelector() {
        return constant;
      }
      constantSelector.dependsOnOwnProps = false;
      return constantSelector;
    };
  }
  function getDependsOnOwnProps(mapToProps) {
    return mapToProps.dependsOnOwnProps !== null && mapToProps.dependsOnOwnProps !== void 0 ? Boolean(mapToProps.dependsOnOwnProps) : mapToProps.length !== 1;
  }
  function wrapMapToPropsFunc(mapToProps, methodName) {
    return function initProxySelector(dispatch3, _ref) {
      var displayName = _ref.displayName;
      var proxy = function mapToPropsProxy(stateOrDispatch, ownProps) {
        return proxy.dependsOnOwnProps ? proxy.mapToProps(stateOrDispatch, ownProps) : proxy.mapToProps(stateOrDispatch);
      };
      proxy.dependsOnOwnProps = true;
      proxy.mapToProps = function detectFactoryAndVerify(stateOrDispatch, ownProps) {
        proxy.mapToProps = mapToProps;
        proxy.dependsOnOwnProps = getDependsOnOwnProps(mapToProps);
        var props = proxy(stateOrDispatch, ownProps);
        if (typeof props === "function") {
          proxy.mapToProps = props;
          proxy.dependsOnOwnProps = getDependsOnOwnProps(props);
          props = proxy(stateOrDispatch, ownProps);
        }
        if (true)
          verifyPlainObject(props, displayName, methodName);
        return props;
      };
      return proxy;
    };
  }

  // ../../node_modules/react-redux/es/connect/mapDispatchToProps.js
  function whenMapDispatchToPropsIsFunction(mapDispatchToProps2) {
    return typeof mapDispatchToProps2 === "function" ? wrapMapToPropsFunc(mapDispatchToProps2, "mapDispatchToProps") : void 0;
  }
  function whenMapDispatchToPropsIsMissing(mapDispatchToProps2) {
    return !mapDispatchToProps2 ? wrapMapToPropsConstant(function(dispatch3) {
      return {
        dispatch: dispatch3
      };
    }) : void 0;
  }
  function whenMapDispatchToPropsIsObject(mapDispatchToProps2) {
    return mapDispatchToProps2 && typeof mapDispatchToProps2 === "object" ? wrapMapToPropsConstant(function(dispatch3) {
      return bindActionCreators2(mapDispatchToProps2, dispatch3);
    }) : void 0;
  }
  var mapDispatchToProps_default = [whenMapDispatchToPropsIsFunction, whenMapDispatchToPropsIsMissing, whenMapDispatchToPropsIsObject];

  // ../../node_modules/react-redux/es/connect/mapStateToProps.js
  function whenMapStateToPropsIsFunction(mapStateToProps) {
    return typeof mapStateToProps === "function" ? wrapMapToPropsFunc(mapStateToProps, "mapStateToProps") : void 0;
  }
  function whenMapStateToPropsIsMissing(mapStateToProps) {
    return !mapStateToProps ? wrapMapToPropsConstant(function() {
      return {};
    }) : void 0;
  }
  var mapStateToProps_default = [whenMapStateToPropsIsFunction, whenMapStateToPropsIsMissing];

  // ../../node_modules/react-redux/es/connect/mergeProps.js
  function defaultMergeProps(stateProps, dispatchProps, ownProps) {
    return _extends({}, ownProps, stateProps, dispatchProps);
  }
  function wrapMergePropsFunc(mergeProps) {
    return function initMergePropsProxy(dispatch3, _ref) {
      var displayName = _ref.displayName, pure = _ref.pure, areMergedPropsEqual = _ref.areMergedPropsEqual;
      var hasRunOnce = false;
      var mergedProps;
      return function mergePropsProxy(stateProps, dispatchProps, ownProps) {
        var nextMergedProps = mergeProps(stateProps, dispatchProps, ownProps);
        if (hasRunOnce) {
          if (!pure || !areMergedPropsEqual(nextMergedProps, mergedProps))
            mergedProps = nextMergedProps;
        } else {
          hasRunOnce = true;
          mergedProps = nextMergedProps;
          if (true)
            verifyPlainObject(mergedProps, displayName, "mergeProps");
        }
        return mergedProps;
      };
    };
  }
  function whenMergePropsIsFunction(mergeProps) {
    return typeof mergeProps === "function" ? wrapMergePropsFunc(mergeProps) : void 0;
  }
  function whenMergePropsIsOmitted(mergeProps) {
    return !mergeProps ? function() {
      return defaultMergeProps;
    } : void 0;
  }
  var mergeProps_default = [whenMergePropsIsFunction, whenMergePropsIsOmitted];

  // ../../node_modules/react-redux/es/connect/verifySubselectors.js
  function verify(selector, methodName, displayName) {
    if (!selector) {
      throw new Error("Unexpected value for " + methodName + " in " + displayName + ".");
    } else if (methodName === "mapStateToProps" || methodName === "mapDispatchToProps") {
      if (!Object.prototype.hasOwnProperty.call(selector, "dependsOnOwnProps")) {
        warning2("The selector for " + methodName + " of " + displayName + " did not specify a value for dependsOnOwnProps.");
      }
    }
  }
  function verifySubselectors(mapStateToProps, mapDispatchToProps2, mergeProps, displayName) {
    verify(mapStateToProps, "mapStateToProps", displayName);
    verify(mapDispatchToProps2, "mapDispatchToProps", displayName);
    verify(mergeProps, "mergeProps", displayName);
  }

  // ../../node_modules/react-redux/es/connect/selectorFactory.js
  var _excluded3 = ["initMapStateToProps", "initMapDispatchToProps", "initMergeProps"];
  function impureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps2, mergeProps, dispatch3) {
    return function impureFinalPropsSelector(state, ownProps) {
      return mergeProps(mapStateToProps(state, ownProps), mapDispatchToProps2(dispatch3, ownProps), ownProps);
    };
  }
  function pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps2, mergeProps, dispatch3, _ref) {
    var areStatesEqual = _ref.areStatesEqual, areOwnPropsEqual = _ref.areOwnPropsEqual, areStatePropsEqual = _ref.areStatePropsEqual;
    var hasRunAtLeastOnce = false;
    var state;
    var ownProps;
    var stateProps;
    var dispatchProps;
    var mergedProps;
    function handleFirstCall(firstState, firstOwnProps) {
      state = firstState;
      ownProps = firstOwnProps;
      stateProps = mapStateToProps(state, ownProps);
      dispatchProps = mapDispatchToProps2(dispatch3, ownProps);
      mergedProps = mergeProps(stateProps, dispatchProps, ownProps);
      hasRunAtLeastOnce = true;
      return mergedProps;
    }
    function handleNewPropsAndNewState() {
      stateProps = mapStateToProps(state, ownProps);
      if (mapDispatchToProps2.dependsOnOwnProps)
        dispatchProps = mapDispatchToProps2(dispatch3, ownProps);
      mergedProps = mergeProps(stateProps, dispatchProps, ownProps);
      return mergedProps;
    }
    function handleNewProps() {
      if (mapStateToProps.dependsOnOwnProps)
        stateProps = mapStateToProps(state, ownProps);
      if (mapDispatchToProps2.dependsOnOwnProps)
        dispatchProps = mapDispatchToProps2(dispatch3, ownProps);
      mergedProps = mergeProps(stateProps, dispatchProps, ownProps);
      return mergedProps;
    }
    function handleNewState() {
      var nextStateProps = mapStateToProps(state, ownProps);
      var statePropsChanged = !areStatePropsEqual(nextStateProps, stateProps);
      stateProps = nextStateProps;
      if (statePropsChanged)
        mergedProps = mergeProps(stateProps, dispatchProps, ownProps);
      return mergedProps;
    }
    function handleSubsequentCalls(nextState, nextOwnProps) {
      var propsChanged = !areOwnPropsEqual(nextOwnProps, ownProps);
      var stateChanged = !areStatesEqual(nextState, state);
      state = nextState;
      ownProps = nextOwnProps;
      if (propsChanged && stateChanged)
        return handleNewPropsAndNewState();
      if (propsChanged)
        return handleNewProps();
      if (stateChanged)
        return handleNewState();
      return mergedProps;
    }
    return function pureFinalPropsSelector(nextState, nextOwnProps) {
      return hasRunAtLeastOnce ? handleSubsequentCalls(nextState, nextOwnProps) : handleFirstCall(nextState, nextOwnProps);
    };
  }
  function finalPropsSelectorFactory(dispatch3, _ref2) {
    var initMapStateToProps = _ref2.initMapStateToProps, initMapDispatchToProps = _ref2.initMapDispatchToProps, initMergeProps = _ref2.initMergeProps, options = _objectWithoutPropertiesLoose2(_ref2, _excluded3);
    var mapStateToProps = initMapStateToProps(dispatch3, options);
    var mapDispatchToProps2 = initMapDispatchToProps(dispatch3, options);
    var mergeProps = initMergeProps(dispatch3, options);
    if (true) {
      verifySubselectors(mapStateToProps, mapDispatchToProps2, mergeProps, options.displayName);
    }
    var selectorFactory = options.pure ? pureFinalPropsSelectorFactory : impureFinalPropsSelectorFactory;
    return selectorFactory(mapStateToProps, mapDispatchToProps2, mergeProps, dispatch3, options);
  }

  // ../../node_modules/react-redux/es/connect/connect.js
  var _excluded4 = ["pure", "areStatesEqual", "areOwnPropsEqual", "areStatePropsEqual", "areMergedPropsEqual"];
  function match(arg, factories, name) {
    for (var i3 = factories.length - 1; i3 >= 0; i3--) {
      var result = factories[i3](arg);
      if (result)
        return result;
    }
    return function(dispatch3, options) {
      throw new Error("Invalid value of type " + typeof arg + " for " + name + " argument when connecting component " + options.wrappedComponentName + ".");
    };
  }
  function strictEqual(a3, b3) {
    return a3 === b3;
  }
  function createConnect(_temp) {
    var _ref = _temp === void 0 ? {} : _temp, _ref$connectHOC = _ref.connectHOC, connectHOC = _ref$connectHOC === void 0 ? connectAdvanced : _ref$connectHOC, _ref$mapStateToPropsF = _ref.mapStateToPropsFactories, mapStateToPropsFactories = _ref$mapStateToPropsF === void 0 ? mapStateToProps_default : _ref$mapStateToPropsF, _ref$mapDispatchToPro = _ref.mapDispatchToPropsFactories, mapDispatchToPropsFactories = _ref$mapDispatchToPro === void 0 ? mapDispatchToProps_default : _ref$mapDispatchToPro, _ref$mergePropsFactor = _ref.mergePropsFactories, mergePropsFactories = _ref$mergePropsFactor === void 0 ? mergeProps_default : _ref$mergePropsFactor, _ref$selectorFactory = _ref.selectorFactory, selectorFactory = _ref$selectorFactory === void 0 ? finalPropsSelectorFactory : _ref$selectorFactory;
    return function connect(mapStateToProps, mapDispatchToProps2, mergeProps, _ref2) {
      if (_ref2 === void 0) {
        _ref2 = {};
      }
      var _ref3 = _ref2, _ref3$pure = _ref3.pure, pure = _ref3$pure === void 0 ? true : _ref3$pure, _ref3$areStatesEqual = _ref3.areStatesEqual, areStatesEqual = _ref3$areStatesEqual === void 0 ? strictEqual : _ref3$areStatesEqual, _ref3$areOwnPropsEqua = _ref3.areOwnPropsEqual, areOwnPropsEqual = _ref3$areOwnPropsEqua === void 0 ? shallowEqual : _ref3$areOwnPropsEqua, _ref3$areStatePropsEq = _ref3.areStatePropsEqual, areStatePropsEqual = _ref3$areStatePropsEq === void 0 ? shallowEqual : _ref3$areStatePropsEq, _ref3$areMergedPropsE = _ref3.areMergedPropsEqual, areMergedPropsEqual = _ref3$areMergedPropsE === void 0 ? shallowEqual : _ref3$areMergedPropsE, extraOptions = _objectWithoutPropertiesLoose2(_ref3, _excluded4);
      var initMapStateToProps = match(mapStateToProps, mapStateToPropsFactories, "mapStateToProps");
      var initMapDispatchToProps = match(mapDispatchToProps2, mapDispatchToPropsFactories, "mapDispatchToProps");
      var initMergeProps = match(mergeProps, mergePropsFactories, "mergeProps");
      return connectHOC(selectorFactory, _extends({
        methodName: "connect",
        getDisplayName: function getDisplayName(name) {
          return "Connect(" + name + ")";
        },
        shouldHandleStateChanges: Boolean(mapStateToProps),
        initMapStateToProps,
        initMapDispatchToProps,
        initMergeProps,
        pure,
        areStatesEqual,
        areOwnPropsEqual,
        areStatePropsEqual,
        areMergedPropsEqual
      }, extraOptions));
    };
  }
  var connect_default = /* @__PURE__ */ createConnect();

  // ../../node_modules/react-redux/es/hooks/useStore.js
  var import_react19 = __toESM(require_react());

  // ../../node_modules/react-redux/es/hooks/useReduxContext.js
  var import_react18 = __toESM(require_react());

  // ../../node_modules/react-redux/es/hooks/useSelector.js
  var import_react20 = __toESM(require_react());

  // ../../node_modules/react-redux/es/utils/reactBatchedUpdates.js
  var import_react_dom3 = __toESM(require_react_dom());

  // ../../node_modules/react-redux/es/index.js
  setBatch(import_react_dom3.unstable_batchedUpdates);

  // ../../node_modules/use-memo-one/dist/use-memo-one.esm.js
  var import_react21 = __toESM(require_react());
  function areInputsEqual(newInputs, lastInputs) {
    if (newInputs.length !== lastInputs.length) {
      return false;
    }
    for (var i3 = 0; i3 < newInputs.length; i3++) {
      if (newInputs[i3] !== lastInputs[i3]) {
        return false;
      }
    }
    return true;
  }
  function useMemoOne(getResult, inputs) {
    var initial = (0, import_react21.useState)(function() {
      return {
        inputs,
        result: getResult()
      };
    })[0];
    var isFirstRun = (0, import_react21.useRef)(true);
    var committed = (0, import_react21.useRef)(initial);
    var useCache = isFirstRun.current || Boolean(inputs && committed.current.inputs && areInputsEqual(inputs, committed.current.inputs));
    var cache = useCache ? committed.current : {
      inputs,
      result: getResult()
    };
    (0, import_react21.useEffect)(function() {
      isFirstRun.current = false;
      committed.current = cache;
    }, [cache]);
    return cache.result;
  }
  function useCallbackOne(callback, inputs) {
    return useMemoOne(function() {
      return callback;
    }, inputs);
  }
  var useMemo6 = useMemoOne;
  var useCallback2 = useCallbackOne;

  // ../../node_modules/tiny-invariant/dist/tiny-invariant.esm.js
  var isProduction = false;
  var prefix = "Invariant failed";
  function invariant(condition, message) {
    if (condition) {
      return;
    }
    if (isProduction) {
      throw new Error(prefix);
    }
    var provided = typeof message === "function" ? message() : message;
    var value = provided ? prefix + ": " + provided : prefix;
    throw new Error(value);
  }

  // ../../node_modules/css-box-model/dist/css-box-model.esm.js
  var getRect = function getRect2(_ref) {
    var top2 = _ref.top, right2 = _ref.right, bottom2 = _ref.bottom, left2 = _ref.left;
    var width = right2 - left2;
    var height = bottom2 - top2;
    var rect = {
      top: top2,
      right: right2,
      bottom: bottom2,
      left: left2,
      width,
      height,
      x: left2,
      y: top2,
      center: {
        x: (right2 + left2) / 2,
        y: (bottom2 + top2) / 2
      }
    };
    return rect;
  };
  var expand = function expand2(target, expandBy) {
    return {
      top: target.top - expandBy.top,
      left: target.left - expandBy.left,
      bottom: target.bottom + expandBy.bottom,
      right: target.right + expandBy.right
    };
  };
  var shrink = function shrink2(target, shrinkBy) {
    return {
      top: target.top + shrinkBy.top,
      left: target.left + shrinkBy.left,
      bottom: target.bottom - shrinkBy.bottom,
      right: target.right - shrinkBy.right
    };
  };
  var shift = function shift2(target, shiftBy) {
    return {
      top: target.top + shiftBy.y,
      left: target.left + shiftBy.x,
      bottom: target.bottom + shiftBy.y,
      right: target.right + shiftBy.x
    };
  };
  var noSpacing = {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0
  };
  var createBox = function createBox2(_ref2) {
    var borderBox = _ref2.borderBox, _ref2$margin = _ref2.margin, margin = _ref2$margin === void 0 ? noSpacing : _ref2$margin, _ref2$border = _ref2.border, border = _ref2$border === void 0 ? noSpacing : _ref2$border, _ref2$padding = _ref2.padding, padding = _ref2$padding === void 0 ? noSpacing : _ref2$padding;
    var marginBox = getRect(expand(borderBox, margin));
    var paddingBox = getRect(shrink(borderBox, border));
    var contentBox = getRect(shrink(paddingBox, padding));
    return {
      marginBox,
      borderBox: getRect(borderBox),
      paddingBox,
      contentBox,
      margin,
      border,
      padding
    };
  };
  var parse = function parse2(raw) {
    var value = raw.slice(0, -2);
    var suffix2 = raw.slice(-2);
    if (suffix2 !== "px") {
      return 0;
    }
    var result = Number(value);
    !!isNaN(result) ? true ? invariant(false, "Could not parse value [raw: " + raw + ", without suffix: " + value + "]") : invariant(false) : void 0;
    return result;
  };
  var getWindowScroll2 = function getWindowScroll3() {
    return {
      x: window.pageXOffset,
      y: window.pageYOffset
    };
  };
  var offset2 = function offset3(original, change) {
    var borderBox = original.borderBox, border = original.border, margin = original.margin, padding = original.padding;
    var shifted = shift(borderBox, change);
    return createBox({
      borderBox: shifted,
      border,
      margin,
      padding
    });
  };
  var withScroll = function withScroll2(original, scroll3) {
    if (scroll3 === void 0) {
      scroll3 = getWindowScroll2();
    }
    return offset2(original, scroll3);
  };
  var calculateBox = function calculateBox2(borderBox, styles) {
    var margin = {
      top: parse(styles.marginTop),
      right: parse(styles.marginRight),
      bottom: parse(styles.marginBottom),
      left: parse(styles.marginLeft)
    };
    var padding = {
      top: parse(styles.paddingTop),
      right: parse(styles.paddingRight),
      bottom: parse(styles.paddingBottom),
      left: parse(styles.paddingLeft)
    };
    var border = {
      top: parse(styles.borderTopWidth),
      right: parse(styles.borderRightWidth),
      bottom: parse(styles.borderBottomWidth),
      left: parse(styles.borderLeftWidth)
    };
    return createBox({
      borderBox,
      margin,
      padding,
      border
    });
  };
  var getBox = function getBox2(el) {
    var borderBox = el.getBoundingClientRect();
    var styles = window.getComputedStyle(el);
    return calculateBox(borderBox, styles);
  };

  // ../../node_modules/memoize-one/dist/memoize-one.esm.js
  var safeIsNaN = Number.isNaN || function ponyfill(value) {
    return typeof value === "number" && value !== value;
  };
  function isEqual(first, second) {
    if (first === second) {
      return true;
    }
    if (safeIsNaN(first) && safeIsNaN(second)) {
      return true;
    }
    return false;
  }
  function areInputsEqual2(newInputs, lastInputs) {
    if (newInputs.length !== lastInputs.length) {
      return false;
    }
    for (var i3 = 0; i3 < newInputs.length; i3++) {
      if (!isEqual(newInputs[i3], lastInputs[i3])) {
        return false;
      }
    }
    return true;
  }
  function memoizeOne(resultFn, isEqual5) {
    if (isEqual5 === void 0) {
      isEqual5 = areInputsEqual2;
    }
    var lastThis;
    var lastArgs = [];
    var lastResult;
    var calledOnce = false;
    function memoized() {
      var newArgs = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        newArgs[_i] = arguments[_i];
      }
      if (calledOnce && lastThis === this && isEqual5(newArgs, lastArgs)) {
        return lastResult;
      }
      lastResult = resultFn.apply(this, newArgs);
      calledOnce = true;
      lastThis = this;
      lastArgs = newArgs;
      return lastResult;
    }
    return memoized;
  }
  var memoize_one_esm_default = memoizeOne;

  // ../../node_modules/raf-schd/dist/raf-schd.esm.js
  var rafSchd = function rafSchd2(fn4) {
    var lastArgs = [];
    var frameId = null;
    var wrapperFn = function wrapperFn2() {
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }
      lastArgs = args;
      if (frameId) {
        return;
      }
      frameId = requestAnimationFrame(function() {
        frameId = null;
        fn4.apply(void 0, lastArgs);
      });
    };
    wrapperFn.cancel = function() {
      if (!frameId) {
        return;
      }
      cancelAnimationFrame(frameId);
      frameId = null;
    };
    return wrapperFn;
  };
  var raf_schd_esm_default = rafSchd;

  // ../../node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js
  var import_react_dom4 = __toESM(require_react_dom());
  var isProduction2 = false;
  var spacesAndTabs = /[ \t]{2,}/g;
  var lineStartWithSpaces = /^[ \t]*/gm;
  var clean2 = function clean3(value) {
    return value.replace(spacesAndTabs, " ").replace(lineStartWithSpaces, "").trim();
  };
  var getDevMessage2 = function getDevMessage3(message) {
    return clean2("\n  %creact-beautiful-dnd\n\n  %c" + clean2(message) + "\n\n  %c\u{1F477}\u200D This is a development only message. It will be removed in production builds.\n");
  };
  var getFormattedMessage2 = function getFormattedMessage3(message) {
    return [getDevMessage2(message), "color: #00C584; font-size: 1.2em; font-weight: bold;", "line-height: 1.5", "color: #723874;"];
  };
  var isDisabledFlag = "__react-beautiful-dnd-disable-dev-warnings";
  function log(type, message) {
    var _console;
    if (isProduction2) {
      return;
    }
    if (typeof window !== "undefined" && window[isDisabledFlag]) {
      return;
    }
    (_console = console)[type].apply(_console, getFormattedMessage2(message));
  }
  var warning3 = log.bind(null, "warn");
  var error = log.bind(null, "error");
  function noop2() {
  }
  function getOptions(shared2, fromBinding) {
    return _extends({}, shared2, {}, fromBinding);
  }
  function bindEvents(el, bindings, sharedOptions) {
    var unbindings = bindings.map(function(binding) {
      var options = getOptions(sharedOptions, binding.options);
      el.addEventListener(binding.eventName, binding.fn, options);
      return function unbind() {
        el.removeEventListener(binding.eventName, binding.fn, options);
      };
    });
    return function unbindAll() {
      unbindings.forEach(function(unbind) {
        unbind();
      });
    };
  }
  var isProduction$1 = false;
  var prefix2 = "Invariant failed";
  function RbdInvariant(message) {
    this.message = message;
  }
  RbdInvariant.prototype.toString = function toString() {
    return this.message;
  };
  function invariant2(condition, message) {
    if (condition) {
      return;
    }
    if (isProduction$1) {
      throw new RbdInvariant(prefix2);
    } else {
      throw new RbdInvariant(prefix2 + ": " + (message || ""));
    }
  }
  var ErrorBoundary = function(_React$Component) {
    _inheritsLoose(ErrorBoundary3, _React$Component);
    function ErrorBoundary3() {
      var _this;
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }
      _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;
      _this.callbacks = null;
      _this.unbind = noop2;
      _this.onWindowError = function(event) {
        var callbacks = _this.getCallbacks();
        if (callbacks.isDragging()) {
          callbacks.tryAbort();
          true ? warning3("\n        An error was caught by our window 'error' event listener while a drag was occurring.\n        The active drag has been aborted.\n      ") : void 0;
        }
        var err = event.error;
        if (err instanceof RbdInvariant) {
          event.preventDefault();
          if (true) {
            error(err.message);
          }
        }
      };
      _this.getCallbacks = function() {
        if (!_this.callbacks) {
          throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");
        }
        return _this.callbacks;
      };
      _this.setCallbacks = function(callbacks) {
        _this.callbacks = callbacks;
      };
      return _this;
    }
    var _proto = ErrorBoundary3.prototype;
    _proto.componentDidMount = function componentDidMount() {
      this.unbind = bindEvents(window, [{
        eventName: "error",
        fn: this.onWindowError
      }]);
    };
    _proto.componentDidCatch = function componentDidCatch(err) {
      if (err instanceof RbdInvariant) {
        if (true) {
          error(err.message);
        }
        this.setState({});
        return;
      }
      throw err;
    };
    _proto.componentWillUnmount = function componentWillUnmount() {
      this.unbind();
    };
    _proto.render = function render2() {
      return this.props.children(this.setCallbacks);
    };
    return ErrorBoundary3;
  }(import_react22.default.Component);
  var dragHandleUsageInstructions = "\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n";
  var position = function position2(index2) {
    return index2 + 1;
  };
  var onDragStart = function onDragStart2(start4) {
    return "\n  You have lifted an item in position " + position(start4.source.index) + "\n";
  };
  var withLocation = function withLocation2(source, destination) {
    var isInHomeList = source.droppableId === destination.droppableId;
    var startPosition = position(source.index);
    var endPosition = position(destination.index);
    if (isInHomeList) {
      return "\n      You have moved the item from position " + startPosition + "\n      to position " + endPosition + "\n    ";
    }
    return "\n    You have moved the item from position " + startPosition + "\n    in list " + source.droppableId + "\n    to list " + destination.droppableId + "\n    in position " + endPosition + "\n  ";
  };
  var withCombine = function withCombine2(id, source, combine2) {
    var inHomeList = source.droppableId === combine2.droppableId;
    if (inHomeList) {
      return "\n      The item " + id + "\n      has been combined with " + combine2.draggableId;
    }
    return "\n      The item " + id + "\n      in list " + source.droppableId + "\n      has been combined with " + combine2.draggableId + "\n      in list " + combine2.droppableId + "\n    ";
  };
  var onDragUpdate = function onDragUpdate2(update2) {
    var location = update2.destination;
    if (location) {
      return withLocation(update2.source, location);
    }
    var combine2 = update2.combine;
    if (combine2) {
      return withCombine(update2.draggableId, update2.source, combine2);
    }
    return "You are over an area that cannot be dropped on";
  };
  var returnedToStart = function returnedToStart2(source) {
    return "\n  The item has returned to its starting position\n  of " + position(source.index) + "\n";
  };
  var onDragEnd = function onDragEnd2(result) {
    if (result.reason === "CANCEL") {
      return "\n      Movement cancelled.\n      " + returnedToStart(result.source) + "\n    ";
    }
    var location = result.destination;
    var combine2 = result.combine;
    if (location) {
      return "\n      You have dropped the item.\n      " + withLocation(result.source, location) + "\n    ";
    }
    if (combine2) {
      return "\n      You have dropped the item.\n      " + withCombine(result.draggableId, result.source, combine2) + "\n    ";
    }
    return "\n    The item has been dropped while not over a drop area.\n    " + returnedToStart(result.source) + "\n  ";
  };
  var preset = {
    dragHandleUsageInstructions,
    onDragStart,
    onDragUpdate,
    onDragEnd
  };
  var origin = {
    x: 0,
    y: 0
  };
  var add = function add2(point1, point2) {
    return {
      x: point1.x + point2.x,
      y: point1.y + point2.y
    };
  };
  var subtract = function subtract2(point1, point2) {
    return {
      x: point1.x - point2.x,
      y: point1.y - point2.y
    };
  };
  var isEqual2 = function isEqual3(point1, point2) {
    return point1.x === point2.x && point1.y === point2.y;
  };
  var negate = function negate2(point) {
    return {
      x: point.x !== 0 ? -point.x : 0,
      y: point.y !== 0 ? -point.y : 0
    };
  };
  var patch = function patch2(line, value, otherValue) {
    var _ref;
    if (otherValue === void 0) {
      otherValue = 0;
    }
    return _ref = {}, _ref[line] = value, _ref[line === "x" ? "y" : "x"] = otherValue, _ref;
  };
  var distance = function distance2(point1, point2) {
    return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));
  };
  var closest = function closest2(target, points) {
    return Math.min.apply(Math, points.map(function(point) {
      return distance(target, point);
    }));
  };
  var apply = function apply2(fn4) {
    return function(point) {
      return {
        x: fn4(point.x),
        y: fn4(point.y)
      };
    };
  };
  var executeClip = function(frame, subject) {
    var result = getRect({
      top: Math.max(subject.top, frame.top),
      right: Math.min(subject.right, frame.right),
      bottom: Math.min(subject.bottom, frame.bottom),
      left: Math.max(subject.left, frame.left)
    });
    if (result.width <= 0 || result.height <= 0) {
      return null;
    }
    return result;
  };
  var offsetByPosition = function offsetByPosition2(spacing, point) {
    return {
      top: spacing.top + point.y,
      left: spacing.left + point.x,
      bottom: spacing.bottom + point.y,
      right: spacing.right + point.x
    };
  };
  var getCorners = function getCorners2(spacing) {
    return [{
      x: spacing.left,
      y: spacing.top
    }, {
      x: spacing.right,
      y: spacing.top
    }, {
      x: spacing.left,
      y: spacing.bottom
    }, {
      x: spacing.right,
      y: spacing.bottom
    }];
  };
  var noSpacing2 = {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0
  };
  var scroll = function scroll2(target, frame) {
    if (!frame) {
      return target;
    }
    return offsetByPosition(target, frame.scroll.diff.displacement);
  };
  var increase = function increase2(target, axis, withPlaceholder) {
    if (withPlaceholder && withPlaceholder.increasedBy) {
      var _extends22;
      return _extends({}, target, (_extends22 = {}, _extends22[axis.end] = target[axis.end] + withPlaceholder.increasedBy[axis.line], _extends22));
    }
    return target;
  };
  var clip = function clip2(target, frame) {
    if (frame && frame.shouldClipSubject) {
      return executeClip(frame.pageMarginBox, target);
    }
    return getRect(target);
  };
  var getSubject = function(_ref) {
    var page = _ref.page, withPlaceholder = _ref.withPlaceholder, axis = _ref.axis, frame = _ref.frame;
    var scrolled = scroll(page.marginBox, frame);
    var increased = increase(scrolled, axis, withPlaceholder);
    var clipped = clip(increased, frame);
    return {
      page,
      withPlaceholder,
      active: clipped
    };
  };
  var scrollDroppable = function(droppable2, newScroll) {
    !droppable2.frame ? true ? invariant2(false) : invariant2(false) : void 0;
    var scrollable = droppable2.frame;
    var scrollDiff = subtract(newScroll, scrollable.scroll.initial);
    var scrollDisplacement = negate(scrollDiff);
    var frame = _extends({}, scrollable, {
      scroll: {
        initial: scrollable.scroll.initial,
        current: newScroll,
        diff: {
          value: scrollDiff,
          displacement: scrollDisplacement
        },
        max: scrollable.scroll.max
      }
    });
    var subject = getSubject({
      page: droppable2.subject.page,
      withPlaceholder: droppable2.subject.withPlaceholder,
      axis: droppable2.axis,
      frame
    });
    var result = _extends({}, droppable2, {
      frame,
      subject
    });
    return result;
  };
  function isInteger(value) {
    if (Number.isInteger) {
      return Number.isInteger(value);
    }
    return typeof value === "number" && isFinite(value) && Math.floor(value) === value;
  }
  function values(map) {
    if (Object.values) {
      return Object.values(map);
    }
    return Object.keys(map).map(function(key) {
      return map[key];
    });
  }
  function findIndex(list, predicate) {
    if (list.findIndex) {
      return list.findIndex(predicate);
    }
    for (var i3 = 0; i3 < list.length; i3++) {
      if (predicate(list[i3])) {
        return i3;
      }
    }
    return -1;
  }
  function find(list, predicate) {
    if (list.find) {
      return list.find(predicate);
    }
    var index2 = findIndex(list, predicate);
    if (index2 !== -1) {
      return list[index2];
    }
    return void 0;
  }
  function toArray(list) {
    return Array.prototype.slice.call(list);
  }
  var toDroppableMap = memoize_one_esm_default(function(droppables) {
    return droppables.reduce(function(previous, current) {
      previous[current.descriptor.id] = current;
      return previous;
    }, {});
  });
  var toDraggableMap = memoize_one_esm_default(function(draggables) {
    return draggables.reduce(function(previous, current) {
      previous[current.descriptor.id] = current;
      return previous;
    }, {});
  });
  var toDroppableList = memoize_one_esm_default(function(droppables) {
    return values(droppables);
  });
  var toDraggableList = memoize_one_esm_default(function(draggables) {
    return values(draggables);
  });
  var getDraggablesInsideDroppable = memoize_one_esm_default(function(droppableId, draggables) {
    var result = toDraggableList(draggables).filter(function(draggable2) {
      return droppableId === draggable2.descriptor.droppableId;
    }).sort(function(a3, b3) {
      return a3.descriptor.index - b3.descriptor.index;
    });
    return result;
  });
  function tryGetDestination(impact) {
    if (impact.at && impact.at.type === "REORDER") {
      return impact.at.destination;
    }
    return null;
  }
  function tryGetCombine(impact) {
    if (impact.at && impact.at.type === "COMBINE") {
      return impact.at.combine;
    }
    return null;
  }
  var removeDraggableFromList = memoize_one_esm_default(function(remove, list) {
    return list.filter(function(item) {
      return item.descriptor.id !== remove.descriptor.id;
    });
  });
  var moveToNextCombine = function(_ref) {
    var isMovingForward = _ref.isMovingForward, draggable2 = _ref.draggable, destination = _ref.destination, insideDestination = _ref.insideDestination, previousImpact = _ref.previousImpact;
    if (!destination.isCombineEnabled) {
      return null;
    }
    var location = tryGetDestination(previousImpact);
    if (!location) {
      return null;
    }
    function getImpact(target) {
      var at = {
        type: "COMBINE",
        combine: {
          draggableId: target,
          droppableId: destination.descriptor.id
        }
      };
      return _extends({}, previousImpact, {
        at
      });
    }
    var all = previousImpact.displaced.all;
    var closestId = all.length ? all[0] : null;
    if (isMovingForward) {
      return closestId ? getImpact(closestId) : null;
    }
    var withoutDraggable = removeDraggableFromList(draggable2, insideDestination);
    if (!closestId) {
      if (!withoutDraggable.length) {
        return null;
      }
      var last = withoutDraggable[withoutDraggable.length - 1];
      return getImpact(last.descriptor.id);
    }
    var indexOfClosest = findIndex(withoutDraggable, function(d3) {
      return d3.descriptor.id === closestId;
    });
    !(indexOfClosest !== -1) ? true ? invariant2(false, "Could not find displaced item in set") : invariant2(false) : void 0;
    var proposedIndex = indexOfClosest - 1;
    if (proposedIndex < 0) {
      return null;
    }
    var before = withoutDraggable[proposedIndex];
    return getImpact(before.descriptor.id);
  };
  var isHomeOf = function(draggable2, destination) {
    return draggable2.descriptor.droppableId === destination.descriptor.id;
  };
  var noDisplacedBy = {
    point: origin,
    value: 0
  };
  var emptyGroups = {
    invisible: {},
    visible: {},
    all: []
  };
  var noImpact = {
    displaced: emptyGroups,
    displacedBy: noDisplacedBy,
    at: null
  };
  var isWithin = function(lowerBound, upperBound) {
    return function(value) {
      return lowerBound <= value && value <= upperBound;
    };
  };
  var isPartiallyVisibleThroughFrame = function(frame) {
    var isWithinVertical = isWithin(frame.top, frame.bottom);
    var isWithinHorizontal = isWithin(frame.left, frame.right);
    return function(subject) {
      var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);
      if (isContained) {
        return true;
      }
      var isPartiallyVisibleVertically = isWithinVertical(subject.top) || isWithinVertical(subject.bottom);
      var isPartiallyVisibleHorizontally = isWithinHorizontal(subject.left) || isWithinHorizontal(subject.right);
      var isPartiallyContained = isPartiallyVisibleVertically && isPartiallyVisibleHorizontally;
      if (isPartiallyContained) {
        return true;
      }
      var isBiggerVertically = subject.top < frame.top && subject.bottom > frame.bottom;
      var isBiggerHorizontally = subject.left < frame.left && subject.right > frame.right;
      var isTargetBiggerThanFrame = isBiggerVertically && isBiggerHorizontally;
      if (isTargetBiggerThanFrame) {
        return true;
      }
      var isTargetBiggerOnOneAxis = isBiggerVertically && isPartiallyVisibleHorizontally || isBiggerHorizontally && isPartiallyVisibleVertically;
      return isTargetBiggerOnOneAxis;
    };
  };
  var isTotallyVisibleThroughFrame = function(frame) {
    var isWithinVertical = isWithin(frame.top, frame.bottom);
    var isWithinHorizontal = isWithin(frame.left, frame.right);
    return function(subject) {
      var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);
      return isContained;
    };
  };
  var vertical = {
    direction: "vertical",
    line: "y",
    crossAxisLine: "x",
    start: "top",
    end: "bottom",
    size: "height",
    crossAxisStart: "left",
    crossAxisEnd: "right",
    crossAxisSize: "width"
  };
  var horizontal = {
    direction: "horizontal",
    line: "x",
    crossAxisLine: "y",
    start: "left",
    end: "right",
    size: "width",
    crossAxisStart: "top",
    crossAxisEnd: "bottom",
    crossAxisSize: "height"
  };
  var isTotallyVisibleThroughFrameOnAxis = function(axis) {
    return function(frame) {
      var isWithinVertical = isWithin(frame.top, frame.bottom);
      var isWithinHorizontal = isWithin(frame.left, frame.right);
      return function(subject) {
        if (axis === vertical) {
          return isWithinVertical(subject.top) && isWithinVertical(subject.bottom);
        }
        return isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);
      };
    };
  };
  var getDroppableDisplaced = function getDroppableDisplaced2(target, destination) {
    var displacement = destination.frame ? destination.frame.scroll.diff.displacement : origin;
    return offsetByPosition(target, displacement);
  };
  var isVisibleInDroppable = function isVisibleInDroppable2(target, destination, isVisibleThroughFrameFn) {
    if (!destination.subject.active) {
      return false;
    }
    return isVisibleThroughFrameFn(destination.subject.active)(target);
  };
  var isVisibleInViewport = function isVisibleInViewport2(target, viewport2, isVisibleThroughFrameFn) {
    return isVisibleThroughFrameFn(viewport2)(target);
  };
  var isVisible = function isVisible2(_ref) {
    var toBeDisplaced = _ref.target, destination = _ref.destination, viewport2 = _ref.viewport, withDroppableDisplacement2 = _ref.withDroppableDisplacement, isVisibleThroughFrameFn = _ref.isVisibleThroughFrameFn;
    var displacedTarget = withDroppableDisplacement2 ? getDroppableDisplaced(toBeDisplaced, destination) : toBeDisplaced;
    return isVisibleInDroppable(displacedTarget, destination, isVisibleThroughFrameFn) && isVisibleInViewport(displacedTarget, viewport2, isVisibleThroughFrameFn);
  };
  var isPartiallyVisible = function isPartiallyVisible2(args) {
    return isVisible(_extends({}, args, {
      isVisibleThroughFrameFn: isPartiallyVisibleThroughFrame
    }));
  };
  var isTotallyVisible = function isTotallyVisible2(args) {
    return isVisible(_extends({}, args, {
      isVisibleThroughFrameFn: isTotallyVisibleThroughFrame
    }));
  };
  var isTotallyVisibleOnAxis = function isTotallyVisibleOnAxis2(args) {
    return isVisible(_extends({}, args, {
      isVisibleThroughFrameFn: isTotallyVisibleThroughFrameOnAxis(args.destination.axis)
    }));
  };
  var getShouldAnimate = function getShouldAnimate2(id, last, forceShouldAnimate) {
    if (typeof forceShouldAnimate === "boolean") {
      return forceShouldAnimate;
    }
    if (!last) {
      return true;
    }
    var invisible = last.invisible, visible = last.visible;
    if (invisible[id]) {
      return false;
    }
    var previous = visible[id];
    return previous ? previous.shouldAnimate : true;
  };
  function getTarget(draggable2, displacedBy) {
    var marginBox = draggable2.page.marginBox;
    var expandBy = {
      top: displacedBy.point.y,
      right: 0,
      bottom: 0,
      left: displacedBy.point.x
    };
    return getRect(expand(marginBox, expandBy));
  }
  function getDisplacementGroups(_ref) {
    var afterDragging = _ref.afterDragging, destination = _ref.destination, displacedBy = _ref.displacedBy, viewport2 = _ref.viewport, forceShouldAnimate = _ref.forceShouldAnimate, last = _ref.last;
    return afterDragging.reduce(function process2(groups, draggable2) {
      var target = getTarget(draggable2, displacedBy);
      var id = draggable2.descriptor.id;
      groups.all.push(id);
      var isVisible3 = isPartiallyVisible({
        target,
        destination,
        viewport: viewport2,
        withDroppableDisplacement: true
      });
      if (!isVisible3) {
        groups.invisible[draggable2.descriptor.id] = true;
        return groups;
      }
      var shouldAnimate = getShouldAnimate(id, last, forceShouldAnimate);
      var displacement = {
        draggableId: id,
        shouldAnimate
      };
      groups.visible[id] = displacement;
      return groups;
    }, {
      all: [],
      visible: {},
      invisible: {}
    });
  }
  function getIndexOfLastItem(draggables, options) {
    if (!draggables.length) {
      return 0;
    }
    var indexOfLastItem = draggables[draggables.length - 1].descriptor.index;
    return options.inHomeList ? indexOfLastItem : indexOfLastItem + 1;
  }
  function goAtEnd(_ref) {
    var insideDestination = _ref.insideDestination, inHomeList = _ref.inHomeList, displacedBy = _ref.displacedBy, destination = _ref.destination;
    var newIndex = getIndexOfLastItem(insideDestination, {
      inHomeList
    });
    return {
      displaced: emptyGroups,
      displacedBy,
      at: {
        type: "REORDER",
        destination: {
          droppableId: destination.descriptor.id,
          index: newIndex
        }
      }
    };
  }
  function calculateReorderImpact(_ref2) {
    var draggable2 = _ref2.draggable, insideDestination = _ref2.insideDestination, destination = _ref2.destination, viewport2 = _ref2.viewport, displacedBy = _ref2.displacedBy, last = _ref2.last, index2 = _ref2.index, forceShouldAnimate = _ref2.forceShouldAnimate;
    var inHomeList = isHomeOf(draggable2, destination);
    if (index2 == null) {
      return goAtEnd({
        insideDestination,
        inHomeList,
        displacedBy,
        destination
      });
    }
    var match2 = find(insideDestination, function(item) {
      return item.descriptor.index === index2;
    });
    if (!match2) {
      return goAtEnd({
        insideDestination,
        inHomeList,
        displacedBy,
        destination
      });
    }
    var withoutDragging = removeDraggableFromList(draggable2, insideDestination);
    var sliceFrom = insideDestination.indexOf(match2);
    var impacted = withoutDragging.slice(sliceFrom);
    var displaced = getDisplacementGroups({
      afterDragging: impacted,
      destination,
      displacedBy,
      last,
      viewport: viewport2.frame,
      forceShouldAnimate
    });
    return {
      displaced,
      displacedBy,
      at: {
        type: "REORDER",
        destination: {
          droppableId: destination.descriptor.id,
          index: index2
        }
      }
    };
  }
  function didStartAfterCritical(draggableId, afterCritical) {
    return Boolean(afterCritical.effected[draggableId]);
  }
  var fromCombine = function(_ref) {
    var isMovingForward = _ref.isMovingForward, destination = _ref.destination, draggables = _ref.draggables, combine2 = _ref.combine, afterCritical = _ref.afterCritical;
    if (!destination.isCombineEnabled) {
      return null;
    }
    var combineId = combine2.draggableId;
    var combineWith = draggables[combineId];
    var combineWithIndex = combineWith.descriptor.index;
    var didCombineWithStartAfterCritical = didStartAfterCritical(combineId, afterCritical);
    if (didCombineWithStartAfterCritical) {
      if (isMovingForward) {
        return combineWithIndex;
      }
      return combineWithIndex - 1;
    }
    if (isMovingForward) {
      return combineWithIndex + 1;
    }
    return combineWithIndex;
  };
  var fromReorder = function(_ref) {
    var isMovingForward = _ref.isMovingForward, isInHomeList = _ref.isInHomeList, insideDestination = _ref.insideDestination, location = _ref.location;
    if (!insideDestination.length) {
      return null;
    }
    var currentIndex = location.index;
    var proposedIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;
    var firstIndex = insideDestination[0].descriptor.index;
    var lastIndex = insideDestination[insideDestination.length - 1].descriptor.index;
    var upperBound = isInHomeList ? lastIndex : lastIndex + 1;
    if (proposedIndex < firstIndex) {
      return null;
    }
    if (proposedIndex > upperBound) {
      return null;
    }
    return proposedIndex;
  };
  var moveToNextIndex = function(_ref) {
    var isMovingForward = _ref.isMovingForward, isInHomeList = _ref.isInHomeList, draggable2 = _ref.draggable, draggables = _ref.draggables, destination = _ref.destination, insideDestination = _ref.insideDestination, previousImpact = _ref.previousImpact, viewport2 = _ref.viewport, afterCritical = _ref.afterCritical;
    var wasAt = previousImpact.at;
    !wasAt ? true ? invariant2(false, "Cannot move in direction without previous impact location") : invariant2(false) : void 0;
    if (wasAt.type === "REORDER") {
      var _newIndex = fromReorder({
        isMovingForward,
        isInHomeList,
        location: wasAt.destination,
        insideDestination
      });
      if (_newIndex == null) {
        return null;
      }
      return calculateReorderImpact({
        draggable: draggable2,
        insideDestination,
        destination,
        viewport: viewport2,
        last: previousImpact.displaced,
        displacedBy: previousImpact.displacedBy,
        index: _newIndex
      });
    }
    var newIndex = fromCombine({
      isMovingForward,
      destination,
      displaced: previousImpact.displaced,
      draggables,
      combine: wasAt.combine,
      afterCritical
    });
    if (newIndex == null) {
      return null;
    }
    return calculateReorderImpact({
      draggable: draggable2,
      insideDestination,
      destination,
      viewport: viewport2,
      last: previousImpact.displaced,
      displacedBy: previousImpact.displacedBy,
      index: newIndex
    });
  };
  var getCombinedItemDisplacement = function(_ref) {
    var displaced = _ref.displaced, afterCritical = _ref.afterCritical, combineWith = _ref.combineWith, displacedBy = _ref.displacedBy;
    var isDisplaced = Boolean(displaced.visible[combineWith] || displaced.invisible[combineWith]);
    if (didStartAfterCritical(combineWith, afterCritical)) {
      return isDisplaced ? origin : negate(displacedBy.point);
    }
    return isDisplaced ? displacedBy.point : origin;
  };
  var whenCombining = function(_ref) {
    var afterCritical = _ref.afterCritical, impact = _ref.impact, draggables = _ref.draggables;
    var combine2 = tryGetCombine(impact);
    !combine2 ? true ? invariant2(false) : invariant2(false) : void 0;
    var combineWith = combine2.draggableId;
    var center = draggables[combineWith].page.borderBox.center;
    var displaceBy = getCombinedItemDisplacement({
      displaced: impact.displaced,
      afterCritical,
      combineWith,
      displacedBy: impact.displacedBy
    });
    return add(center, displaceBy);
  };
  var distanceFromStartToBorderBoxCenter = function distanceFromStartToBorderBoxCenter2(axis, box) {
    return box.margin[axis.start] + box.borderBox[axis.size] / 2;
  };
  var distanceFromEndToBorderBoxCenter = function distanceFromEndToBorderBoxCenter2(axis, box) {
    return box.margin[axis.end] + box.borderBox[axis.size] / 2;
  };
  var getCrossAxisBorderBoxCenter = function getCrossAxisBorderBoxCenter2(axis, target, isMoving) {
    return target[axis.crossAxisStart] + isMoving.margin[axis.crossAxisStart] + isMoving.borderBox[axis.crossAxisSize] / 2;
  };
  var goAfter = function goAfter2(_ref) {
    var axis = _ref.axis, moveRelativeTo = _ref.moveRelativeTo, isMoving = _ref.isMoving;
    return patch(axis.line, moveRelativeTo.marginBox[axis.end] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));
  };
  var goBefore = function goBefore2(_ref2) {
    var axis = _ref2.axis, moveRelativeTo = _ref2.moveRelativeTo, isMoving = _ref2.isMoving;
    return patch(axis.line, moveRelativeTo.marginBox[axis.start] - distanceFromEndToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));
  };
  var goIntoStart = function goIntoStart2(_ref3) {
    var axis = _ref3.axis, moveInto = _ref3.moveInto, isMoving = _ref3.isMoving;
    return patch(axis.line, moveInto.contentBox[axis.start] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveInto.contentBox, isMoving));
  };
  var whenReordering = function(_ref) {
    var impact = _ref.impact, draggable2 = _ref.draggable, draggables = _ref.draggables, droppable2 = _ref.droppable, afterCritical = _ref.afterCritical;
    var insideDestination = getDraggablesInsideDroppable(droppable2.descriptor.id, draggables);
    var draggablePage = draggable2.page;
    var axis = droppable2.axis;
    if (!insideDestination.length) {
      return goIntoStart({
        axis,
        moveInto: droppable2.page,
        isMoving: draggablePage
      });
    }
    var displaced = impact.displaced, displacedBy = impact.displacedBy;
    var closestAfter = displaced.all[0];
    if (closestAfter) {
      var closest3 = draggables[closestAfter];
      if (didStartAfterCritical(closestAfter, afterCritical)) {
        return goBefore({
          axis,
          moveRelativeTo: closest3.page,
          isMoving: draggablePage
        });
      }
      var withDisplacement = offset2(closest3.page, displacedBy.point);
      return goBefore({
        axis,
        moveRelativeTo: withDisplacement,
        isMoving: draggablePage
      });
    }
    var last = insideDestination[insideDestination.length - 1];
    if (last.descriptor.id === draggable2.descriptor.id) {
      return draggablePage.borderBox.center;
    }
    if (didStartAfterCritical(last.descriptor.id, afterCritical)) {
      var page = offset2(last.page, negate(afterCritical.displacedBy.point));
      return goAfter({
        axis,
        moveRelativeTo: page,
        isMoving: draggablePage
      });
    }
    return goAfter({
      axis,
      moveRelativeTo: last.page,
      isMoving: draggablePage
    });
  };
  var withDroppableDisplacement = function(droppable2, point) {
    var frame = droppable2.frame;
    if (!frame) {
      return point;
    }
    return add(point, frame.scroll.diff.displacement);
  };
  var getResultWithoutDroppableDisplacement = function getResultWithoutDroppableDisplacement2(_ref) {
    var impact = _ref.impact, draggable2 = _ref.draggable, droppable2 = _ref.droppable, draggables = _ref.draggables, afterCritical = _ref.afterCritical;
    var original = draggable2.page.borderBox.center;
    var at = impact.at;
    if (!droppable2) {
      return original;
    }
    if (!at) {
      return original;
    }
    if (at.type === "REORDER") {
      return whenReordering({
        impact,
        draggable: draggable2,
        draggables,
        droppable: droppable2,
        afterCritical
      });
    }
    return whenCombining({
      impact,
      draggables,
      afterCritical
    });
  };
  var getPageBorderBoxCenterFromImpact = function(args) {
    var withoutDisplacement = getResultWithoutDroppableDisplacement(args);
    var droppable2 = args.droppable;
    var withDisplacement = droppable2 ? withDroppableDisplacement(droppable2, withoutDisplacement) : withoutDisplacement;
    return withDisplacement;
  };
  var scrollViewport = function(viewport2, newScroll) {
    var diff = subtract(newScroll, viewport2.scroll.initial);
    var displacement = negate(diff);
    var frame = getRect({
      top: newScroll.y,
      bottom: newScroll.y + viewport2.frame.height,
      left: newScroll.x,
      right: newScroll.x + viewport2.frame.width
    });
    var updated = {
      frame,
      scroll: {
        initial: viewport2.scroll.initial,
        max: viewport2.scroll.max,
        current: newScroll,
        diff: {
          value: diff,
          displacement
        }
      }
    };
    return updated;
  };
  function getDraggables(ids, draggables) {
    return ids.map(function(id) {
      return draggables[id];
    });
  }
  function tryGetVisible(id, groups) {
    for (var i3 = 0; i3 < groups.length; i3++) {
      var displacement = groups[i3].visible[id];
      if (displacement) {
        return displacement;
      }
    }
    return null;
  }
  var speculativelyIncrease = function(_ref) {
    var impact = _ref.impact, viewport2 = _ref.viewport, destination = _ref.destination, draggables = _ref.draggables, maxScrollChange = _ref.maxScrollChange;
    var scrolledViewport = scrollViewport(viewport2, add(viewport2.scroll.current, maxScrollChange));
    var scrolledDroppable = destination.frame ? scrollDroppable(destination, add(destination.frame.scroll.current, maxScrollChange)) : destination;
    var last = impact.displaced;
    var withViewportScroll = getDisplacementGroups({
      afterDragging: getDraggables(last.all, draggables),
      destination,
      displacedBy: impact.displacedBy,
      viewport: scrolledViewport.frame,
      last,
      forceShouldAnimate: false
    });
    var withDroppableScroll2 = getDisplacementGroups({
      afterDragging: getDraggables(last.all, draggables),
      destination: scrolledDroppable,
      displacedBy: impact.displacedBy,
      viewport: viewport2.frame,
      last,
      forceShouldAnimate: false
    });
    var invisible = {};
    var visible = {};
    var groups = [last, withViewportScroll, withDroppableScroll2];
    last.all.forEach(function(id) {
      var displacement = tryGetVisible(id, groups);
      if (displacement) {
        visible[id] = displacement;
        return;
      }
      invisible[id] = true;
    });
    var newImpact = _extends({}, impact, {
      displaced: {
        all: last.all,
        invisible,
        visible
      }
    });
    return newImpact;
  };
  var withViewportDisplacement = function(viewport2, point) {
    return add(viewport2.scroll.diff.displacement, point);
  };
  var getClientFromPageBorderBoxCenter = function(_ref) {
    var pageBorderBoxCenter = _ref.pageBorderBoxCenter, draggable2 = _ref.draggable, viewport2 = _ref.viewport;
    var withoutPageScrollChange = withViewportDisplacement(viewport2, pageBorderBoxCenter);
    var offset4 = subtract(withoutPageScrollChange, draggable2.page.borderBox.center);
    return add(draggable2.client.borderBox.center, offset4);
  };
  var isTotallyVisibleInNewLocation = function(_ref) {
    var draggable2 = _ref.draggable, destination = _ref.destination, newPageBorderBoxCenter = _ref.newPageBorderBoxCenter, viewport2 = _ref.viewport, withDroppableDisplacement2 = _ref.withDroppableDisplacement, _ref$onlyOnMainAxis = _ref.onlyOnMainAxis, onlyOnMainAxis = _ref$onlyOnMainAxis === void 0 ? false : _ref$onlyOnMainAxis;
    var changeNeeded = subtract(newPageBorderBoxCenter, draggable2.page.borderBox.center);
    var shifted = offsetByPosition(draggable2.page.borderBox, changeNeeded);
    var args = {
      target: shifted,
      destination,
      withDroppableDisplacement: withDroppableDisplacement2,
      viewport: viewport2
    };
    return onlyOnMainAxis ? isTotallyVisibleOnAxis(args) : isTotallyVisible(args);
  };
  var moveToNextPlace = function(_ref) {
    var isMovingForward = _ref.isMovingForward, draggable2 = _ref.draggable, destination = _ref.destination, draggables = _ref.draggables, previousImpact = _ref.previousImpact, viewport2 = _ref.viewport, previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter, previousClientSelection = _ref.previousClientSelection, afterCritical = _ref.afterCritical;
    if (!destination.isEnabled) {
      return null;
    }
    var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);
    var isInHomeList = isHomeOf(draggable2, destination);
    var impact = moveToNextCombine({
      isMovingForward,
      draggable: draggable2,
      destination,
      insideDestination,
      previousImpact
    }) || moveToNextIndex({
      isMovingForward,
      isInHomeList,
      draggable: draggable2,
      draggables,
      destination,
      insideDestination,
      previousImpact,
      viewport: viewport2,
      afterCritical
    });
    if (!impact) {
      return null;
    }
    var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({
      impact,
      draggable: draggable2,
      droppable: destination,
      draggables,
      afterCritical
    });
    var isVisibleInNewLocation = isTotallyVisibleInNewLocation({
      draggable: draggable2,
      destination,
      newPageBorderBoxCenter: pageBorderBoxCenter,
      viewport: viewport2.frame,
      withDroppableDisplacement: false,
      onlyOnMainAxis: true
    });
    if (isVisibleInNewLocation) {
      var clientSelection = getClientFromPageBorderBoxCenter({
        pageBorderBoxCenter,
        draggable: draggable2,
        viewport: viewport2
      });
      return {
        clientSelection,
        impact,
        scrollJumpRequest: null
      };
    }
    var distance3 = subtract(pageBorderBoxCenter, previousPageBorderBoxCenter);
    var cautious = speculativelyIncrease({
      impact,
      viewport: viewport2,
      destination,
      draggables,
      maxScrollChange: distance3
    });
    return {
      clientSelection: previousClientSelection,
      impact: cautious,
      scrollJumpRequest: distance3
    };
  };
  var getKnownActive = function getKnownActive2(droppable2) {
    var rect = droppable2.subject.active;
    !rect ? true ? invariant2(false, "Cannot get clipped area from droppable") : invariant2(false) : void 0;
    return rect;
  };
  var getBestCrossAxisDroppable = function(_ref) {
    var isMovingForward = _ref.isMovingForward, pageBorderBoxCenter = _ref.pageBorderBoxCenter, source = _ref.source, droppables = _ref.droppables, viewport2 = _ref.viewport;
    var active = source.subject.active;
    if (!active) {
      return null;
    }
    var axis = source.axis;
    var isBetweenSourceClipped = isWithin(active[axis.start], active[axis.end]);
    var candidates = toDroppableList(droppables).filter(function(droppable2) {
      return droppable2 !== source;
    }).filter(function(droppable2) {
      return droppable2.isEnabled;
    }).filter(function(droppable2) {
      return Boolean(droppable2.subject.active);
    }).filter(function(droppable2) {
      return isPartiallyVisibleThroughFrame(viewport2.frame)(getKnownActive(droppable2));
    }).filter(function(droppable2) {
      var activeOfTarget = getKnownActive(droppable2);
      if (isMovingForward) {
        return active[axis.crossAxisEnd] < activeOfTarget[axis.crossAxisEnd];
      }
      return activeOfTarget[axis.crossAxisStart] < active[axis.crossAxisStart];
    }).filter(function(droppable2) {
      var activeOfTarget = getKnownActive(droppable2);
      var isBetweenDestinationClipped = isWithin(activeOfTarget[axis.start], activeOfTarget[axis.end]);
      return isBetweenSourceClipped(activeOfTarget[axis.start]) || isBetweenSourceClipped(activeOfTarget[axis.end]) || isBetweenDestinationClipped(active[axis.start]) || isBetweenDestinationClipped(active[axis.end]);
    }).sort(function(a3, b3) {
      var first = getKnownActive(a3)[axis.crossAxisStart];
      var second = getKnownActive(b3)[axis.crossAxisStart];
      if (isMovingForward) {
        return first - second;
      }
      return second - first;
    }).filter(function(droppable2, index2, array) {
      return getKnownActive(droppable2)[axis.crossAxisStart] === getKnownActive(array[0])[axis.crossAxisStart];
    });
    if (!candidates.length) {
      return null;
    }
    if (candidates.length === 1) {
      return candidates[0];
    }
    var contains2 = candidates.filter(function(droppable2) {
      var isWithinDroppable = isWithin(getKnownActive(droppable2)[axis.start], getKnownActive(droppable2)[axis.end]);
      return isWithinDroppable(pageBorderBoxCenter[axis.line]);
    });
    if (contains2.length === 1) {
      return contains2[0];
    }
    if (contains2.length > 1) {
      return contains2.sort(function(a3, b3) {
        return getKnownActive(a3)[axis.start] - getKnownActive(b3)[axis.start];
      })[0];
    }
    return candidates.sort(function(a3, b3) {
      var first = closest(pageBorderBoxCenter, getCorners(getKnownActive(a3)));
      var second = closest(pageBorderBoxCenter, getCorners(getKnownActive(b3)));
      if (first !== second) {
        return first - second;
      }
      return getKnownActive(a3)[axis.start] - getKnownActive(b3)[axis.start];
    })[0];
  };
  var getCurrentPageBorderBoxCenter = function getCurrentPageBorderBoxCenter2(draggable2, afterCritical) {
    var original = draggable2.page.borderBox.center;
    return didStartAfterCritical(draggable2.descriptor.id, afterCritical) ? subtract(original, afterCritical.displacedBy.point) : original;
  };
  var getCurrentPageBorderBox = function getCurrentPageBorderBox2(draggable2, afterCritical) {
    var original = draggable2.page.borderBox;
    return didStartAfterCritical(draggable2.descriptor.id, afterCritical) ? offsetByPosition(original, negate(afterCritical.displacedBy.point)) : original;
  };
  var getClosestDraggable = function(_ref) {
    var pageBorderBoxCenter = _ref.pageBorderBoxCenter, viewport2 = _ref.viewport, destination = _ref.destination, insideDestination = _ref.insideDestination, afterCritical = _ref.afterCritical;
    var sorted = insideDestination.filter(function(draggable2) {
      return isTotallyVisible({
        target: getCurrentPageBorderBox(draggable2, afterCritical),
        destination,
        viewport: viewport2.frame,
        withDroppableDisplacement: true
      });
    }).sort(function(a3, b3) {
      var distanceToA = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(a3, afterCritical)));
      var distanceToB = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(b3, afterCritical)));
      if (distanceToA < distanceToB) {
        return -1;
      }
      if (distanceToB < distanceToA) {
        return 1;
      }
      return a3.descriptor.index - b3.descriptor.index;
    });
    return sorted[0] || null;
  };
  var getDisplacedBy = memoize_one_esm_default(function getDisplacedBy2(axis, displaceBy) {
    var displacement = displaceBy[axis.line];
    return {
      value: displacement,
      point: patch(axis.line, displacement)
    };
  });
  var getRequiredGrowthForPlaceholder = function getRequiredGrowthForPlaceholder2(droppable2, placeholderSize, draggables) {
    var axis = droppable2.axis;
    if (droppable2.descriptor.mode === "virtual") {
      return patch(axis.line, placeholderSize[axis.line]);
    }
    var availableSpace = droppable2.subject.page.contentBox[axis.size];
    var insideDroppable = getDraggablesInsideDroppable(droppable2.descriptor.id, draggables);
    var spaceUsed = insideDroppable.reduce(function(sum, dimension) {
      return sum + dimension.client.marginBox[axis.size];
    }, 0);
    var requiredSpace = spaceUsed + placeholderSize[axis.line];
    var needsToGrowBy = requiredSpace - availableSpace;
    if (needsToGrowBy <= 0) {
      return null;
    }
    return patch(axis.line, needsToGrowBy);
  };
  var withMaxScroll = function withMaxScroll2(frame, max2) {
    return _extends({}, frame, {
      scroll: _extends({}, frame.scroll, {
        max: max2
      })
    });
  };
  var addPlaceholder = function addPlaceholder2(droppable2, draggable2, draggables) {
    var frame = droppable2.frame;
    !!isHomeOf(draggable2, droppable2) ? true ? invariant2(false, "Should not add placeholder space to home list") : invariant2(false) : void 0;
    !!droppable2.subject.withPlaceholder ? true ? invariant2(false, "Cannot add placeholder size to a subject when it already has one") : invariant2(false) : void 0;
    var placeholderSize = getDisplacedBy(droppable2.axis, draggable2.displaceBy).point;
    var requiredGrowth = getRequiredGrowthForPlaceholder(droppable2, placeholderSize, draggables);
    var added = {
      placeholderSize,
      increasedBy: requiredGrowth,
      oldFrameMaxScroll: droppable2.frame ? droppable2.frame.scroll.max : null
    };
    if (!frame) {
      var _subject = getSubject({
        page: droppable2.subject.page,
        withPlaceholder: added,
        axis: droppable2.axis,
        frame: droppable2.frame
      });
      return _extends({}, droppable2, {
        subject: _subject
      });
    }
    var maxScroll = requiredGrowth ? add(frame.scroll.max, requiredGrowth) : frame.scroll.max;
    var newFrame = withMaxScroll(frame, maxScroll);
    var subject = getSubject({
      page: droppable2.subject.page,
      withPlaceholder: added,
      axis: droppable2.axis,
      frame: newFrame
    });
    return _extends({}, droppable2, {
      subject,
      frame: newFrame
    });
  };
  var removePlaceholder = function removePlaceholder2(droppable2) {
    var added = droppable2.subject.withPlaceholder;
    !added ? true ? invariant2(false, "Cannot remove placeholder form subject when there was none") : invariant2(false) : void 0;
    var frame = droppable2.frame;
    if (!frame) {
      var _subject2 = getSubject({
        page: droppable2.subject.page,
        axis: droppable2.axis,
        frame: null,
        withPlaceholder: null
      });
      return _extends({}, droppable2, {
        subject: _subject2
      });
    }
    var oldMaxScroll = added.oldFrameMaxScroll;
    !oldMaxScroll ? true ? invariant2(false, "Expected droppable with frame to have old max frame scroll when removing placeholder") : invariant2(false) : void 0;
    var newFrame = withMaxScroll(frame, oldMaxScroll);
    var subject = getSubject({
      page: droppable2.subject.page,
      axis: droppable2.axis,
      frame: newFrame,
      withPlaceholder: null
    });
    return _extends({}, droppable2, {
      subject,
      frame: newFrame
    });
  };
  var moveToNewDroppable = function(_ref) {
    var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter, moveRelativeTo = _ref.moveRelativeTo, insideDestination = _ref.insideDestination, draggable2 = _ref.draggable, draggables = _ref.draggables, destination = _ref.destination, viewport2 = _ref.viewport, afterCritical = _ref.afterCritical;
    if (!moveRelativeTo) {
      if (insideDestination.length) {
        return null;
      }
      var proposed = {
        displaced: emptyGroups,
        displacedBy: noDisplacedBy,
        at: {
          type: "REORDER",
          destination: {
            droppableId: destination.descriptor.id,
            index: 0
          }
        }
      };
      var proposedPageBorderBoxCenter = getPageBorderBoxCenterFromImpact({
        impact: proposed,
        draggable: draggable2,
        droppable: destination,
        draggables,
        afterCritical
      });
      var withPlaceholder = isHomeOf(draggable2, destination) ? destination : addPlaceholder(destination, draggable2, draggables);
      var isVisibleInNewLocation = isTotallyVisibleInNewLocation({
        draggable: draggable2,
        destination: withPlaceholder,
        newPageBorderBoxCenter: proposedPageBorderBoxCenter,
        viewport: viewport2.frame,
        withDroppableDisplacement: false,
        onlyOnMainAxis: true
      });
      return isVisibleInNewLocation ? proposed : null;
    }
    var isGoingBeforeTarget = Boolean(previousPageBorderBoxCenter[destination.axis.line] <= moveRelativeTo.page.borderBox.center[destination.axis.line]);
    var proposedIndex = function() {
      var relativeTo = moveRelativeTo.descriptor.index;
      if (moveRelativeTo.descriptor.id === draggable2.descriptor.id) {
        return relativeTo;
      }
      if (isGoingBeforeTarget) {
        return relativeTo;
      }
      return relativeTo + 1;
    }();
    var displacedBy = getDisplacedBy(destination.axis, draggable2.displaceBy);
    return calculateReorderImpact({
      draggable: draggable2,
      insideDestination,
      destination,
      viewport: viewport2,
      displacedBy,
      last: emptyGroups,
      index: proposedIndex
    });
  };
  var moveCrossAxis = function(_ref) {
    var isMovingForward = _ref.isMovingForward, previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter, draggable2 = _ref.draggable, isOver = _ref.isOver, draggables = _ref.draggables, droppables = _ref.droppables, viewport2 = _ref.viewport, afterCritical = _ref.afterCritical;
    var destination = getBestCrossAxisDroppable({
      isMovingForward,
      pageBorderBoxCenter: previousPageBorderBoxCenter,
      source: isOver,
      droppables,
      viewport: viewport2
    });
    if (!destination) {
      return null;
    }
    var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);
    var moveRelativeTo = getClosestDraggable({
      pageBorderBoxCenter: previousPageBorderBoxCenter,
      viewport: viewport2,
      destination,
      insideDestination,
      afterCritical
    });
    var impact = moveToNewDroppable({
      previousPageBorderBoxCenter,
      destination,
      draggable: draggable2,
      draggables,
      moveRelativeTo,
      insideDestination,
      viewport: viewport2,
      afterCritical
    });
    if (!impact) {
      return null;
    }
    var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({
      impact,
      draggable: draggable2,
      droppable: destination,
      draggables,
      afterCritical
    });
    var clientSelection = getClientFromPageBorderBoxCenter({
      pageBorderBoxCenter,
      draggable: draggable2,
      viewport: viewport2
    });
    return {
      clientSelection,
      impact,
      scrollJumpRequest: null
    };
  };
  var whatIsDraggedOver = function(impact) {
    var at = impact.at;
    if (!at) {
      return null;
    }
    if (at.type === "REORDER") {
      return at.destination.droppableId;
    }
    return at.combine.droppableId;
  };
  var getDroppableOver = function getDroppableOver2(impact, droppables) {
    var id = whatIsDraggedOver(impact);
    return id ? droppables[id] : null;
  };
  var moveInDirection = function(_ref) {
    var state = _ref.state, type = _ref.type;
    var isActuallyOver = getDroppableOver(state.impact, state.dimensions.droppables);
    var isMainAxisMovementAllowed = Boolean(isActuallyOver);
    var home2 = state.dimensions.droppables[state.critical.droppable.id];
    var isOver = isActuallyOver || home2;
    var direction = isOver.axis.direction;
    var isMovingOnMainAxis = direction === "vertical" && (type === "MOVE_UP" || type === "MOVE_DOWN") || direction === "horizontal" && (type === "MOVE_LEFT" || type === "MOVE_RIGHT");
    if (isMovingOnMainAxis && !isMainAxisMovementAllowed) {
      return null;
    }
    var isMovingForward = type === "MOVE_DOWN" || type === "MOVE_RIGHT";
    var draggable2 = state.dimensions.draggables[state.critical.draggable.id];
    var previousPageBorderBoxCenter = state.current.page.borderBoxCenter;
    var _state$dimensions = state.dimensions, draggables = _state$dimensions.draggables, droppables = _state$dimensions.droppables;
    return isMovingOnMainAxis ? moveToNextPlace({
      isMovingForward,
      previousPageBorderBoxCenter,
      draggable: draggable2,
      destination: isOver,
      draggables,
      viewport: state.viewport,
      previousClientSelection: state.current.client.selection,
      previousImpact: state.impact,
      afterCritical: state.afterCritical
    }) : moveCrossAxis({
      isMovingForward,
      previousPageBorderBoxCenter,
      draggable: draggable2,
      isOver,
      draggables,
      droppables,
      viewport: state.viewport,
      afterCritical: state.afterCritical
    });
  };
  function isMovementAllowed(state) {
    return state.phase === "DRAGGING" || state.phase === "COLLECTING";
  }
  function isPositionInFrame(frame) {
    var isWithinVertical = isWithin(frame.top, frame.bottom);
    var isWithinHorizontal = isWithin(frame.left, frame.right);
    return function run(point) {
      return isWithinVertical(point.y) && isWithinHorizontal(point.x);
    };
  }
  function getHasOverlap(first, second) {
    return first.left < second.right && first.right > second.left && first.top < second.bottom && first.bottom > second.top;
  }
  function getFurthestAway(_ref) {
    var pageBorderBox = _ref.pageBorderBox, draggable2 = _ref.draggable, candidates = _ref.candidates;
    var startCenter = draggable2.page.borderBox.center;
    var sorted = candidates.map(function(candidate) {
      var axis = candidate.axis;
      var target = patch(candidate.axis.line, pageBorderBox.center[axis.line], candidate.page.borderBox.center[axis.crossAxisLine]);
      return {
        id: candidate.descriptor.id,
        distance: distance(startCenter, target)
      };
    }).sort(function(a3, b3) {
      return b3.distance - a3.distance;
    });
    return sorted[0] ? sorted[0].id : null;
  }
  function getDroppableOver$1(_ref2) {
    var pageBorderBox = _ref2.pageBorderBox, draggable2 = _ref2.draggable, droppables = _ref2.droppables;
    var candidates = toDroppableList(droppables).filter(function(item) {
      if (!item.isEnabled) {
        return false;
      }
      var active = item.subject.active;
      if (!active) {
        return false;
      }
      if (!getHasOverlap(pageBorderBox, active)) {
        return false;
      }
      if (isPositionInFrame(active)(pageBorderBox.center)) {
        return true;
      }
      var axis = item.axis;
      var childCenter = active.center[axis.crossAxisLine];
      var crossAxisStart = pageBorderBox[axis.crossAxisStart];
      var crossAxisEnd = pageBorderBox[axis.crossAxisEnd];
      var isContained = isWithin(active[axis.crossAxisStart], active[axis.crossAxisEnd]);
      var isStartContained = isContained(crossAxisStart);
      var isEndContained = isContained(crossAxisEnd);
      if (!isStartContained && !isEndContained) {
        return true;
      }
      if (isStartContained) {
        return crossAxisStart < childCenter;
      }
      return crossAxisEnd > childCenter;
    });
    if (!candidates.length) {
      return null;
    }
    if (candidates.length === 1) {
      return candidates[0].descriptor.id;
    }
    return getFurthestAway({
      pageBorderBox,
      draggable: draggable2,
      candidates
    });
  }
  var offsetRectByPosition = function offsetRectByPosition2(rect, point) {
    return getRect(offsetByPosition(rect, point));
  };
  var withDroppableScroll = function(droppable2, area) {
    var frame = droppable2.frame;
    if (!frame) {
      return area;
    }
    return offsetRectByPosition(area, frame.scroll.diff.value);
  };
  function getIsDisplaced(_ref) {
    var displaced = _ref.displaced, id = _ref.id;
    return Boolean(displaced.visible[id] || displaced.invisible[id]);
  }
  function atIndex(_ref) {
    var draggable2 = _ref.draggable, closest3 = _ref.closest, inHomeList = _ref.inHomeList;
    if (!closest3) {
      return null;
    }
    if (!inHomeList) {
      return closest3.descriptor.index;
    }
    if (closest3.descriptor.index > draggable2.descriptor.index) {
      return closest3.descriptor.index - 1;
    }
    return closest3.descriptor.index;
  }
  var getReorderImpact = function(_ref2) {
    var targetRect = _ref2.pageBorderBoxWithDroppableScroll, draggable2 = _ref2.draggable, destination = _ref2.destination, insideDestination = _ref2.insideDestination, last = _ref2.last, viewport2 = _ref2.viewport, afterCritical = _ref2.afterCritical;
    var axis = destination.axis;
    var displacedBy = getDisplacedBy(destination.axis, draggable2.displaceBy);
    var displacement = displacedBy.value;
    var targetStart = targetRect[axis.start];
    var targetEnd = targetRect[axis.end];
    var withoutDragging = removeDraggableFromList(draggable2, insideDestination);
    var closest3 = find(withoutDragging, function(child) {
      var id = child.descriptor.id;
      var childCenter = child.page.borderBox.center[axis.line];
      var didStartAfterCritical$1 = didStartAfterCritical(id, afterCritical);
      var isDisplaced = getIsDisplaced({
        displaced: last,
        id
      });
      if (didStartAfterCritical$1) {
        if (isDisplaced) {
          return targetEnd <= childCenter;
        }
        return targetStart < childCenter - displacement;
      }
      if (isDisplaced) {
        return targetEnd <= childCenter + displacement;
      }
      return targetStart < childCenter;
    });
    var newIndex = atIndex({
      draggable: draggable2,
      closest: closest3,
      inHomeList: isHomeOf(draggable2, destination)
    });
    return calculateReorderImpact({
      draggable: draggable2,
      insideDestination,
      destination,
      viewport: viewport2,
      last,
      displacedBy,
      index: newIndex
    });
  };
  var combineThresholdDivisor = 4;
  var getCombineImpact = function(_ref) {
    var draggable2 = _ref.draggable, targetRect = _ref.pageBorderBoxWithDroppableScroll, previousImpact = _ref.previousImpact, destination = _ref.destination, insideDestination = _ref.insideDestination, afterCritical = _ref.afterCritical;
    if (!destination.isCombineEnabled) {
      return null;
    }
    var axis = destination.axis;
    var displacedBy = getDisplacedBy(destination.axis, draggable2.displaceBy);
    var displacement = displacedBy.value;
    var targetStart = targetRect[axis.start];
    var targetEnd = targetRect[axis.end];
    var withoutDragging = removeDraggableFromList(draggable2, insideDestination);
    var combineWith = find(withoutDragging, function(child) {
      var id = child.descriptor.id;
      var childRect = child.page.borderBox;
      var childSize = childRect[axis.size];
      var threshold = childSize / combineThresholdDivisor;
      var didStartAfterCritical$1 = didStartAfterCritical(id, afterCritical);
      var isDisplaced = getIsDisplaced({
        displaced: previousImpact.displaced,
        id
      });
      if (didStartAfterCritical$1) {
        if (isDisplaced) {
          return targetEnd > childRect[axis.start] + threshold && targetEnd < childRect[axis.end] - threshold;
        }
        return targetStart > childRect[axis.start] - displacement + threshold && targetStart < childRect[axis.end] - displacement - threshold;
      }
      if (isDisplaced) {
        return targetEnd > childRect[axis.start] + displacement + threshold && targetEnd < childRect[axis.end] + displacement - threshold;
      }
      return targetStart > childRect[axis.start] + threshold && targetStart < childRect[axis.end] - threshold;
    });
    if (!combineWith) {
      return null;
    }
    var impact = {
      displacedBy,
      displaced: previousImpact.displaced,
      at: {
        type: "COMBINE",
        combine: {
          draggableId: combineWith.descriptor.id,
          droppableId: destination.descriptor.id
        }
      }
    };
    return impact;
  };
  var getDragImpact = function(_ref) {
    var pageOffset = _ref.pageOffset, draggable2 = _ref.draggable, draggables = _ref.draggables, droppables = _ref.droppables, previousImpact = _ref.previousImpact, viewport2 = _ref.viewport, afterCritical = _ref.afterCritical;
    var pageBorderBox = offsetRectByPosition(draggable2.page.borderBox, pageOffset);
    var destinationId = getDroppableOver$1({
      pageBorderBox,
      draggable: draggable2,
      droppables
    });
    if (!destinationId) {
      return noImpact;
    }
    var destination = droppables[destinationId];
    var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);
    var pageBorderBoxWithDroppableScroll = withDroppableScroll(destination, pageBorderBox);
    return getCombineImpact({
      pageBorderBoxWithDroppableScroll,
      draggable: draggable2,
      previousImpact,
      destination,
      insideDestination,
      afterCritical
    }) || getReorderImpact({
      pageBorderBoxWithDroppableScroll,
      draggable: draggable2,
      destination,
      insideDestination,
      last: previousImpact.displaced,
      viewport: viewport2,
      afterCritical
    });
  };
  var patchDroppableMap = function(droppables, updated) {
    var _extends22;
    return _extends({}, droppables, (_extends22 = {}, _extends22[updated.descriptor.id] = updated, _extends22));
  };
  var clearUnusedPlaceholder = function clearUnusedPlaceholder2(_ref) {
    var previousImpact = _ref.previousImpact, impact = _ref.impact, droppables = _ref.droppables;
    var last = whatIsDraggedOver(previousImpact);
    var now = whatIsDraggedOver(impact);
    if (!last) {
      return droppables;
    }
    if (last === now) {
      return droppables;
    }
    var lastDroppable = droppables[last];
    if (!lastDroppable.subject.withPlaceholder) {
      return droppables;
    }
    var updated = removePlaceholder(lastDroppable);
    return patchDroppableMap(droppables, updated);
  };
  var recomputePlaceholders = function(_ref2) {
    var draggable2 = _ref2.draggable, draggables = _ref2.draggables, droppables = _ref2.droppables, previousImpact = _ref2.previousImpact, impact = _ref2.impact;
    var cleaned = clearUnusedPlaceholder({
      previousImpact,
      impact,
      droppables
    });
    var isOver = whatIsDraggedOver(impact);
    if (!isOver) {
      return cleaned;
    }
    var droppable2 = droppables[isOver];
    if (isHomeOf(draggable2, droppable2)) {
      return cleaned;
    }
    if (droppable2.subject.withPlaceholder) {
      return cleaned;
    }
    var patched = addPlaceholder(droppable2, draggable2, draggables);
    return patchDroppableMap(cleaned, patched);
  };
  var update = function(_ref) {
    var state = _ref.state, forcedClientSelection = _ref.clientSelection, forcedDimensions = _ref.dimensions, forcedViewport = _ref.viewport, forcedImpact = _ref.impact, scrollJumpRequest = _ref.scrollJumpRequest;
    var viewport2 = forcedViewport || state.viewport;
    var dimensions = forcedDimensions || state.dimensions;
    var clientSelection = forcedClientSelection || state.current.client.selection;
    var offset4 = subtract(clientSelection, state.initial.client.selection);
    var client = {
      offset: offset4,
      selection: clientSelection,
      borderBoxCenter: add(state.initial.client.borderBoxCenter, offset4)
    };
    var page = {
      selection: add(client.selection, viewport2.scroll.current),
      borderBoxCenter: add(client.borderBoxCenter, viewport2.scroll.current),
      offset: add(client.offset, viewport2.scroll.diff.value)
    };
    var current = {
      client,
      page
    };
    if (state.phase === "COLLECTING") {
      return _extends({
        phase: "COLLECTING"
      }, state, {
        dimensions,
        viewport: viewport2,
        current
      });
    }
    var draggable2 = dimensions.draggables[state.critical.draggable.id];
    var newImpact = forcedImpact || getDragImpact({
      pageOffset: page.offset,
      draggable: draggable2,
      draggables: dimensions.draggables,
      droppables: dimensions.droppables,
      previousImpact: state.impact,
      viewport: viewport2,
      afterCritical: state.afterCritical
    });
    var withUpdatedPlaceholders = recomputePlaceholders({
      draggable: draggable2,
      impact: newImpact,
      previousImpact: state.impact,
      draggables: dimensions.draggables,
      droppables: dimensions.droppables
    });
    var result = _extends({}, state, {
      current,
      dimensions: {
        draggables: dimensions.draggables,
        droppables: withUpdatedPlaceholders
      },
      impact: newImpact,
      viewport: viewport2,
      scrollJumpRequest: scrollJumpRequest || null,
      forceShouldAnimate: scrollJumpRequest ? false : null
    });
    return result;
  };
  function getDraggables$1(ids, draggables) {
    return ids.map(function(id) {
      return draggables[id];
    });
  }
  var recompute = function(_ref) {
    var impact = _ref.impact, viewport2 = _ref.viewport, draggables = _ref.draggables, destination = _ref.destination, forceShouldAnimate = _ref.forceShouldAnimate;
    var last = impact.displaced;
    var afterDragging = getDraggables$1(last.all, draggables);
    var displaced = getDisplacementGroups({
      afterDragging,
      destination,
      displacedBy: impact.displacedBy,
      viewport: viewport2.frame,
      forceShouldAnimate,
      last
    });
    return _extends({}, impact, {
      displaced
    });
  };
  var getClientBorderBoxCenter = function(_ref) {
    var impact = _ref.impact, draggable2 = _ref.draggable, droppable2 = _ref.droppable, draggables = _ref.draggables, viewport2 = _ref.viewport, afterCritical = _ref.afterCritical;
    var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({
      impact,
      draggable: draggable2,
      draggables,
      droppable: droppable2,
      afterCritical
    });
    return getClientFromPageBorderBoxCenter({
      pageBorderBoxCenter,
      draggable: draggable2,
      viewport: viewport2
    });
  };
  var refreshSnap = function(_ref) {
    var state = _ref.state, forcedDimensions = _ref.dimensions, forcedViewport = _ref.viewport;
    !(state.movementMode === "SNAP") ? true ? invariant2(false) : invariant2(false) : void 0;
    var needsVisibilityCheck = state.impact;
    var viewport2 = forcedViewport || state.viewport;
    var dimensions = forcedDimensions || state.dimensions;
    var draggables = dimensions.draggables, droppables = dimensions.droppables;
    var draggable2 = draggables[state.critical.draggable.id];
    var isOver = whatIsDraggedOver(needsVisibilityCheck);
    !isOver ? true ? invariant2(false, "Must be over a destination in SNAP movement mode") : invariant2(false) : void 0;
    var destination = droppables[isOver];
    var impact = recompute({
      impact: needsVisibilityCheck,
      viewport: viewport2,
      destination,
      draggables
    });
    var clientSelection = getClientBorderBoxCenter({
      impact,
      draggable: draggable2,
      droppable: destination,
      draggables,
      viewport: viewport2,
      afterCritical: state.afterCritical
    });
    return update({
      impact,
      clientSelection,
      state,
      dimensions,
      viewport: viewport2
    });
  };
  var getHomeLocation = function(descriptor) {
    return {
      index: descriptor.index,
      droppableId: descriptor.droppableId
    };
  };
  var getLiftEffect = function(_ref) {
    var draggable2 = _ref.draggable, home2 = _ref.home, draggables = _ref.draggables, viewport2 = _ref.viewport;
    var displacedBy = getDisplacedBy(home2.axis, draggable2.displaceBy);
    var insideHome = getDraggablesInsideDroppable(home2.descriptor.id, draggables);
    var rawIndex = insideHome.indexOf(draggable2);
    !(rawIndex !== -1) ? true ? invariant2(false, "Expected draggable to be inside home list") : invariant2(false) : void 0;
    var afterDragging = insideHome.slice(rawIndex + 1);
    var effected = afterDragging.reduce(function(previous, item) {
      previous[item.descriptor.id] = true;
      return previous;
    }, {});
    var afterCritical = {
      inVirtualList: home2.descriptor.mode === "virtual",
      displacedBy,
      effected
    };
    var displaced = getDisplacementGroups({
      afterDragging,
      destination: home2,
      displacedBy,
      last: null,
      viewport: viewport2.frame,
      forceShouldAnimate: false
    });
    var impact = {
      displaced,
      displacedBy,
      at: {
        type: "REORDER",
        destination: getHomeLocation(draggable2.descriptor)
      }
    };
    return {
      impact,
      afterCritical
    };
  };
  var patchDimensionMap = function(dimensions, updated) {
    return {
      draggables: dimensions.draggables,
      droppables: patchDroppableMap(dimensions.droppables, updated)
    };
  };
  var start2 = function start3(key) {
    if (true) {
      {
        return;
      }
    }
  };
  var finish = function finish2(key) {
    if (true) {
      {
        return;
      }
    }
  };
  var offsetDraggable = function(_ref) {
    var draggable2 = _ref.draggable, offset$1 = _ref.offset, initialWindowScroll = _ref.initialWindowScroll;
    var client = offset2(draggable2.client, offset$1);
    var page = withScroll(client, initialWindowScroll);
    var moved = _extends({}, draggable2, {
      placeholder: _extends({}, draggable2.placeholder, {
        client
      }),
      client,
      page
    });
    return moved;
  };
  var getFrame = function(droppable2) {
    var frame = droppable2.frame;
    !frame ? true ? invariant2(false, "Expected Droppable to have a frame") : invariant2(false) : void 0;
    return frame;
  };
  var adjustAdditionsForScrollChanges = function(_ref) {
    var additions = _ref.additions, updatedDroppables = _ref.updatedDroppables, viewport2 = _ref.viewport;
    var windowScrollChange = viewport2.scroll.diff.value;
    return additions.map(function(draggable2) {
      var droppableId = draggable2.descriptor.droppableId;
      var modified = updatedDroppables[droppableId];
      var frame = getFrame(modified);
      var droppableScrollChange = frame.scroll.diff.value;
      var totalChange = add(windowScrollChange, droppableScrollChange);
      var moved = offsetDraggable({
        draggable: draggable2,
        offset: totalChange,
        initialWindowScroll: viewport2.scroll.initial
      });
      return moved;
    });
  };
  var publishWhileDraggingInVirtual = function(_ref) {
    var state = _ref.state, published = _ref.published;
    start2();
    var withScrollChange = published.modified.map(function(update2) {
      var existing = state.dimensions.droppables[update2.droppableId];
      var scrolled = scrollDroppable(existing, update2.scroll);
      return scrolled;
    });
    var droppables = _extends({}, state.dimensions.droppables, {}, toDroppableMap(withScrollChange));
    var updatedAdditions = toDraggableMap(adjustAdditionsForScrollChanges({
      additions: published.additions,
      updatedDroppables: droppables,
      viewport: state.viewport
    }));
    var draggables = _extends({}, state.dimensions.draggables, {}, updatedAdditions);
    published.removals.forEach(function(id) {
      delete draggables[id];
    });
    var dimensions = {
      droppables,
      draggables
    };
    var wasOverId = whatIsDraggedOver(state.impact);
    var wasOver = wasOverId ? dimensions.droppables[wasOverId] : null;
    var draggable2 = dimensions.draggables[state.critical.draggable.id];
    var home2 = dimensions.droppables[state.critical.droppable.id];
    var _getLiftEffect = getLiftEffect({
      draggable: draggable2,
      home: home2,
      draggables,
      viewport: state.viewport
    }), onLiftImpact = _getLiftEffect.impact, afterCritical = _getLiftEffect.afterCritical;
    var previousImpact = wasOver && wasOver.isCombineEnabled ? state.impact : onLiftImpact;
    var impact = getDragImpact({
      pageOffset: state.current.page.offset,
      draggable: dimensions.draggables[state.critical.draggable.id],
      draggables: dimensions.draggables,
      droppables: dimensions.droppables,
      previousImpact,
      viewport: state.viewport,
      afterCritical
    });
    finish();
    var draggingState = _extends({
      phase: "DRAGGING"
    }, state, {
      phase: "DRAGGING",
      impact,
      onLiftImpact,
      dimensions,
      afterCritical,
      forceShouldAnimate: false
    });
    if (state.phase === "COLLECTING") {
      return draggingState;
    }
    var dropPending3 = _extends({
      phase: "DROP_PENDING"
    }, draggingState, {
      phase: "DROP_PENDING",
      reason: state.reason,
      isWaiting: false
    });
    return dropPending3;
  };
  var isSnapping = function isSnapping2(state) {
    return state.movementMode === "SNAP";
  };
  var postDroppableChange = function postDroppableChange2(state, updated, isEnabledChanging) {
    var dimensions = patchDimensionMap(state.dimensions, updated);
    if (!isSnapping(state) || isEnabledChanging) {
      return update({
        state,
        dimensions
      });
    }
    return refreshSnap({
      state,
      dimensions
    });
  };
  function removeScrollJumpRequest(state) {
    if (state.isDragging && state.movementMode === "SNAP") {
      return _extends({
        phase: "DRAGGING"
      }, state, {
        scrollJumpRequest: null
      });
    }
    return state;
  }
  var idle = {
    phase: "IDLE",
    completed: null,
    shouldFlush: false
  };
  var reducer4 = function(state, action) {
    if (state === void 0) {
      state = idle;
    }
    if (action.type === "FLUSH") {
      return _extends({}, idle, {
        shouldFlush: true
      });
    }
    if (action.type === "INITIAL_PUBLISH") {
      !(state.phase === "IDLE") ? true ? invariant2(false, "INITIAL_PUBLISH must come after a IDLE phase") : invariant2(false) : void 0;
      var _action$payload = action.payload, critical = _action$payload.critical, clientSelection = _action$payload.clientSelection, viewport2 = _action$payload.viewport, dimensions = _action$payload.dimensions, movementMode = _action$payload.movementMode;
      var draggable2 = dimensions.draggables[critical.draggable.id];
      var home2 = dimensions.droppables[critical.droppable.id];
      var client = {
        selection: clientSelection,
        borderBoxCenter: draggable2.client.borderBox.center,
        offset: origin
      };
      var initial = {
        client,
        page: {
          selection: add(client.selection, viewport2.scroll.initial),
          borderBoxCenter: add(client.selection, viewport2.scroll.initial),
          offset: add(client.selection, viewport2.scroll.diff.value)
        }
      };
      var isWindowScrollAllowed = toDroppableList(dimensions.droppables).every(function(item) {
        return !item.isFixedOnPage;
      });
      var _getLiftEffect = getLiftEffect({
        draggable: draggable2,
        home: home2,
        draggables: dimensions.draggables,
        viewport: viewport2
      }), impact = _getLiftEffect.impact, afterCritical = _getLiftEffect.afterCritical;
      var result = {
        phase: "DRAGGING",
        isDragging: true,
        critical,
        movementMode,
        dimensions,
        initial,
        current: initial,
        isWindowScrollAllowed,
        impact,
        afterCritical,
        onLiftImpact: impact,
        viewport: viewport2,
        scrollJumpRequest: null,
        forceShouldAnimate: null
      };
      return result;
    }
    if (action.type === "COLLECTION_STARTING") {
      if (state.phase === "COLLECTING" || state.phase === "DROP_PENDING") {
        return state;
      }
      !(state.phase === "DRAGGING") ? true ? invariant2(false, "Collection cannot start from phase " + state.phase) : invariant2(false) : void 0;
      var _result = _extends({
        phase: "COLLECTING"
      }, state, {
        phase: "COLLECTING"
      });
      return _result;
    }
    if (action.type === "PUBLISH_WHILE_DRAGGING") {
      !(state.phase === "COLLECTING" || state.phase === "DROP_PENDING") ? true ? invariant2(false, "Unexpected " + action.type + " received in phase " + state.phase) : invariant2(false) : void 0;
      return publishWhileDraggingInVirtual({
        state,
        published: action.payload
      });
    }
    if (action.type === "MOVE") {
      if (state.phase === "DROP_PENDING") {
        return state;
      }
      !isMovementAllowed(state) ? true ? invariant2(false, action.type + " not permitted in phase " + state.phase) : invariant2(false) : void 0;
      var _clientSelection = action.payload.client;
      if (isEqual2(_clientSelection, state.current.client.selection)) {
        return state;
      }
      return update({
        state,
        clientSelection: _clientSelection,
        impact: isSnapping(state) ? state.impact : null
      });
    }
    if (action.type === "UPDATE_DROPPABLE_SCROLL") {
      if (state.phase === "DROP_PENDING") {
        return removeScrollJumpRequest(state);
      }
      if (state.phase === "COLLECTING") {
        return removeScrollJumpRequest(state);
      }
      !isMovementAllowed(state) ? true ? invariant2(false, action.type + " not permitted in phase " + state.phase) : invariant2(false) : void 0;
      var _action$payload2 = action.payload, id = _action$payload2.id, newScroll = _action$payload2.newScroll;
      var target = state.dimensions.droppables[id];
      if (!target) {
        return state;
      }
      var scrolled = scrollDroppable(target, newScroll);
      return postDroppableChange(state, scrolled, false);
    }
    if (action.type === "UPDATE_DROPPABLE_IS_ENABLED") {
      if (state.phase === "DROP_PENDING") {
        return state;
      }
      !isMovementAllowed(state) ? true ? invariant2(false, "Attempting to move in an unsupported phase " + state.phase) : invariant2(false) : void 0;
      var _action$payload3 = action.payload, _id = _action$payload3.id, isEnabled = _action$payload3.isEnabled;
      var _target = state.dimensions.droppables[_id];
      !_target ? true ? invariant2(false, "Cannot find Droppable[id: " + _id + "] to toggle its enabled state") : invariant2(false) : void 0;
      !(_target.isEnabled !== isEnabled) ? true ? invariant2(false, "Trying to set droppable isEnabled to " + String(isEnabled) + "\n      but it is already " + String(_target.isEnabled)) : invariant2(false) : void 0;
      var updated = _extends({}, _target, {
        isEnabled
      });
      return postDroppableChange(state, updated, true);
    }
    if (action.type === "UPDATE_DROPPABLE_IS_COMBINE_ENABLED") {
      if (state.phase === "DROP_PENDING") {
        return state;
      }
      !isMovementAllowed(state) ? true ? invariant2(false, "Attempting to move in an unsupported phase " + state.phase) : invariant2(false) : void 0;
      var _action$payload4 = action.payload, _id2 = _action$payload4.id, isCombineEnabled = _action$payload4.isCombineEnabled;
      var _target2 = state.dimensions.droppables[_id2];
      !_target2 ? true ? invariant2(false, "Cannot find Droppable[id: " + _id2 + "] to toggle its isCombineEnabled state") : invariant2(false) : void 0;
      !(_target2.isCombineEnabled !== isCombineEnabled) ? true ? invariant2(false, "Trying to set droppable isCombineEnabled to " + String(isCombineEnabled) + "\n      but it is already " + String(_target2.isCombineEnabled)) : invariant2(false) : void 0;
      var _updated = _extends({}, _target2, {
        isCombineEnabled
      });
      return postDroppableChange(state, _updated, true);
    }
    if (action.type === "MOVE_BY_WINDOW_SCROLL") {
      if (state.phase === "DROP_PENDING" || state.phase === "DROP_ANIMATING") {
        return state;
      }
      !isMovementAllowed(state) ? true ? invariant2(false, "Cannot move by window in phase " + state.phase) : invariant2(false) : void 0;
      !state.isWindowScrollAllowed ? true ? invariant2(false, "Window scrolling is currently not supported for fixed lists") : invariant2(false) : void 0;
      var _newScroll = action.payload.newScroll;
      if (isEqual2(state.viewport.scroll.current, _newScroll)) {
        return removeScrollJumpRequest(state);
      }
      var _viewport = scrollViewport(state.viewport, _newScroll);
      if (isSnapping(state)) {
        return refreshSnap({
          state,
          viewport: _viewport
        });
      }
      return update({
        state,
        viewport: _viewport
      });
    }
    if (action.type === "UPDATE_VIEWPORT_MAX_SCROLL") {
      if (!isMovementAllowed(state)) {
        return state;
      }
      var maxScroll = action.payload.maxScroll;
      if (isEqual2(maxScroll, state.viewport.scroll.max)) {
        return state;
      }
      var withMaxScroll3 = _extends({}, state.viewport, {
        scroll: _extends({}, state.viewport.scroll, {
          max: maxScroll
        })
      });
      return _extends({
        phase: "DRAGGING"
      }, state, {
        viewport: withMaxScroll3
      });
    }
    if (action.type === "MOVE_UP" || action.type === "MOVE_DOWN" || action.type === "MOVE_LEFT" || action.type === "MOVE_RIGHT") {
      if (state.phase === "COLLECTING" || state.phase === "DROP_PENDING") {
        return state;
      }
      !(state.phase === "DRAGGING") ? true ? invariant2(false, action.type + " received while not in DRAGGING phase") : invariant2(false) : void 0;
      var _result2 = moveInDirection({
        state,
        type: action.type
      });
      if (!_result2) {
        return state;
      }
      return update({
        state,
        impact: _result2.impact,
        clientSelection: _result2.clientSelection,
        scrollJumpRequest: _result2.scrollJumpRequest
      });
    }
    if (action.type === "DROP_PENDING") {
      var reason = action.payload.reason;
      !(state.phase === "COLLECTING") ? true ? invariant2(false, "Can only move into the DROP_PENDING phase from the COLLECTING phase") : invariant2(false) : void 0;
      var newState = _extends({
        phase: "DROP_PENDING"
      }, state, {
        phase: "DROP_PENDING",
        isWaiting: true,
        reason
      });
      return newState;
    }
    if (action.type === "DROP_ANIMATE") {
      var _action$payload5 = action.payload, completed = _action$payload5.completed, dropDuration = _action$payload5.dropDuration, newHomeClientOffset = _action$payload5.newHomeClientOffset;
      !(state.phase === "DRAGGING" || state.phase === "DROP_PENDING") ? true ? invariant2(false, "Cannot animate drop from phase " + state.phase) : invariant2(false) : void 0;
      var _result3 = {
        phase: "DROP_ANIMATING",
        completed,
        dropDuration,
        newHomeClientOffset,
        dimensions: state.dimensions
      };
      return _result3;
    }
    if (action.type === "DROP_COMPLETE") {
      var _completed = action.payload.completed;
      return {
        phase: "IDLE",
        completed: _completed,
        shouldFlush: false
      };
    }
    return state;
  };
  var beforeInitialCapture = function beforeInitialCapture2(args) {
    return {
      type: "BEFORE_INITIAL_CAPTURE",
      payload: args
    };
  };
  var lift = function lift2(args) {
    return {
      type: "LIFT",
      payload: args
    };
  };
  var initialPublish = function initialPublish2(args) {
    return {
      type: "INITIAL_PUBLISH",
      payload: args
    };
  };
  var publishWhileDragging = function publishWhileDragging2(args) {
    return {
      type: "PUBLISH_WHILE_DRAGGING",
      payload: args
    };
  };
  var collectionStarting = function collectionStarting2() {
    return {
      type: "COLLECTION_STARTING",
      payload: null
    };
  };
  var updateDroppableScroll = function updateDroppableScroll2(args) {
    return {
      type: "UPDATE_DROPPABLE_SCROLL",
      payload: args
    };
  };
  var updateDroppableIsEnabled = function updateDroppableIsEnabled2(args) {
    return {
      type: "UPDATE_DROPPABLE_IS_ENABLED",
      payload: args
    };
  };
  var updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled2(args) {
    return {
      type: "UPDATE_DROPPABLE_IS_COMBINE_ENABLED",
      payload: args
    };
  };
  var move = function move2(args) {
    return {
      type: "MOVE",
      payload: args
    };
  };
  var moveByWindowScroll = function moveByWindowScroll2(args) {
    return {
      type: "MOVE_BY_WINDOW_SCROLL",
      payload: args
    };
  };
  var updateViewportMaxScroll = function updateViewportMaxScroll2(args) {
    return {
      type: "UPDATE_VIEWPORT_MAX_SCROLL",
      payload: args
    };
  };
  var moveUp = function moveUp2() {
    return {
      type: "MOVE_UP",
      payload: null
    };
  };
  var moveDown = function moveDown2() {
    return {
      type: "MOVE_DOWN",
      payload: null
    };
  };
  var moveRight = function moveRight2() {
    return {
      type: "MOVE_RIGHT",
      payload: null
    };
  };
  var moveLeft = function moveLeft2() {
    return {
      type: "MOVE_LEFT",
      payload: null
    };
  };
  var flush = function flush2() {
    return {
      type: "FLUSH",
      payload: null
    };
  };
  var animateDrop = function animateDrop2(args) {
    return {
      type: "DROP_ANIMATE",
      payload: args
    };
  };
  var completeDrop = function completeDrop2(args) {
    return {
      type: "DROP_COMPLETE",
      payload: args
    };
  };
  var drop = function drop2(args) {
    return {
      type: "DROP",
      payload: args
    };
  };
  var dropPending = function dropPending2(args) {
    return {
      type: "DROP_PENDING",
      payload: args
    };
  };
  var dropAnimationFinished = function dropAnimationFinished2() {
    return {
      type: "DROP_ANIMATION_FINISHED",
      payload: null
    };
  };
  function checkIndexes(insideDestination) {
    if (insideDestination.length <= 1) {
      return;
    }
    var indexes = insideDestination.map(function(d3) {
      return d3.descriptor.index;
    });
    var errors = {};
    for (var i3 = 1; i3 < indexes.length; i3++) {
      var current = indexes[i3];
      var previous = indexes[i3 - 1];
      if (current !== previous + 1) {
        errors[current] = true;
      }
    }
    if (!Object.keys(errors).length) {
      return;
    }
    var formatted = indexes.map(function(index2) {
      var hasError = Boolean(errors[index2]);
      return hasError ? "[\u{1F525}" + index2 + "]" : "" + index2;
    }).join(", ");
    true ? warning3("\n    Detected non-consecutive <Draggable /> indexes.\n\n    (This can cause unexpected bugs)\n\n    " + formatted + "\n  ") : void 0;
  }
  function validateDimensions(critical, dimensions) {
    if (true) {
      var insideDestination = getDraggablesInsideDroppable(critical.droppable.id, dimensions.draggables);
      checkIndexes(insideDestination);
    }
  }
  var lift$1 = function(marshal) {
    return function(_ref) {
      var getState = _ref.getState, dispatch3 = _ref.dispatch;
      return function(next) {
        return function(action) {
          if (action.type !== "LIFT") {
            next(action);
            return;
          }
          var _action$payload = action.payload, id = _action$payload.id, clientSelection = _action$payload.clientSelection, movementMode = _action$payload.movementMode;
          var initial = getState();
          if (initial.phase === "DROP_ANIMATING") {
            dispatch3(completeDrop({
              completed: initial.completed
            }));
          }
          !(getState().phase === "IDLE") ? true ? invariant2(false, "Unexpected phase to start a drag") : invariant2(false) : void 0;
          dispatch3(flush());
          dispatch3(beforeInitialCapture({
            draggableId: id,
            movementMode
          }));
          var scrollOptions = {
            shouldPublishImmediately: movementMode === "SNAP"
          };
          var request = {
            draggableId: id,
            scrollOptions
          };
          var _marshal$startPublish = marshal.startPublishing(request), critical = _marshal$startPublish.critical, dimensions = _marshal$startPublish.dimensions, viewport2 = _marshal$startPublish.viewport;
          validateDimensions(critical, dimensions);
          dispatch3(initialPublish({
            critical,
            dimensions,
            clientSelection,
            movementMode,
            viewport: viewport2
          }));
        };
      };
    };
  };
  var style = function(marshal) {
    return function() {
      return function(next) {
        return function(action) {
          if (action.type === "INITIAL_PUBLISH") {
            marshal.dragging();
          }
          if (action.type === "DROP_ANIMATE") {
            marshal.dropping(action.payload.completed.result.reason);
          }
          if (action.type === "FLUSH" || action.type === "DROP_COMPLETE") {
            marshal.resting();
          }
          next(action);
        };
      };
    };
  };
  var curves = {
    outOfTheWay: "cubic-bezier(0.2, 0, 0, 1)",
    drop: "cubic-bezier(.2,1,.1,1)"
  };
  var combine = {
    opacity: {
      drop: 0,
      combining: 0.7
    },
    scale: {
      drop: 0.75
    }
  };
  var timings = {
    outOfTheWay: 0.2,
    minDropTime: 0.33,
    maxDropTime: 0.55
  };
  var outOfTheWayTiming = timings.outOfTheWay + "s " + curves.outOfTheWay;
  var transitions = {
    fluid: "opacity " + outOfTheWayTiming,
    snap: "transform " + outOfTheWayTiming + ", opacity " + outOfTheWayTiming,
    drop: function drop3(duration) {
      var timing = duration + "s " + curves.drop;
      return "transform " + timing + ", opacity " + timing;
    },
    outOfTheWay: "transform " + outOfTheWayTiming,
    placeholder: "height " + outOfTheWayTiming + ", width " + outOfTheWayTiming + ", margin " + outOfTheWayTiming
  };
  var moveTo = function moveTo2(offset4) {
    return isEqual2(offset4, origin) ? null : "translate(" + offset4.x + "px, " + offset4.y + "px)";
  };
  var transforms = {
    moveTo,
    drop: function drop4(offset4, isCombining) {
      var translate = moveTo(offset4);
      if (!translate) {
        return null;
      }
      if (!isCombining) {
        return translate;
      }
      return translate + " scale(" + combine.scale.drop + ")";
    }
  };
  var minDropTime = timings.minDropTime;
  var maxDropTime = timings.maxDropTime;
  var dropTimeRange = maxDropTime - minDropTime;
  var maxDropTimeAtDistance = 1500;
  var cancelDropModifier = 0.6;
  var getDropDuration = function(_ref) {
    var current = _ref.current, destination = _ref.destination, reason = _ref.reason;
    var distance$1 = distance(current, destination);
    if (distance$1 <= 0) {
      return minDropTime;
    }
    if (distance$1 >= maxDropTimeAtDistance) {
      return maxDropTime;
    }
    var percentage = distance$1 / maxDropTimeAtDistance;
    var duration = minDropTime + dropTimeRange * percentage;
    var withDuration = reason === "CANCEL" ? duration * cancelDropModifier : duration;
    return Number(withDuration.toFixed(2));
  };
  var getNewHomeClientOffset = function(_ref) {
    var impact = _ref.impact, draggable2 = _ref.draggable, dimensions = _ref.dimensions, viewport2 = _ref.viewport, afterCritical = _ref.afterCritical;
    var draggables = dimensions.draggables, droppables = dimensions.droppables;
    var droppableId = whatIsDraggedOver(impact);
    var destination = droppableId ? droppables[droppableId] : null;
    var home2 = droppables[draggable2.descriptor.droppableId];
    var newClientCenter = getClientBorderBoxCenter({
      impact,
      draggable: draggable2,
      draggables,
      afterCritical,
      droppable: destination || home2,
      viewport: viewport2
    });
    var offset4 = subtract(newClientCenter, draggable2.client.borderBox.center);
    return offset4;
  };
  var getDropImpact = function(_ref) {
    var draggables = _ref.draggables, reason = _ref.reason, lastImpact = _ref.lastImpact, home2 = _ref.home, viewport2 = _ref.viewport, onLiftImpact = _ref.onLiftImpact;
    if (!lastImpact.at || reason !== "DROP") {
      var recomputedHomeImpact = recompute({
        draggables,
        impact: onLiftImpact,
        destination: home2,
        viewport: viewport2,
        forceShouldAnimate: true
      });
      return {
        impact: recomputedHomeImpact,
        didDropInsideDroppable: false
      };
    }
    if (lastImpact.at.type === "REORDER") {
      return {
        impact: lastImpact,
        didDropInsideDroppable: true
      };
    }
    var withoutMovement = _extends({}, lastImpact, {
      displaced: emptyGroups
    });
    return {
      impact: withoutMovement,
      didDropInsideDroppable: true
    };
  };
  var drop$1 = function(_ref) {
    var getState = _ref.getState, dispatch3 = _ref.dispatch;
    return function(next) {
      return function(action) {
        if (action.type !== "DROP") {
          next(action);
          return;
        }
        var state = getState();
        var reason = action.payload.reason;
        if (state.phase === "COLLECTING") {
          dispatch3(dropPending({
            reason
          }));
          return;
        }
        if (state.phase === "IDLE") {
          return;
        }
        var isWaitingForDrop = state.phase === "DROP_PENDING" && state.isWaiting;
        !!isWaitingForDrop ? true ? invariant2(false, "A DROP action occurred while DROP_PENDING and still waiting") : invariant2(false) : void 0;
        !(state.phase === "DRAGGING" || state.phase === "DROP_PENDING") ? true ? invariant2(false, "Cannot drop in phase: " + state.phase) : invariant2(false) : void 0;
        var critical = state.critical;
        var dimensions = state.dimensions;
        var draggable2 = dimensions.draggables[state.critical.draggable.id];
        var _getDropImpact = getDropImpact({
          reason,
          lastImpact: state.impact,
          afterCritical: state.afterCritical,
          onLiftImpact: state.onLiftImpact,
          home: state.dimensions.droppables[state.critical.droppable.id],
          viewport: state.viewport,
          draggables: state.dimensions.draggables
        }), impact = _getDropImpact.impact, didDropInsideDroppable = _getDropImpact.didDropInsideDroppable;
        var destination = didDropInsideDroppable ? tryGetDestination(impact) : null;
        var combine2 = didDropInsideDroppable ? tryGetCombine(impact) : null;
        var source = {
          index: critical.draggable.index,
          droppableId: critical.droppable.id
        };
        var result = {
          draggableId: draggable2.descriptor.id,
          type: draggable2.descriptor.type,
          source,
          reason,
          mode: state.movementMode,
          destination,
          combine: combine2
        };
        var newHomeClientOffset = getNewHomeClientOffset({
          impact,
          draggable: draggable2,
          dimensions,
          viewport: state.viewport,
          afterCritical: state.afterCritical
        });
        var completed = {
          critical: state.critical,
          afterCritical: state.afterCritical,
          result,
          impact
        };
        var isAnimationRequired = !isEqual2(state.current.client.offset, newHomeClientOffset) || Boolean(result.combine);
        if (!isAnimationRequired) {
          dispatch3(completeDrop({
            completed
          }));
          return;
        }
        var dropDuration = getDropDuration({
          current: state.current.client.offset,
          destination: newHomeClientOffset,
          reason
        });
        var args = {
          newHomeClientOffset,
          dropDuration,
          completed
        };
        dispatch3(animateDrop(args));
      };
    };
  };
  var getWindowScroll4 = function() {
    return {
      x: window.pageXOffset,
      y: window.pageYOffset
    };
  };
  function getWindowScrollBinding(update2) {
    return {
      eventName: "scroll",
      options: {
        passive: true,
        capture: false
      },
      fn: function fn4(event) {
        if (event.target !== window && event.target !== window.document) {
          return;
        }
        update2();
      }
    };
  }
  function getScrollListener(_ref) {
    var onWindowScroll = _ref.onWindowScroll;
    function updateScroll() {
      onWindowScroll(getWindowScroll4());
    }
    var scheduled = raf_schd_esm_default(updateScroll);
    var binding = getWindowScrollBinding(scheduled);
    var unbind = noop2;
    function isActive() {
      return unbind !== noop2;
    }
    function start4() {
      !!isActive() ? true ? invariant2(false, "Cannot start scroll listener when already active") : invariant2(false) : void 0;
      unbind = bindEvents(window, [binding]);
    }
    function stop() {
      !isActive() ? true ? invariant2(false, "Cannot stop scroll listener when not active") : invariant2(false) : void 0;
      scheduled.cancel();
      unbind();
      unbind = noop2;
    }
    return {
      start: start4,
      stop,
      isActive
    };
  }
  var shouldEnd = function shouldEnd2(action) {
    return action.type === "DROP_COMPLETE" || action.type === "DROP_ANIMATE" || action.type === "FLUSH";
  };
  var scrollListener = function(store) {
    var listener = getScrollListener({
      onWindowScroll: function onWindowScroll(newScroll) {
        store.dispatch(moveByWindowScroll({
          newScroll
        }));
      }
    });
    return function(next) {
      return function(action) {
        if (!listener.isActive() && action.type === "INITIAL_PUBLISH") {
          listener.start();
        }
        if (listener.isActive() && shouldEnd(action)) {
          listener.stop();
        }
        next(action);
      };
    };
  };
  var getExpiringAnnounce = function(announce) {
    var wasCalled = false;
    var isExpired = false;
    var timeoutId = setTimeout(function() {
      isExpired = true;
    });
    var result = function result2(message) {
      if (wasCalled) {
        true ? warning3("Announcement already made. Not making a second announcement") : void 0;
        return;
      }
      if (isExpired) {
        true ? warning3("\n        Announcements cannot be made asynchronously.\n        Default message has already been announced.\n      ") : void 0;
        return;
      }
      wasCalled = true;
      announce(message);
      clearTimeout(timeoutId);
    };
    result.wasCalled = function() {
      return wasCalled;
    };
    return result;
  };
  var getAsyncMarshal = function() {
    var entries = [];
    var execute3 = function execute4(timerId) {
      var index2 = findIndex(entries, function(item) {
        return item.timerId === timerId;
      });
      !(index2 !== -1) ? true ? invariant2(false, "Could not find timer") : invariant2(false) : void 0;
      var _entries$splice = entries.splice(index2, 1), entry = _entries$splice[0];
      entry.callback();
    };
    var add3 = function add4(fn4) {
      var timerId = setTimeout(function() {
        return execute3(timerId);
      });
      var entry = {
        timerId,
        callback: fn4
      };
      entries.push(entry);
    };
    var flush3 = function flush4() {
      if (!entries.length) {
        return;
      }
      var shallow = [].concat(entries);
      entries.length = 0;
      shallow.forEach(function(entry) {
        clearTimeout(entry.timerId);
        entry.callback();
      });
    };
    return {
      add: add3,
      flush: flush3
    };
  };
  var areLocationsEqual = function areLocationsEqual2(first, second) {
    if (first == null && second == null) {
      return true;
    }
    if (first == null || second == null) {
      return false;
    }
    return first.droppableId === second.droppableId && first.index === second.index;
  };
  var isCombineEqual = function isCombineEqual2(first, second) {
    if (first == null && second == null) {
      return true;
    }
    if (first == null || second == null) {
      return false;
    }
    return first.draggableId === second.draggableId && first.droppableId === second.droppableId;
  };
  var isCriticalEqual = function isCriticalEqual2(first, second) {
    if (first === second) {
      return true;
    }
    var isDraggableEqual = first.draggable.id === second.draggable.id && first.draggable.droppableId === second.draggable.droppableId && first.draggable.type === second.draggable.type && first.draggable.index === second.draggable.index;
    var isDroppableEqual = first.droppable.id === second.droppable.id && first.droppable.type === second.droppable.type;
    return isDraggableEqual && isDroppableEqual;
  };
  var withTimings = function withTimings2(key, fn4) {
    start2();
    fn4();
    finish();
  };
  var getDragStart = function getDragStart2(critical, mode) {
    return {
      draggableId: critical.draggable.id,
      type: critical.droppable.type,
      source: {
        droppableId: critical.droppable.id,
        index: critical.draggable.index
      },
      mode
    };
  };
  var execute = function execute2(responder, data, announce, getDefaultMessage) {
    if (!responder) {
      announce(getDefaultMessage(data));
      return;
    }
    var willExpire = getExpiringAnnounce(announce);
    var provided = {
      announce: willExpire
    };
    responder(data, provided);
    if (!willExpire.wasCalled()) {
      announce(getDefaultMessage(data));
    }
  };
  var getPublisher = function(getResponders, announce) {
    var asyncMarshal = getAsyncMarshal();
    var dragging = null;
    var beforeCapture = function beforeCapture2(draggableId, mode) {
      !!dragging ? true ? invariant2(false, "Cannot fire onBeforeCapture as a drag start has already been published") : invariant2(false) : void 0;
      withTimings("onBeforeCapture", function() {
        var fn4 = getResponders().onBeforeCapture;
        if (fn4) {
          var before = {
            draggableId,
            mode
          };
          fn4(before);
        }
      });
    };
    var beforeStart = function beforeStart2(critical, mode) {
      !!dragging ? true ? invariant2(false, "Cannot fire onBeforeDragStart as a drag start has already been published") : invariant2(false) : void 0;
      withTimings("onBeforeDragStart", function() {
        var fn4 = getResponders().onBeforeDragStart;
        if (fn4) {
          fn4(getDragStart(critical, mode));
        }
      });
    };
    var start4 = function start5(critical, mode) {
      !!dragging ? true ? invariant2(false, "Cannot fire onBeforeDragStart as a drag start has already been published") : invariant2(false) : void 0;
      var data = getDragStart(critical, mode);
      dragging = {
        mode,
        lastCritical: critical,
        lastLocation: data.source,
        lastCombine: null
      };
      asyncMarshal.add(function() {
        withTimings("onDragStart", function() {
          return execute(getResponders().onDragStart, data, announce, preset.onDragStart);
        });
      });
    };
    var update2 = function update3(critical, impact) {
      var location = tryGetDestination(impact);
      var combine2 = tryGetCombine(impact);
      !dragging ? true ? invariant2(false, "Cannot fire onDragMove when onDragStart has not been called") : invariant2(false) : void 0;
      var hasCriticalChanged = !isCriticalEqual(critical, dragging.lastCritical);
      if (hasCriticalChanged) {
        dragging.lastCritical = critical;
      }
      var hasLocationChanged = !areLocationsEqual(dragging.lastLocation, location);
      if (hasLocationChanged) {
        dragging.lastLocation = location;
      }
      var hasGroupingChanged = !isCombineEqual(dragging.lastCombine, combine2);
      if (hasGroupingChanged) {
        dragging.lastCombine = combine2;
      }
      if (!hasCriticalChanged && !hasLocationChanged && !hasGroupingChanged) {
        return;
      }
      var data = _extends({}, getDragStart(critical, dragging.mode), {
        combine: combine2,
        destination: location
      });
      asyncMarshal.add(function() {
        withTimings("onDragUpdate", function() {
          return execute(getResponders().onDragUpdate, data, announce, preset.onDragUpdate);
        });
      });
    };
    var flush3 = function flush4() {
      !dragging ? true ? invariant2(false, "Can only flush responders while dragging") : invariant2(false) : void 0;
      asyncMarshal.flush();
    };
    var drop5 = function drop6(result) {
      !dragging ? true ? invariant2(false, "Cannot fire onDragEnd when there is no matching onDragStart") : invariant2(false) : void 0;
      dragging = null;
      withTimings("onDragEnd", function() {
        return execute(getResponders().onDragEnd, result, announce, preset.onDragEnd);
      });
    };
    var abort = function abort2() {
      if (!dragging) {
        return;
      }
      var result = _extends({}, getDragStart(dragging.lastCritical, dragging.mode), {
        combine: null,
        destination: null,
        reason: "CANCEL"
      });
      drop5(result);
    };
    return {
      beforeCapture,
      beforeStart,
      start: start4,
      update: update2,
      flush: flush3,
      drop: drop5,
      abort
    };
  };
  var responders = function(getResponders, announce) {
    var publisher = getPublisher(getResponders, announce);
    return function(store) {
      return function(next) {
        return function(action) {
          if (action.type === "BEFORE_INITIAL_CAPTURE") {
            publisher.beforeCapture(action.payload.draggableId, action.payload.movementMode);
            return;
          }
          if (action.type === "INITIAL_PUBLISH") {
            var critical = action.payload.critical;
            publisher.beforeStart(critical, action.payload.movementMode);
            next(action);
            publisher.start(critical, action.payload.movementMode);
            return;
          }
          if (action.type === "DROP_COMPLETE") {
            var result = action.payload.completed.result;
            publisher.flush();
            next(action);
            publisher.drop(result);
            return;
          }
          next(action);
          if (action.type === "FLUSH") {
            publisher.abort();
            return;
          }
          var state = store.getState();
          if (state.phase === "DRAGGING") {
            publisher.update(state.critical, state.impact);
          }
        };
      };
    };
  };
  var dropAnimationFinish = function(store) {
    return function(next) {
      return function(action) {
        if (action.type !== "DROP_ANIMATION_FINISHED") {
          next(action);
          return;
        }
        var state = store.getState();
        !(state.phase === "DROP_ANIMATING") ? true ? invariant2(false, "Cannot finish a drop animating when no drop is occurring") : invariant2(false) : void 0;
        store.dispatch(completeDrop({
          completed: state.completed
        }));
      };
    };
  };
  var dropAnimationFlushOnScroll = function(store) {
    var unbind = null;
    var frameId = null;
    function clear() {
      if (frameId) {
        cancelAnimationFrame(frameId);
        frameId = null;
      }
      if (unbind) {
        unbind();
        unbind = null;
      }
    }
    return function(next) {
      return function(action) {
        if (action.type === "FLUSH" || action.type === "DROP_COMPLETE" || action.type === "DROP_ANIMATION_FINISHED") {
          clear();
        }
        next(action);
        if (action.type !== "DROP_ANIMATE") {
          return;
        }
        var binding = {
          eventName: "scroll",
          options: {
            capture: true,
            passive: false,
            once: true
          },
          fn: function flushDropAnimation() {
            var state = store.getState();
            if (state.phase === "DROP_ANIMATING") {
              store.dispatch(dropAnimationFinished());
            }
          }
        };
        frameId = requestAnimationFrame(function() {
          frameId = null;
          unbind = bindEvents(window, [binding]);
        });
      };
    };
  };
  var dimensionMarshalStopper = function(marshal) {
    return function() {
      return function(next) {
        return function(action) {
          if (action.type === "DROP_COMPLETE" || action.type === "FLUSH" || action.type === "DROP_ANIMATE") {
            marshal.stopPublishing();
          }
          next(action);
        };
      };
    };
  };
  var focus = function(marshal) {
    var isWatching = false;
    return function() {
      return function(next) {
        return function(action) {
          if (action.type === "INITIAL_PUBLISH") {
            isWatching = true;
            marshal.tryRecordFocus(action.payload.critical.draggable.id);
            next(action);
            marshal.tryRestoreFocusRecorded();
            return;
          }
          next(action);
          if (!isWatching) {
            return;
          }
          if (action.type === "FLUSH") {
            isWatching = false;
            marshal.tryRestoreFocusRecorded();
            return;
          }
          if (action.type === "DROP_COMPLETE") {
            isWatching = false;
            var result = action.payload.completed.result;
            if (result.combine) {
              marshal.tryShiftRecord(result.draggableId, result.combine.draggableId);
            }
            marshal.tryRestoreFocusRecorded();
          }
        };
      };
    };
  };
  var shouldStop = function shouldStop2(action) {
    return action.type === "DROP_COMPLETE" || action.type === "DROP_ANIMATE" || action.type === "FLUSH";
  };
  var autoScroll = function(autoScroller) {
    return function(store) {
      return function(next) {
        return function(action) {
          if (shouldStop(action)) {
            autoScroller.stop();
            next(action);
            return;
          }
          if (action.type === "INITIAL_PUBLISH") {
            next(action);
            var state = store.getState();
            !(state.phase === "DRAGGING") ? true ? invariant2(false, "Expected phase to be DRAGGING after INITIAL_PUBLISH") : invariant2(false) : void 0;
            autoScroller.start(state);
            return;
          }
          next(action);
          autoScroller.scroll(store.getState());
        };
      };
    };
  };
  var pendingDrop = function(store) {
    return function(next) {
      return function(action) {
        next(action);
        if (action.type !== "PUBLISH_WHILE_DRAGGING") {
          return;
        }
        var postActionState = store.getState();
        if (postActionState.phase !== "DROP_PENDING") {
          return;
        }
        if (postActionState.isWaiting) {
          return;
        }
        store.dispatch(drop({
          reason: postActionState.reason
        }));
      };
    };
  };
  var composeEnhancers = typeof window !== "undefined" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({
    name: "react-beautiful-dnd"
  }) : compose;
  var createStore2 = function(_ref) {
    var dimensionMarshal = _ref.dimensionMarshal, focusMarshal = _ref.focusMarshal, styleMarshal = _ref.styleMarshal, getResponders = _ref.getResponders, announce = _ref.announce, autoScroller = _ref.autoScroller;
    return createStore(reducer4, composeEnhancers(applyMiddleware(style(styleMarshal), dimensionMarshalStopper(dimensionMarshal), lift$1(dimensionMarshal), drop$1, dropAnimationFinish, dropAnimationFlushOnScroll, pendingDrop, autoScroll(autoScroller), scrollListener, focus(focusMarshal), responders(getResponders, announce))));
  };
  var clean$1 = function clean4() {
    return {
      additions: {},
      removals: {},
      modified: {}
    };
  };
  function createPublisher(_ref) {
    var registry = _ref.registry, callbacks = _ref.callbacks;
    var staging = clean$1();
    var frameId = null;
    var collect = function collect2() {
      if (frameId) {
        return;
      }
      callbacks.collectionStarting();
      frameId = requestAnimationFrame(function() {
        frameId = null;
        start2();
        var _staging = staging, additions = _staging.additions, removals = _staging.removals, modified = _staging.modified;
        var added = Object.keys(additions).map(function(id) {
          return registry.draggable.getById(id).getDimension(origin);
        }).sort(function(a3, b3) {
          return a3.descriptor.index - b3.descriptor.index;
        });
        var updated = Object.keys(modified).map(function(id) {
          var entry = registry.droppable.getById(id);
          var scroll3 = entry.callbacks.getScrollWhileDragging();
          return {
            droppableId: id,
            scroll: scroll3
          };
        });
        var result = {
          additions: added,
          removals: Object.keys(removals),
          modified: updated
        };
        staging = clean$1();
        finish();
        callbacks.publish(result);
      });
    };
    var add3 = function add4(entry) {
      var id = entry.descriptor.id;
      staging.additions[id] = entry;
      staging.modified[entry.descriptor.droppableId] = true;
      if (staging.removals[id]) {
        delete staging.removals[id];
      }
      collect();
    };
    var remove = function remove2(entry) {
      var descriptor = entry.descriptor;
      staging.removals[descriptor.id] = true;
      staging.modified[descriptor.droppableId] = true;
      if (staging.additions[descriptor.id]) {
        delete staging.additions[descriptor.id];
      }
      collect();
    };
    var stop = function stop2() {
      if (!frameId) {
        return;
      }
      cancelAnimationFrame(frameId);
      frameId = null;
      staging = clean$1();
    };
    return {
      add: add3,
      remove,
      stop
    };
  }
  var getMaxScroll = function(_ref) {
    var scrollHeight = _ref.scrollHeight, scrollWidth = _ref.scrollWidth, height = _ref.height, width = _ref.width;
    var maxScroll = subtract({
      x: scrollWidth,
      y: scrollHeight
    }, {
      x: width,
      y: height
    });
    var adjustedMaxScroll = {
      x: Math.max(0, maxScroll.x),
      y: Math.max(0, maxScroll.y)
    };
    return adjustedMaxScroll;
  };
  var getDocumentElement2 = function() {
    var doc = document.documentElement;
    !doc ? true ? invariant2(false, "Cannot find document.documentElement") : invariant2(false) : void 0;
    return doc;
  };
  var getMaxWindowScroll = function() {
    var doc = getDocumentElement2();
    var maxScroll = getMaxScroll({
      scrollHeight: doc.scrollHeight,
      scrollWidth: doc.scrollWidth,
      width: doc.clientWidth,
      height: doc.clientHeight
    });
    return maxScroll;
  };
  var getViewport = function() {
    var scroll3 = getWindowScroll4();
    var maxScroll = getMaxWindowScroll();
    var top2 = scroll3.y;
    var left2 = scroll3.x;
    var doc = getDocumentElement2();
    var width = doc.clientWidth;
    var height = doc.clientHeight;
    var right2 = left2 + width;
    var bottom2 = top2 + height;
    var frame = getRect({
      top: top2,
      left: left2,
      right: right2,
      bottom: bottom2
    });
    var viewport2 = {
      frame,
      scroll: {
        initial: scroll3,
        current: scroll3,
        max: maxScroll,
        diff: {
          value: origin,
          displacement: origin
        }
      }
    };
    return viewport2;
  };
  var getInitialPublish = function(_ref) {
    var critical = _ref.critical, scrollOptions = _ref.scrollOptions, registry = _ref.registry;
    start2();
    var viewport2 = getViewport();
    var windowScroll = viewport2.scroll.current;
    var home2 = critical.droppable;
    var droppables = registry.droppable.getAllByType(home2.type).map(function(entry) {
      return entry.callbacks.getDimensionAndWatchScroll(windowScroll, scrollOptions);
    });
    var draggables = registry.draggable.getAllByType(critical.draggable.type).map(function(entry) {
      return entry.getDimension(windowScroll);
    });
    var dimensions = {
      draggables: toDraggableMap(draggables),
      droppables: toDroppableMap(droppables)
    };
    finish();
    var result = {
      dimensions,
      critical,
      viewport: viewport2
    };
    return result;
  };
  function shouldPublishUpdate(registry, dragging, entry) {
    if (entry.descriptor.id === dragging.id) {
      return false;
    }
    if (entry.descriptor.type !== dragging.type) {
      return false;
    }
    var home2 = registry.droppable.getById(entry.descriptor.droppableId);
    if (home2.descriptor.mode !== "virtual") {
      true ? warning3("\n      You are attempting to add or remove a Draggable [id: " + entry.descriptor.id + "]\n      while a drag is occurring. This is only supported for virtual lists.\n\n      See https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/patterns/virtual-lists.md\n    ") : void 0;
      return false;
    }
    return true;
  }
  var createDimensionMarshal = function(registry, callbacks) {
    var collection = null;
    var publisher = createPublisher({
      callbacks: {
        publish: callbacks.publishWhileDragging,
        collectionStarting: callbacks.collectionStarting
      },
      registry
    });
    var updateDroppableIsEnabled3 = function updateDroppableIsEnabled4(id, isEnabled) {
      !registry.droppable.exists(id) ? true ? invariant2(false, "Cannot update is enabled flag of Droppable " + id + " as it is not registered") : invariant2(false) : void 0;
      if (!collection) {
        return;
      }
      callbacks.updateDroppableIsEnabled({
        id,
        isEnabled
      });
    };
    var updateDroppableIsCombineEnabled3 = function updateDroppableIsCombineEnabled4(id, isCombineEnabled) {
      if (!collection) {
        return;
      }
      !registry.droppable.exists(id) ? true ? invariant2(false, "Cannot update isCombineEnabled flag of Droppable " + id + " as it is not registered") : invariant2(false) : void 0;
      callbacks.updateDroppableIsCombineEnabled({
        id,
        isCombineEnabled
      });
    };
    var updateDroppableScroll3 = function updateDroppableScroll4(id, newScroll) {
      if (!collection) {
        return;
      }
      !registry.droppable.exists(id) ? true ? invariant2(false, "Cannot update the scroll on Droppable " + id + " as it is not registered") : invariant2(false) : void 0;
      callbacks.updateDroppableScroll({
        id,
        newScroll
      });
    };
    var scrollDroppable2 = function scrollDroppable3(id, change) {
      if (!collection) {
        return;
      }
      registry.droppable.getById(id).callbacks.scroll(change);
    };
    var stopPublishing = function stopPublishing2() {
      if (!collection) {
        return;
      }
      publisher.stop();
      var home2 = collection.critical.droppable;
      registry.droppable.getAllByType(home2.type).forEach(function(entry) {
        return entry.callbacks.dragStopped();
      });
      collection.unsubscribe();
      collection = null;
    };
    var subscriber = function subscriber2(event) {
      !collection ? true ? invariant2(false, "Should only be subscribed when a collection is occurring") : invariant2(false) : void 0;
      var dragging = collection.critical.draggable;
      if (event.type === "ADDITION") {
        if (shouldPublishUpdate(registry, dragging, event.value)) {
          publisher.add(event.value);
        }
      }
      if (event.type === "REMOVAL") {
        if (shouldPublishUpdate(registry, dragging, event.value)) {
          publisher.remove(event.value);
        }
      }
    };
    var startPublishing = function startPublishing2(request) {
      !!collection ? true ? invariant2(false, "Cannot start capturing critical dimensions as there is already a collection") : invariant2(false) : void 0;
      var entry = registry.draggable.getById(request.draggableId);
      var home2 = registry.droppable.getById(entry.descriptor.droppableId);
      var critical = {
        draggable: entry.descriptor,
        droppable: home2.descriptor
      };
      var unsubscribe = registry.subscribe(subscriber);
      collection = {
        critical,
        unsubscribe
      };
      return getInitialPublish({
        critical,
        registry,
        scrollOptions: request.scrollOptions
      });
    };
    var marshal = {
      updateDroppableIsEnabled: updateDroppableIsEnabled3,
      updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled3,
      scrollDroppable: scrollDroppable2,
      updateDroppableScroll: updateDroppableScroll3,
      startPublishing,
      stopPublishing
    };
    return marshal;
  };
  var canStartDrag = function(state, id) {
    if (state.phase === "IDLE") {
      return true;
    }
    if (state.phase !== "DROP_ANIMATING") {
      return false;
    }
    if (state.completed.result.draggableId === id) {
      return false;
    }
    return state.completed.result.reason === "DROP";
  };
  var scrollWindow = function(change) {
    window.scrollBy(change.x, change.y);
  };
  var getScrollableDroppables = memoize_one_esm_default(function(droppables) {
    return toDroppableList(droppables).filter(function(droppable2) {
      if (!droppable2.isEnabled) {
        return false;
      }
      if (!droppable2.frame) {
        return false;
      }
      return true;
    });
  });
  var getScrollableDroppableOver = function getScrollableDroppableOver2(target, droppables) {
    var maybe = find(getScrollableDroppables(droppables), function(droppable2) {
      !droppable2.frame ? true ? invariant2(false, "Invalid result") : invariant2(false) : void 0;
      return isPositionInFrame(droppable2.frame.pageMarginBox)(target);
    });
    return maybe;
  };
  var getBestScrollableDroppable = function(_ref) {
    var center = _ref.center, destination = _ref.destination, droppables = _ref.droppables;
    if (destination) {
      var _dimension = droppables[destination];
      if (!_dimension.frame) {
        return null;
      }
      return _dimension;
    }
    var dimension = getScrollableDroppableOver(center, droppables);
    return dimension;
  };
  var config = {
    startFromPercentage: 0.25,
    maxScrollAtPercentage: 0.05,
    maxPixelScroll: 28,
    ease: function ease(percentage) {
      return Math.pow(percentage, 2);
    },
    durationDampening: {
      stopDampeningAt: 1200,
      accelerateAt: 360
    }
  };
  var getDistanceThresholds = function(container, axis) {
    var startScrollingFrom = container[axis.size] * config.startFromPercentage;
    var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;
    var thresholds = {
      startScrollingFrom,
      maxScrollValueAt
    };
    return thresholds;
  };
  var getPercentage = function(_ref) {
    var startOfRange = _ref.startOfRange, endOfRange = _ref.endOfRange, current = _ref.current;
    var range = endOfRange - startOfRange;
    if (range === 0) {
      true ? warning3("\n      Detected distance range of 0 in the fluid auto scroller\n      This is unexpected and would cause a divide by 0 issue.\n      Not allowing an auto scroll\n    ") : void 0;
      return 0;
    }
    var currentInRange = current - startOfRange;
    var percentage = currentInRange / range;
    return percentage;
  };
  var minScroll = 1;
  var getValueFromDistance = function(distanceToEdge, thresholds) {
    if (distanceToEdge > thresholds.startScrollingFrom) {
      return 0;
    }
    if (distanceToEdge <= thresholds.maxScrollValueAt) {
      return config.maxPixelScroll;
    }
    if (distanceToEdge === thresholds.startScrollingFrom) {
      return minScroll;
    }
    var percentageFromMaxScrollValueAt = getPercentage({
      startOfRange: thresholds.maxScrollValueAt,
      endOfRange: thresholds.startScrollingFrom,
      current: distanceToEdge
    });
    var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;
    var scroll3 = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);
    return Math.ceil(scroll3);
  };
  var accelerateAt = config.durationDampening.accelerateAt;
  var stopAt = config.durationDampening.stopDampeningAt;
  var dampenValueByTime = function(proposedScroll, dragStartTime) {
    var startOfRange = dragStartTime;
    var endOfRange = stopAt;
    var now = Date.now();
    var runTime = now - startOfRange;
    if (runTime >= stopAt) {
      return proposedScroll;
    }
    if (runTime < accelerateAt) {
      return minScroll;
    }
    var betweenAccelerateAtAndStopAtPercentage = getPercentage({
      startOfRange: accelerateAt,
      endOfRange,
      current: runTime
    });
    var scroll3 = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);
    return Math.ceil(scroll3);
  };
  var getValue = function(_ref) {
    var distanceToEdge = _ref.distanceToEdge, thresholds = _ref.thresholds, dragStartTime = _ref.dragStartTime, shouldUseTimeDampening = _ref.shouldUseTimeDampening;
    var scroll3 = getValueFromDistance(distanceToEdge, thresholds);
    if (scroll3 === 0) {
      return 0;
    }
    if (!shouldUseTimeDampening) {
      return scroll3;
    }
    return Math.max(dampenValueByTime(scroll3, dragStartTime), minScroll);
  };
  var getScrollOnAxis = function(_ref) {
    var container = _ref.container, distanceToEdges = _ref.distanceToEdges, dragStartTime = _ref.dragStartTime, axis = _ref.axis, shouldUseTimeDampening = _ref.shouldUseTimeDampening;
    var thresholds = getDistanceThresholds(container, axis);
    var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];
    if (isCloserToEnd) {
      return getValue({
        distanceToEdge: distanceToEdges[axis.end],
        thresholds,
        dragStartTime,
        shouldUseTimeDampening
      });
    }
    return -1 * getValue({
      distanceToEdge: distanceToEdges[axis.start],
      thresholds,
      dragStartTime,
      shouldUseTimeDampening
    });
  };
  var adjustForSizeLimits = function(_ref) {
    var container = _ref.container, subject = _ref.subject, proposedScroll = _ref.proposedScroll;
    var isTooBigVertically = subject.height > container.height;
    var isTooBigHorizontally = subject.width > container.width;
    if (!isTooBigHorizontally && !isTooBigVertically) {
      return proposedScroll;
    }
    if (isTooBigHorizontally && isTooBigVertically) {
      return null;
    }
    return {
      x: isTooBigHorizontally ? 0 : proposedScroll.x,
      y: isTooBigVertically ? 0 : proposedScroll.y
    };
  };
  var clean$2 = apply(function(value) {
    return value === 0 ? 0 : value;
  });
  var getScroll = function(_ref) {
    var dragStartTime = _ref.dragStartTime, container = _ref.container, subject = _ref.subject, center = _ref.center, shouldUseTimeDampening = _ref.shouldUseTimeDampening;
    var distanceToEdges = {
      top: center.y - container.top,
      right: container.right - center.x,
      bottom: container.bottom - center.y,
      left: center.x - container.left
    };
    var y2 = getScrollOnAxis({
      container,
      distanceToEdges,
      dragStartTime,
      axis: vertical,
      shouldUseTimeDampening
    });
    var x2 = getScrollOnAxis({
      container,
      distanceToEdges,
      dragStartTime,
      axis: horizontal,
      shouldUseTimeDampening
    });
    var required2 = clean$2({
      x: x2,
      y: y2
    });
    if (isEqual2(required2, origin)) {
      return null;
    }
    var limited = adjustForSizeLimits({
      container,
      subject,
      proposedScroll: required2
    });
    if (!limited) {
      return null;
    }
    return isEqual2(limited, origin) ? null : limited;
  };
  var smallestSigned = apply(function(value) {
    if (value === 0) {
      return 0;
    }
    return value > 0 ? 1 : -1;
  });
  var getOverlap = function() {
    var getRemainder = function getRemainder2(target, max2) {
      if (target < 0) {
        return target;
      }
      if (target > max2) {
        return target - max2;
      }
      return 0;
    };
    return function(_ref) {
      var current = _ref.current, max2 = _ref.max, change = _ref.change;
      var targetScroll = add(current, change);
      var overlap = {
        x: getRemainder(targetScroll.x, max2.x),
        y: getRemainder(targetScroll.y, max2.y)
      };
      if (isEqual2(overlap, origin)) {
        return null;
      }
      return overlap;
    };
  }();
  var canPartiallyScroll = function canPartiallyScroll2(_ref2) {
    var rawMax = _ref2.max, current = _ref2.current, change = _ref2.change;
    var max2 = {
      x: Math.max(current.x, rawMax.x),
      y: Math.max(current.y, rawMax.y)
    };
    var smallestChange = smallestSigned(change);
    var overlap = getOverlap({
      max: max2,
      current,
      change: smallestChange
    });
    if (!overlap) {
      return true;
    }
    if (smallestChange.x !== 0 && overlap.x === 0) {
      return true;
    }
    if (smallestChange.y !== 0 && overlap.y === 0) {
      return true;
    }
    return false;
  };
  var canScrollWindow = function canScrollWindow2(viewport2, change) {
    return canPartiallyScroll({
      current: viewport2.scroll.current,
      max: viewport2.scroll.max,
      change
    });
  };
  var getWindowOverlap = function getWindowOverlap2(viewport2, change) {
    if (!canScrollWindow(viewport2, change)) {
      return null;
    }
    var max2 = viewport2.scroll.max;
    var current = viewport2.scroll.current;
    return getOverlap({
      current,
      max: max2,
      change
    });
  };
  var canScrollDroppable = function canScrollDroppable2(droppable2, change) {
    var frame = droppable2.frame;
    if (!frame) {
      return false;
    }
    return canPartiallyScroll({
      current: frame.scroll.current,
      max: frame.scroll.max,
      change
    });
  };
  var getDroppableOverlap = function getDroppableOverlap2(droppable2, change) {
    var frame = droppable2.frame;
    if (!frame) {
      return null;
    }
    if (!canScrollDroppable(droppable2, change)) {
      return null;
    }
    return getOverlap({
      current: frame.scroll.current,
      max: frame.scroll.max,
      change
    });
  };
  var getWindowScrollChange = function(_ref) {
    var viewport2 = _ref.viewport, subject = _ref.subject, center = _ref.center, dragStartTime = _ref.dragStartTime, shouldUseTimeDampening = _ref.shouldUseTimeDampening;
    var scroll3 = getScroll({
      dragStartTime,
      container: viewport2.frame,
      subject,
      center,
      shouldUseTimeDampening
    });
    return scroll3 && canScrollWindow(viewport2, scroll3) ? scroll3 : null;
  };
  var getDroppableScrollChange = function(_ref) {
    var droppable2 = _ref.droppable, subject = _ref.subject, center = _ref.center, dragStartTime = _ref.dragStartTime, shouldUseTimeDampening = _ref.shouldUseTimeDampening;
    var frame = droppable2.frame;
    if (!frame) {
      return null;
    }
    var scroll3 = getScroll({
      dragStartTime,
      container: frame.pageMarginBox,
      subject,
      center,
      shouldUseTimeDampening
    });
    return scroll3 && canScrollDroppable(droppable2, scroll3) ? scroll3 : null;
  };
  var scroll$1 = function(_ref) {
    var state = _ref.state, dragStartTime = _ref.dragStartTime, shouldUseTimeDampening = _ref.shouldUseTimeDampening, scrollWindow2 = _ref.scrollWindow, scrollDroppable2 = _ref.scrollDroppable;
    var center = state.current.page.borderBoxCenter;
    var draggable2 = state.dimensions.draggables[state.critical.draggable.id];
    var subject = draggable2.page.marginBox;
    if (state.isWindowScrollAllowed) {
      var viewport2 = state.viewport;
      var _change = getWindowScrollChange({
        dragStartTime,
        viewport: viewport2,
        subject,
        center,
        shouldUseTimeDampening
      });
      if (_change) {
        scrollWindow2(_change);
        return;
      }
    }
    var droppable2 = getBestScrollableDroppable({
      center,
      destination: whatIsDraggedOver(state.impact),
      droppables: state.dimensions.droppables
    });
    if (!droppable2) {
      return;
    }
    var change = getDroppableScrollChange({
      dragStartTime,
      droppable: droppable2,
      subject,
      center,
      shouldUseTimeDampening
    });
    if (change) {
      scrollDroppable2(droppable2.descriptor.id, change);
    }
  };
  var createFluidScroller = function(_ref) {
    var scrollWindow2 = _ref.scrollWindow, scrollDroppable2 = _ref.scrollDroppable;
    var scheduleWindowScroll = raf_schd_esm_default(scrollWindow2);
    var scheduleDroppableScroll = raf_schd_esm_default(scrollDroppable2);
    var dragging = null;
    var tryScroll = function tryScroll2(state) {
      !dragging ? true ? invariant2(false, "Cannot fluid scroll if not dragging") : invariant2(false) : void 0;
      var _dragging = dragging, shouldUseTimeDampening = _dragging.shouldUseTimeDampening, dragStartTime = _dragging.dragStartTime;
      scroll$1({
        state,
        scrollWindow: scheduleWindowScroll,
        scrollDroppable: scheduleDroppableScroll,
        dragStartTime,
        shouldUseTimeDampening
      });
    };
    var start$1 = function start$12(state) {
      start2();
      !!dragging ? true ? invariant2(false, "Cannot start auto scrolling when already started") : invariant2(false) : void 0;
      var dragStartTime = Date.now();
      var wasScrollNeeded = false;
      var fakeScrollCallback = function fakeScrollCallback2() {
        wasScrollNeeded = true;
      };
      scroll$1({
        state,
        dragStartTime: 0,
        shouldUseTimeDampening: false,
        scrollWindow: fakeScrollCallback,
        scrollDroppable: fakeScrollCallback
      });
      dragging = {
        dragStartTime,
        shouldUseTimeDampening: wasScrollNeeded
      };
      finish();
      if (wasScrollNeeded) {
        tryScroll(state);
      }
    };
    var stop = function stop2() {
      if (!dragging) {
        return;
      }
      scheduleWindowScroll.cancel();
      scheduleDroppableScroll.cancel();
      dragging = null;
    };
    return {
      start: start$1,
      stop,
      scroll: tryScroll
    };
  };
  var createJumpScroller = function(_ref) {
    var move3 = _ref.move, scrollDroppable2 = _ref.scrollDroppable, scrollWindow2 = _ref.scrollWindow;
    var moveByOffset = function moveByOffset2(state, offset4) {
      var client = add(state.current.client.selection, offset4);
      move3({
        client
      });
    };
    var scrollDroppableAsMuchAsItCan = function scrollDroppableAsMuchAsItCan2(droppable2, change) {
      if (!canScrollDroppable(droppable2, change)) {
        return change;
      }
      var overlap = getDroppableOverlap(droppable2, change);
      if (!overlap) {
        scrollDroppable2(droppable2.descriptor.id, change);
        return null;
      }
      var whatTheDroppableCanScroll = subtract(change, overlap);
      scrollDroppable2(droppable2.descriptor.id, whatTheDroppableCanScroll);
      var remainder = subtract(change, whatTheDroppableCanScroll);
      return remainder;
    };
    var scrollWindowAsMuchAsItCan = function scrollWindowAsMuchAsItCan2(isWindowScrollAllowed, viewport2, change) {
      if (!isWindowScrollAllowed) {
        return change;
      }
      if (!canScrollWindow(viewport2, change)) {
        return change;
      }
      var overlap = getWindowOverlap(viewport2, change);
      if (!overlap) {
        scrollWindow2(change);
        return null;
      }
      var whatTheWindowCanScroll = subtract(change, overlap);
      scrollWindow2(whatTheWindowCanScroll);
      var remainder = subtract(change, whatTheWindowCanScroll);
      return remainder;
    };
    var jumpScroller = function jumpScroller2(state) {
      var request = state.scrollJumpRequest;
      if (!request) {
        return;
      }
      var destination = whatIsDraggedOver(state.impact);
      !destination ? true ? invariant2(false, "Cannot perform a jump scroll when there is no destination") : invariant2(false) : void 0;
      var droppableRemainder = scrollDroppableAsMuchAsItCan(state.dimensions.droppables[destination], request);
      if (!droppableRemainder) {
        return;
      }
      var viewport2 = state.viewport;
      var windowRemainder = scrollWindowAsMuchAsItCan(state.isWindowScrollAllowed, viewport2, droppableRemainder);
      if (!windowRemainder) {
        return;
      }
      moveByOffset(state, windowRemainder);
    };
    return jumpScroller;
  };
  var createAutoScroller = function(_ref) {
    var scrollDroppable2 = _ref.scrollDroppable, scrollWindow2 = _ref.scrollWindow, move3 = _ref.move;
    var fluidScroller = createFluidScroller({
      scrollWindow: scrollWindow2,
      scrollDroppable: scrollDroppable2
    });
    var jumpScroll = createJumpScroller({
      move: move3,
      scrollWindow: scrollWindow2,
      scrollDroppable: scrollDroppable2
    });
    var scroll3 = function scroll4(state) {
      if (state.phase !== "DRAGGING") {
        return;
      }
      if (state.movementMode === "FLUID") {
        fluidScroller.scroll(state);
        return;
      }
      if (!state.scrollJumpRequest) {
        return;
      }
      jumpScroll(state);
    };
    var scroller = {
      scroll: scroll3,
      start: fluidScroller.start,
      stop: fluidScroller.stop
    };
    return scroller;
  };
  var prefix$1 = "data-rbd";
  var dragHandle = function() {
    var base = prefix$1 + "-drag-handle";
    return {
      base,
      draggableId: base + "-draggable-id",
      contextId: base + "-context-id"
    };
  }();
  var draggable = function() {
    var base = prefix$1 + "-draggable";
    return {
      base,
      contextId: base + "-context-id",
      id: base + "-id"
    };
  }();
  var droppable = function() {
    var base = prefix$1 + "-droppable";
    return {
      base,
      contextId: base + "-context-id",
      id: base + "-id"
    };
  }();
  var scrollContainer = {
    contextId: prefix$1 + "-scroll-container-context-id"
  };
  var makeGetSelector = function makeGetSelector2(context) {
    return function(attribute) {
      return "[" + attribute + '="' + context + '"]';
    };
  };
  var getStyles = function getStyles2(rules, property) {
    return rules.map(function(rule) {
      var value = rule.styles[property];
      if (!value) {
        return "";
      }
      return rule.selector + " { " + value + " }";
    }).join(" ");
  };
  var noPointerEvents = "pointer-events: none;";
  var getStyles$1 = function(contextId) {
    var getSelector2 = makeGetSelector(contextId);
    var dragHandle$1 = function() {
      var grabCursor = "\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";
      return {
        selector: getSelector2(dragHandle.contextId),
        styles: {
          always: "\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",
          resting: grabCursor,
          dragging: noPointerEvents,
          dropAnimating: grabCursor
        }
      };
    }();
    var draggable$1 = function() {
      var transition = "\n      transition: " + transitions.outOfTheWay + ";\n    ";
      return {
        selector: getSelector2(draggable.contextId),
        styles: {
          dragging: transition,
          dropAnimating: transition,
          userCancel: transition
        }
      };
    }();
    var droppable$1 = {
      selector: getSelector2(droppable.contextId),
      styles: {
        always: "overflow-anchor: none;"
      }
    };
    var body = {
      selector: "body",
      styles: {
        dragging: "\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "
      }
    };
    var rules = [draggable$1, dragHandle$1, droppable$1, body];
    return {
      always: getStyles(rules, "always"),
      resting: getStyles(rules, "resting"),
      dragging: getStyles(rules, "dragging"),
      dropAnimating: getStyles(rules, "dropAnimating"),
      userCancel: getStyles(rules, "userCancel")
    };
  };
  var useIsomorphicLayoutEffect3 = typeof window !== "undefined" && typeof window.document !== "undefined" && typeof window.document.createElement !== "undefined" ? import_react22.useLayoutEffect : import_react22.useEffect;
  var getHead = function getHead2() {
    var head = document.querySelector("head");
    !head ? true ? invariant2(false, "Cannot find the head to append a style to") : invariant2(false) : void 0;
    return head;
  };
  var createStyleEl = function createStyleEl2(nonce) {
    var el = document.createElement("style");
    if (nonce) {
      el.setAttribute("nonce", nonce);
    }
    el.type = "text/css";
    return el;
  };
  function useStyleMarshal(contextId, nonce) {
    var styles = useMemo6(function() {
      return getStyles$1(contextId);
    }, [contextId]);
    var alwaysRef = (0, import_react22.useRef)(null);
    var dynamicRef = (0, import_react22.useRef)(null);
    var setDynamicStyle = useCallback2(memoize_one_esm_default(function(proposed) {
      var el = dynamicRef.current;
      !el ? true ? invariant2(false, "Cannot set dynamic style element if it is not set") : invariant2(false) : void 0;
      el.textContent = proposed;
    }), []);
    var setAlwaysStyle = useCallback2(function(proposed) {
      var el = alwaysRef.current;
      !el ? true ? invariant2(false, "Cannot set dynamic style element if it is not set") : invariant2(false) : void 0;
      el.textContent = proposed;
    }, []);
    useIsomorphicLayoutEffect3(function() {
      !(!alwaysRef.current && !dynamicRef.current) ? true ? invariant2(false, "style elements already mounted") : invariant2(false) : void 0;
      var always = createStyleEl(nonce);
      var dynamic = createStyleEl(nonce);
      alwaysRef.current = always;
      dynamicRef.current = dynamic;
      always.setAttribute(prefix$1 + "-always", contextId);
      dynamic.setAttribute(prefix$1 + "-dynamic", contextId);
      getHead().appendChild(always);
      getHead().appendChild(dynamic);
      setAlwaysStyle(styles.always);
      setDynamicStyle(styles.resting);
      return function() {
        var remove = function remove2(ref2) {
          var current = ref2.current;
          !current ? true ? invariant2(false, "Cannot unmount ref as it is not set") : invariant2(false) : void 0;
          getHead().removeChild(current);
          ref2.current = null;
        };
        remove(alwaysRef);
        remove(dynamicRef);
      };
    }, [nonce, setAlwaysStyle, setDynamicStyle, styles.always, styles.resting, contextId]);
    var dragging = useCallback2(function() {
      return setDynamicStyle(styles.dragging);
    }, [setDynamicStyle, styles.dragging]);
    var dropping = useCallback2(function(reason) {
      if (reason === "DROP") {
        setDynamicStyle(styles.dropAnimating);
        return;
      }
      setDynamicStyle(styles.userCancel);
    }, [setDynamicStyle, styles.dropAnimating, styles.userCancel]);
    var resting = useCallback2(function() {
      if (!dynamicRef.current) {
        return;
      }
      setDynamicStyle(styles.resting);
    }, [setDynamicStyle, styles.resting]);
    var marshal = useMemo6(function() {
      return {
        dragging,
        dropping,
        resting
      };
    }, [dragging, dropping, resting]);
    return marshal;
  }
  var getWindowFromEl = function(el) {
    return el && el.ownerDocument ? el.ownerDocument.defaultView : window;
  };
  function isHtmlElement(el) {
    return el instanceof getWindowFromEl(el).HTMLElement;
  }
  function findDragHandle(contextId, draggableId) {
    var selector = "[" + dragHandle.contextId + '="' + contextId + '"]';
    var possible = toArray(document.querySelectorAll(selector));
    if (!possible.length) {
      true ? warning3('Unable to find any drag handles in the context "' + contextId + '"') : void 0;
      return null;
    }
    var handle = find(possible, function(el) {
      return el.getAttribute(dragHandle.draggableId) === draggableId;
    });
    if (!handle) {
      true ? warning3('Unable to find drag handle with id "' + draggableId + '" as no handle with a matching id was found') : void 0;
      return null;
    }
    if (!isHtmlElement(handle)) {
      true ? warning3("drag handle needs to be a HTMLElement") : void 0;
      return null;
    }
    return handle;
  }
  function useFocusMarshal(contextId) {
    var entriesRef = (0, import_react22.useRef)({});
    var recordRef = (0, import_react22.useRef)(null);
    var restoreFocusFrameRef = (0, import_react22.useRef)(null);
    var isMountedRef = (0, import_react22.useRef)(false);
    var register = useCallback2(function register2(id, focus2) {
      var entry = {
        id,
        focus: focus2
      };
      entriesRef.current[id] = entry;
      return function unregister() {
        var entries = entriesRef.current;
        var current = entries[id];
        if (current !== entry) {
          delete entries[id];
        }
      };
    }, []);
    var tryGiveFocus = useCallback2(function tryGiveFocus2(tryGiveFocusTo) {
      var handle = findDragHandle(contextId, tryGiveFocusTo);
      if (handle && handle !== document.activeElement) {
        handle.focus();
      }
    }, [contextId]);
    var tryShiftRecord = useCallback2(function tryShiftRecord2(previous, redirectTo) {
      if (recordRef.current === previous) {
        recordRef.current = redirectTo;
      }
    }, []);
    var tryRestoreFocusRecorded = useCallback2(function tryRestoreFocusRecorded2() {
      if (restoreFocusFrameRef.current) {
        return;
      }
      if (!isMountedRef.current) {
        return;
      }
      restoreFocusFrameRef.current = requestAnimationFrame(function() {
        restoreFocusFrameRef.current = null;
        var record = recordRef.current;
        if (record) {
          tryGiveFocus(record);
        }
      });
    }, [tryGiveFocus]);
    var tryRecordFocus = useCallback2(function tryRecordFocus2(id) {
      recordRef.current = null;
      var focused = document.activeElement;
      if (!focused) {
        return;
      }
      if (focused.getAttribute(dragHandle.draggableId) !== id) {
        return;
      }
      recordRef.current = id;
    }, []);
    useIsomorphicLayoutEffect3(function() {
      isMountedRef.current = true;
      return function clearFrameOnUnmount() {
        isMountedRef.current = false;
        var frameId = restoreFocusFrameRef.current;
        if (frameId) {
          cancelAnimationFrame(frameId);
        }
      };
    }, []);
    var marshal = useMemo6(function() {
      return {
        register,
        tryRecordFocus,
        tryRestoreFocusRecorded,
        tryShiftRecord
      };
    }, [register, tryRecordFocus, tryRestoreFocusRecorded, tryShiftRecord]);
    return marshal;
  }
  function createRegistry() {
    var entries = {
      draggables: {},
      droppables: {}
    };
    var subscribers = [];
    function subscribe(cb) {
      subscribers.push(cb);
      return function unsubscribe() {
        var index2 = subscribers.indexOf(cb);
        if (index2 === -1) {
          return;
        }
        subscribers.splice(index2, 1);
      };
    }
    function notify2(event) {
      if (subscribers.length) {
        subscribers.forEach(function(cb) {
          return cb(event);
        });
      }
    }
    function findDraggableById(id) {
      return entries.draggables[id] || null;
    }
    function getDraggableById(id) {
      var entry = findDraggableById(id);
      !entry ? true ? invariant2(false, "Cannot find draggable entry with id [" + id + "]") : invariant2(false) : void 0;
      return entry;
    }
    var draggableAPI = {
      register: function register(entry) {
        entries.draggables[entry.descriptor.id] = entry;
        notify2({
          type: "ADDITION",
          value: entry
        });
      },
      update: function update2(entry, last) {
        var current = entries.draggables[last.descriptor.id];
        if (!current) {
          return;
        }
        if (current.uniqueId !== entry.uniqueId) {
          return;
        }
        delete entries.draggables[last.descriptor.id];
        entries.draggables[entry.descriptor.id] = entry;
      },
      unregister: function unregister(entry) {
        var draggableId = entry.descriptor.id;
        var current = findDraggableById(draggableId);
        if (!current) {
          return;
        }
        if (entry.uniqueId !== current.uniqueId) {
          return;
        }
        delete entries.draggables[draggableId];
        notify2({
          type: "REMOVAL",
          value: entry
        });
      },
      getById: getDraggableById,
      findById: findDraggableById,
      exists: function exists(id) {
        return Boolean(findDraggableById(id));
      },
      getAllByType: function getAllByType(type) {
        return values(entries.draggables).filter(function(entry) {
          return entry.descriptor.type === type;
        });
      }
    };
    function findDroppableById(id) {
      return entries.droppables[id] || null;
    }
    function getDroppableById(id) {
      var entry = findDroppableById(id);
      !entry ? true ? invariant2(false, "Cannot find droppable entry with id [" + id + "]") : invariant2(false) : void 0;
      return entry;
    }
    var droppableAPI = {
      register: function register(entry) {
        entries.droppables[entry.descriptor.id] = entry;
      },
      unregister: function unregister(entry) {
        var current = findDroppableById(entry.descriptor.id);
        if (!current) {
          return;
        }
        if (entry.uniqueId !== current.uniqueId) {
          return;
        }
        delete entries.droppables[entry.descriptor.id];
      },
      getById: getDroppableById,
      findById: findDroppableById,
      exists: function exists(id) {
        return Boolean(findDroppableById(id));
      },
      getAllByType: function getAllByType(type) {
        return values(entries.droppables).filter(function(entry) {
          return entry.descriptor.type === type;
        });
      }
    };
    function clean5() {
      entries.draggables = {};
      entries.droppables = {};
      subscribers.length = 0;
    }
    return {
      draggable: draggableAPI,
      droppable: droppableAPI,
      subscribe,
      clean: clean5
    };
  }
  function useRegistry() {
    var registry = useMemo6(createRegistry, []);
    (0, import_react22.useEffect)(function() {
      return function unmount() {
        requestAnimationFrame(registry.clean);
      };
    }, [registry]);
    return registry;
  }
  var StoreContext = import_react22.default.createContext(null);
  var getBodyElement = function() {
    var body = document.body;
    !body ? true ? invariant2(false, "Cannot find document.body") : invariant2(false) : void 0;
    return body;
  };
  var visuallyHidden = {
    position: "absolute",
    width: "1px",
    height: "1px",
    margin: "-1px",
    border: "0",
    padding: "0",
    overflow: "hidden",
    clip: "rect(0 0 0 0)",
    "clip-path": "inset(100%)"
  };
  var getId = function getId2(contextId) {
    return "rbd-announcement-" + contextId;
  };
  function useAnnouncer(contextId) {
    var id = useMemo6(function() {
      return getId(contextId);
    }, [contextId]);
    var ref2 = (0, import_react22.useRef)(null);
    (0, import_react22.useEffect)(function setup() {
      var el = document.createElement("div");
      ref2.current = el;
      el.id = id;
      el.setAttribute("aria-live", "assertive");
      el.setAttribute("aria-atomic", "true");
      _extends(el.style, visuallyHidden);
      getBodyElement().appendChild(el);
      return function cleanup() {
        setTimeout(function remove() {
          var body = getBodyElement();
          if (body.contains(el)) {
            body.removeChild(el);
          }
          if (el === ref2.current) {
            ref2.current = null;
          }
        });
      };
    }, [id]);
    var announce = useCallback2(function(message) {
      var el = ref2.current;
      if (el) {
        el.textContent = message;
        return;
      }
      true ? warning3('\n      A screen reader message was trying to be announced but it was unable to do so.\n      This can occur if you unmount your <DragDropContext /> in your onDragEnd.\n      Consider calling provided.announce() before the unmount so that the instruction will\n      not be lost for users relying on a screen reader.\n\n      Message not passed to screen reader:\n\n      "' + message + '"\n    ') : void 0;
    }, []);
    return announce;
  }
  var count = 0;
  var defaults = {
    separator: "::"
  };
  function useUniqueId(prefix3, options) {
    if (options === void 0) {
      options = defaults;
    }
    return useMemo6(function() {
      return "" + prefix3 + options.separator + count++;
    }, [options.separator, prefix3]);
  }
  function getElementId(_ref) {
    var contextId = _ref.contextId, uniqueId = _ref.uniqueId;
    return "rbd-hidden-text-" + contextId + "-" + uniqueId;
  }
  function useHiddenTextElement(_ref2) {
    var contextId = _ref2.contextId, text = _ref2.text;
    var uniqueId = useUniqueId("hidden-text", {
      separator: "-"
    });
    var id = useMemo6(function() {
      return getElementId({
        contextId,
        uniqueId
      });
    }, [uniqueId, contextId]);
    (0, import_react22.useEffect)(function mount() {
      var el = document.createElement("div");
      el.id = id;
      el.textContent = text;
      el.style.display = "none";
      getBodyElement().appendChild(el);
      return function unmount() {
        var body = getBodyElement();
        if (body.contains(el)) {
          body.removeChild(el);
        }
      };
    }, [id, text]);
    return id;
  }
  var AppContext = import_react22.default.createContext(null);
  var peerDependencies = {
    react: "^16.8.5 || ^17.0.0",
    "react-dom": "^16.8.5 || ^17.0.0"
  };
  var semver = /(\d+)\.(\d+)\.(\d+)/;
  var getVersion = function getVersion2(value) {
    var result = semver.exec(value);
    !(result != null) ? true ? invariant2(false, "Unable to parse React version " + value) : invariant2(false) : void 0;
    var major = Number(result[1]);
    var minor = Number(result[2]);
    var patch3 = Number(result[3]);
    return {
      major,
      minor,
      patch: patch3,
      raw: value
    };
  };
  var isSatisfied = function isSatisfied2(expected, actual) {
    if (actual.major > expected.major) {
      return true;
    }
    if (actual.major < expected.major) {
      return false;
    }
    if (actual.minor > expected.minor) {
      return true;
    }
    if (actual.minor < expected.minor) {
      return false;
    }
    return actual.patch >= expected.patch;
  };
  var checkReactVersion = function(peerDepValue, actualValue) {
    var peerDep = getVersion(peerDepValue);
    var actual = getVersion(actualValue);
    if (isSatisfied(peerDep, actual)) {
      return;
    }
    true ? warning3("\n    React version: [" + actual.raw + "]\n    does not satisfy expected peer dependency version: [" + peerDep.raw + "]\n\n    This can result in run time bugs, and even fatal crashes\n  ") : void 0;
  };
  var suffix = "\n  We expect a html5 doctype: <!doctype html>\n  This is to ensure consistent browser layout and measurement\n\n  More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/doctype.md\n";
  var checkDoctype = function(doc) {
    var doctype = doc.doctype;
    if (!doctype) {
      true ? warning3("\n      No <!doctype html> found.\n\n      " + suffix + "\n    ") : void 0;
      return;
    }
    if (doctype.name.toLowerCase() !== "html") {
      true ? warning3("\n      Unexpected <!doctype> found: (" + doctype.name + ")\n\n      " + suffix + "\n    ") : void 0;
    }
    if (doctype.publicId !== "") {
      true ? warning3("\n      Unexpected <!doctype> publicId found: (" + doctype.publicId + ")\n      A html5 doctype does not have a publicId\n\n      " + suffix + "\n    ") : void 0;
    }
  };
  function useDev(useHook) {
    if (true) {
      useHook();
    }
  }
  function useDevSetupWarning(fn4, inputs) {
    useDev(function() {
      (0, import_react22.useEffect)(function() {
        try {
          fn4();
        } catch (e2) {
          error("\n          A setup problem was encountered.\n\n          > " + e2.message + "\n        ");
        }
      }, inputs);
    });
  }
  function useStartupValidation() {
    useDevSetupWarning(function() {
      checkReactVersion(peerDependencies.react, import_react22.default.version);
      checkDoctype(document);
    }, []);
  }
  function usePrevious(current) {
    var ref2 = (0, import_react22.useRef)(current);
    (0, import_react22.useEffect)(function() {
      ref2.current = current;
    });
    return ref2;
  }
  function create() {
    var lock = null;
    function isClaimed() {
      return Boolean(lock);
    }
    function isActive(value) {
      return value === lock;
    }
    function claim(abandon) {
      !!lock ? true ? invariant2(false, "Cannot claim lock as it is already claimed") : invariant2(false) : void 0;
      var newLock = {
        abandon
      };
      lock = newLock;
      return newLock;
    }
    function release() {
      !lock ? true ? invariant2(false, "Cannot release lock when there is no lock") : invariant2(false) : void 0;
      lock = null;
    }
    function tryAbandon() {
      if (lock) {
        lock.abandon();
        release();
      }
    }
    return {
      isClaimed,
      isActive,
      claim,
      release,
      tryAbandon
    };
  }
  var tab = 9;
  var enter2 = 13;
  var escape = 27;
  var space = 32;
  var pageUp = 33;
  var pageDown = 34;
  var end2 = 35;
  var home = 36;
  var arrowLeft = 37;
  var arrowUp = 38;
  var arrowRight = 39;
  var arrowDown = 40;
  var _preventedKeys;
  var preventedKeys = (_preventedKeys = {}, _preventedKeys[enter2] = true, _preventedKeys[tab] = true, _preventedKeys);
  var preventStandardKeyEvents = function(event) {
    if (preventedKeys[event.keyCode]) {
      event.preventDefault();
    }
  };
  var supportedEventName = function() {
    var base = "visibilitychange";
    if (typeof document === "undefined") {
      return base;
    }
    var candidates = [base, "ms" + base, "webkit" + base, "moz" + base, "o" + base];
    var supported = find(candidates, function(eventName) {
      return "on" + eventName in document;
    });
    return supported || base;
  }();
  var primaryButton = 0;
  var sloppyClickThreshold = 5;
  function isSloppyClickThresholdExceeded(original, current) {
    return Math.abs(current.x - original.x) >= sloppyClickThreshold || Math.abs(current.y - original.y) >= sloppyClickThreshold;
  }
  var idle$1 = {
    type: "IDLE"
  };
  function getCaptureBindings(_ref) {
    var cancel = _ref.cancel, completed = _ref.completed, getPhase = _ref.getPhase, setPhase = _ref.setPhase;
    return [{
      eventName: "mousemove",
      fn: function fn4(event) {
        var button = event.button, clientX = event.clientX, clientY = event.clientY;
        if (button !== primaryButton) {
          return;
        }
        var point = {
          x: clientX,
          y: clientY
        };
        var phase = getPhase();
        if (phase.type === "DRAGGING") {
          event.preventDefault();
          phase.actions.move(point);
          return;
        }
        !(phase.type === "PENDING") ? true ? invariant2(false, "Cannot be IDLE") : invariant2(false) : void 0;
        var pending = phase.point;
        if (!isSloppyClickThresholdExceeded(pending, point)) {
          return;
        }
        event.preventDefault();
        var actions = phase.actions.fluidLift(point);
        setPhase({
          type: "DRAGGING",
          actions
        });
      }
    }, {
      eventName: "mouseup",
      fn: function fn4(event) {
        var phase = getPhase();
        if (phase.type !== "DRAGGING") {
          cancel();
          return;
        }
        event.preventDefault();
        phase.actions.drop({
          shouldBlockNextClick: true
        });
        completed();
      }
    }, {
      eventName: "mousedown",
      fn: function fn4(event) {
        if (getPhase().type === "DRAGGING") {
          event.preventDefault();
        }
        cancel();
      }
    }, {
      eventName: "keydown",
      fn: function fn4(event) {
        var phase = getPhase();
        if (phase.type === "PENDING") {
          cancel();
          return;
        }
        if (event.keyCode === escape) {
          event.preventDefault();
          cancel();
          return;
        }
        preventStandardKeyEvents(event);
      }
    }, {
      eventName: "resize",
      fn: cancel
    }, {
      eventName: "scroll",
      options: {
        passive: true,
        capture: false
      },
      fn: function fn4() {
        if (getPhase().type === "PENDING") {
          cancel();
        }
      }
    }, {
      eventName: "webkitmouseforcedown",
      fn: function fn4(event) {
        var phase = getPhase();
        !(phase.type !== "IDLE") ? true ? invariant2(false, "Unexpected phase") : invariant2(false) : void 0;
        if (phase.actions.shouldRespectForcePress()) {
          cancel();
          return;
        }
        event.preventDefault();
      }
    }, {
      eventName: supportedEventName,
      fn: cancel
    }];
  }
  function useMouseSensor(api) {
    var phaseRef = (0, import_react22.useRef)(idle$1);
    var unbindEventsRef = (0, import_react22.useRef)(noop2);
    var startCaptureBinding = useMemo6(function() {
      return {
        eventName: "mousedown",
        fn: function onMouseDown(event) {
          if (event.defaultPrevented) {
            return;
          }
          if (event.button !== primaryButton) {
            return;
          }
          if (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey) {
            return;
          }
          var draggableId = api.findClosestDraggableId(event);
          if (!draggableId) {
            return;
          }
          var actions = api.tryGetLock(draggableId, stop, {
            sourceEvent: event
          });
          if (!actions) {
            return;
          }
          event.preventDefault();
          var point = {
            x: event.clientX,
            y: event.clientY
          };
          unbindEventsRef.current();
          startPendingDrag(actions, point);
        }
      };
    }, [api]);
    var preventForcePressBinding = useMemo6(function() {
      return {
        eventName: "webkitmouseforcewillbegin",
        fn: function fn4(event) {
          if (event.defaultPrevented) {
            return;
          }
          var id = api.findClosestDraggableId(event);
          if (!id) {
            return;
          }
          var options = api.findOptionsForDraggable(id);
          if (!options) {
            return;
          }
          if (options.shouldRespectForcePress) {
            return;
          }
          if (!api.canGetLock(id)) {
            return;
          }
          event.preventDefault();
        }
      };
    }, [api]);
    var listenForCapture = useCallback2(function listenForCapture2() {
      var options = {
        passive: false,
        capture: true
      };
      unbindEventsRef.current = bindEvents(window, [preventForcePressBinding, startCaptureBinding], options);
    }, [preventForcePressBinding, startCaptureBinding]);
    var stop = useCallback2(function() {
      var current = phaseRef.current;
      if (current.type === "IDLE") {
        return;
      }
      phaseRef.current = idle$1;
      unbindEventsRef.current();
      listenForCapture();
    }, [listenForCapture]);
    var cancel = useCallback2(function() {
      var phase = phaseRef.current;
      stop();
      if (phase.type === "DRAGGING") {
        phase.actions.cancel({
          shouldBlockNextClick: true
        });
      }
      if (phase.type === "PENDING") {
        phase.actions.abort();
      }
    }, [stop]);
    var bindCapturingEvents = useCallback2(function bindCapturingEvents2() {
      var options = {
        capture: true,
        passive: false
      };
      var bindings = getCaptureBindings({
        cancel,
        completed: stop,
        getPhase: function getPhase() {
          return phaseRef.current;
        },
        setPhase: function setPhase(phase) {
          phaseRef.current = phase;
        }
      });
      unbindEventsRef.current = bindEvents(window, bindings, options);
    }, [cancel, stop]);
    var startPendingDrag = useCallback2(function startPendingDrag2(actions, point) {
      !(phaseRef.current.type === "IDLE") ? true ? invariant2(false, "Expected to move from IDLE to PENDING drag") : invariant2(false) : void 0;
      phaseRef.current = {
        type: "PENDING",
        point,
        actions
      };
      bindCapturingEvents();
    }, [bindCapturingEvents]);
    useIsomorphicLayoutEffect3(function mount() {
      listenForCapture();
      return function unmount() {
        unbindEventsRef.current();
      };
    }, [listenForCapture]);
  }
  var _scrollJumpKeys;
  function noop$1() {
  }
  var scrollJumpKeys = (_scrollJumpKeys = {}, _scrollJumpKeys[pageDown] = true, _scrollJumpKeys[pageUp] = true, _scrollJumpKeys[home] = true, _scrollJumpKeys[end2] = true, _scrollJumpKeys);
  function getDraggingBindings(actions, stop) {
    function cancel() {
      stop();
      actions.cancel();
    }
    function drop5() {
      stop();
      actions.drop();
    }
    return [{
      eventName: "keydown",
      fn: function fn4(event) {
        if (event.keyCode === escape) {
          event.preventDefault();
          cancel();
          return;
        }
        if (event.keyCode === space) {
          event.preventDefault();
          drop5();
          return;
        }
        if (event.keyCode === arrowDown) {
          event.preventDefault();
          actions.moveDown();
          return;
        }
        if (event.keyCode === arrowUp) {
          event.preventDefault();
          actions.moveUp();
          return;
        }
        if (event.keyCode === arrowRight) {
          event.preventDefault();
          actions.moveRight();
          return;
        }
        if (event.keyCode === arrowLeft) {
          event.preventDefault();
          actions.moveLeft();
          return;
        }
        if (scrollJumpKeys[event.keyCode]) {
          event.preventDefault();
          return;
        }
        preventStandardKeyEvents(event);
      }
    }, {
      eventName: "mousedown",
      fn: cancel
    }, {
      eventName: "mouseup",
      fn: cancel
    }, {
      eventName: "click",
      fn: cancel
    }, {
      eventName: "touchstart",
      fn: cancel
    }, {
      eventName: "resize",
      fn: cancel
    }, {
      eventName: "wheel",
      fn: cancel,
      options: {
        passive: true
      }
    }, {
      eventName: supportedEventName,
      fn: cancel
    }];
  }
  function useKeyboardSensor(api) {
    var unbindEventsRef = (0, import_react22.useRef)(noop$1);
    var startCaptureBinding = useMemo6(function() {
      return {
        eventName: "keydown",
        fn: function onKeyDown(event) {
          if (event.defaultPrevented) {
            return;
          }
          if (event.keyCode !== space) {
            return;
          }
          var draggableId = api.findClosestDraggableId(event);
          if (!draggableId) {
            return;
          }
          var preDrag = api.tryGetLock(draggableId, stop, {
            sourceEvent: event
          });
          if (!preDrag) {
            return;
          }
          event.preventDefault();
          var isCapturing = true;
          var actions = preDrag.snapLift();
          unbindEventsRef.current();
          function stop() {
            !isCapturing ? true ? invariant2(false, "Cannot stop capturing a keyboard drag when not capturing") : invariant2(false) : void 0;
            isCapturing = false;
            unbindEventsRef.current();
            listenForCapture();
          }
          unbindEventsRef.current = bindEvents(window, getDraggingBindings(actions, stop), {
            capture: true,
            passive: false
          });
        }
      };
    }, [api]);
    var listenForCapture = useCallback2(function tryStartCapture() {
      var options = {
        passive: false,
        capture: true
      };
      unbindEventsRef.current = bindEvents(window, [startCaptureBinding], options);
    }, [startCaptureBinding]);
    useIsomorphicLayoutEffect3(function mount() {
      listenForCapture();
      return function unmount() {
        unbindEventsRef.current();
      };
    }, [listenForCapture]);
  }
  var idle$2 = {
    type: "IDLE"
  };
  var timeForLongPress = 120;
  var forcePressThreshold = 0.15;
  function getWindowBindings(_ref) {
    var cancel = _ref.cancel, getPhase = _ref.getPhase;
    return [{
      eventName: "orientationchange",
      fn: cancel
    }, {
      eventName: "resize",
      fn: cancel
    }, {
      eventName: "contextmenu",
      fn: function fn4(event) {
        event.preventDefault();
      }
    }, {
      eventName: "keydown",
      fn: function fn4(event) {
        if (getPhase().type !== "DRAGGING") {
          cancel();
          return;
        }
        if (event.keyCode === escape) {
          event.preventDefault();
        }
        cancel();
      }
    }, {
      eventName: supportedEventName,
      fn: cancel
    }];
  }
  function getHandleBindings(_ref2) {
    var cancel = _ref2.cancel, completed = _ref2.completed, getPhase = _ref2.getPhase;
    return [{
      eventName: "touchmove",
      options: {
        capture: false
      },
      fn: function fn4(event) {
        var phase = getPhase();
        if (phase.type !== "DRAGGING") {
          cancel();
          return;
        }
        phase.hasMoved = true;
        var _event$touches$ = event.touches[0], clientX = _event$touches$.clientX, clientY = _event$touches$.clientY;
        var point = {
          x: clientX,
          y: clientY
        };
        event.preventDefault();
        phase.actions.move(point);
      }
    }, {
      eventName: "touchend",
      fn: function fn4(event) {
        var phase = getPhase();
        if (phase.type !== "DRAGGING") {
          cancel();
          return;
        }
        event.preventDefault();
        phase.actions.drop({
          shouldBlockNextClick: true
        });
        completed();
      }
    }, {
      eventName: "touchcancel",
      fn: function fn4(event) {
        if (getPhase().type !== "DRAGGING") {
          cancel();
          return;
        }
        event.preventDefault();
        cancel();
      }
    }, {
      eventName: "touchforcechange",
      fn: function fn4(event) {
        var phase = getPhase();
        !(phase.type !== "IDLE") ? true ? invariant2(false) : invariant2(false) : void 0;
        var touch = event.touches[0];
        if (!touch) {
          return;
        }
        var isForcePress = touch.force >= forcePressThreshold;
        if (!isForcePress) {
          return;
        }
        var shouldRespect = phase.actions.shouldRespectForcePress();
        if (phase.type === "PENDING") {
          if (shouldRespect) {
            cancel();
          }
          return;
        }
        if (shouldRespect) {
          if (phase.hasMoved) {
            event.preventDefault();
            return;
          }
          cancel();
          return;
        }
        event.preventDefault();
      }
    }, {
      eventName: supportedEventName,
      fn: cancel
    }];
  }
  function useTouchSensor(api) {
    var phaseRef = (0, import_react22.useRef)(idle$2);
    var unbindEventsRef = (0, import_react22.useRef)(noop2);
    var getPhase = useCallback2(function getPhase2() {
      return phaseRef.current;
    }, []);
    var setPhase = useCallback2(function setPhase2(phase) {
      phaseRef.current = phase;
    }, []);
    var startCaptureBinding = useMemo6(function() {
      return {
        eventName: "touchstart",
        fn: function onTouchStart(event) {
          if (event.defaultPrevented) {
            return;
          }
          var draggableId = api.findClosestDraggableId(event);
          if (!draggableId) {
            return;
          }
          var actions = api.tryGetLock(draggableId, stop, {
            sourceEvent: event
          });
          if (!actions) {
            return;
          }
          var touch = event.touches[0];
          var clientX = touch.clientX, clientY = touch.clientY;
          var point = {
            x: clientX,
            y: clientY
          };
          unbindEventsRef.current();
          startPendingDrag(actions, point);
        }
      };
    }, [api]);
    var listenForCapture = useCallback2(function listenForCapture2() {
      var options = {
        capture: true,
        passive: false
      };
      unbindEventsRef.current = bindEvents(window, [startCaptureBinding], options);
    }, [startCaptureBinding]);
    var stop = useCallback2(function() {
      var current = phaseRef.current;
      if (current.type === "IDLE") {
        return;
      }
      if (current.type === "PENDING") {
        clearTimeout(current.longPressTimerId);
      }
      setPhase(idle$2);
      unbindEventsRef.current();
      listenForCapture();
    }, [listenForCapture, setPhase]);
    var cancel = useCallback2(function() {
      var phase = phaseRef.current;
      stop();
      if (phase.type === "DRAGGING") {
        phase.actions.cancel({
          shouldBlockNextClick: true
        });
      }
      if (phase.type === "PENDING") {
        phase.actions.abort();
      }
    }, [stop]);
    var bindCapturingEvents = useCallback2(function bindCapturingEvents2() {
      var options = {
        capture: true,
        passive: false
      };
      var args = {
        cancel,
        completed: stop,
        getPhase
      };
      var unbindTarget = bindEvents(window, getHandleBindings(args), options);
      var unbindWindow = bindEvents(window, getWindowBindings(args), options);
      unbindEventsRef.current = function unbindAll() {
        unbindTarget();
        unbindWindow();
      };
    }, [cancel, getPhase, stop]);
    var startDragging = useCallback2(function startDragging2() {
      var phase = getPhase();
      !(phase.type === "PENDING") ? true ? invariant2(false, "Cannot start dragging from phase " + phase.type) : invariant2(false) : void 0;
      var actions = phase.actions.fluidLift(phase.point);
      setPhase({
        type: "DRAGGING",
        actions,
        hasMoved: false
      });
    }, [getPhase, setPhase]);
    var startPendingDrag = useCallback2(function startPendingDrag2(actions, point) {
      !(getPhase().type === "IDLE") ? true ? invariant2(false, "Expected to move from IDLE to PENDING drag") : invariant2(false) : void 0;
      var longPressTimerId = setTimeout(startDragging, timeForLongPress);
      setPhase({
        type: "PENDING",
        point,
        actions,
        longPressTimerId
      });
      bindCapturingEvents();
    }, [bindCapturingEvents, getPhase, setPhase, startDragging]);
    useIsomorphicLayoutEffect3(function mount() {
      listenForCapture();
      return function unmount() {
        unbindEventsRef.current();
        var phase = getPhase();
        if (phase.type === "PENDING") {
          clearTimeout(phase.longPressTimerId);
          setPhase(idle$2);
        }
      };
    }, [getPhase, listenForCapture, setPhase]);
    useIsomorphicLayoutEffect3(function webkitHack() {
      var unbind = bindEvents(window, [{
        eventName: "touchmove",
        fn: function fn4() {
        },
        options: {
          capture: false,
          passive: false
        }
      }]);
      return unbind;
    }, []);
  }
  function useValidateSensorHooks(sensorHooks) {
    useDev(function() {
      var previousRef = usePrevious(sensorHooks);
      useDevSetupWarning(function() {
        !(previousRef.current.length === sensorHooks.length) ? true ? invariant2(false, "Cannot change the amount of sensor hooks after mounting") : invariant2(false) : void 0;
      });
    });
  }
  var interactiveTagNames = {
    input: true,
    button: true,
    textarea: true,
    select: true,
    option: true,
    optgroup: true,
    video: true,
    audio: true
  };
  function isAnInteractiveElement(parent, current) {
    if (current == null) {
      return false;
    }
    var hasAnInteractiveTag = Boolean(interactiveTagNames[current.tagName.toLowerCase()]);
    if (hasAnInteractiveTag) {
      return true;
    }
    var attribute = current.getAttribute("contenteditable");
    if (attribute === "true" || attribute === "") {
      return true;
    }
    if (current === parent) {
      return false;
    }
    return isAnInteractiveElement(parent, current.parentElement);
  }
  function isEventInInteractiveElement(draggable2, event) {
    var target = event.target;
    if (!isHtmlElement(target)) {
      return false;
    }
    return isAnInteractiveElement(draggable2, target);
  }
  var getBorderBoxCenterPosition = function(el) {
    return getRect(el.getBoundingClientRect()).center;
  };
  function isElement3(el) {
    return el instanceof getWindowFromEl(el).Element;
  }
  var supportedMatchesName = function() {
    var base = "matches";
    if (typeof document === "undefined") {
      return base;
    }
    var candidates = [base, "msMatchesSelector", "webkitMatchesSelector"];
    var value = find(candidates, function(name) {
      return name in Element.prototype;
    });
    return value || base;
  }();
  function closestPonyfill(el, selector) {
    if (el == null) {
      return null;
    }
    if (el[supportedMatchesName](selector)) {
      return el;
    }
    return closestPonyfill(el.parentElement, selector);
  }
  function closest$1(el, selector) {
    if (el.closest) {
      return el.closest(selector);
    }
    return closestPonyfill(el, selector);
  }
  function getSelector(contextId) {
    return "[" + dragHandle.contextId + '="' + contextId + '"]';
  }
  function findClosestDragHandleFromEvent(contextId, event) {
    var target = event.target;
    if (!isElement3(target)) {
      true ? warning3("event.target must be a Element") : void 0;
      return null;
    }
    var selector = getSelector(contextId);
    var handle = closest$1(target, selector);
    if (!handle) {
      return null;
    }
    if (!isHtmlElement(handle)) {
      true ? warning3("drag handle must be a HTMLElement") : void 0;
      return null;
    }
    return handle;
  }
  function tryGetClosestDraggableIdFromEvent(contextId, event) {
    var handle = findClosestDragHandleFromEvent(contextId, event);
    if (!handle) {
      return null;
    }
    return handle.getAttribute(dragHandle.draggableId);
  }
  function findDraggable(contextId, draggableId) {
    var selector = "[" + draggable.contextId + '="' + contextId + '"]';
    var possible = toArray(document.querySelectorAll(selector));
    var draggable$1 = find(possible, function(el) {
      return el.getAttribute(draggable.id) === draggableId;
    });
    if (!draggable$1) {
      return null;
    }
    if (!isHtmlElement(draggable$1)) {
      true ? warning3("Draggable element is not a HTMLElement") : void 0;
      return null;
    }
    return draggable$1;
  }
  function preventDefault(event) {
    event.preventDefault();
  }
  function _isActive(_ref) {
    var expected = _ref.expected, phase = _ref.phase, isLockActive = _ref.isLockActive, shouldWarn = _ref.shouldWarn;
    if (!isLockActive()) {
      if (shouldWarn) {
        true ? warning3("\n        Cannot perform action.\n        The sensor no longer has an action lock.\n\n        Tips:\n\n        - Throw away your action handlers when forceStop() is called\n        - Check actions.isActive() if you really need to\n      ") : void 0;
      }
      return false;
    }
    if (expected !== phase) {
      if (shouldWarn) {
        true ? warning3("\n        Cannot perform action.\n        The actions you used belong to an outdated phase\n\n        Current phase: " + expected + "\n        You called an action from outdated phase: " + phase + "\n\n        Tips:\n\n        - Do not use preDragActions actions after calling preDragActions.lift()\n      ") : void 0;
      }
      return false;
    }
    return true;
  }
  function canStart(_ref2) {
    var lockAPI = _ref2.lockAPI, store = _ref2.store, registry = _ref2.registry, draggableId = _ref2.draggableId;
    if (lockAPI.isClaimed()) {
      return false;
    }
    var entry = registry.draggable.findById(draggableId);
    if (!entry) {
      true ? warning3("Unable to find draggable with id: " + draggableId) : void 0;
      return false;
    }
    if (!entry.options.isEnabled) {
      return false;
    }
    if (!canStartDrag(store.getState(), draggableId)) {
      return false;
    }
    return true;
  }
  function tryStart(_ref3) {
    var lockAPI = _ref3.lockAPI, contextId = _ref3.contextId, store = _ref3.store, registry = _ref3.registry, draggableId = _ref3.draggableId, forceSensorStop = _ref3.forceSensorStop, sourceEvent = _ref3.sourceEvent;
    var shouldStart = canStart({
      lockAPI,
      store,
      registry,
      draggableId
    });
    if (!shouldStart) {
      return null;
    }
    var entry = registry.draggable.getById(draggableId);
    var el = findDraggable(contextId, entry.descriptor.id);
    if (!el) {
      true ? warning3("Unable to find draggable element with id: " + draggableId) : void 0;
      return null;
    }
    if (sourceEvent && !entry.options.canDragInteractiveElements && isEventInInteractiveElement(el, sourceEvent)) {
      return null;
    }
    var lock = lockAPI.claim(forceSensorStop || noop2);
    var phase = "PRE_DRAG";
    function getShouldRespectForcePress() {
      return entry.options.shouldRespectForcePress;
    }
    function isLockActive() {
      return lockAPI.isActive(lock);
    }
    function tryDispatch(expected, getAction) {
      if (_isActive({
        expected,
        phase,
        isLockActive,
        shouldWarn: true
      })) {
        store.dispatch(getAction());
      }
    }
    var tryDispatchWhenDragging = tryDispatch.bind(null, "DRAGGING");
    function lift$12(args) {
      function completed() {
        lockAPI.release();
        phase = "COMPLETED";
      }
      if (phase !== "PRE_DRAG") {
        completed();
        !(phase === "PRE_DRAG") ? true ? invariant2(false, "Cannot lift in phase " + phase) : invariant2(false) : void 0;
      }
      store.dispatch(lift(args.liftActionArgs));
      phase = "DRAGGING";
      function finish3(reason, options) {
        if (options === void 0) {
          options = {
            shouldBlockNextClick: false
          };
        }
        args.cleanup();
        if (options.shouldBlockNextClick) {
          var unbind = bindEvents(window, [{
            eventName: "click",
            fn: preventDefault,
            options: {
              once: true,
              passive: false,
              capture: true
            }
          }]);
          setTimeout(unbind);
        }
        completed();
        store.dispatch(drop({
          reason
        }));
      }
      return _extends({
        isActive: function isActive() {
          return _isActive({
            expected: "DRAGGING",
            phase,
            isLockActive,
            shouldWarn: false
          });
        },
        shouldRespectForcePress: getShouldRespectForcePress,
        drop: function drop5(options) {
          return finish3("DROP", options);
        },
        cancel: function cancel(options) {
          return finish3("CANCEL", options);
        }
      }, args.actions);
    }
    function fluidLift(clientSelection) {
      var move$1 = raf_schd_esm_default(function(client) {
        tryDispatchWhenDragging(function() {
          return move({
            client
          });
        });
      });
      var api = lift$12({
        liftActionArgs: {
          id: draggableId,
          clientSelection,
          movementMode: "FLUID"
        },
        cleanup: function cleanup() {
          return move$1.cancel();
        },
        actions: {
          move: move$1
        }
      });
      return _extends({}, api, {
        move: move$1
      });
    }
    function snapLift() {
      var actions = {
        moveUp: function moveUp$1() {
          return tryDispatchWhenDragging(moveUp);
        },
        moveRight: function moveRight$1() {
          return tryDispatchWhenDragging(moveRight);
        },
        moveDown: function moveDown$1() {
          return tryDispatchWhenDragging(moveDown);
        },
        moveLeft: function moveLeft$1() {
          return tryDispatchWhenDragging(moveLeft);
        }
      };
      return lift$12({
        liftActionArgs: {
          id: draggableId,
          clientSelection: getBorderBoxCenterPosition(el),
          movementMode: "SNAP"
        },
        cleanup: noop2,
        actions
      });
    }
    function abortPreDrag() {
      var shouldRelease = _isActive({
        expected: "PRE_DRAG",
        phase,
        isLockActive,
        shouldWarn: true
      });
      if (shouldRelease) {
        lockAPI.release();
      }
    }
    var preDrag = {
      isActive: function isActive() {
        return _isActive({
          expected: "PRE_DRAG",
          phase,
          isLockActive,
          shouldWarn: false
        });
      },
      shouldRespectForcePress: getShouldRespectForcePress,
      fluidLift,
      snapLift,
      abort: abortPreDrag
    };
    return preDrag;
  }
  var defaultSensors = [useMouseSensor, useKeyboardSensor, useTouchSensor];
  function useSensorMarshal(_ref4) {
    var contextId = _ref4.contextId, store = _ref4.store, registry = _ref4.registry, customSensors = _ref4.customSensors, enableDefaultSensors = _ref4.enableDefaultSensors;
    var useSensors = [].concat(enableDefaultSensors ? defaultSensors : [], customSensors || []);
    var lockAPI = (0, import_react22.useState)(function() {
      return create();
    })[0];
    var tryAbandonLock = useCallback2(function tryAbandonLock2(previous, current) {
      if (previous.isDragging && !current.isDragging) {
        lockAPI.tryAbandon();
      }
    }, [lockAPI]);
    useIsomorphicLayoutEffect3(function listenToStore() {
      var previous = store.getState();
      var unsubscribe = store.subscribe(function() {
        var current = store.getState();
        tryAbandonLock(previous, current);
        previous = current;
      });
      return unsubscribe;
    }, [lockAPI, store, tryAbandonLock]);
    useIsomorphicLayoutEffect3(function() {
      return lockAPI.tryAbandon;
    }, [lockAPI.tryAbandon]);
    var canGetLock = useCallback2(function(draggableId) {
      return canStart({
        lockAPI,
        registry,
        store,
        draggableId
      });
    }, [lockAPI, registry, store]);
    var tryGetLock = useCallback2(function(draggableId, forceStop, options) {
      return tryStart({
        lockAPI,
        registry,
        contextId,
        store,
        draggableId,
        forceSensorStop: forceStop,
        sourceEvent: options && options.sourceEvent ? options.sourceEvent : null
      });
    }, [contextId, lockAPI, registry, store]);
    var findClosestDraggableId = useCallback2(function(event) {
      return tryGetClosestDraggableIdFromEvent(contextId, event);
    }, [contextId]);
    var findOptionsForDraggable = useCallback2(function(id) {
      var entry = registry.draggable.findById(id);
      return entry ? entry.options : null;
    }, [registry.draggable]);
    var tryReleaseLock = useCallback2(function tryReleaseLock2() {
      if (!lockAPI.isClaimed()) {
        return;
      }
      lockAPI.tryAbandon();
      if (store.getState().phase !== "IDLE") {
        store.dispatch(flush());
      }
    }, [lockAPI, store]);
    var isLockClaimed = useCallback2(lockAPI.isClaimed, [lockAPI]);
    var api = useMemo6(function() {
      return {
        canGetLock,
        tryGetLock,
        findClosestDraggableId,
        findOptionsForDraggable,
        tryReleaseLock,
        isLockClaimed
      };
    }, [canGetLock, tryGetLock, findClosestDraggableId, findOptionsForDraggable, tryReleaseLock, isLockClaimed]);
    useValidateSensorHooks(useSensors);
    for (var i3 = 0; i3 < useSensors.length; i3++) {
      useSensors[i3](api);
    }
  }
  var createResponders = function createResponders2(props) {
    return {
      onBeforeCapture: props.onBeforeCapture,
      onBeforeDragStart: props.onBeforeDragStart,
      onDragStart: props.onDragStart,
      onDragEnd: props.onDragEnd,
      onDragUpdate: props.onDragUpdate
    };
  };
  function getStore(lazyRef) {
    !lazyRef.current ? true ? invariant2(false, "Could not find store from lazy ref") : invariant2(false) : void 0;
    return lazyRef.current;
  }
  function App(props) {
    var contextId = props.contextId, setCallbacks = props.setCallbacks, sensors = props.sensors, nonce = props.nonce, dragHandleUsageInstructions2 = props.dragHandleUsageInstructions;
    var lazyStoreRef = (0, import_react22.useRef)(null);
    useStartupValidation();
    var lastPropsRef = usePrevious(props);
    var getResponders = useCallback2(function() {
      return createResponders(lastPropsRef.current);
    }, [lastPropsRef]);
    var announce = useAnnouncer(contextId);
    var dragHandleUsageInstructionsId = useHiddenTextElement({
      contextId,
      text: dragHandleUsageInstructions2
    });
    var styleMarshal = useStyleMarshal(contextId, nonce);
    var lazyDispatch = useCallback2(function(action) {
      getStore(lazyStoreRef).dispatch(action);
    }, []);
    var marshalCallbacks = useMemo6(function() {
      return bindActionCreators({
        publishWhileDragging,
        updateDroppableScroll,
        updateDroppableIsEnabled,
        updateDroppableIsCombineEnabled,
        collectionStarting
      }, lazyDispatch);
    }, [lazyDispatch]);
    var registry = useRegistry();
    var dimensionMarshal = useMemo6(function() {
      return createDimensionMarshal(registry, marshalCallbacks);
    }, [registry, marshalCallbacks]);
    var autoScroller = useMemo6(function() {
      return createAutoScroller(_extends({
        scrollWindow,
        scrollDroppable: dimensionMarshal.scrollDroppable
      }, bindActionCreators({
        move
      }, lazyDispatch)));
    }, [dimensionMarshal.scrollDroppable, lazyDispatch]);
    var focusMarshal = useFocusMarshal(contextId);
    var store = useMemo6(function() {
      return createStore2({
        announce,
        autoScroller,
        dimensionMarshal,
        focusMarshal,
        getResponders,
        styleMarshal
      });
    }, [announce, autoScroller, dimensionMarshal, focusMarshal, getResponders, styleMarshal]);
    if (true) {
      if (lazyStoreRef.current && lazyStoreRef.current !== store) {
        true ? warning3("unexpected store change") : void 0;
      }
    }
    lazyStoreRef.current = store;
    var tryResetStore = useCallback2(function() {
      var current = getStore(lazyStoreRef);
      var state = current.getState();
      if (state.phase !== "IDLE") {
        current.dispatch(flush());
      }
    }, []);
    var isDragging = useCallback2(function() {
      var state = getStore(lazyStoreRef).getState();
      return state.isDragging || state.phase === "DROP_ANIMATING";
    }, []);
    var appCallbacks = useMemo6(function() {
      return {
        isDragging,
        tryAbort: tryResetStore
      };
    }, [isDragging, tryResetStore]);
    setCallbacks(appCallbacks);
    var getCanLift = useCallback2(function(id) {
      return canStartDrag(getStore(lazyStoreRef).getState(), id);
    }, []);
    var getIsMovementAllowed = useCallback2(function() {
      return isMovementAllowed(getStore(lazyStoreRef).getState());
    }, []);
    var appContext = useMemo6(function() {
      return {
        marshal: dimensionMarshal,
        focus: focusMarshal,
        contextId,
        canLift: getCanLift,
        isMovementAllowed: getIsMovementAllowed,
        dragHandleUsageInstructionsId,
        registry
      };
    }, [contextId, dimensionMarshal, dragHandleUsageInstructionsId, focusMarshal, getCanLift, getIsMovementAllowed, registry]);
    useSensorMarshal({
      contextId,
      store,
      registry,
      customSensors: sensors,
      enableDefaultSensors: props.enableDefaultSensors !== false
    });
    (0, import_react22.useEffect)(function() {
      return tryResetStore;
    }, [tryResetStore]);
    return import_react22.default.createElement(AppContext.Provider, {
      value: appContext
    }, import_react22.default.createElement(Provider_default, {
      context: StoreContext,
      store
    }, props.children));
  }
  var count$1 = 0;
  function useInstanceCount() {
    return useMemo6(function() {
      return "" + count$1++;
    }, []);
  }
  function DragDropContext(props) {
    var contextId = useInstanceCount();
    var dragHandleUsageInstructions2 = props.dragHandleUsageInstructions || preset.dragHandleUsageInstructions;
    return import_react22.default.createElement(ErrorBoundary, null, function(setCallbacks) {
      return import_react22.default.createElement(App, {
        nonce: props.nonce,
        contextId,
        setCallbacks,
        dragHandleUsageInstructions: dragHandleUsageInstructions2,
        enableDefaultSensors: props.enableDefaultSensors,
        sensors: props.sensors,
        onBeforeCapture: props.onBeforeCapture,
        onBeforeDragStart: props.onBeforeDragStart,
        onDragStart: props.onDragStart,
        onDragUpdate: props.onDragUpdate,
        onDragEnd: props.onDragEnd
      }, props.children);
    });
  }
  var isEqual$1 = function isEqual4(base) {
    return function(value) {
      return base === value;
    };
  };
  var isScroll = isEqual$1("scroll");
  var isAuto = isEqual$1("auto");
  var isVisible$1 = isEqual$1("visible");
  var isEither = function isEither2(overflow, fn4) {
    return fn4(overflow.overflowX) || fn4(overflow.overflowY);
  };
  var isBoth = function isBoth2(overflow, fn4) {
    return fn4(overflow.overflowX) && fn4(overflow.overflowY);
  };
  var isElementScrollable = function isElementScrollable2(el) {
    var style2 = window.getComputedStyle(el);
    var overflow = {
      overflowX: style2.overflowX,
      overflowY: style2.overflowY
    };
    return isEither(overflow, isScroll) || isEither(overflow, isAuto);
  };
  var isBodyScrollable = function isBodyScrollable2() {
    if (false) {
      return false;
    }
    var body = getBodyElement();
    var html = document.documentElement;
    !html ? true ? invariant2(false) : invariant2(false) : void 0;
    if (!isElementScrollable(body)) {
      return false;
    }
    var htmlStyle = window.getComputedStyle(html);
    var htmlOverflow = {
      overflowX: htmlStyle.overflowX,
      overflowY: htmlStyle.overflowY
    };
    if (isBoth(htmlOverflow, isVisible$1)) {
      return false;
    }
    true ? warning3("\n    We have detected that your <body> element might be a scroll container.\n    We have found no reliable way of detecting whether the <body> element is a scroll container.\n    Under most circumstances a <body> scroll bar will be on the <html> element (document.documentElement)\n\n    Because we cannot determine if the <body> is a scroll container, and generally it is not one,\n    we will be treating the <body> as *not* a scroll container\n\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/how-we-detect-scroll-containers.md\n  ") : void 0;
    return false;
  };
  var getClosestScrollable = function getClosestScrollable2(el) {
    if (el == null) {
      return null;
    }
    if (el === document.body) {
      return isBodyScrollable() ? el : null;
    }
    if (el === document.documentElement) {
      return null;
    }
    if (!isElementScrollable(el)) {
      return getClosestScrollable2(el.parentElement);
    }
    return el;
  };
  var checkForNestedScrollContainers = function(scrollable) {
    if (!scrollable) {
      return;
    }
    var anotherScrollParent = getClosestScrollable(scrollable.parentElement);
    if (!anotherScrollParent) {
      return;
    }
    true ? warning3("\n    Droppable: unsupported nested scroll container detected.\n    A Droppable can only have one scroll parent (which can be itself)\n    Nested scroll containers are currently not supported.\n\n    We hope to support nested scroll containers soon: https://github.com/atlassian/react-beautiful-dnd/issues/131\n  ") : void 0;
  };
  var getScroll$1 = function(el) {
    return {
      x: el.scrollLeft,
      y: el.scrollTop
    };
  };
  var getIsFixed = function getIsFixed2(el) {
    if (!el) {
      return false;
    }
    var style2 = window.getComputedStyle(el);
    if (style2.position === "fixed") {
      return true;
    }
    return getIsFixed2(el.parentElement);
  };
  var getEnv = function(start4) {
    var closestScrollable = getClosestScrollable(start4);
    var isFixedOnPage = getIsFixed(start4);
    return {
      closestScrollable,
      isFixedOnPage
    };
  };
  var getDroppableDimension = function(_ref) {
    var descriptor = _ref.descriptor, isEnabled = _ref.isEnabled, isCombineEnabled = _ref.isCombineEnabled, isFixedOnPage = _ref.isFixedOnPage, direction = _ref.direction, client = _ref.client, page = _ref.page, closest3 = _ref.closest;
    var frame = function() {
      if (!closest3) {
        return null;
      }
      var scrollSize = closest3.scrollSize, frameClient = closest3.client;
      var maxScroll = getMaxScroll({
        scrollHeight: scrollSize.scrollHeight,
        scrollWidth: scrollSize.scrollWidth,
        height: frameClient.paddingBox.height,
        width: frameClient.paddingBox.width
      });
      return {
        pageMarginBox: closest3.page.marginBox,
        frameClient,
        scrollSize,
        shouldClipSubject: closest3.shouldClipSubject,
        scroll: {
          initial: closest3.scroll,
          current: closest3.scroll,
          max: maxScroll,
          diff: {
            value: origin,
            displacement: origin
          }
        }
      };
    }();
    var axis = direction === "vertical" ? vertical : horizontal;
    var subject = getSubject({
      page,
      withPlaceholder: null,
      axis,
      frame
    });
    var dimension = {
      descriptor,
      isCombineEnabled,
      isFixedOnPage,
      axis,
      isEnabled,
      client,
      page,
      frame,
      subject
    };
    return dimension;
  };
  var getClient = function getClient2(targetRef, closestScrollable) {
    var base = getBox(targetRef);
    if (!closestScrollable) {
      return base;
    }
    if (targetRef !== closestScrollable) {
      return base;
    }
    var top2 = base.paddingBox.top - closestScrollable.scrollTop;
    var left2 = base.paddingBox.left - closestScrollable.scrollLeft;
    var bottom2 = top2 + closestScrollable.scrollHeight;
    var right2 = left2 + closestScrollable.scrollWidth;
    var paddingBox = {
      top: top2,
      right: right2,
      bottom: bottom2,
      left: left2
    };
    var borderBox = expand(paddingBox, base.border);
    var client = createBox({
      borderBox,
      margin: base.margin,
      border: base.border,
      padding: base.padding
    });
    return client;
  };
  var getDimension = function(_ref) {
    var ref2 = _ref.ref, descriptor = _ref.descriptor, env = _ref.env, windowScroll = _ref.windowScroll, direction = _ref.direction, isDropDisabled = _ref.isDropDisabled, isCombineEnabled = _ref.isCombineEnabled, shouldClipSubject = _ref.shouldClipSubject;
    var closestScrollable = env.closestScrollable;
    var client = getClient(ref2, closestScrollable);
    var page = withScroll(client, windowScroll);
    var closest3 = function() {
      if (!closestScrollable) {
        return null;
      }
      var frameClient = getBox(closestScrollable);
      var scrollSize = {
        scrollHeight: closestScrollable.scrollHeight,
        scrollWidth: closestScrollable.scrollWidth
      };
      return {
        client: frameClient,
        page: withScroll(frameClient, windowScroll),
        scroll: getScroll$1(closestScrollable),
        scrollSize,
        shouldClipSubject
      };
    }();
    var dimension = getDroppableDimension({
      descriptor,
      isEnabled: !isDropDisabled,
      isCombineEnabled,
      isFixedOnPage: env.isFixedOnPage,
      direction,
      client,
      page,
      closest: closest3
    });
    return dimension;
  };
  var immediate = {
    passive: false
  };
  var delayed = {
    passive: true
  };
  var getListenerOptions = function(options) {
    return options.shouldPublishImmediately ? immediate : delayed;
  };
  function useRequiredContext(Context) {
    var result = (0, import_react22.useContext)(Context);
    !result ? true ? invariant2(false, "Could not find required context") : invariant2(false) : void 0;
    return result;
  }
  var getClosestScrollableFromDrag = function getClosestScrollableFromDrag2(dragging) {
    return dragging && dragging.env.closestScrollable || null;
  };
  function useDroppablePublisher(args) {
    var whileDraggingRef = (0, import_react22.useRef)(null);
    var appContext = useRequiredContext(AppContext);
    var uniqueId = useUniqueId("droppable");
    var registry = appContext.registry, marshal = appContext.marshal;
    var previousRef = usePrevious(args);
    var descriptor = useMemo6(function() {
      return {
        id: args.droppableId,
        type: args.type,
        mode: args.mode
      };
    }, [args.droppableId, args.mode, args.type]);
    var publishedDescriptorRef = (0, import_react22.useRef)(descriptor);
    var memoizedUpdateScroll = useMemo6(function() {
      return memoize_one_esm_default(function(x2, y2) {
        !whileDraggingRef.current ? true ? invariant2(false, "Can only update scroll when dragging") : invariant2(false) : void 0;
        var scroll4 = {
          x: x2,
          y: y2
        };
        marshal.updateDroppableScroll(descriptor.id, scroll4);
      });
    }, [descriptor.id, marshal]);
    var getClosestScroll = useCallback2(function() {
      var dragging = whileDraggingRef.current;
      if (!dragging || !dragging.env.closestScrollable) {
        return origin;
      }
      return getScroll$1(dragging.env.closestScrollable);
    }, []);
    var updateScroll = useCallback2(function() {
      var scroll4 = getClosestScroll();
      memoizedUpdateScroll(scroll4.x, scroll4.y);
    }, [getClosestScroll, memoizedUpdateScroll]);
    var scheduleScrollUpdate = useMemo6(function() {
      return raf_schd_esm_default(updateScroll);
    }, [updateScroll]);
    var onClosestScroll = useCallback2(function() {
      var dragging = whileDraggingRef.current;
      var closest3 = getClosestScrollableFromDrag(dragging);
      !(dragging && closest3) ? true ? invariant2(false, "Could not find scroll options while scrolling") : invariant2(false) : void 0;
      var options = dragging.scrollOptions;
      if (options.shouldPublishImmediately) {
        updateScroll();
        return;
      }
      scheduleScrollUpdate();
    }, [scheduleScrollUpdate, updateScroll]);
    var getDimensionAndWatchScroll = useCallback2(function(windowScroll, options) {
      !!whileDraggingRef.current ? true ? invariant2(false, "Cannot collect a droppable while a drag is occurring") : invariant2(false) : void 0;
      var previous = previousRef.current;
      var ref2 = previous.getDroppableRef();
      !ref2 ? true ? invariant2(false, "Cannot collect without a droppable ref") : invariant2(false) : void 0;
      var env = getEnv(ref2);
      var dragging = {
        ref: ref2,
        descriptor,
        env,
        scrollOptions: options
      };
      whileDraggingRef.current = dragging;
      var dimension = getDimension({
        ref: ref2,
        descriptor,
        env,
        windowScroll,
        direction: previous.direction,
        isDropDisabled: previous.isDropDisabled,
        isCombineEnabled: previous.isCombineEnabled,
        shouldClipSubject: !previous.ignoreContainerClipping
      });
      var scrollable = env.closestScrollable;
      if (scrollable) {
        scrollable.setAttribute(scrollContainer.contextId, appContext.contextId);
        scrollable.addEventListener("scroll", onClosestScroll, getListenerOptions(dragging.scrollOptions));
        if (true) {
          checkForNestedScrollContainers(scrollable);
        }
      }
      return dimension;
    }, [appContext.contextId, descriptor, onClosestScroll, previousRef]);
    var getScrollWhileDragging = useCallback2(function() {
      var dragging = whileDraggingRef.current;
      var closest3 = getClosestScrollableFromDrag(dragging);
      !(dragging && closest3) ? true ? invariant2(false, "Can only recollect Droppable client for Droppables that have a scroll container") : invariant2(false) : void 0;
      return getScroll$1(closest3);
    }, []);
    var dragStopped = useCallback2(function() {
      var dragging = whileDraggingRef.current;
      !dragging ? true ? invariant2(false, "Cannot stop drag when no active drag") : invariant2(false) : void 0;
      var closest3 = getClosestScrollableFromDrag(dragging);
      whileDraggingRef.current = null;
      if (!closest3) {
        return;
      }
      scheduleScrollUpdate.cancel();
      closest3.removeAttribute(scrollContainer.contextId);
      closest3.removeEventListener("scroll", onClosestScroll, getListenerOptions(dragging.scrollOptions));
    }, [onClosestScroll, scheduleScrollUpdate]);
    var scroll3 = useCallback2(function(change) {
      var dragging = whileDraggingRef.current;
      !dragging ? true ? invariant2(false, "Cannot scroll when there is no drag") : invariant2(false) : void 0;
      var closest3 = getClosestScrollableFromDrag(dragging);
      !closest3 ? true ? invariant2(false, "Cannot scroll a droppable with no closest scrollable") : invariant2(false) : void 0;
      closest3.scrollTop += change.y;
      closest3.scrollLeft += change.x;
    }, []);
    var callbacks = useMemo6(function() {
      return {
        getDimensionAndWatchScroll,
        getScrollWhileDragging,
        dragStopped,
        scroll: scroll3
      };
    }, [dragStopped, getDimensionAndWatchScroll, getScrollWhileDragging, scroll3]);
    var entry = useMemo6(function() {
      return {
        uniqueId,
        descriptor,
        callbacks
      };
    }, [callbacks, descriptor, uniqueId]);
    useIsomorphicLayoutEffect3(function() {
      publishedDescriptorRef.current = entry.descriptor;
      registry.droppable.register(entry);
      return function() {
        if (whileDraggingRef.current) {
          true ? warning3("Unsupported: changing the droppableId or type of a Droppable during a drag") : void 0;
          dragStopped();
        }
        registry.droppable.unregister(entry);
      };
    }, [callbacks, descriptor, dragStopped, entry, marshal, registry.droppable]);
    useIsomorphicLayoutEffect3(function() {
      if (!whileDraggingRef.current) {
        return;
      }
      marshal.updateDroppableIsEnabled(publishedDescriptorRef.current.id, !args.isDropDisabled);
    }, [args.isDropDisabled, marshal]);
    useIsomorphicLayoutEffect3(function() {
      if (!whileDraggingRef.current) {
        return;
      }
      marshal.updateDroppableIsCombineEnabled(publishedDescriptorRef.current.id, args.isCombineEnabled);
    }, [args.isCombineEnabled, marshal]);
  }
  function noop$2() {
  }
  var empty = {
    width: 0,
    height: 0,
    margin: noSpacing2
  };
  var getSize = function getSize2(_ref) {
    var isAnimatingOpenOnMount = _ref.isAnimatingOpenOnMount, placeholder2 = _ref.placeholder, animate = _ref.animate;
    if (isAnimatingOpenOnMount) {
      return empty;
    }
    if (animate === "close") {
      return empty;
    }
    return {
      height: placeholder2.client.borderBox.height,
      width: placeholder2.client.borderBox.width,
      margin: placeholder2.client.margin
    };
  };
  var getStyle = function getStyle2(_ref2) {
    var isAnimatingOpenOnMount = _ref2.isAnimatingOpenOnMount, placeholder2 = _ref2.placeholder, animate = _ref2.animate;
    var size = getSize({
      isAnimatingOpenOnMount,
      placeholder: placeholder2,
      animate
    });
    return {
      display: placeholder2.display,
      boxSizing: "border-box",
      width: size.width,
      height: size.height,
      marginTop: size.margin.top,
      marginRight: size.margin.right,
      marginBottom: size.margin.bottom,
      marginLeft: size.margin.left,
      flexShrink: "0",
      flexGrow: "0",
      pointerEvents: "none",
      transition: animate !== "none" ? transitions.placeholder : null
    };
  };
  function Placeholder(props) {
    var animateOpenTimerRef = (0, import_react22.useRef)(null);
    var tryClearAnimateOpenTimer = useCallback2(function() {
      if (!animateOpenTimerRef.current) {
        return;
      }
      clearTimeout(animateOpenTimerRef.current);
      animateOpenTimerRef.current = null;
    }, []);
    var animate = props.animate, onTransitionEnd = props.onTransitionEnd, onClose = props.onClose, contextId = props.contextId;
    var _useState = (0, import_react22.useState)(props.animate === "open"), isAnimatingOpenOnMount = _useState[0], setIsAnimatingOpenOnMount = _useState[1];
    (0, import_react22.useEffect)(function() {
      if (!isAnimatingOpenOnMount) {
        return noop$2;
      }
      if (animate !== "open") {
        tryClearAnimateOpenTimer();
        setIsAnimatingOpenOnMount(false);
        return noop$2;
      }
      if (animateOpenTimerRef.current) {
        return noop$2;
      }
      animateOpenTimerRef.current = setTimeout(function() {
        animateOpenTimerRef.current = null;
        setIsAnimatingOpenOnMount(false);
      });
      return tryClearAnimateOpenTimer;
    }, [animate, isAnimatingOpenOnMount, tryClearAnimateOpenTimer]);
    var onSizeChangeEnd = useCallback2(function(event) {
      if (event.propertyName !== "height") {
        return;
      }
      onTransitionEnd();
      if (animate === "close") {
        onClose();
      }
    }, [animate, onClose, onTransitionEnd]);
    var style2 = getStyle({
      isAnimatingOpenOnMount,
      animate: props.animate,
      placeholder: props.placeholder
    });
    return import_react22.default.createElement(props.placeholder.tagName, {
      style: style2,
      "data-rbd-placeholder-context-id": contextId,
      onTransitionEnd: onSizeChangeEnd,
      ref: props.innerRef
    });
  }
  var Placeholder$1 = import_react22.default.memo(Placeholder);
  var DroppableContext = import_react22.default.createContext(null);
  function checkIsValidInnerRef(el) {
    !(el && isHtmlElement(el)) ? true ? invariant2(false, "\n    provided.innerRef has not been provided with a HTMLElement.\n\n    You can find a guide on using the innerRef callback functions at:\n    https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/using-inner-ref.md\n  ") : invariant2(false) : void 0;
  }
  function isBoolean(value) {
    return typeof value === "boolean";
  }
  function runChecks(args, checks) {
    checks.forEach(function(check) {
      return check(args);
    });
  }
  var shared = [function required(_ref) {
    var props = _ref.props;
    !props.droppableId ? true ? invariant2(false, "A Droppable requires a droppableId prop") : invariant2(false) : void 0;
    !(typeof props.droppableId === "string") ? true ? invariant2(false, "A Droppable requires a [string] droppableId. Provided: [" + typeof props.droppableId + "]") : invariant2(false) : void 0;
  }, function _boolean(_ref2) {
    var props = _ref2.props;
    !isBoolean(props.isDropDisabled) ? true ? invariant2(false, "isDropDisabled must be a boolean") : invariant2(false) : void 0;
    !isBoolean(props.isCombineEnabled) ? true ? invariant2(false, "isCombineEnabled must be a boolean") : invariant2(false) : void 0;
    !isBoolean(props.ignoreContainerClipping) ? true ? invariant2(false, "ignoreContainerClipping must be a boolean") : invariant2(false) : void 0;
  }, function ref(_ref3) {
    var getDroppableRef = _ref3.getDroppableRef;
    checkIsValidInnerRef(getDroppableRef());
  }];
  var standard = [function placeholder(_ref4) {
    var props = _ref4.props, getPlaceholderRef = _ref4.getPlaceholderRef;
    if (!props.placeholder) {
      return;
    }
    var ref2 = getPlaceholderRef();
    if (ref2) {
      return;
    }
    true ? warning3('\n      Droppable setup issue [droppableId: "' + props.droppableId + '"]:\n      DroppableProvided > placeholder could not be found.\n\n      Please be sure to add the {provided.placeholder} React Node as a child of your Droppable.\n      More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/droppable.md\n    ') : void 0;
  }];
  var virtual = [function hasClone(_ref5) {
    var props = _ref5.props;
    !props.renderClone ? true ? invariant2(false, "Must provide a clone render function (renderClone) for virtual lists") : invariant2(false) : void 0;
  }, function hasNoPlaceholder(_ref6) {
    var getPlaceholderRef = _ref6.getPlaceholderRef;
    !!getPlaceholderRef() ? true ? invariant2(false, "Expected virtual list to not have a placeholder") : invariant2(false) : void 0;
  }];
  function useValidation(args) {
    useDevSetupWarning(function() {
      runChecks(args, shared);
      if (args.props.mode === "standard") {
        runChecks(args, standard);
      }
      if (args.props.mode === "virtual") {
        runChecks(args, virtual);
      }
    });
  }
  var AnimateInOut = function(_React$PureComponent) {
    _inheritsLoose(AnimateInOut2, _React$PureComponent);
    function AnimateInOut2() {
      var _this;
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }
      _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;
      _this.state = {
        isVisible: Boolean(_this.props.on),
        data: _this.props.on,
        animate: _this.props.shouldAnimate && _this.props.on ? "open" : "none"
      };
      _this.onClose = function() {
        if (_this.state.animate !== "close") {
          return;
        }
        _this.setState({
          isVisible: false
        });
      };
      return _this;
    }
    AnimateInOut2.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {
      if (!props.shouldAnimate) {
        return {
          isVisible: Boolean(props.on),
          data: props.on,
          animate: "none"
        };
      }
      if (props.on) {
        return {
          isVisible: true,
          data: props.on,
          animate: "open"
        };
      }
      if (state.isVisible) {
        return {
          isVisible: true,
          data: state.data,
          animate: "close"
        };
      }
      return {
        isVisible: false,
        animate: "close",
        data: null
      };
    };
    var _proto = AnimateInOut2.prototype;
    _proto.render = function render2() {
      if (!this.state.isVisible) {
        return null;
      }
      var provided = {
        onClose: this.onClose,
        data: this.state.data,
        animate: this.state.animate
      };
      return this.props.children(provided);
    };
    return AnimateInOut2;
  }(import_react22.default.PureComponent);
  var zIndexOptions = {
    dragging: 5e3,
    dropAnimating: 4500
  };
  var getDraggingTransition = function getDraggingTransition2(shouldAnimateDragMovement, dropping) {
    if (dropping) {
      return transitions.drop(dropping.duration);
    }
    if (shouldAnimateDragMovement) {
      return transitions.snap;
    }
    return transitions.fluid;
  };
  var getDraggingOpacity = function getDraggingOpacity2(isCombining, isDropAnimating) {
    if (!isCombining) {
      return null;
    }
    return isDropAnimating ? combine.opacity.drop : combine.opacity.combining;
  };
  var getShouldDraggingAnimate = function getShouldDraggingAnimate2(dragging) {
    if (dragging.forceShouldAnimate != null) {
      return dragging.forceShouldAnimate;
    }
    return dragging.mode === "SNAP";
  };
  function getDraggingStyle(dragging) {
    var dimension = dragging.dimension;
    var box = dimension.client;
    var offset4 = dragging.offset, combineWith = dragging.combineWith, dropping = dragging.dropping;
    var isCombining = Boolean(combineWith);
    var shouldAnimate = getShouldDraggingAnimate(dragging);
    var isDropAnimating = Boolean(dropping);
    var transform = isDropAnimating ? transforms.drop(offset4, isCombining) : transforms.moveTo(offset4);
    var style2 = {
      position: "fixed",
      top: box.marginBox.top,
      left: box.marginBox.left,
      boxSizing: "border-box",
      width: box.borderBox.width,
      height: box.borderBox.height,
      transition: getDraggingTransition(shouldAnimate, dropping),
      transform,
      opacity: getDraggingOpacity(isCombining, isDropAnimating),
      zIndex: isDropAnimating ? zIndexOptions.dropAnimating : zIndexOptions.dragging,
      pointerEvents: "none"
    };
    return style2;
  }
  function getSecondaryStyle(secondary) {
    return {
      transform: transforms.moveTo(secondary.offset),
      transition: secondary.shouldAnimateDisplacement ? null : "none"
    };
  }
  function getStyle$1(mapped) {
    return mapped.type === "DRAGGING" ? getDraggingStyle(mapped) : getSecondaryStyle(mapped);
  }
  function getDimension$1(descriptor, el, windowScroll) {
    if (windowScroll === void 0) {
      windowScroll = origin;
    }
    var computedStyles = window.getComputedStyle(el);
    var borderBox = el.getBoundingClientRect();
    var client = calculateBox(borderBox, computedStyles);
    var page = withScroll(client, windowScroll);
    var placeholder2 = {
      client,
      tagName: el.tagName.toLowerCase(),
      display: computedStyles.display
    };
    var displaceBy = {
      x: client.marginBox.width,
      y: client.marginBox.height
    };
    var dimension = {
      descriptor,
      placeholder: placeholder2,
      displaceBy,
      client,
      page
    };
    return dimension;
  }
  function useDraggablePublisher(args) {
    var uniqueId = useUniqueId("draggable");
    var descriptor = args.descriptor, registry = args.registry, getDraggableRef = args.getDraggableRef, canDragInteractiveElements = args.canDragInteractiveElements, shouldRespectForcePress = args.shouldRespectForcePress, isEnabled = args.isEnabled;
    var options = useMemo6(function() {
      return {
        canDragInteractiveElements,
        shouldRespectForcePress,
        isEnabled
      };
    }, [canDragInteractiveElements, isEnabled, shouldRespectForcePress]);
    var getDimension2 = useCallback2(function(windowScroll) {
      var el = getDraggableRef();
      !el ? true ? invariant2(false, "Cannot get dimension when no ref is set") : invariant2(false) : void 0;
      return getDimension$1(descriptor, el, windowScroll);
    }, [descriptor, getDraggableRef]);
    var entry = useMemo6(function() {
      return {
        uniqueId,
        descriptor,
        options,
        getDimension: getDimension2
      };
    }, [descriptor, getDimension2, options, uniqueId]);
    var publishedRef = (0, import_react22.useRef)(entry);
    var isFirstPublishRef = (0, import_react22.useRef)(true);
    useIsomorphicLayoutEffect3(function() {
      registry.draggable.register(publishedRef.current);
      return function() {
        return registry.draggable.unregister(publishedRef.current);
      };
    }, [registry.draggable]);
    useIsomorphicLayoutEffect3(function() {
      if (isFirstPublishRef.current) {
        isFirstPublishRef.current = false;
        return;
      }
      var last = publishedRef.current;
      publishedRef.current = entry;
      registry.draggable.update(entry, last);
    }, [entry, registry.draggable]);
  }
  function useValidation$1(props, contextId, getRef) {
    useDevSetupWarning(function() {
      function prefix3(id2) {
        return "Draggable[id: " + id2 + "]: ";
      }
      var id = props.draggableId;
      !id ? true ? invariant2(false, "Draggable requires a draggableId") : invariant2(false) : void 0;
      !(typeof id === "string") ? true ? invariant2(false, "Draggable requires a [string] draggableId.\n      Provided: [type: " + typeof id + "] (value: " + id + ")") : invariant2(false) : void 0;
      !isInteger(props.index) ? true ? invariant2(false, prefix3(id) + " requires an integer index prop") : invariant2(false) : void 0;
      if (props.mapped.type === "DRAGGING") {
        return;
      }
      checkIsValidInnerRef(getRef());
      if (props.isEnabled) {
        !findDragHandle(contextId, id) ? true ? invariant2(false, prefix3(id) + " Unable to find drag handle") : invariant2(false) : void 0;
      }
    });
  }
  function useClonePropValidation(isClone) {
    useDev(function() {
      var initialRef = (0, import_react22.useRef)(isClone);
      useDevSetupWarning(function() {
        !(isClone === initialRef.current) ? true ? invariant2(false, "Draggable isClone prop value changed during component life") : invariant2(false) : void 0;
      }, [isClone]);
    });
  }
  function preventHtml5Dnd(event) {
    event.preventDefault();
  }
  function Draggable(props) {
    var ref2 = (0, import_react22.useRef)(null);
    var setRef = useCallback2(function(el) {
      ref2.current = el;
    }, []);
    var getRef = useCallback2(function() {
      return ref2.current;
    }, []);
    var _useRequiredContext = useRequiredContext(AppContext), contextId = _useRequiredContext.contextId, dragHandleUsageInstructionsId = _useRequiredContext.dragHandleUsageInstructionsId, registry = _useRequiredContext.registry;
    var _useRequiredContext2 = useRequiredContext(DroppableContext), type = _useRequiredContext2.type, droppableId = _useRequiredContext2.droppableId;
    var descriptor = useMemo6(function() {
      return {
        id: props.draggableId,
        index: props.index,
        type,
        droppableId
      };
    }, [props.draggableId, props.index, type, droppableId]);
    var children = props.children, draggableId = props.draggableId, isEnabled = props.isEnabled, shouldRespectForcePress = props.shouldRespectForcePress, canDragInteractiveElements = props.canDragInteractiveElements, isClone = props.isClone, mapped = props.mapped, dropAnimationFinishedAction = props.dropAnimationFinished;
    useValidation$1(props, contextId, getRef);
    useClonePropValidation(isClone);
    if (!isClone) {
      var forPublisher = useMemo6(function() {
        return {
          descriptor,
          registry,
          getDraggableRef: getRef,
          canDragInteractiveElements,
          shouldRespectForcePress,
          isEnabled
        };
      }, [descriptor, registry, getRef, canDragInteractiveElements, shouldRespectForcePress, isEnabled]);
      useDraggablePublisher(forPublisher);
    }
    var dragHandleProps = useMemo6(function() {
      return isEnabled ? {
        tabIndex: 0,
        role: "button",
        "aria-describedby": dragHandleUsageInstructionsId,
        "data-rbd-drag-handle-draggable-id": draggableId,
        "data-rbd-drag-handle-context-id": contextId,
        draggable: false,
        onDragStart: preventHtml5Dnd
      } : null;
    }, [contextId, dragHandleUsageInstructionsId, draggableId, isEnabled]);
    var onMoveEnd = useCallback2(function(event) {
      if (mapped.type !== "DRAGGING") {
        return;
      }
      if (!mapped.dropping) {
        return;
      }
      if (event.propertyName !== "transform") {
        return;
      }
      dropAnimationFinishedAction();
    }, [dropAnimationFinishedAction, mapped]);
    var provided = useMemo6(function() {
      var style2 = getStyle$1(mapped);
      var onTransitionEnd = mapped.type === "DRAGGING" && mapped.dropping ? onMoveEnd : null;
      var result = {
        innerRef: setRef,
        draggableProps: {
          "data-rbd-draggable-context-id": contextId,
          "data-rbd-draggable-id": draggableId,
          style: style2,
          onTransitionEnd
        },
        dragHandleProps
      };
      return result;
    }, [contextId, dragHandleProps, draggableId, mapped, onMoveEnd, setRef]);
    var rubric = useMemo6(function() {
      return {
        draggableId: descriptor.id,
        type: descriptor.type,
        source: {
          index: descriptor.index,
          droppableId: descriptor.droppableId
        }
      };
    }, [descriptor.droppableId, descriptor.id, descriptor.index, descriptor.type]);
    return children(provided, mapped.snapshot, rubric);
  }
  var isStrictEqual = function(a3, b3) {
    return a3 === b3;
  };
  var whatIsDraggedOverFromResult = function(result) {
    var combine2 = result.combine, destination = result.destination;
    if (destination) {
      return destination.droppableId;
    }
    if (combine2) {
      return combine2.droppableId;
    }
    return null;
  };
  var getCombineWithFromResult = function getCombineWithFromResult2(result) {
    return result.combine ? result.combine.draggableId : null;
  };
  var getCombineWithFromImpact = function getCombineWithFromImpact2(impact) {
    return impact.at && impact.at.type === "COMBINE" ? impact.at.combine.draggableId : null;
  };
  function getDraggableSelector() {
    var memoizedOffset = memoize_one_esm_default(function(x2, y2) {
      return {
        x: x2,
        y: y2
      };
    });
    var getMemoizedSnapshot = memoize_one_esm_default(function(mode, isClone, draggingOver, combineWith, dropping) {
      return {
        isDragging: true,
        isClone,
        isDropAnimating: Boolean(dropping),
        dropAnimation: dropping,
        mode,
        draggingOver,
        combineWith,
        combineTargetFor: null
      };
    });
    var getMemoizedProps = memoize_one_esm_default(function(offset4, mode, dimension, isClone, draggingOver, combineWith, forceShouldAnimate) {
      return {
        mapped: {
          type: "DRAGGING",
          dropping: null,
          draggingOver,
          combineWith,
          mode,
          offset: offset4,
          dimension,
          forceShouldAnimate,
          snapshot: getMemoizedSnapshot(mode, isClone, draggingOver, combineWith, null)
        }
      };
    });
    var selector = function selector2(state, ownProps) {
      if (state.isDragging) {
        if (state.critical.draggable.id !== ownProps.draggableId) {
          return null;
        }
        var offset4 = state.current.client.offset;
        var dimension = state.dimensions.draggables[ownProps.draggableId];
        var draggingOver = whatIsDraggedOver(state.impact);
        var combineWith = getCombineWithFromImpact(state.impact);
        var forceShouldAnimate = state.forceShouldAnimate;
        return getMemoizedProps(memoizedOffset(offset4.x, offset4.y), state.movementMode, dimension, ownProps.isClone, draggingOver, combineWith, forceShouldAnimate);
      }
      if (state.phase === "DROP_ANIMATING") {
        var completed = state.completed;
        if (completed.result.draggableId !== ownProps.draggableId) {
          return null;
        }
        var isClone = ownProps.isClone;
        var _dimension = state.dimensions.draggables[ownProps.draggableId];
        var result = completed.result;
        var mode = result.mode;
        var _draggingOver = whatIsDraggedOverFromResult(result);
        var _combineWith = getCombineWithFromResult(result);
        var duration = state.dropDuration;
        var dropping = {
          duration,
          curve: curves.drop,
          moveTo: state.newHomeClientOffset,
          opacity: _combineWith ? combine.opacity.drop : null,
          scale: _combineWith ? combine.scale.drop : null
        };
        return {
          mapped: {
            type: "DRAGGING",
            offset: state.newHomeClientOffset,
            dimension: _dimension,
            dropping,
            draggingOver: _draggingOver,
            combineWith: _combineWith,
            mode,
            forceShouldAnimate: null,
            snapshot: getMemoizedSnapshot(mode, isClone, _draggingOver, _combineWith, dropping)
          }
        };
      }
      return null;
    };
    return selector;
  }
  function getSecondarySnapshot(combineTargetFor) {
    return {
      isDragging: false,
      isDropAnimating: false,
      isClone: false,
      dropAnimation: null,
      mode: null,
      draggingOver: null,
      combineTargetFor,
      combineWith: null
    };
  }
  var atRest = {
    mapped: {
      type: "SECONDARY",
      offset: origin,
      combineTargetFor: null,
      shouldAnimateDisplacement: true,
      snapshot: getSecondarySnapshot(null)
    }
  };
  function getSecondarySelector() {
    var memoizedOffset = memoize_one_esm_default(function(x2, y2) {
      return {
        x: x2,
        y: y2
      };
    });
    var getMemoizedSnapshot = memoize_one_esm_default(getSecondarySnapshot);
    var getMemoizedProps = memoize_one_esm_default(function(offset4, combineTargetFor, shouldAnimateDisplacement) {
      if (combineTargetFor === void 0) {
        combineTargetFor = null;
      }
      return {
        mapped: {
          type: "SECONDARY",
          offset: offset4,
          combineTargetFor,
          shouldAnimateDisplacement,
          snapshot: getMemoizedSnapshot(combineTargetFor)
        }
      };
    });
    var getFallback = function getFallback2(combineTargetFor) {
      return combineTargetFor ? getMemoizedProps(origin, combineTargetFor, true) : null;
    };
    var getProps = function getProps2(ownId, draggingId, impact, afterCritical) {
      var visualDisplacement = impact.displaced.visible[ownId];
      var isAfterCriticalInVirtualList = Boolean(afterCritical.inVirtualList && afterCritical.effected[ownId]);
      var combine2 = tryGetCombine(impact);
      var combineTargetFor = combine2 && combine2.draggableId === ownId ? draggingId : null;
      if (!visualDisplacement) {
        if (!isAfterCriticalInVirtualList) {
          return getFallback(combineTargetFor);
        }
        if (impact.displaced.invisible[ownId]) {
          return null;
        }
        var change = negate(afterCritical.displacedBy.point);
        var _offset = memoizedOffset(change.x, change.y);
        return getMemoizedProps(_offset, combineTargetFor, true);
      }
      if (isAfterCriticalInVirtualList) {
        return getFallback(combineTargetFor);
      }
      var displaceBy = impact.displacedBy.point;
      var offset4 = memoizedOffset(displaceBy.x, displaceBy.y);
      return getMemoizedProps(offset4, combineTargetFor, visualDisplacement.shouldAnimate);
    };
    var selector = function selector2(state, ownProps) {
      if (state.isDragging) {
        if (state.critical.draggable.id === ownProps.draggableId) {
          return null;
        }
        return getProps(ownProps.draggableId, state.critical.draggable.id, state.impact, state.afterCritical);
      }
      if (state.phase === "DROP_ANIMATING") {
        var completed = state.completed;
        if (completed.result.draggableId === ownProps.draggableId) {
          return null;
        }
        return getProps(ownProps.draggableId, completed.result.draggableId, completed.impact, completed.afterCritical);
      }
      return null;
    };
    return selector;
  }
  var makeMapStateToProps = function makeMapStateToProps2() {
    var draggingSelector = getDraggableSelector();
    var secondarySelector = getSecondarySelector();
    var selector = function selector2(state, ownProps) {
      return draggingSelector(state, ownProps) || secondarySelector(state, ownProps) || atRest;
    };
    return selector;
  };
  var mapDispatchToProps = {
    dropAnimationFinished
  };
  var ConnectedDraggable = connect_default(makeMapStateToProps, mapDispatchToProps, null, {
    context: StoreContext,
    pure: true,
    areStatePropsEqual: isStrictEqual
  })(Draggable);
  function PrivateDraggable(props) {
    var droppableContext = useRequiredContext(DroppableContext);
    var isUsingCloneFor = droppableContext.isUsingCloneFor;
    if (isUsingCloneFor === props.draggableId && !props.isClone) {
      return null;
    }
    return import_react22.default.createElement(ConnectedDraggable, props);
  }
  function PublicDraggable(props) {
    var isEnabled = typeof props.isDragDisabled === "boolean" ? !props.isDragDisabled : true;
    var canDragInteractiveElements = Boolean(props.disableInteractiveElementBlocking);
    var shouldRespectForcePress = Boolean(props.shouldRespectForcePress);
    return import_react22.default.createElement(PrivateDraggable, _extends({}, props, {
      isClone: false,
      isEnabled,
      canDragInteractiveElements,
      shouldRespectForcePress
    }));
  }
  function Droppable(props) {
    var appContext = (0, import_react22.useContext)(AppContext);
    !appContext ? true ? invariant2(false, "Could not find app context") : invariant2(false) : void 0;
    var contextId = appContext.contextId, isMovementAllowed2 = appContext.isMovementAllowed;
    var droppableRef = (0, import_react22.useRef)(null);
    var placeholderRef = (0, import_react22.useRef)(null);
    var children = props.children, droppableId = props.droppableId, type = props.type, mode = props.mode, direction = props.direction, ignoreContainerClipping = props.ignoreContainerClipping, isDropDisabled = props.isDropDisabled, isCombineEnabled = props.isCombineEnabled, snapshot = props.snapshot, useClone = props.useClone, updateViewportMaxScroll3 = props.updateViewportMaxScroll, getContainerForClone = props.getContainerForClone;
    var getDroppableRef = useCallback2(function() {
      return droppableRef.current;
    }, []);
    var setDroppableRef = useCallback2(function(value) {
      droppableRef.current = value;
    }, []);
    var getPlaceholderRef = useCallback2(function() {
      return placeholderRef.current;
    }, []);
    var setPlaceholderRef = useCallback2(function(value) {
      placeholderRef.current = value;
    }, []);
    useValidation({
      props,
      getDroppableRef,
      getPlaceholderRef
    });
    var onPlaceholderTransitionEnd = useCallback2(function() {
      if (isMovementAllowed2()) {
        updateViewportMaxScroll3({
          maxScroll: getMaxWindowScroll()
        });
      }
    }, [isMovementAllowed2, updateViewportMaxScroll3]);
    useDroppablePublisher({
      droppableId,
      type,
      mode,
      direction,
      isDropDisabled,
      isCombineEnabled,
      ignoreContainerClipping,
      getDroppableRef
    });
    var placeholder2 = import_react22.default.createElement(AnimateInOut, {
      on: props.placeholder,
      shouldAnimate: props.shouldAnimatePlaceholder
    }, function(_ref) {
      var onClose = _ref.onClose, data = _ref.data, animate = _ref.animate;
      return import_react22.default.createElement(Placeholder$1, {
        placeholder: data,
        onClose,
        innerRef: setPlaceholderRef,
        animate,
        contextId,
        onTransitionEnd: onPlaceholderTransitionEnd
      });
    });
    var provided = useMemo6(function() {
      return {
        innerRef: setDroppableRef,
        placeholder: placeholder2,
        droppableProps: {
          "data-rbd-droppable-id": droppableId,
          "data-rbd-droppable-context-id": contextId
        }
      };
    }, [contextId, droppableId, placeholder2, setDroppableRef]);
    var isUsingCloneFor = useClone ? useClone.dragging.draggableId : null;
    var droppableContext = useMemo6(function() {
      return {
        droppableId,
        type,
        isUsingCloneFor
      };
    }, [droppableId, isUsingCloneFor, type]);
    function getClone() {
      if (!useClone) {
        return null;
      }
      var dragging = useClone.dragging, render2 = useClone.render;
      var node = import_react22.default.createElement(PrivateDraggable, {
        draggableId: dragging.draggableId,
        index: dragging.source.index,
        isClone: true,
        isEnabled: true,
        shouldRespectForcePress: false,
        canDragInteractiveElements: true
      }, function(draggableProvided, draggableSnapshot) {
        return render2(draggableProvided, draggableSnapshot, dragging);
      });
      return import_react_dom4.default.createPortal(node, getContainerForClone());
    }
    return import_react22.default.createElement(DroppableContext.Provider, {
      value: droppableContext
    }, children(provided, snapshot), getClone());
  }
  var isMatchingType = function isMatchingType2(type, critical) {
    return type === critical.droppable.type;
  };
  var getDraggable = function getDraggable2(critical, dimensions) {
    return dimensions.draggables[critical.draggable.id];
  };
  var makeMapStateToProps$1 = function makeMapStateToProps3() {
    var idleWithAnimation = {
      placeholder: null,
      shouldAnimatePlaceholder: true,
      snapshot: {
        isDraggingOver: false,
        draggingOverWith: null,
        draggingFromThisWith: null,
        isUsingPlaceholder: false
      },
      useClone: null
    };
    var idleWithoutAnimation = _extends({}, idleWithAnimation, {
      shouldAnimatePlaceholder: false
    });
    var getDraggableRubric = memoize_one_esm_default(function(descriptor) {
      return {
        draggableId: descriptor.id,
        type: descriptor.type,
        source: {
          index: descriptor.index,
          droppableId: descriptor.droppableId
        }
      };
    });
    var getMapProps = memoize_one_esm_default(function(id, isEnabled, isDraggingOverForConsumer, isDraggingOverForImpact, dragging, renderClone) {
      var draggableId = dragging.descriptor.id;
      var isHome = dragging.descriptor.droppableId === id;
      if (isHome) {
        var useClone = renderClone ? {
          render: renderClone,
          dragging: getDraggableRubric(dragging.descriptor)
        } : null;
        var _snapshot = {
          isDraggingOver: isDraggingOverForConsumer,
          draggingOverWith: isDraggingOverForConsumer ? draggableId : null,
          draggingFromThisWith: draggableId,
          isUsingPlaceholder: true
        };
        return {
          placeholder: dragging.placeholder,
          shouldAnimatePlaceholder: false,
          snapshot: _snapshot,
          useClone
        };
      }
      if (!isEnabled) {
        return idleWithoutAnimation;
      }
      if (!isDraggingOverForImpact) {
        return idleWithAnimation;
      }
      var snapshot = {
        isDraggingOver: isDraggingOverForConsumer,
        draggingOverWith: draggableId,
        draggingFromThisWith: null,
        isUsingPlaceholder: true
      };
      return {
        placeholder: dragging.placeholder,
        shouldAnimatePlaceholder: true,
        snapshot,
        useClone: null
      };
    });
    var selector = function selector2(state, ownProps) {
      var id = ownProps.droppableId;
      var type = ownProps.type;
      var isEnabled = !ownProps.isDropDisabled;
      var renderClone = ownProps.renderClone;
      if (state.isDragging) {
        var critical = state.critical;
        if (!isMatchingType(type, critical)) {
          return idleWithoutAnimation;
        }
        var dragging = getDraggable(critical, state.dimensions);
        var isDraggingOver = whatIsDraggedOver(state.impact) === id;
        return getMapProps(id, isEnabled, isDraggingOver, isDraggingOver, dragging, renderClone);
      }
      if (state.phase === "DROP_ANIMATING") {
        var completed = state.completed;
        if (!isMatchingType(type, completed.critical)) {
          return idleWithoutAnimation;
        }
        var _dragging = getDraggable(completed.critical, state.dimensions);
        return getMapProps(id, isEnabled, whatIsDraggedOverFromResult(completed.result) === id, whatIsDraggedOver(completed.impact) === id, _dragging, renderClone);
      }
      if (state.phase === "IDLE" && state.completed && !state.shouldFlush) {
        var _completed = state.completed;
        if (!isMatchingType(type, _completed.critical)) {
          return idleWithoutAnimation;
        }
        var wasOver = whatIsDraggedOver(_completed.impact) === id;
        var wasCombining = Boolean(_completed.impact.at && _completed.impact.at.type === "COMBINE");
        var isHome = _completed.critical.droppable.id === id;
        if (wasOver) {
          return wasCombining ? idleWithAnimation : idleWithoutAnimation;
        }
        if (isHome) {
          return idleWithAnimation;
        }
        return idleWithoutAnimation;
      }
      return idleWithoutAnimation;
    };
    return selector;
  };
  var mapDispatchToProps$1 = {
    updateViewportMaxScroll
  };
  function getBody() {
    !document.body ? true ? invariant2(false, "document.body is not ready") : invariant2(false) : void 0;
    return document.body;
  }
  var defaultProps2 = {
    mode: "standard",
    type: "DEFAULT",
    direction: "vertical",
    isDropDisabled: false,
    isCombineEnabled: false,
    ignoreContainerClipping: false,
    renderClone: null,
    getContainerForClone: getBody
  };
  var ConnectedDroppable = connect_default(makeMapStateToProps$1, mapDispatchToProps$1, null, {
    context: StoreContext,
    pure: true,
    areStatePropsEqual: isStrictEqual
  })(Droppable);
  ConnectedDroppable.defaultProps = defaultProps2;

  // assets/svg/drag-handle.svg
  var React14 = __toESM(require_react(), 1);
  var SvgDragHandle = (props) => /* @__PURE__ */ React14.createElement("svg", {
    width: 18,
    height: 18,
    viewBox: "0 0 21 21",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
    ...props
  }, /* @__PURE__ */ React14.createElement("path", {
    d: "M20.26 9.6625L17.4 6.8325C17.08 6.5125 16.56 6.5125 16.24 6.8325C16.08 6.9825 16 7.1925 16 7.4125C16 7.6325 16.09 7.8325 16.24 7.9925L17.69 9.4325H10.87V2.8025L12.31 4.2525C12.62 4.5625 13.16 4.5625 13.47 4.2525C13.79 3.9325 13.79 3.4125 13.47 3.0925L10.63 0.2325C10.32 -0.0775 9.78 -0.0775 9.47 0.2325L6.64 3.0925C6.32 3.4125 6.32 3.9325 6.64 4.2525C6.95 4.5625 7.49 4.5625 7.8 4.2525L9.24 2.8025V9.4225H2.81L4.26 7.9825C4.42 7.8325 4.5 7.6225 4.5 7.4025C4.5 7.1825 4.41 6.9825 4.26 6.8225C3.94 6.5025 3.42 6.5025 3.1 6.8225L0.24 9.6625C0.08 9.8125 0 10.0225 0 10.2425C0 10.4625 0.09 10.6725 0.24 10.8225L3.1 13.6525C3.42 13.9725 3.94 13.9725 4.26 13.6525C4.42 13.5025 4.5 13.2925 4.5 13.0725C4.5 12.8525 4.41 12.6525 4.26 12.4925L2.81 11.0525H9.23V17.6725L7.79 16.2225C7.64 16.0625 7.43 15.9825 7.21 15.9825C6.99 15.9825 6.79 16.0725 6.63 16.2225C6.31 16.5425 6.31 17.0625 6.63 17.3825L9.46 20.2425C9.61 20.4025 9.82 20.4825 10.04 20.4825C10.26 20.4825 10.47 20.3925 10.62 20.2425L13.45 17.3825C13.77 17.0625 13.77 16.5425 13.45 16.2225C13.14 15.9125 12.6 15.9125 12.29 16.2225L10.85 17.6725V11.0525H17.67L16.22 12.4925C16.06 12.6425 15.98 12.8525 15.98 13.0725C15.98 13.2925 16.07 13.4925 16.22 13.6525C16.54 13.9725 17.06 13.9725 17.38 13.6525L20.24 10.8225C20.4 10.6725 20.48 10.4625 20.48 10.2425C20.48 10.0225 20.39 9.8125 20.24 9.6625H20.26Z",
    fill: "#231F20"
  }));

  // src/hooks/useDragAndDrop.tsx
  var DndDragHandle = ({
    dragHandleProps,
    className
  }) => {
    return /* @__PURE__ */ React.createElement("div", {
      className: `BlockWrapper-dragHandle ${className ? className : ""}`,
      ...dragHandleProps
    }, /* @__PURE__ */ React.createElement(tippy_react_esm_default, {
      content: "Faites glisser l'\xE9l\xE9ment pour le d\xE9placer",
      delay: [700, 0]
    }, /* @__PURE__ */ React.createElement(SvgDragHandle, null)));
  };
  var DndWrapper = ({
    id,
    children,
    onDragEnd: onDragEnd3,
    wrapperClass = ""
  }) => {
    return /* @__PURE__ */ React.createElement(DragDropContext, {
      onDragEnd: onDragEnd3
    }, /* @__PURE__ */ React.createElement(ConnectedDroppable, {
      droppableId: id
    }, (provided, snapshot) => /* @__PURE__ */ React.createElement("div", {
      className: `DndWrapper ${wrapperClass}`,
      ...provided.droppableProps,
      ref: provided.innerRef
    }, children, provided.placeholder, snapshot.isDraggingOver && /* @__PURE__ */ React.createElement("div", {
      className: "DndOverlay"
    }))));
  };
  var DndWrapElement = ({
    id,
    children,
    index: index2,
    wrapperClass = ""
  }) => {
    return /* @__PURE__ */ React.createElement(PublicDraggable, {
      draggableId: id,
      index: index2
    }, (provided) => /* @__PURE__ */ React.createElement("div", {
      key: `${id}-wrapper`,
      ref: provided.innerRef,
      className: wrapperClass,
      ...provided.draggableProps
    }, children({
      DndDragHandle: () => /* @__PURE__ */ React.createElement(DndDragHandle, {
        dragHandleProps: provided.dragHandleProps
      })
    })));
  };
  var useDragAndDrop = () => ({ DndWrapper, DndWrapElement });
  var useDragAndDrop_default = useDragAndDrop;

  // assets/svg/close-chevron.svg
  var React15 = __toESM(require_react(), 1);
  var SvgCloseChevron = (props) => /* @__PURE__ */ React15.createElement("svg", {
    width: 10,
    height: 15,
    viewBox: "0 0 10 15",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
    ...props
  }, /* @__PURE__ */ React15.createElement("path", {
    d: "M8.99986 1.58809C9.00246 1.47345 8.96819 1.36088 8.90175 1.26601C8.83531 1.17115 8.73999 1.09872 8.62913 1.05878C8.51827 1.01884 8.39734 1.01339 8.28314 1.04318C8.16893 1.07296 8.06718 1.13651 7.99194 1.22498L5.0092 4.60072L2.02751 1.22498C1.98112 1.16378 1.92222 1.11253 1.85445 1.07443C1.78668 1.03633 1.7115 1.01221 1.63367 1.00358C1.55584 0.994942 1.47703 1.00198 1.40214 1.02426C1.32724 1.04653 1.25788 1.08355 1.19843 1.13302C1.13897 1.18248 1.09075 1.2433 1.05667 1.31169C1.02259 1.38008 1.00345 1.45456 1.00042 1.53045C0.997405 1.60635 1.01054 1.68203 1.03908 1.75276C1.06763 1.8235 1.11092 1.88775 1.16627 1.94151L4.57691 5.80642C4.63033 5.86712 4.69663 5.91585 4.77136 5.94927C4.84609 5.98269 4.92743 6 5.00973 6C5.09202 6 5.17336 5.98269 5.24809 5.94927C5.32282 5.91585 5.38919 5.86712 5.44261 5.80642L8.85653 1.94151C8.94597 1.84387 8.99682 1.71864 8.99999 1.58809L8.99986 1.58809Z",
    fill: "white",
    stroke: "white",
    strokeWidth: 0.5
  }), /* @__PURE__ */ React15.createElement("path", {
    d: "M1.00014 13.4119C0.997537 13.5265 1.03181 13.6391 1.09825 13.734C1.16469 13.8288 1.26001 13.9013 1.37087 13.9412C1.48173 13.9812 1.60266 13.9866 1.71686 13.9568C1.83107 13.927 1.93282 13.8635 2.00806 13.775L4.9908 10.3993L7.97249 13.775C8.01889 13.8362 8.07778 13.8875 8.14555 13.9256C8.21332 13.9637 8.2885 13.9878 8.36633 13.9964C8.44416 14.0051 8.52297 13.998 8.59787 13.9757C8.67276 13.9535 8.74212 13.9164 8.80158 13.867C8.86103 13.8175 8.90925 13.7567 8.94333 13.6883C8.97741 13.6199 8.99656 13.5454 8.99958 13.4695C9.0026 13.3937 8.98947 13.318 8.96092 13.2472C8.93238 13.1765 8.88908 13.1122 8.83373 13.0585L5.42309 9.19358C5.36967 9.13288 5.30337 9.08415 5.22864 9.05073C5.15391 9.01731 5.07257 9 4.99027 9C4.90798 9 4.82664 9.01731 4.75191 9.05073C4.67718 9.08415 4.61081 9.13288 4.55739 9.19358L1.14347 13.0585C1.05403 13.1561 1.00318 13.2814 1.00001 13.4119L1.00014 13.4119Z",
    fill: "white",
    stroke: "white",
    strokeWidth: 0.5
  }));

  // assets/svg/open-chevron.svg
  var React16 = __toESM(require_react(), 1);
  var SvgOpenChevron = (props) => /* @__PURE__ */ React16.createElement("svg", {
    width: 10,
    height: 15,
    viewBox: "0 0 10 17",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
    ...props
  }, /* @__PURE__ */ React16.createElement("path", {
    d: "M1.02566 5.51547C1.02456 5.63013 1.0603 5.74225 1.12797 5.83624C1.19565 5.93023 1.2919 6.00141 1.40328 6.0399C1.51465 6.07838 1.63563 6.08226 1.74944 6.05098C1.86325 6.01971 1.96416 5.95484 2.03824 5.86539L4.97663 2.45098L8.00216 5.78749C8.04935 5.84808 8.10891 5.89856 8.17718 5.93577C8.24544 5.97298 8.32092 5.99612 8.39886 6.00373C8.47679 6.01135 8.55551 6.00328 8.6301 5.98003C8.7047 5.95678 8.77357 5.91885 8.83237 5.86862C8.89117 5.81839 8.9386 5.75693 8.97179 5.6881C9.00497 5.61928 9.02314 5.54456 9.02517 5.46863C9.0272 5.3927 9.01308 5.31719 8.98361 5.24684C8.95415 5.17649 8.91001 5.1128 8.85397 5.05978L5.39314 1.23973C5.33894 1.17974 5.272 1.13188 5.19684 1.09943C5.12168 1.06699 5.04012 1.05075 4.95783 1.05183C4.87555 1.0529 4.79444 1.07127 4.72015 1.10566C4.64587 1.14005 4.58014 1.18965 4.52751 1.25104L1.16436 5.16022C1.0762 5.25901 1.02699 5.38489 1.02553 5.51547L1.02566 5.51547Z",
    fill: "white",
    stroke: "white",
    strokeWidth: 0.5
  }), /* @__PURE__ */ React16.createElement("path", {
    d: "M8.99715 11.632C8.99951 11.5174 8.96501 11.4049 8.89838 11.3102C8.83175 11.2154 8.73628 11.1432 8.62534 11.1035C8.5144 11.0638 8.39346 11.0586 8.27932 11.0886C8.16517 11.1186 8.06355 11.1823 7.98849 11.271L5.01259 14.6527L2.02407 11.283C1.97755 11.2219 1.91855 11.1708 1.8507 11.1328C1.78286 11.0949 1.70763 11.0709 1.62979 11.0624C1.55194 11.054 1.47314 11.0612 1.39829 11.0836C1.32344 11.106 1.25415 11.1432 1.1948 11.1927C1.13545 11.2423 1.08735 11.3033 1.05341 11.3717C1.01947 11.4402 1.00047 11.5147 0.997607 11.5906C0.994741 11.6665 1.00802 11.7421 1.03671 11.8128C1.0654 11.8835 1.10883 11.9477 1.16428 12.0013L4.58273 15.8593C4.63628 15.9199 4.70268 15.9685 4.77748 16.0018C4.85228 16.035 4.93365 16.0522 5.01594 16.052C5.09824 16.0518 5.17954 16.0344 5.2542 16.0008C5.32886 15.9672 5.39514 15.9184 5.44844 15.8576L8.85453 11.9857C8.94378 11.8879 8.99437 11.7626 8.99728 11.632L8.99715 11.632Z",
    fill: "white",
    stroke: "white",
    strokeWidth: 0.5
  }));

  // src/components/LayoutHeader/LayoutHeader.tsx
  var LayoutHeader = ({
    title,
    icon,
    open,
    setOpen
  }) => {
    return /* @__PURE__ */ React.createElement("div", {
      className: `LayoutHeader ${!open ? "LayoutHeader--closed" : ""}`
    }, /* @__PURE__ */ React.createElement("div", {
      className: "LayoutHeader__Infos"
    }, icon, /* @__PURE__ */ React.createElement("span", {
      className: "LayoutHeader__Title"
    }, title)), /* @__PURE__ */ React.createElement("button", {
      onClick: () => setOpen(!open),
      className: "LayoutHeader__Collapse"
    }, /* @__PURE__ */ React.createElement("div", {
      className: "LayoutHeader__Collapse__Icon"
    }, open ? /* @__PURE__ */ React.createElement(SvgCloseChevron, null) : /* @__PURE__ */ React.createElement(SvgOpenChevron, null)), /* @__PURE__ */ React.createElement("div", {
      className: "LayoutHeader__Collapse__Label"
    }, open ? "Replier" : "D\xE9plier")));
  };
  var LayoutHeader_default = LayoutHeader;

  // src/blocks/MultiColumns/MultiColumns.tsx
  var NestedColumn = ({ onUpdate }) => {
    const { blockList, moveBlockTo } = useBlocksContext();
    const { DndWrapper: DndWrapper2, DndWrapElement: DndWrapElement2 } = useDragAndDrop_default();
    (0, import_react24.useEffect)(() => {
      onUpdate(blockList);
    }, [blockList]);
    const onDragEnd3 = (e2) => {
      if (e2.destination) {
        moveBlockTo(e2.source.index, e2.destination.index);
      }
    };
    return /* @__PURE__ */ React.createElement(React.Fragment, null, blockList.length > 0 && /* @__PURE__ */ React.createElement(DndWrapper2, {
      id: "main",
      onDragEnd: onDragEnd3
    }, blockList.map((block, index2) => /* @__PURE__ */ React.createElement(DndWrapElement2, {
      key: block.id,
      id: block.id,
      index: index2
    }, ({ DndDragHandle: DndDragHandle2 }) => /* @__PURE__ */ React.createElement(Block_default, {
      DndDragHandle: DndDragHandle2,
      inLayout: true,
      key: index2,
      block
    })))));
  };
  var ColumnIcon = ({
    cols,
    currentCol,
    asIcon
  }) => {
    const { width } = useWindowSize_default();
    return /* @__PURE__ */ React.createElement("div", {
      className: `${asIcon ? "ColumnIcon ColumnIcon--asCompactIcon" : "ColumnIcon ColumnIcon--asLayoutIcon"}`,
      style: { minWidth: width > 1024 ? "60px" : "40px" }
    }, [...Array(cols)].map((_2, index2) => /* @__PURE__ */ React.createElement("div", {
      key: index2,
      style: { width: 100 / cols + "%" },
      className: `${index2 !== cols - 1 ? "ColumnIcon__Chip" : ""} ${currentCol === index2 ? "ColumnIcon__Chip--current" : asIcon ? "ColumnIcon__Chip--asCompactIcon" : "ColumnIcon__Chip--asLayoutIcon"}`
    })));
  };
  var ColumnComponent = ({
    column,
    index: index2,
    data,
    onUpdate
  }) => {
    const [open, setOpen] = (0, import_react24.useState)(true);
    const { width } = useWindowSize_default();
    return /* @__PURE__ */ React.createElement("div", {
      key: index2,
      className: "BlockColumn"
    }, /* @__PURE__ */ React.createElement(LayoutHeader_default, {
      title: `Colonne #${index2 + 1}`,
      open,
      setOpen,
      icon: width > 400 && /* @__PURE__ */ React.createElement(ColumnIcon, {
        cols: data.length,
        currentCol: index2
      })
    }), /* @__PURE__ */ React.createElement("div", {
      className: `${!open ? "BlockColumn--closed" : "BlockColumn__Content"}`
    }, /* @__PURE__ */ React.createElement(BlockContextProvider, {
      defaultBlocks: column
    }, /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(NestedColumn, {
      onUpdate: (columnNewData) => {
        const nextState = immer_esm_default(data, (draft) => {
          draft[index2] = columnNewData;
        });
        onUpdate(nextState);
      }
    }), /* @__PURE__ */ React.createElement(AddBlocks_default, {
      excludeLayout: ["Column", "Accordion"]
    })))));
  };
  var MultiColumnsComponent = ({
    data,
    onUpdate
  }) => {
    return /* @__PURE__ */ React.createElement("div", {
      className: "BlockMultiColumns__Wrapper"
    }, data.map((column, index2) => {
      return /* @__PURE__ */ React.createElement(ColumnComponent, {
        key: index2,
        data,
        onUpdate,
        column,
        index: index2
      });
    }));
  };
  var moduleLayout = "Column";
  var moduleType = {
    id: "multiColumns"
  };
  var Column = {
    type: moduleType,
    component: MultiColumnsComponent,
    initialData: [[]],
    layout: moduleLayout,
    icon: SvgColumn,
    title: {
      default: "Columns",
      fr_FR: "Colonnes"
    },
    description: {
      default: "Display blocks in multiple columns",
      fr_FR: "Affiche des blocks dans diff\xE9rentes colonnes"
    },
    image: {
      default: "https://source.unsplash.com/featured/300x250?nature&multiColumns"
    }
  };
  var TwoColumns = {
    ...Column,
    component: MultiColumnsComponent,
    type: { id: "2cols" },
    title: {
      default: "2 Columns",
      fr_FR: "2 Colonnes"
    },
    layout: moduleLayout,
    initialData: [[], []],
    customIcon: /* @__PURE__ */ React.createElement(ColumnIcon, {
      asIcon: true,
      cols: 2
    })
  };
  var ThreeColumns = {
    ...Column,
    component: MultiColumnsComponent,
    type: { id: "3cols" },
    layout: moduleLayout,
    title: {
      default: "3 Columns",
      fr_FR: "3 Colonnes"
    },
    initialData: [[], [], []],
    customIcon: /* @__PURE__ */ React.createElement(ColumnIcon, {
      asIcon: true,
      cols: 3
    })
  };
  var FourColumns = {
    ...Column,
    component: MultiColumnsComponent,
    type: { id: "4cols" },
    layout: moduleLayout,
    title: {
      default: "4 Columns",
      fr_FR: "4 Colonnes"
    },
    initialData: [[], [], [], []],
    customIcon: /* @__PURE__ */ React.createElement(ColumnIcon, {
      asIcon: true,
      cols: 4
    })
  };
  var FiveColumns = {
    ...Column,
    component: MultiColumnsComponent,
    type: { id: "5cols" },
    layout: moduleLayout,
    title: {
      default: "5 Columns",
      fr_FR: "5 Colonnes"
    },
    initialData: [[], [], [], [], []],
    customIcon: /* @__PURE__ */ React.createElement(ColumnIcon, {
      asIcon: true,
      cols: 5
    })
  };
  var SixColumns = {
    ...Column,
    component: MultiColumnsComponent,
    type: { id: "6cols" },
    layout: moduleLayout,
    title: {
      default: "6 Columns",
      fr_FR: "6 Colonnes"
    },
    initialData: [[], [], [], [], [], []],
    customIcon: /* @__PURE__ */ React.createElement(ColumnIcon, {
      asIcon: true,
      cols: 6
    })
  };

  // src/blocks/Accordion/assets/accordion.svg
  var React17 = __toESM(require_react(), 1);
  var SvgAccordion = (props) => /* @__PURE__ */ React17.createElement("svg", {
    width: 22,
    height: 18,
    viewBox: "0 0 22 18",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
    ...props
  }, /* @__PURE__ */ React17.createElement("path", {
    d: "M4.77332 8.72599H16.9231C17.4777 8.75248 18.032 8.66612 18.5523 8.47212C19.0726 8.27812 19.5481 7.98052 19.95 7.59736C20.3519 7.2142 20.6718 6.75345 20.8904 6.24301C21.109 5.73257 21.2217 5.18306 21.2217 4.62778C21.2217 4.0725 21.109 3.523 20.8904 3.01256C20.6718 2.50212 20.3519 2.04136 19.95 1.6582C19.5481 1.27504 19.0726 0.977448 18.5523 0.783448C18.032 0.589449 17.4777 0.503081 16.9231 0.529576H4.77332C3.72027 0.579878 2.72698 1.03362 1.99951 1.79667C1.27204 2.55972 0.866211 3.57352 0.866211 4.62778C0.866211 5.68204 1.27204 6.69585 1.99951 7.4589C2.72698 8.22195 3.72027 8.67569 4.77332 8.72599ZM4.77332 1.43613H16.9231C17.353 1.41276 17.7832 1.47725 18.1873 1.62568C18.5915 1.77411 18.9611 2.00335 19.2737 2.29942C19.5863 2.59548 19.8353 2.95216 20.0055 3.34766C20.1756 3.74316 20.2634 4.16919 20.2634 4.59974C20.2634 5.03029 20.1756 5.45633 20.0055 5.85183C19.8353 6.24733 19.5863 6.60401 19.2737 6.90007C18.9611 7.19614 18.5915 7.42538 18.1873 7.57381C17.7832 7.72224 17.353 7.78673 16.9231 7.76335H4.77332C3.96402 7.71935 3.20235 7.36686 2.64501 6.77839C2.08768 6.18993 1.77706 5.41025 1.77706 4.59974C1.77706 3.78924 2.08768 3.00956 2.64501 2.42109C3.20235 1.83263 3.96402 1.48014 4.77332 1.43613Z",
    fill: "#444444"
  }), /* @__PURE__ */ React17.createElement("path", {
    d: "M16.9045 9.7078H4.75477C3.70171 9.7581 2.70843 10.2118 1.98096 10.9749C1.25348 11.7379 0.847656 12.7517 0.847656 13.806C0.847656 14.8603 1.25348 15.8741 1.98096 16.6371C2.70843 17.4002 3.70171 17.8539 4.75477 17.9042H16.9045C17.4592 17.9307 18.0134 17.8443 18.5337 17.6503C19.054 17.4563 19.5295 17.1587 19.9314 16.7756C20.3333 16.3924 20.6532 15.9317 20.8718 15.4212C21.0905 14.9108 21.2032 14.3613 21.2032 13.806C21.2032 13.2507 21.0905 12.7012 20.8718 12.1908C20.6532 11.6803 20.3333 11.2196 19.9314 10.8364C19.5295 10.4533 19.054 10.1557 18.5337 9.96167C18.0134 9.76767 17.4592 9.6813 16.9045 9.7078ZM16.9045 16.9696H4.75477C3.94546 16.9256 3.1838 16.5731 2.62646 15.9847C2.06912 15.3962 1.7585 14.6165 1.7585 13.806C1.7585 12.9955 2.06912 12.2158 2.62646 11.6274C3.1838 11.0389 3.94546 10.6864 4.75477 10.6424H16.9045C17.3344 10.619 17.7646 10.6835 18.1688 10.8319C18.5729 10.9804 18.9426 11.2096 19.2552 11.5057C19.5678 11.8017 19.8168 12.1584 19.9869 12.5539C20.1571 12.9494 20.2448 13.3755 20.2448 13.806C20.2448 14.2366 20.1571 14.6626 19.9869 15.0581C19.8168 15.4536 19.5678 15.8103 19.2552 16.1063C18.9426 16.4024 18.5729 16.6316 18.1688 16.7801C17.7646 16.9285 17.3344 16.993 16.9045 16.9696Z",
    fill: "#444444"
  }), /* @__PURE__ */ React17.createElement("path", {
    d: "M14.96 4.99674H16.0348V6.10891C16.0331 6.15947 16.0423 6.20981 16.0616 6.25655C16.0809 6.30329 16.11 6.34536 16.147 6.37995C16.2208 6.45578 16.3215 6.49944 16.4273 6.50144C16.5311 6.49837 16.6305 6.45864 16.7077 6.38929C16.744 6.35228 16.7726 6.30844 16.7918 6.26032C16.8111 6.2122 16.8206 6.16074 16.8199 6.10891V4.99674H17.8947C18.0005 4.99474 18.1012 4.95108 18.175 4.87525C18.211 4.83996 18.2395 4.79777 18.2588 4.75119C18.2781 4.70461 18.2877 4.65462 18.2872 4.60421C18.2885 4.55232 18.2792 4.50071 18.2599 4.45251C18.2406 4.40431 18.2117 4.36054 18.175 4.32384C18.1012 4.248 18.0005 4.20434 17.8947 4.20234H16.8199V3.12755C16.8206 3.07573 16.8111 3.02427 16.7918 2.97615C16.7726 2.92802 16.744 2.88419 16.7077 2.84717C16.6297 2.78007 16.5302 2.74316 16.4273 2.74316C16.3244 2.74316 16.225 2.78007 16.147 2.84717C16.1107 2.88419 16.0821 2.92802 16.0628 2.97615C16.0436 3.02427 16.0341 3.07573 16.0348 3.12755V4.23972H14.96C14.9075 4.2402 14.8557 4.2512 14.8075 4.27207C14.7594 4.29294 14.7159 4.32325 14.6796 4.36122C14.6429 4.39792 14.6141 4.4417 14.5948 4.4899C14.5755 4.53809 14.5662 4.5897 14.5675 4.6416C14.567 4.692 14.5766 4.742 14.5959 4.78857C14.6152 4.83515 14.6436 4.87735 14.6796 4.91263C14.7588 4.97577 14.8592 5.00591 14.96 4.99674Z",
    fill: "#444444"
  }), /* @__PURE__ */ React17.createElement("path", {
    d: "M17.8941 13.4359H16.8193V12.3611C16.8173 12.2553 16.7737 12.1545 16.6978 12.0807C16.6223 12.0124 16.524 11.9746 16.4221 11.9746C16.3203 11.9746 16.222 12.0124 16.1464 12.0807C16.1102 12.1177 16.0816 12.1616 16.0623 12.2097C16.0431 12.2578 16.0335 12.3093 16.0343 12.3611V13.4359H14.9501C14.8482 13.4425 14.7522 13.486 14.6799 13.5582C14.6077 13.6304 14.5642 13.7265 14.5576 13.8284C14.559 13.9325 14.599 14.0324 14.6698 14.1088C14.7068 14.1451 14.7506 14.1737 14.7987 14.1929C14.8469 14.2122 14.8983 14.2217 14.9501 14.221H16.0343V15.3051C16.0337 15.3555 16.0434 15.4055 16.0627 15.4521C16.0819 15.4986 16.1104 15.5408 16.1464 15.5761C16.1827 15.6141 16.2262 15.6444 16.2743 15.6653C16.3225 15.6861 16.3743 15.6971 16.4268 15.6976C16.5288 15.691 16.6248 15.6475 16.697 15.5753C16.7693 15.5031 16.8127 15.407 16.8193 15.3051V14.221H17.8941C17.946 14.2217 17.9974 14.2122 18.0455 14.1929C18.0937 14.1737 18.1375 14.1451 18.1745 14.1088C18.2453 14.0324 18.2853 13.9325 18.2867 13.8284C18.286 13.7404 18.2564 13.655 18.2025 13.5854C18.1653 13.5393 18.1184 13.502 18.0651 13.4761C18.0118 13.4503 17.9534 13.4365 17.8941 13.4359Z",
    fill: "#444444"
  }));

  // src/blocks/Accordion/Accordion.tsx
  var import_react25 = __toESM(require_react(), 1);
  var NestedBlocks = ({ onUpdate }) => {
    const { blockList, moveBlockTo } = useBlocksContext();
    const { DndWrapper: DndWrapper2, DndWrapElement: DndWrapElement2 } = useDragAndDrop_default();
    (0, import_react25.useEffect)(() => {
      onUpdate(blockList);
    }, [blockList]);
    const onDragEnd3 = (e2) => {
      if (e2.destination) {
        moveBlockTo(e2.source.index, e2.destination.index);
      }
    };
    return /* @__PURE__ */ React.createElement("div", null, blockList.length > 0 && /* @__PURE__ */ React.createElement(DndWrapper2, {
      id: "main",
      onDragEnd: onDragEnd3
    }, blockList.map((block, index2) => /* @__PURE__ */ React.createElement(DndWrapElement2, {
      key: block.id,
      id: block.id,
      index: index2
    }, ({ DndDragHandle: DndDragHandle2 }) => /* @__PURE__ */ React.createElement(Block_default, {
      DndDragHandle: DndDragHandle2,
      inLayout: true,
      key: index2,
      block
    })))));
  };
  var AccordionContentComponent = ({
    blocks,
    index: index2,
    data,
    onUpdate
  }) => {
    const [open, setOpen] = (0, import_react25.useState)(true);
    return /* @__PURE__ */ React.createElement("div", {
      key: index2,
      className: "BlockAccordion"
    }, /* @__PURE__ */ React.createElement(LayoutHeader_default, {
      title: "Accord\xE9on",
      open,
      setOpen
    }), /* @__PURE__ */ React.createElement("div", {
      className: `${!open ? "BlockAccordion--closed" : "BlockAccordion__Content"}`
    }, /* @__PURE__ */ React.createElement(BlockContextProvider, {
      defaultBlocks: blocks
    }, /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(NestedBlocks, {
      onUpdate: (columnNewData) => {
        const nextState = immer_esm_default(data, (draft) => {
          draft[index2] = columnNewData;
        });
        onUpdate(nextState);
      }
    }), /* @__PURE__ */ React.createElement(AddBlocks_default, {
      excludeLayout: ["Column", "Accordion"]
    })))));
  };
  var AccordionComponent = ({
    data,
    onUpdate
  }) => {
    return /* @__PURE__ */ React.createElement(React.Fragment, null, data.map((blocks, index2) => {
      return /* @__PURE__ */ React.createElement(AccordionContentComponent, {
        key: index2,
        data,
        onUpdate,
        blocks,
        index: index2
      });
    }));
  };
  var moduleLayout2 = "Accordion";
  var moduleType2 = {
    id: "Accordion"
  };
  var Accordion = {
    type: moduleType2,
    component: AccordionComponent,
    initialData: [[]],
    layout: moduleLayout2,
    title: {
      default: "Accordion",
      fr_FR: "Accord\xE9on"
    },
    icon: SvgAccordion,
    description: {
      default: "Display blocks in accordion",
      fr_FR: "Affiche des blocs en accord\xE9on"
    },
    image: {
      default: "https://source.unsplash.com/featured/300x250?nature&multiColumns"
    }
  };
  var Accordion_default = Accordion;

  // src/blocks/Button/Button.tsx
  var import_react29 = __toESM(require_react(), 1);

  // src/components/Inputs/Text.tsx
  var import_react27 = __toESM(require_react(), 1);

  // src/components/Inputs/InputWrapper.tsx
  var InputWrapper = ({
    children,
    label,
    error: error2,
    info,
    id
  }) => {
    return /* @__PURE__ */ React.createElement("div", {
      className: "Input__Wrapper"
    }, /* @__PURE__ */ React.createElement("div", {
      className: "Input__Wrapper__Header"
    }, label && /* @__PURE__ */ React.createElement("label", {
      htmlFor: id
    }, label), info && /* @__PURE__ */ React.createElement(tippy_react_esm_default, {
      delay: [700, 0],
      content: info
    }, /* @__PURE__ */ React.createElement("i", {
      className: "fa fa-info-circle"
    }))), children, error2 && /* @__PURE__ */ React.createElement("div", {
      className: "Input__Wrapper__Error"
    }, error2));
  };
  var InputWrapper_default = InputWrapper;

  // src/components/Inputs/Text.tsx
  var InputIcon = ({
    icon,
    alignment = "left"
  }) => {
    return /* @__PURE__ */ React.createElement("span", {
      className: `Input__Icon Input__Icon${alignment === "left" ? "--left" : "--right"}`
    }, icon);
  };
  var Input = (0, import_react27.forwardRef)(({
    value,
    onChange,
    className,
    placeholder: placeholder2,
    icon,
    iconAlignment = "left",
    type = "text",
    isValid,
    label,
    id,
    info,
    error: error2,
    ...props
  }, ref2) => {
    return /* @__PURE__ */ React.createElement(InputWrapper_default, {
      id,
      label,
      error: error2,
      info
    }, /* @__PURE__ */ React.createElement("div", {
      className: "Input__Text__Wrapper"
    }, /* @__PURE__ */ React.createElement("input", {
      ref: ref2,
      type,
      value,
      id,
      onChange,
      className: `Input__Text ${iconAlignment === "left" && icon ? "Input__Text--withIcon" : icon && isValid ? "Input__Text--withIcons" : ""}`,
      placeholder: placeholder2,
      ...props
    }), icon && /* @__PURE__ */ React.createElement(InputIcon, {
      alignment: iconAlignment,
      icon
    }), icon && isValid && iconAlignment === "left" && /* @__PURE__ */ React.createElement(InputIcon, {
      alignment: iconAlignment,
      icon: /* @__PURE__ */ React.createElement("i", {
        className: "fas fa-check"
      })
    })));
  });
  var Text_default = Input;

  // src/components/Inputs/Select.tsx
  var import_react28 = __toESM(require_react(), 1);
  var Select = (0, import_react28.forwardRef)(({
    value,
    onChange,
    className,
    label,
    id,
    info,
    error: error2,
    children,
    ...props
  }, ref2) => {
    return /* @__PURE__ */ React.createElement(InputWrapper_default, {
      id,
      label,
      error: error2,
      info
    }, /* @__PURE__ */ React.createElement("select", {
      id,
      ref: ref2,
      value,
      onChange,
      className: "Input__Select",
      ...props
    }, children));
  });
  var Select_default = Select;

  // src/blocks/Button/assets/button.svg
  var React18 = __toESM(require_react(), 1);
  var SvgButton = (props) => /* @__PURE__ */ React18.createElement("svg", {
    width: 25,
    height: 17,
    viewBox: "0 0 25 17",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
    ...props
  }, /* @__PURE__ */ React18.createElement("path", {
    d: "M22.1277 8.32771C23.0244 8.08057 23.809 7.47447 24.3331 6.62408C24.8572 5.77368 25.0844 4.73797 24.9718 3.71286C24.8592 2.68775 24.4146 1.74434 23.722 1.0611C23.0294 0.377865 22.137 0.00217757 21.2135 0.0051124H3.97091C3.45883 -0.0230592 2.94696 0.0654142 2.46637 0.265164C1.98579 0.464914 1.5465 0.771777 1.17516 1.16713C0.803825 1.56249 0.508183 2.03809 0.306174 2.56509C0.104165 3.09209 0 3.65949 0 4.23287C0 4.80625 0.104165 5.37365 0.306174 5.90065C0.508183 6.42765 0.803825 6.90325 1.17516 7.29861C1.5465 7.69396 1.98579 8.00083 2.46637 8.20058C2.94696 8.40033 3.45883 8.4888 3.97091 8.46063H17.7851V14.5952C17.7737 14.719 17.7986 14.8436 17.8562 14.9501C17.9138 15.0566 18.0009 15.1393 18.1042 15.1855C18.2075 15.2317 18.3215 15.239 18.4289 15.2063C18.5363 15.1736 18.6312 15.1026 18.6993 15.0042L20.7106 12.7446L22.1277 16.6503C22.1528 16.7189 22.1897 16.7813 22.2364 16.8339C22.2831 16.8865 22.3386 16.9282 22.3998 16.9567C22.461 16.9852 22.5266 17 22.5928 17C22.6591 17.0001 22.7247 16.9855 22.7859 16.957C22.9106 16.8981 23.0099 16.7873 23.0628 16.648C23.1156 16.5087 23.118 16.3519 23.0694 16.2107L21.6157 12.305H24.4773C24.5774 12.3067 24.6755 12.2744 24.7588 12.2123C24.8421 12.1502 24.9065 12.0613 24.9436 11.9573C24.9836 11.8531 24.9946 11.7378 24.975 11.6265C24.9555 11.5152 24.9062 11.4131 24.8338 11.3337L22.1277 8.32771ZM3.96177 7.30528C3.23436 7.30528 2.53674 6.98212 2.02238 6.40689C1.50802 5.83166 1.21905 5.05148 1.21905 4.23798C1.21905 3.42448 1.50802 2.64431 2.02238 2.06908C2.53674 1.49385 3.23436 1.17069 3.96177 1.17069H21.2135C21.5736 1.16733 21.9309 1.24334 22.2648 1.39439C22.5987 1.54543 22.9027 1.76855 23.1595 2.051C23.4164 2.33345 23.6209 2.66971 23.7615 3.04056C23.9021 3.41142 23.976 3.80962 23.979 4.21242C23.982 4.61522 23.9141 5.01474 23.779 5.38817C23.6439 5.7616 23.4444 6.10162 23.1919 6.38881C22.9393 6.67601 22.6386 6.90477 22.307 7.06201C21.9754 7.21926 21.6193 7.30192 21.2592 7.30528L18.6627 4.43224C18.5946 4.3338 18.4997 4.26284 18.3923 4.23013C18.2849 4.19742 18.171 4.20473 18.0676 4.25095C17.9643 4.29718 17.8772 4.3798 17.8197 4.48631C17.7621 4.59282 17.7371 4.71741 17.7485 4.84122V7.3155L3.96177 7.30528ZM20.8569 11.1701C20.7908 11.1698 20.7252 11.1841 20.6641 11.2121C20.6029 11.2402 20.5472 11.2815 20.5003 11.3337L18.809 13.2252V6.21128L23.2431 11.1701H20.8569Z",
    fill: "#333333"
  }));

  // src/blocks/Button/Button.tsx
  var BlockButtonComponent = ({
    data,
    onUpdate
  }) => {
    const [label, setLabel] = (0, import_react29.useState)("");
    const [url, setUrl] = (0, import_react29.useState)("");
    (0, import_react29.useEffect)(() => {
      if (data.url) {
        setUrl(data.url);
      }
      if (data.label) {
        setLabel(data.label);
      }
    }, [data]);
    const onChangeLabel = (e2) => {
      setLabel(e2.target.value);
    };
    const onBlurLabel = (e2) => {
      if (e2.target.value) {
        onUpdate({ ...data, label: e2.target.value });
      }
    };
    const onChangeUrl = (e2) => {
      setUrl(e2.target.value);
    };
    const onBlurUrl = (e2) => {
      if (e2.target.value) {
        onUpdate({ ...data, url: e2.target.value });
      }
    };
    return /* @__PURE__ */ React.createElement("div", {
      className: "BlockButton"
    }, /* @__PURE__ */ React.createElement(Text_default, {
      type: "text",
      id: "BlockButton-field-text",
      placeholder: "Indiquez le texte du bouton",
      value: label,
      onChange: onChangeLabel,
      onBlur: onBlurLabel,
      label: "Texte du bouton"
    }), /* @__PURE__ */ React.createElement(Text_default, {
      type: "text",
      id: "BlockButton-field-url",
      placeholder: "Indiquez le lien du bouton",
      value: url,
      icon: /* @__PURE__ */ React.createElement("i", {
        className: "fa fa-link text-darkCharbon"
      }),
      iconAlignment: "left",
      onChange: onChangeUrl,
      onBlur: onBlurUrl,
      label: "URL du bouton"
    }));
  };
  var initialData = {
    label: "",
    url: ""
  };
  var moduleType3 = {
    id: "blockButton"
  };
  var blockButton = {
    type: moduleType3,
    component: BlockButtonComponent,
    initialData,
    title: {
      default: "Button",
      fr_FR: "Bouton"
    },
    icon: SvgButton,
    description: {
      default: "Link to an URL",
      fr_FR: "Lien vers une URL"
    }
  };
  var Button_default = blockButton;

  // src/blocks/Text/Text.tsx
  var import_react30 = __toESM(require_react(), 1);

  // src/blocks/Text/assets/text.svg
  var React19 = __toESM(require_react(), 1);
  var SvgText = (props) => /* @__PURE__ */ React19.createElement("svg", {
    width: 15,
    height: 15,
    viewBox: "0 0 15 15",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
    ...props
  }, /* @__PURE__ */ React19.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M7.92 12.67H9.5C9.70952 12.67 9.91046 12.7532 10.0586 12.9014C10.2068 13.0495 10.29 13.2505 10.29 13.46C10.29 13.6695 10.2068 13.8705 10.0586 14.0186C9.91046 14.1668 9.70952 14.25 9.5 14.25H4.75C4.54048 14.25 4.33954 14.1668 4.19139 14.0186C4.04323 13.8705 3.96 13.6695 3.96 13.46C3.96 13.2505 4.04323 13.0495 4.19139 12.9014C4.33954 12.7532 4.54048 12.67 4.75 12.67H6.33V1.58H1.58V3.17C1.58 3.37952 1.49677 3.58046 1.34861 3.72861C1.20046 3.87677 0.999521 3.96 0.79 3.96C0.580479 3.96 0.379539 3.87677 0.231386 3.72861C0.0832319 3.58046 0 3.37952 0 3.17V0.79C0 0.580479 0.0832319 0.379539 0.231386 0.231386C0.379539 0.0832319 0.580479 0 0.79 0H13.5C13.7095 0 13.9105 0.0832319 14.0586 0.231386C14.2068 0.379539 14.29 0.580479 14.29 0.79V3.17C14.29 3.37952 14.2068 3.58046 14.0586 3.72861C13.9105 3.87677 13.7095 3.96 13.5 3.96C13.2905 3.96 13.0895 3.87677 12.9414 3.72861C12.7932 3.58046 12.71 3.37952 12.71 3.17V1.58H7.92V12.67Z",
    fill: "#333333"
  }));

  // src/blocks/Product/assets/product.svg
  var React20 = __toESM(require_react(), 1);
  var SvgProduct = (props) => /* @__PURE__ */ React20.createElement("svg", {
    width: 24,
    height: 25,
    viewBox: "0 0 24 25",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
    ...props
  }, /* @__PURE__ */ React20.createElement("path", {
    d: "M23.1203 19.6913V5.12125C23.1208 5.01464 23.0898 4.91027 23.031 4.82129C22.9723 4.73232 22.8886 4.66271 22.7903 4.62125L11.7603 0.0112518C11.6944 -0.00279117 11.6263 -0.00279117 11.5603 0.0112518C11.4945 -0.00375059 11.4262 -0.00375059 11.3603 0.0112518L0.330342 4.62125C0.23049 4.66039 0.145181 4.72944 0.0861036 4.81895C0.0270265 4.90847 -0.0029286 5.01405 0.000342419 5.12125V19.6913C-0.00356197 19.7998 0.0260012 19.907 0.0850279 19.9982C0.144055 20.0894 0.229693 20.1603 0.330342 20.2013L11.3303 24.8013C11.4402 24.841 11.5605 24.841 11.6703 24.8013L11.8503 24.7413L22.7903 20.2213C22.8926 20.1768 22.9789 20.1023 23.0378 20.0076C23.0968 19.913 23.1255 19.8026 23.1203 19.6913ZM11.5603 1.10125H11.6503L14.9003 2.46125L5.48034 6.67125L1.85034 5.15125L11.5603 1.10125ZM11.0303 23.4913L1.03034 19.3313V6.00125L5.03034 7.67125V11.9713C5.01987 12.0476 5.02589 12.1254 5.04798 12.1993C5.07007 12.2731 5.10772 12.3414 5.15841 12.3995C5.2091 12.4576 5.27164 12.5042 5.34183 12.5361C5.41202 12.5681 5.48824 12.5846 5.56534 12.5846C5.64245 12.5846 5.71866 12.5681 5.78885 12.5361C5.85905 12.5042 5.92159 12.4576 5.97228 12.3995C6.02296 12.3414 6.06062 12.2731 6.08271 12.1993C6.1048 12.1254 6.11081 12.0476 6.10034 11.9713V8.11125L11.0003 10.1113L11.0303 23.4913ZM11.5603 9.22125H11.4603L6.86034 7.22125L16.2703 3.05125H16.3703L21.2603 5.05125L20.7103 5.28125L11.5603 9.22125ZM22.0603 19.3413L21.9003 19.4013L12.1203 23.4913V10.1613L12.2703 10.1013L22.0903 6.00125L22.0603 19.3413Z",
    fill: "#333333"
  }));

  // src/blocks/Text/Text.tsx
  var import_react_quill = __toESM(require_lib2(), 1);
  var import_react_modal = __toESM(require_lib(), 1);
  var EditorToolbar = (0, import_react30.forwardRef)(({}, ref2) => {
    return /* @__PURE__ */ React.createElement("div", {
      id: "editor-toolbar"
    }, /* @__PURE__ */ React.createElement("button", {
      className: "ql-bold"
    }), /* @__PURE__ */ React.createElement("button", {
      className: "ql-italic"
    }), /* @__PURE__ */ React.createElement("button", {
      className: "ql-underline"
    }), /* @__PURE__ */ React.createElement("button", {
      className: "ql-align",
      value: ""
    }), /* @__PURE__ */ React.createElement("button", {
      className: "ql-align",
      value: "center"
    }), /* @__PURE__ */ React.createElement("button", {
      className: "ql-align",
      value: "right"
    }), /* @__PURE__ */ React.createElement("button", {
      className: "ql-list",
      value: "bullet"
    }), /* @__PURE__ */ React.createElement("button", {
      className: "ql-list",
      value: "ordered"
    }), /* @__PURE__ */ React.createElement("button", {
      className: "ql-link"
    }), /* @__PURE__ */ React.createElement("button", {
      className: "product",
      onClick: () => {
        ref2.current.editor.insert(0, "test");
      }
    }, /* @__PURE__ */ React.createElement(SvgProduct, null)));
  });
  var ProductSearchModal = (0, import_react30.forwardRef)(({}, ref2) => {
    const [query, setQuery] = (0, import_react30.useState)("");
    return /* @__PURE__ */ React.createElement("div", {
      className: "BlockProduct__Content"
    }, /* @__PURE__ */ React.createElement("span", {
      className: "BlockProduct__Content__Title"
    }, "Rechercher un produit, une cat\xE9gorie ou un contenu"), /* @__PURE__ */ React.createElement("div", {
      className: "BlockProduct__Content__Search"
    }, /* @__PURE__ */ React.createElement(Text_default, {
      onChange: (e2) => setQuery(e2.target.value),
      value: query,
      placeholder: "R\xE9f\xE9rence, cat\xE9gorie, contenu, ...",
      id: "BlockProduct-field-product",
      type: "text",
      icon: /* @__PURE__ */ React.createElement("i", {
        className: "fa fa-search text-vermillon"
      }),
      iconAlignment: "right",
      label: "Rechercher"
    })));
  });
  var BlockTextComponent = ({
    data,
    onUpdate
  }) => {
    const quillRef = (0, import_react30.useRef)(null);
    const [localData, setData] = (0, import_react30.useState)(data.value);
    const [isOpen, setIsOpen] = (0, import_react30.useState)(false);
    const insertProduct = () => {
      quillRef?.current?.editor?.insertText(0, "test");
    };
    (0, import_react30.useEffect)(() => {
      setData(data.value);
    }, [data]);
    return /* @__PURE__ */ React.createElement("div", {
      className: "BlockText"
    }, data !== void 0 ? /* @__PURE__ */ React.createElement("div", {
      className: "BlockText__Editor"
    }, /* @__PURE__ */ React.createElement(EditorToolbar, null), /* @__PURE__ */ React.createElement(import_react_quill.default, {
      modules: {
        toolbar: {
          container: "#editor-toolbar"
        }
      },
      ref: quillRef,
      value: localData,
      placeholder: "Votre texte ici",
      onChange: (value) => setData(value)
    })) : null, /* @__PURE__ */ React.createElement(import_react_modal.default, {
      isOpen,
      onRequestClose: () => setIsOpen(false),
      className: "Modal-TheliaBlocks",
      overlayClassName: "Overlay"
    }, /* @__PURE__ */ React.createElement(ProductSearchModal, {
      ref: quillRef
    })));
  };
  var initialData2 = {
    value: ""
  };
  var moduleType4 = {
    id: "blockText"
  };
  var Blocktext = {
    type: moduleType4,
    component: BlockTextComponent,
    initialData: initialData2,
    title: {
      default: "Text",
      fr_FR: "Texte"
    },
    icon: SvgText,
    description: {
      default: "Display a formated text",
      fr_FR: "Affiche un texte mis en forme"
    },
    image: {
      default: "https://source.unsplash.com/featured/300x250?nature&blockText"
    }
  };
  var Text_default2 = Blocktext;

  // src/blocks/List/assets/accordion.svg
  var React21 = __toESM(require_react(), 1);
  var SvgAccordion2 = (props) => /* @__PURE__ */ React21.createElement("svg", {
    width: 22,
    height: 18,
    viewBox: "0 0 22 18",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
    ...props
  }, /* @__PURE__ */ React21.createElement("path", {
    d: "M4.77332 8.72599H16.9231C17.4777 8.75248 18.032 8.66612 18.5523 8.47212C19.0726 8.27812 19.5481 7.98052 19.95 7.59736C20.3519 7.2142 20.6718 6.75345 20.8904 6.24301C21.109 5.73257 21.2217 5.18306 21.2217 4.62778C21.2217 4.0725 21.109 3.523 20.8904 3.01256C20.6718 2.50212 20.3519 2.04136 19.95 1.6582C19.5481 1.27504 19.0726 0.977448 18.5523 0.783448C18.032 0.589449 17.4777 0.503081 16.9231 0.529576H4.77332C3.72027 0.579878 2.72698 1.03362 1.99951 1.79667C1.27204 2.55972 0.866211 3.57352 0.866211 4.62778C0.866211 5.68204 1.27204 6.69585 1.99951 7.4589C2.72698 8.22195 3.72027 8.67569 4.77332 8.72599ZM4.77332 1.43613H16.9231C17.353 1.41276 17.7832 1.47725 18.1873 1.62568C18.5915 1.77411 18.9611 2.00335 19.2737 2.29942C19.5863 2.59548 19.8353 2.95216 20.0055 3.34766C20.1756 3.74316 20.2634 4.16919 20.2634 4.59974C20.2634 5.03029 20.1756 5.45633 20.0055 5.85183C19.8353 6.24733 19.5863 6.60401 19.2737 6.90007C18.9611 7.19614 18.5915 7.42538 18.1873 7.57381C17.7832 7.72224 17.353 7.78673 16.9231 7.76335H4.77332C3.96402 7.71935 3.20235 7.36686 2.64501 6.77839C2.08768 6.18993 1.77706 5.41025 1.77706 4.59974C1.77706 3.78924 2.08768 3.00956 2.64501 2.42109C3.20235 1.83263 3.96402 1.48014 4.77332 1.43613Z",
    fill: "#444444"
  }), /* @__PURE__ */ React21.createElement("path", {
    d: "M16.9045 9.7078H4.75477C3.70171 9.7581 2.70843 10.2118 1.98096 10.9749C1.25348 11.7379 0.847656 12.7517 0.847656 13.806C0.847656 14.8603 1.25348 15.8741 1.98096 16.6371C2.70843 17.4002 3.70171 17.8539 4.75477 17.9042H16.9045C17.4592 17.9307 18.0134 17.8443 18.5337 17.6503C19.054 17.4563 19.5295 17.1587 19.9314 16.7756C20.3333 16.3924 20.6532 15.9317 20.8718 15.4212C21.0905 14.9108 21.2032 14.3613 21.2032 13.806C21.2032 13.2507 21.0905 12.7012 20.8718 12.1908C20.6532 11.6803 20.3333 11.2196 19.9314 10.8364C19.5295 10.4533 19.054 10.1557 18.5337 9.96167C18.0134 9.76767 17.4592 9.6813 16.9045 9.7078ZM16.9045 16.9696H4.75477C3.94546 16.9256 3.1838 16.5731 2.62646 15.9847C2.06912 15.3962 1.7585 14.6165 1.7585 13.806C1.7585 12.9955 2.06912 12.2158 2.62646 11.6274C3.1838 11.0389 3.94546 10.6864 4.75477 10.6424H16.9045C17.3344 10.619 17.7646 10.6835 18.1688 10.8319C18.5729 10.9804 18.9426 11.2096 19.2552 11.5057C19.5678 11.8017 19.8168 12.1584 19.9869 12.5539C20.1571 12.9494 20.2448 13.3755 20.2448 13.806C20.2448 14.2366 20.1571 14.6626 19.9869 15.0581C19.8168 15.4536 19.5678 15.8103 19.2552 16.1063C18.9426 16.4024 18.5729 16.6316 18.1688 16.7801C17.7646 16.9285 17.3344 16.993 16.9045 16.9696Z",
    fill: "#444444"
  }), /* @__PURE__ */ React21.createElement("path", {
    d: "M14.96 4.99674H16.0348V6.10891C16.0331 6.15947 16.0423 6.20981 16.0616 6.25655C16.0809 6.30329 16.11 6.34536 16.147 6.37995C16.2208 6.45578 16.3215 6.49944 16.4273 6.50144C16.5311 6.49837 16.6305 6.45864 16.7077 6.38929C16.744 6.35228 16.7726 6.30844 16.7918 6.26032C16.8111 6.2122 16.8206 6.16074 16.8199 6.10891V4.99674H17.8947C18.0005 4.99474 18.1012 4.95108 18.175 4.87525C18.211 4.83996 18.2395 4.79777 18.2588 4.75119C18.2781 4.70461 18.2877 4.65462 18.2872 4.60421C18.2885 4.55232 18.2792 4.50071 18.2599 4.45251C18.2406 4.40431 18.2117 4.36054 18.175 4.32384C18.1012 4.248 18.0005 4.20434 17.8947 4.20234H16.8199V3.12755C16.8206 3.07573 16.8111 3.02427 16.7918 2.97615C16.7726 2.92802 16.744 2.88419 16.7077 2.84717C16.6297 2.78007 16.5302 2.74316 16.4273 2.74316C16.3244 2.74316 16.225 2.78007 16.147 2.84717C16.1107 2.88419 16.0821 2.92802 16.0628 2.97615C16.0436 3.02427 16.0341 3.07573 16.0348 3.12755V4.23972H14.96C14.9075 4.2402 14.8557 4.2512 14.8075 4.27207C14.7594 4.29294 14.7159 4.32325 14.6796 4.36122C14.6429 4.39792 14.6141 4.4417 14.5948 4.4899C14.5755 4.53809 14.5662 4.5897 14.5675 4.6416C14.567 4.692 14.5766 4.742 14.5959 4.78857C14.6152 4.83515 14.6436 4.87735 14.6796 4.91263C14.7588 4.97577 14.8592 5.00591 14.96 4.99674Z",
    fill: "#444444"
  }), /* @__PURE__ */ React21.createElement("path", {
    d: "M17.8941 13.4359H16.8193V12.3611C16.8173 12.2553 16.7737 12.1545 16.6978 12.0807C16.6223 12.0124 16.524 11.9746 16.4221 11.9746C16.3203 11.9746 16.222 12.0124 16.1464 12.0807C16.1102 12.1177 16.0816 12.1616 16.0623 12.2097C16.0431 12.2578 16.0335 12.3093 16.0343 12.3611V13.4359H14.9501C14.8482 13.4425 14.7522 13.486 14.6799 13.5582C14.6077 13.6304 14.5642 13.7265 14.5576 13.8284C14.559 13.9325 14.599 14.0324 14.6698 14.1088C14.7068 14.1451 14.7506 14.1737 14.7987 14.1929C14.8469 14.2122 14.8983 14.2217 14.9501 14.221H16.0343V15.3051C16.0337 15.3555 16.0434 15.4055 16.0627 15.4521C16.0819 15.4986 16.1104 15.5408 16.1464 15.5761C16.1827 15.6141 16.2262 15.6444 16.2743 15.6653C16.3225 15.6861 16.3743 15.6971 16.4268 15.6976C16.5288 15.691 16.6248 15.6475 16.697 15.5753C16.7693 15.5031 16.8127 15.407 16.8193 15.3051V14.221H17.8941C17.946 14.2217 17.9974 14.2122 18.0455 14.1929C18.0937 14.1737 18.1375 14.1451 18.1745 14.1088C18.2453 14.0324 18.2853 13.9325 18.2867 13.8284C18.286 13.7404 18.2564 13.655 18.2025 13.5854C18.1653 13.5393 18.1184 13.502 18.0651 13.4761C18.0118 13.4503 17.9534 13.4365 17.8941 13.4359Z",
    fill: "#444444"
  }));

  // src/blocks/List/List.tsx
  var import_react31 = __toESM(require_react(), 1);
  var types = [
    {
      label: "Ordered",
      value: "ol" /* Ordered */
    },
    {
      label: "Unordered",
      value: "ul" /* Unordered */
    }
  ];
  function BlockListComponent({
    data,
    onUpdate
  }) {
    const [listItems, setListItems] = (0, import_react31.useState)([]);
    (0, import_react31.useEffect)(() => {
      if (data.values) {
        setListItems(data.values.map((value) => ({ id: nanoid(), value })));
      }
    }, []);
    const onChangeType = (e2) => {
      onUpdate({ ...data, type: e2.target.value });
    };
    const addLine = () => {
      const newListItems = [...listItems, { id: nanoid(), value: "" }];
      setListItems(newListItems);
      onUpdate({ ...data, values: newListItems.map(({ value }) => value) });
    };
    const deleteLine = (id) => {
      const newListItems = listItems.filter(({ id: currentId }) => currentId !== id);
      setListItems(newListItems);
      onUpdate({ ...data, values: newListItems.map(({ value }) => value) });
    };
    const handleUpdateText = (listItem, textData) => {
      const newListItems = listItems.map(({ id, value }) => ({
        id,
        value: id === listItem.id ? textData.value : value
      }));
      setListItems(newListItems);
      onUpdate({
        ...data,
        values: newListItems.map(({ value }) => value)
      });
    };
    return /* @__PURE__ */ React.createElement("div", {
      className: "BlockList"
    }, /* @__PURE__ */ React.createElement("div", {
      className: "BlockList__Config"
    }, /* @__PURE__ */ React.createElement(Select_default, {
      id: "BlockList-field-level",
      onChange: onChangeType,
      value: data.type,
      label: "Type"
    }, types.map(({ label, value }) => /* @__PURE__ */ React.createElement("option", {
      key: value,
      value
    }, label)))), /* @__PURE__ */ React.createElement("div", {
      className: "BlockList__Content"
    }, listItems.map((listItem) => /* @__PURE__ */ React.createElement("div", {
      className: "BlockList__Item",
      key: listItem.id
    }, /* @__PURE__ */ React.createElement(Text_default2.component, {
      id: `text-${listItem.id}`,
      data: { value: listItem.value },
      onUpdate: (textData) => {
        handleUpdateText(listItem, textData);
      }
    }), /* @__PURE__ */ React.createElement("button", {
      onClick: () => deleteLine(listItem.id),
      disabled: listItems.length === 1,
      className: `${listItems.length > 1 ? "BlockList__Item--danger" : ""}`
    }, /* @__PURE__ */ React.createElement("i", {
      className: "fa fa-trash"
    })))), /* @__PURE__ */ React.createElement("button", {
      className: "BlockList__Add",
      onClick: addLine
    }, /* @__PURE__ */ React.createElement("i", {
      className: "fa fa-plus"
    }), " Ajouter une ligne")));
  }
  var initialData3 = {
    type: "ul" /* Unordered */,
    values: [""]
  };
  var moduleType5 = {
    id: "blockList"
  };
  var BlockList = {
    type: moduleType5,
    component: BlockListComponent,
    initialData: initialData3,
    title: {
      default: "List",
      fr_FR: "Liste"
    },
    icon: SvgAccordion2,
    description: {
      default: "Display a list",
      fr_FR: "Affiche une liste"
    },
    image: {
      default: "https://source.unsplash.com/featured/300x250?nature&blockList"
    }
  };
  var List_default = BlockList;

  // src/blocks/Product/Product.tsx
  var import_react32 = __toESM(require_react(), 1);
  var Product = ({
    productId,
    productIndex,
    data,
    onUpdate
  }) => {
    const { data: product } = useProductsBy({ type: "ids", value: productId });
    return /* @__PURE__ */ React.createElement("div", {
      className: "BlockProduct__Product"
    }, product?.[0]?.images.length > 0 ? /* @__PURE__ */ React.createElement("img", {
      className: "Product__Image",
      src: product?.[0]?.images[0].url,
      alt: "product image"
    }) : /* @__PURE__ */ React.createElement("img", {
      className: "Product__Image",
      src: "https://via.placeholder.com/150",
      alt: "product image"
    }), /* @__PURE__ */ React.createElement("div", {
      className: "Product__Infos"
    }, /* @__PURE__ */ React.createElement("div", {
      className: "Product__Infos__Title"
    }, product?.[0]?.i18n.title), /* @__PURE__ */ React.createElement("div", {
      className: "Product__Infos__Ref"
    }, "#", product?.[0]?.reference)), /* @__PURE__ */ React.createElement("div", {
      className: "Product__Actions"
    }, /* @__PURE__ */ React.createElement("button", {
      disabled: productIndex === 0,
      onClick: () => onUpdate({
        ...data,
        productList: [...reorder(data.productList, productIndex, productIndex - 1)]
      })
    }, /* @__PURE__ */ React.createElement("i", {
      className: "fa fa-arrow-up"
    })), /* @__PURE__ */ React.createElement("button", {
      disabled: productIndex === data.productList.length - 1,
      onClick: () => onUpdate({
        ...data,
        productList: [...reorder(data.productList, productIndex, productIndex + 1)]
      })
    }, /* @__PURE__ */ React.createElement("i", {
      className: "fa fa-arrow-down"
    }))), /* @__PURE__ */ React.createElement("a", {
      target: "_blank",
      rel: "noopener noreferrer",
      href: product?.[0]?.url,
      className: "Product__Link"
    }, /* @__PURE__ */ React.createElement("span", {
      className: "Product__Link__Label"
    }, "Fiche produit"), /* @__PURE__ */ React.createElement("i", {
      className: "Product__Link__Icon fa fa-arrow-right"
    })), /* @__PURE__ */ React.createElement("button", {
      className: "Product__Delete",
      onClick: () => onUpdate({
        ...data,
        productList: data.productList.filter((id) => id != product?.[0]?.id)
      })
    }, /* @__PURE__ */ React.createElement("i", {
      className: "fa fa-xmark"
    })));
  };
  var ProductsList = ({
    type,
    value,
    onUpdate
  }) => {
    const { data: products } = useProductsBy({ type, value });
    return /* @__PURE__ */ React.createElement("ul", {
      className: "ProductList"
    }, products?.length > 0 ? /* @__PURE__ */ React.createElement(React.Fragment, null, products?.filter((product) => !products.includes(product.id)).map((product) => /* @__PURE__ */ React.createElement("li", {
      key: product.id,
      onClick: () => {
        onUpdate(product);
      },
      className: "ProductList__Item"
    }, /* @__PURE__ */ React.createElement("span", null, product.i18n.title), /* @__PURE__ */ React.createElement("span", {
      className: "ProductList__Item__Ref"
    }, "#", product.reference)))) : value && value.length > 1 ? /* @__PURE__ */ React.createElement("li", {
      className: "ProductList__NoResults"
    }, /* @__PURE__ */ React.createElement("span", null, "Aucun r\xE9sultat", " ", value && value.length > 0 ? /* @__PURE__ */ React.createElement("span", null, 'pour "', /* @__PURE__ */ React.createElement("span", {
      className: "highlighted"
    }, value), '"') : "")) : null);
  };
  function BlockProductComponent({ data, onUpdate }) {
    const [searchByRef, setSearchByRef] = (0, import_react32.useState)(false);
    const [query, setQuery] = (0, import_react32.useState)("");
    (0, import_react32.useEffect)(() => query.startsWith("#") ? setSearchByRef(true) : setSearchByRef(false), [query]);
    const type = searchByRef ? "reference" : "title";
    const value = searchByRef ? query.substring(1) : query;
    return /* @__PURE__ */ React.createElement("div", {
      className: "BlockProduct"
    }, data.productList.map((productId, index2) => {
      return /* @__PURE__ */ React.createElement(import_react32.Suspense, {
        fallback: /* @__PURE__ */ React.createElement("div", {
          className: "BlockProduct__Loader"
        }, /* @__PURE__ */ React.createElement("i", {
          className: "fa fa-circle-notch fa-spin"
        }))
      }, /* @__PURE__ */ React.createElement(Product, {
        key: index2,
        productIndex: index2,
        productId,
        data,
        onUpdate
      }));
    }), /* @__PURE__ */ React.createElement("div", {
      className: "BlockProduct__Content"
    }, /* @__PURE__ */ React.createElement("span", {
      className: "BlockProduct__Content__Title"
    }, "Ajouter un produit"), /* @__PURE__ */ React.createElement("div", {
      className: "BlockProduct__Content__Search"
    }, /* @__PURE__ */ React.createElement(Text_default, {
      onChange: (e2) => setQuery(e2.target.value),
      value: query,
      placeholder: "R\xE9f\xE9rence, nom, ...",
      id: "BlockProduct-field-product",
      type: "text",
      className: searchByRef ? "text-vermillon" : "",
      icon: /* @__PURE__ */ React.createElement("i", {
        className: "fa fa-search text-vermillon"
      }),
      iconAlignment: "right",
      label: "Rechercher"
    }), /* @__PURE__ */ React.createElement(import_react32.Suspense, {
      fallback: /* @__PURE__ */ React.createElement("div", {
        className: "BlockProduct__Loader"
      }, /* @__PURE__ */ React.createElement("i", {
        className: "fa fa-circle-notch fa-spin"
      }))
    }, /* @__PURE__ */ React.createElement(ProductsList, {
      type,
      value,
      onUpdate: (product) => {
        onUpdate({
          ...data,
          productList: [...data.productList, product.id]
        });
        setQuery("");
      }
    })))));
  }
  var initialData4 = {
    productList: []
  };
  var moduleType6 = {
    id: "blockProduct"
  };
  var blockProduct = {
    type: moduleType6,
    component: BlockProductComponent,
    initialData: initialData4,
    title: {
      default: "Product",
      fr_FR: "Produit"
    },
    icon: SvgProduct,
    description: {
      default: "Display a product",
      fr_FR: "Affiche des produits du catalogue"
    },
    image: {
      default: "https://source.unsplash.com/featured/300x250?nature&blockProduct"
    }
  };
  var Product_default = blockProduct;

  // src/blocks/Raw/assets/html.svg
  var React22 = __toESM(require_react(), 1);
  var SvgHtml = (props) => /* @__PURE__ */ React22.createElement("svg", {
    width: 21,
    height: 21,
    viewBox: "0 0 21 21",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
    ...props
  }, /* @__PURE__ */ React22.createElement("path", {
    d: "M18.95 2.85741e-05H1.76C1.52934 -0.00128947 1.30071 0.0430028 1.08723 0.130358C0.873755 0.217714 0.679654 0.346409 0.51609 0.509043C0.352527 0.671677 0.222729 0.865041 0.134159 1.07801C0.0455887 1.29099 -3.76563e-06 1.51937 2.33271e-10 1.75003V18.92C-3.76563e-06 19.1507 0.0455887 19.3791 0.134159 19.592C0.222729 19.805 0.352527 19.9984 0.51609 20.161C0.679654 20.3236 0.873755 20.4523 1.08723 20.5397C1.30071 20.6271 1.52934 20.6713 1.76 20.67H18.95C19.4124 20.6674 19.8549 20.4818 20.181 20.1539C20.507 19.826 20.69 19.3824 20.69 18.92V1.75003C20.69 1.28763 20.507 0.844017 20.181 0.516114C19.8549 0.188211 19.4124 0.00267087 18.95 2.85741e-05ZM19.69 18.92C19.6874 19.1013 19.6135 19.2742 19.4844 19.4015C19.3553 19.5287 19.1813 19.6 19 19.6H1.76C1.57965 19.6 1.40669 19.5284 1.27917 19.4009C1.15164 19.2733 1.08 19.1004 1.08 18.92V5.92003H19.69V18.92ZM19.69 4.92003H1.08V1.75003C1.08 1.56968 1.15164 1.39672 1.27917 1.2692C1.40669 1.14167 1.57965 1.07003 1.76 1.07003H18.95C19.1313 1.07001 19.3053 1.14133 19.4344 1.26858C19.5635 1.39582 19.6374 1.56877 19.64 1.75003L19.69 4.92003Z",
    fill: "#333333"
  }), /* @__PURE__ */ React22.createElement("path", {
    d: "M6.31094 15.6204C6.41206 15.7209 6.54832 15.7783 6.69094 15.7804C6.79721 15.7796 6.9009 15.7476 6.98903 15.6882C7.07716 15.6288 7.14581 15.5447 7.18638 15.4465C7.22695 15.3483 7.23764 15.2403 7.21711 15.136C7.19657 15.0317 7.14572 14.9359 7.07094 14.8604L5.01094 12.8004L7.07094 10.7304C7.12174 10.681 7.16212 10.6219 7.1897 10.5566C7.21727 10.4913 7.23148 10.4212 7.23148 10.3504C7.23148 10.2795 7.21727 10.2094 7.1897 10.1441C7.16212 10.0788 7.12174 10.0197 7.07094 9.97035C6.9688 9.87252 6.83236 9.81866 6.69094 9.82035C6.54971 9.81971 6.41365 9.87342 6.31094 9.97035L3.87094 12.4204C3.82023 12.4698 3.77995 12.5289 3.75247 12.5942C3.72499 12.6594 3.71087 12.7295 3.71094 12.8004C3.71164 12.8696 3.72615 12.938 3.75362 13.0015C3.7811 13.065 3.82098 13.1224 3.87094 13.1704L6.31094 15.6204Z",
    fill: "#333333"
  }), /* @__PURE__ */ React22.createElement("path", {
    d: "M15.6892 12.8H15.6392L13.6392 14.8C13.5436 14.9034 13.4905 15.0391 13.4905 15.18C13.4905 15.3208 13.5436 15.4565 13.6392 15.56C13.7414 15.6588 13.877 15.7159 14.0192 15.72C14.09 15.72 14.1601 15.7059 14.2254 15.6784C14.2906 15.651 14.3497 15.6107 14.3992 15.56L16.8492 13.11C16.8978 13.0616 16.9361 13.0038 16.9619 12.9403C16.9877 12.8767 17.0003 12.8086 16.9992 12.74C17.0011 12.6698 16.9888 12.5999 16.963 12.5346C16.9373 12.4693 16.8985 12.4099 16.8492 12.36L14.3992 9.90997C14.3492 9.8606 14.2898 9.82186 14.2245 9.79609C14.1592 9.77031 14.0894 9.75802 14.0192 9.75997C13.9128 9.75783 13.8083 9.78775 13.7191 9.84583C13.63 9.90391 13.5604 9.98747 13.5194 10.0856C13.4785 10.1838 13.468 10.292 13.4893 10.3962C13.5107 10.5005 13.5629 10.5958 13.6392 10.67L15.6892 12.8Z",
    fill: "#333333"
  }), /* @__PURE__ */ React22.createElement("path", {
    d: "M8.95914 16.9703C9.09442 17.0147 9.24176 17.0039 9.36911 16.9402C9.49647 16.8765 9.59351 16.7651 9.63914 16.6303L12.0891 9.30026C12.1336 9.16498 12.1228 9.01764 12.0591 8.89028C11.9954 8.76293 11.884 8.66588 11.7491 8.62026H11.5791C11.4654 8.61762 11.3538 8.65238 11.2617 8.71922C11.1696 8.78605 11.1019 8.88127 11.0691 8.99026L8.62914 16.3203C8.60191 16.3852 8.58789 16.4549 8.58789 16.5253C8.58789 16.5957 8.60191 16.6653 8.62914 16.7303C8.70644 16.8476 8.8237 16.9329 8.95914 16.9703Z",
    fill: "#333333"
  }), /* @__PURE__ */ React22.createElement("path", {
    d: "M4.24933 2.43957H3.02933C2.95294 2.4291 2.87519 2.43511 2.80132 2.4572C2.72744 2.4793 2.65915 2.51695 2.60104 2.56764C2.54294 2.61832 2.49636 2.68087 2.46445 2.75106C2.43253 2.82125 2.41602 2.89746 2.41602 2.97457C2.41602 3.05168 2.43253 3.12789 2.46445 3.19808C2.49636 3.26827 2.54294 3.33082 2.60104 3.3815C2.65915 3.43219 2.72744 3.46985 2.80132 3.49194C2.87519 3.51403 2.95294 3.52004 3.02933 3.50957H4.24933C4.37864 3.49185 4.49715 3.4279 4.58295 3.32954C4.66875 3.23119 4.71601 3.10509 4.71601 2.97457C4.71601 2.84405 4.66875 2.71795 4.58295 2.6196C4.49715 2.52124 4.37864 2.45729 4.24933 2.43957Z",
    fill: "#333333"
  }), /* @__PURE__ */ React22.createElement("path", {
    d: "M7.90934 2.43957H6.68934C6.56003 2.45729 6.44152 2.52124 6.35572 2.6196C6.26993 2.71795 6.22266 2.84405 6.22266 2.97457C6.22266 3.10509 6.26993 3.23119 6.35572 3.32954C6.44152 3.4279 6.56003 3.49185 6.68934 3.50957H7.90934C7.98574 3.52004 8.06348 3.51403 8.13736 3.49194C8.21123 3.46985 8.27952 3.43219 8.33763 3.3815C8.39573 3.33082 8.44231 3.26827 8.47423 3.19808C8.50614 3.12789 8.52266 3.05168 8.52266 2.97457C8.52266 2.89746 8.50614 2.82125 8.47423 2.75106C8.44231 2.68087 8.39573 2.61832 8.33763 2.56764C8.27952 2.51695 8.21123 2.4793 8.13736 2.4572C8.06348 2.43511 7.98574 2.4291 7.90934 2.43957Z",
    fill: "#333333"
  }), /* @__PURE__ */ React22.createElement("path", {
    d: "M11.5794 2.43957H10.3594C10.283 2.4291 10.2053 2.43511 10.1314 2.4572C10.0575 2.4793 9.98923 2.51695 9.93112 2.56764C9.87302 2.61832 9.82644 2.68087 9.79452 2.75106C9.76261 2.82125 9.74609 2.89746 9.74609 2.97457C9.74609 3.05168 9.76261 3.12789 9.79452 3.19808C9.82644 3.26827 9.87302 3.33082 9.93112 3.3815C9.98923 3.43219 10.0575 3.46985 10.1314 3.49194C10.2053 3.51403 10.283 3.52004 10.3594 3.50957H11.5794C11.6558 3.52004 11.7336 3.51403 11.8074 3.49194C11.8813 3.46985 11.9496 3.43219 12.0077 3.3815C12.0658 3.33082 12.1124 3.26827 12.1443 3.19808C12.1762 3.12789 12.1927 3.05168 12.1927 2.97457C12.1927 2.89746 12.1762 2.82125 12.1443 2.75106C12.1124 2.68087 12.0658 2.61832 12.0077 2.56764C11.9496 2.51695 11.8813 2.4793 11.8074 2.4572C11.7336 2.43511 11.6558 2.4291 11.5794 2.43957Z",
    fill: "#333333"
  }));

  // src/blocks/Raw/Raw.tsx
  var import_react_modal2 = __toESM(require_lib(), 1);

  // assets/svg/html-warning.svg
  var React23 = __toESM(require_react(), 1);
  var SvgHtmlWarning = (props) => /* @__PURE__ */ React23.createElement("svg", {
    width: 138,
    height: 242,
    viewBox: "0 0 138 242",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
    ...props
  }, /* @__PURE__ */ React23.createElement("g", {
    clipPath: "url(#clip0_996_115142)"
  }, /* @__PURE__ */ React23.createElement("path", {
    d: "M92.0639 184.83C92.0639 184.83 88.7709 208.897 91.4621 213.835C94.1533 218.776 114.172 181.333 114.172 181.333L103.684 173.26L92.0678 184.83H92.0639Z",
    fill: "url(#paint0_linear_996_115142)"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M105.16 174.371L108.564 176.905L90.8374 196.809C90.8374 196.809 91.3128 190.162 91.5888 188.341L105.16 174.375V174.371Z",
    fill: "url(#paint1_linear_996_115142)"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M50.7222 51.6844C47.5595 44.6574 40.4328 47.3179 40.4328 47.3179C40.4328 47.3179 36.3654 41.5944 34.1304 42.7406C31.8954 43.883 33.885 47.1838 33.885 47.1838C30.0974 44.7878 25.3744 43.0013 24.3815 44.4581C23.8218 45.2823 24.1132 46.1525 24.4774 46.7544C23.0589 46.4094 21.8322 46.5397 21.3491 47.8815C20.3371 50.703 24.4544 51.3202 26.7239 51.4467C22.204 51.4314 21.4258 52.3016 21.6137 53.9769C21.8207 55.8132 25.5738 56.4074 28.1845 56.7448C30.7951 57.0821 36.8676 58.0635 36.8676 58.0635L39.6278 67.2987L55.0388 63.2312C55.0388 63.2312 53.8849 58.7152 50.7222 51.6844Z",
    fill: "url(#paint2_linear_996_115142)"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M47.1456 222.651C47.1456 222.651 23.5191 228.287 19.8848 232.584C16.2544 236.882 58.401 242 58.401 242L62.135 229.299L47.1456 222.655V222.651Z",
    fill: "url(#paint3_linear_996_115142)"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M72.2594 100.524C72.2594 100.524 53.1642 118.795 47.7972 124.128C46.9231 124.994 46.003 126.213 45.0906 127.601C40.0916 135.219 40.5517 145.22 46.2292 152.343C46.3941 152.55 46.5359 152.723 46.6548 152.853L85.999 195.126L107.494 171.795L86.6661 151.408L80.2486 143.948L96.2386 129.391L107.31 120.133L72.2594 100.524Z",
    fill: "url(#paint4_linear_996_115142)"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M115.272 109.212L85.1173 94.7666L73.7085 123.277L35.9092 221.298L69.4992 234.651C69.4992 234.651 102.441 158.017 112.673 132.792C116.53 123.289 116.929 115.434 115.276 109.212H115.272Z",
    fill: "url(#paint5_linear_996_115142)"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M6.73181 68.4987C6.73181 70.358 5.2252 71.8646 3.3659 71.8646C1.50661 71.8646 0 70.358 0 68.4987C0 66.6394 1.50661 65.1328 3.3659 65.1328C5.2252 65.1328 6.73181 66.6394 6.73181 68.4987Z",
    fill: "#EAEAEA"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M31.1136 165.976C31.1136 167.836 29.607 169.342 27.7477 169.342C25.8884 169.342 24.3818 167.836 24.3818 165.976C24.3818 164.117 25.8884 162.61 27.7477 162.61C29.607 162.61 31.1136 164.117 31.1136 165.976Z",
    fill: "#EAEAEA"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M137.266 148.678C137.266 150.538 135.759 152.044 133.9 152.044C132.041 152.044 130.534 150.538 130.534 148.678C130.534 146.819 132.041 145.312 133.9 145.312C135.759 145.312 137.266 146.819 137.266 148.678Z",
    fill: "#EAEAEA"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M32.1523 64.4545L54.138 56.7413L59.0565 67.0384C59.0565 67.0384 60.3523 51.428 83.0817 49.4652L97.8947 49.2428C97.8947 49.2428 115.92 48.4684 123.469 60.9698C128.314 68.9935 133.781 84.1823 137.262 95.6064C139.466 102.844 131.841 117.995 115.272 109.208L64.2089 107.602V102.112C64.2089 102.112 51.2321 111.32 44.301 100.904C37.3698 90.4885 32.1484 64.4545 32.1484 64.4545H32.1523Z",
    fill: "url(#paint6_linear_996_115142)"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M97.8947 49.2468L83.0817 49.4691C80.9924 49.6493 79.0871 49.9445 77.3428 50.3355C79.0986 53.2452 82.9552 57.3625 90.722 57.3625C98.4889 57.3625 103.354 53.0766 105.915 49.9943C101.372 49.1011 97.8909 49.2506 97.8909 49.2506L97.8947 49.2468Z",
    fill: "url(#paint7_linear_996_115142)"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M82.5603 25.306C82.5603 27.2305 81 28.7908 79.0756 28.7908C77.1511 28.7908 75.5908 27.2305 75.5908 25.306C75.5908 23.3816 77.1511 21.8213 79.0756 21.8213C81 21.8213 82.5603 23.3816 82.5603 25.306Z",
    fill: "url(#paint8_linear_996_115142)"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M103.224 25.2562C105.175 32.1605 101.161 39.337 94.2608 41.2921C87.3565 43.2434 80.18 39.2335 78.2249 32.3292C76.2736 25.4249 80.2835 18.2484 87.1878 16.2932C94.0921 14.3419 101.269 18.3519 103.224 25.2562Z",
    fill: "url(#paint9_linear_996_115142)"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M98.121 51.0637L97.3466 39.973C92.5431 38.7885 92.3399 32.4132 92.3399 32.4132C92.3399 32.4132 88.284 30.0057 88.974 22.1736L81.4947 20.6172C81.4947 20.6172 78.3664 23.1934 77.9946 25.6775C77.8297 26.7855 77.6611 28.1004 77.5154 29.6262C76.9135 35.8826 75.1155 43.7875 83.1201 44.7535L83.1048 50.5615C83.1048 50.5615 83.8715 52.4936 89.7944 52.9766C95.7135 53.4597 98.1248 51.0713 98.1248 51.0713L98.121 51.0637Z",
    fill: "url(#paint10_linear_996_115142)"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M101.82 19.0603C101.617 19.0603 101.418 19.0794 101.222 19.1063C101.445 18.4967 101.571 17.8374 101.571 17.1511C101.571 13.9731 98.995 11.3931 95.8132 11.3931C94.318 11.3931 92.9571 11.9681 91.9335 12.9035C91.2435 11.4199 89.7484 10.3887 88.0041 10.3887C85.9301 10.3887 84.2012 11.8454 83.7756 13.7891C83.0664 13.4747 82.2844 13.2984 81.4563 13.2984C78.2783 13.2984 75.6982 15.8746 75.6982 19.0564C75.6982 22.2383 78.2744 24.8145 81.4563 24.8145C82.7482 24.8145 83.9367 24.3852 84.8951 23.6683C85.3743 25.5391 87.0687 26.923 89.089 26.923C91.4812 26.923 93.421 24.9832 93.421 22.591C93.421 22.5182 93.4133 22.4492 93.4095 22.3802C94.1417 22.7175 94.9544 22.9092 95.8132 22.9092C96.4227 22.9092 97.0054 22.8134 97.5574 22.637C97.5153 22.8824 97.4884 23.1354 97.4884 23.3923C97.4884 25.7844 99.4282 27.7242 101.82 27.7242C104.213 27.7242 106.152 25.7844 106.152 23.3923C106.152 21.0001 104.213 19.0603 101.82 19.0603Z",
    fill: "url(#paint11_linear_996_115142)"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M12.0721 0H47.4946C50.4427 0 52.8348 2.39217 52.8348 5.34021V29.2197C52.8348 32.1678 50.4427 34.5599 47.4946 34.5599H12.0721C9.1241 34.5599 6.73193 32.1678 6.73193 29.2197V5.34021C6.73193 2.39217 9.1241 0 12.0721 0Z",
    fill: "#EAEAEA"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M19.3254 23.5882C19.2104 23.5882 19.0954 23.5422 19.0072 23.4541L13.9047 18.3515C13.7284 18.1752 13.7284 17.8877 13.9047 17.7113L19.3178 12.2983C19.4941 12.1219 19.7816 12.1219 19.958 12.2983C20.1343 12.4746 20.1343 12.7621 19.958 12.9385L14.8631 18.0333L19.6475 22.8177C19.8238 22.994 19.8238 23.2815 19.6475 23.4579C19.5593 23.5461 19.4443 23.5921 19.3293 23.5921L19.3254 23.5882Z",
    fill: "url(#paint12_linear_996_115142)"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M39.9348 23.5882C39.8198 23.5882 39.7048 23.5422 39.6166 23.454C39.4403 23.2776 39.4403 22.9901 39.6166 22.8138L44.7115 17.7189L39.9272 12.9346C39.7508 12.7582 39.7508 12.4707 39.9272 12.2944C40.1035 12.118 40.391 12.118 40.5674 12.2944L45.6699 17.3969C45.7542 17.4812 45.8041 17.5962 45.8041 17.7151C45.8041 17.8339 45.7581 17.9489 45.6699 18.0333L40.2568 23.4463C40.1687 23.5345 40.0537 23.5805 39.9387 23.5805L39.9348 23.5882Z",
    fill: "url(#paint13_linear_996_115142)"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M26.0455 26.1565C25.988 26.1565 25.9267 26.145 25.8692 26.1182C25.6392 26.0185 25.5318 25.754 25.6315 25.524L33.107 8.05425C33.2067 7.82423 33.4712 7.71689 33.7012 7.81656C33.9313 7.91624 34.0386 8.18076 33.9389 8.41077L26.4634 25.8805C26.3906 26.053 26.2219 26.1565 26.0494 26.1565H26.0455Z",
    fill: "url(#paint14_linear_996_115142)"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M101.82 19.0603C101.617 19.0603 101.418 19.0794 101.222 19.1063C101.445 18.4967 101.571 17.8374 101.571 17.1511C101.571 13.9731 98.995 11.3931 95.8132 11.3931C94.318 11.3931 92.9571 11.9681 91.9335 12.9035C91.2435 11.4199 89.7484 10.3887 88.0041 10.3887C85.9301 10.3887 84.2012 11.8454 83.7756 13.7891C83.0664 13.4747 82.2844 13.2984 81.4563 13.2984C78.2783 13.2984 75.6982 15.8746 75.6982 19.0564C75.6982 22.2383 78.2744 24.8145 81.4563 24.8145C82.7482 24.8145 83.9367 24.3852 84.8951 23.6683C85.3743 25.5391 87.0687 26.923 89.089 26.923C91.4812 26.923 93.421 24.9832 93.421 22.591C93.421 22.5182 93.4133 22.4492 93.4095 22.3802C94.1417 22.7175 94.9544 22.9092 95.8132 22.9092C96.4227 22.9092 97.0054 22.8134 97.5574 22.637C97.5153 22.8824 97.4884 23.1354 97.4884 23.3923C97.4884 25.7844 99.4282 27.7242 101.82 27.7242C104.213 27.7242 106.152 25.7844 106.152 23.3923C106.152 21.0001 104.213 19.0603 101.82 19.0603Z",
    fill: "url(#paint15_linear_996_115142)"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M86.283 68.5488H49.6453C46.9055 68.5488 44.6846 70.7698 44.6846 73.5095V95.7291C44.6846 98.4688 46.9055 100.69 49.6453 100.69H86.283C89.0227 100.69 91.2437 98.4688 91.2437 95.7291V73.5095C91.2437 70.7698 89.0227 68.5488 86.283 68.5488Z",
    fill: "#EAEAEA"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M101.403 80.2217C101.403 80.2217 97.4847 75.5178 91.236 74.0879V78.9144C91.236 79.5891 90.6226 80.1028 89.9594 79.984C88.0464 79.6428 84.4888 79.0064 82.8787 78.7036C80.6169 78.278 78.7346 78.2397 78.4317 79.7463C78.1864 80.9769 79.2329 81.7551 82.3458 82.5563C82.3458 82.5563 78.0407 81.5404 77.5155 83.8367C76.9864 86.1331 81.9586 86.85 81.9586 86.85C81.9586 86.85 78.1787 86.4934 77.918 87.9809C77.665 89.4338 78.4739 90.327 82.457 91.2126C82.1426 91.2126 81.7669 91.3813 81.7133 92.1748C81.5753 94.2565 89.9402 94.7472 91.2973 94.774C92.6544 94.797 96.4535 95.0999 96.4535 95.0999L100.743 97.1317L106.739 82.0426L101.403 80.2293V80.2217Z",
    fill: "url(#paint16_linear_996_115142)"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M106.739 82.0351L100.743 97.1241C100.743 97.1241 114.51 113.62 126.432 111.719C138.355 109.821 138.04 96.8405 137.933 96.4188C137.826 95.9971 135.085 88.6097 135.085 88.6097L106.739 82.0312V82.0351Z",
    fill: "url(#paint17_linear_996_115142)"
  }), /* @__PURE__ */ React23.createElement("path", {
    d: "M61.5026 231.473L42.3422 223.855L37.7266 225.147L60.4905 234.881L61.5026 231.473Z",
    fill: "url(#paint18_linear_996_115142)"
  })), /* @__PURE__ */ React23.createElement("defs", null, /* @__PURE__ */ React23.createElement("linearGradient", {
    id: "paint0_linear_996_115142",
    x1: 112.451,
    y1: 179.612,
    x2: 84.8146,
    y2: 207.248,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React23.createElement("stop", {
    stopColor: "#14336D"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.97,
    stopColor: "#0E2253"
  })), /* @__PURE__ */ React23.createElement("linearGradient", {
    id: "paint1_linear_996_115142",
    x1: 90.8374,
    y1: 185.588,
    x2: 108.564,
    y2: 185.588,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React23.createElement("stop", {
    stopColor: "#FFAA9D"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.97,
    stopColor: "#FF9F91"
  })), /* @__PURE__ */ React23.createElement("linearGradient", {
    id: "paint2_linear_996_115142",
    x1: 21.192,
    y1: 54.943,
    x2: 55.0388,
    y2: 54.943,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React23.createElement("stop", {
    stopColor: "#FFAA9D"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.97,
    stopColor: "#FF9F91"
  })), /* @__PURE__ */ React23.createElement("linearGradient", {
    id: "paint3_linear_996_115142",
    x1: 54.6326,
    y1: 221.793,
    x2: 31.309,
    y2: 245.116,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React23.createElement("stop", {
    stopColor: "#14336D"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.97,
    stopColor: "#0E2253"
  })), /* @__PURE__ */ React23.createElement("linearGradient", {
    id: "paint4_linear_996_115142",
    x1: 55.4759,
    y1: 116.449,
    x2: 110.074,
    y2: 171.051,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.16,
    stopColor: "#14336D"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.97,
    stopColor: "#0E2253"
  })), /* @__PURE__ */ React23.createElement("linearGradient", {
    id: "paint5_linear_996_115142",
    x1: 104.117,
    y1: 214.663,
    x2: 47.4483,
    y2: 116.515,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React23.createElement("stop", {
    stopColor: "#14336D"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.97,
    stopColor: "#0E2253"
  })), /* @__PURE__ */ React23.createElement("linearGradient", {
    id: "paint6_linear_996_115142",
    x1: 32.1523,
    y1: 80.5557,
    x2: 137.634,
    y2: 80.5557,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.34,
    stopColor: "#3162DF"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.96,
    stopColor: "#173DB8"
  })), /* @__PURE__ */ React23.createElement("linearGradient", {
    id: "paint7_linear_996_115142",
    x1: 77.3428,
    y1: 53.2989,
    x2: 105.918,
    y2: 53.2989,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React23.createElement("stop", {
    stopColor: "#FFAA9D"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.97,
    stopColor: "#FF9F91"
  })), /* @__PURE__ */ React23.createElement("linearGradient", {
    id: "paint8_linear_996_115142",
    x1: 75.587,
    y1: 25.306,
    x2: 82.5603,
    y2: 25.306,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React23.createElement("stop", {
    stopColor: "#143383"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.97,
    stopColor: "#0E2253"
  })), /* @__PURE__ */ React23.createElement("linearGradient", {
    id: "paint9_linear_996_115142",
    x1: 77.7303,
    y1: 28.7946,
    x2: 103.718,
    y2: 28.7946,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React23.createElement("stop", {
    stopColor: "#143383"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.97,
    stopColor: "#0E2253"
  })), /* @__PURE__ */ React23.createElement("linearGradient", {
    id: "paint10_linear_996_115142",
    x1: 76.9135,
    y1: 36.8257,
    x2: 98.121,
    y2: 36.8257,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React23.createElement("stop", {
    stopColor: "#FFAA9D"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.97,
    stopColor: "#FF9F91"
  })), /* @__PURE__ */ React23.createElement("linearGradient", {
    id: "paint11_linear_996_115142",
    x1: 75.7021,
    y1: 19.0603,
    x2: 106.156,
    y2: 19.0603,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React23.createElement("stop", {
    stopColor: "#143383"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.97,
    stopColor: "#0E2253"
  })), /* @__PURE__ */ React23.createElement("linearGradient", {
    id: "paint12_linear_996_115142",
    x1: 13.7667,
    y1: 17.88,
    x2: 20.0845,
    y2: 17.88,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React23.createElement("stop", {
    stopColor: "#14336D"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.97,
    stopColor: "#0E2253"
  })), /* @__PURE__ */ React23.createElement("linearGradient", {
    id: "paint13_linear_996_115142",
    x1: 39.4825,
    y1: 17.8799,
    x2: 45.7964,
    y2: 17.8799,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React23.createElement("stop", {
    stopColor: "#14336D"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.97,
    stopColor: "#0E2253"
  })), /* @__PURE__ */ React23.createElement("linearGradient", {
    id: "paint14_linear_996_115142",
    x1: 25.5932,
    y1: 16.9712,
    x2: 33.9734,
    y2: 16.9712,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React23.createElement("stop", {
    stopColor: "#14336D"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.97,
    stopColor: "#0E2253"
  })), /* @__PURE__ */ React23.createElement("linearGradient", {
    id: "paint15_linear_996_115142",
    x1: 75.7021,
    y1: 19.0603,
    x2: 106.156,
    y2: 19.0603,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React23.createElement("stop", {
    stopColor: "#14336D"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.97,
    stopColor: "#0E2253"
  })), /* @__PURE__ */ React23.createElement("linearGradient", {
    id: "paint16_linear_996_115142",
    x1: 77.4771,
    y1: 85.6079,
    x2: 106.739,
    y2: 85.6079,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React23.createElement("stop", {
    stopColor: "#FFAA9D"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.97,
    stopColor: "#FF9F91"
  })), /* @__PURE__ */ React23.createElement("linearGradient", {
    id: "paint17_linear_996_115142",
    x1: 103.753,
    y1: 104.335,
    x2: 136.457,
    y2: 86.5702,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React23.createElement("stop", {
    stopColor: "#3162DF"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.1,
    stopColor: "#2551CD"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.23,
    stopColor: "#1A42BD"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.33,
    stopColor: "#173DB8"
  })), /* @__PURE__ */ React23.createElement("linearGradient", {
    id: "paint18_linear_996_115142",
    x1: 37.7266,
    y1: 229.368,
    x2: 61.5026,
    y2: 229.368,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React23.createElement("stop", {
    stopColor: "#FFAA9D"
  }), /* @__PURE__ */ React23.createElement("stop", {
    offset: 0.97,
    stopColor: "#FF9F91"
  })), /* @__PURE__ */ React23.createElement("clipPath", {
    id: "clip0_996_115142"
  }, /* @__PURE__ */ React23.createElement("rect", {
    width: 137.96,
    height: 242,
    fill: "white"
  }))));

  // src/blocks/Raw/Raw.tsx
  var import_react33 = __toESM(require_react(), 1);
  var import_react_ace = __toESM(require_lib3(), 1);
  var import_mode_html = __toESM(require_mode_html(), 1);
  var WarningModal = ({
    isOpen,
    setSaveLocation
  }) => {
    const [checked, setChecked] = (0, import_react33.useState)(false);
    return /* @__PURE__ */ React.createElement(import_react_modal2.default, {
      ariaHideApp: false,
      isOpen,
      onRequestClose: () => setSaveLocation(sessionStorage),
      overlayClassName: "Overlay",
      className: "Modal-htmlWarning"
    }, /* @__PURE__ */ React.createElement("div", {
      className: "BlockRaw__Modal__Content"
    }, /* @__PURE__ */ React.createElement("button", {
      onClick: () => setSaveLocation(sessionStorage),
      className: "BlockRaw__Modal__Content__Close"
    }, /* @__PURE__ */ React.createElement("i", {
      className: "BlockRaw__Modal__Content__Close__Icon fa fa-xmark"
    })), /* @__PURE__ */ React.createElement(SvgHtmlWarning, {
      className: "BlockRaw__Modal__Content__Image"
    }), /* @__PURE__ */ React.createElement("div", {
      className: "BlockRaw__Modal__Content__Infos"
    }, /* @__PURE__ */ React.createElement("p", {
      className: "BlockRaw__Modal__Content__Description"
    }, "Ici un petit message pour informer sur l'utilisation de HTML directement dans le back-office. Ce message apparait en pop-in \xE0 chaque fois que l'utilisateur ajoute un bloc de HTML."), /* @__PURE__ */ React.createElement("div", {
      className: "BlockRaw__Modal__Content__Actions"
    }, /* @__PURE__ */ React.createElement("input", {
      type: "checkbox",
      checked,
      onChange: () => setChecked(!checked),
      name: "display-alert",
      id: "display-alert"
    }), /* @__PURE__ */ React.createElement("label", {
      className: "BlockRaw__Modal__Content__CBLabel",
      htmlFor: "display-alert"
    }, "Ne plus afficher l'alerte")), /* @__PURE__ */ React.createElement("button", {
      onClick: () => {
        if (checked) {
          setSaveLocation(localStorage);
        } else {
          setSaveLocation(sessionStorage);
        }
      },
      className: "BlockRaw__Modal__Content__Accept"
    }, "J'ai compris"))));
  };
  function BlockRawComponent({ data, onUpdate }) {
    const [value, setValue] = (0, import_react33.useState)("");
    const [isOpen, setIsOpen] = (0, import_react33.useState)(false);
    (0, import_react33.useLayoutEffect)(() => {
      if (sessionStorage.getItem("html-alert-status") === "shown") {
        return;
      }
      if (localStorage.getItem("html-alert-status") === "shown") {
        return;
      }
      setIsOpen(true);
    });
    (0, import_react33.useEffect)(() => {
      if (data.value) {
        setValue(data.value);
      }
    }, [data]);
    return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(import_react_ace.default, {
      className: "BlockRaw__Editor",
      placeholder: "Value",
      mode: "html",
      value,
      onChange: (value2) => setValue(value2),
      height: "200px",
      width: "100%",
      fontSize: 14,
      enableBasicAutocompletion: true,
      tabSize: 2,
      showPrintMargin: false,
      highlightActiveLine: false,
      setOptions: {
        useWorker: false
      }
    }), /* @__PURE__ */ React.createElement(WarningModal, {
      isOpen,
      setSaveLocation: (storage) => {
        storage.setItem("html-alert-status", "shown");
        setIsOpen(false);
      }
    }));
  }
  var initialData5 = {
    value: ""
  };
  var moduleType7 = {
    id: "blockRaw"
  };
  var blockRaw = {
    type: moduleType7,
    component: BlockRawComponent,
    initialData: initialData5,
    title: {
      default: "HTML",
      fr_FR: "HTML"
    },
    icon: SvgHtml,
    description: {
      default: "Raw HTML content",
      fr_FR: "Contenu libre HTML"
    }
  };
  var Raw_default = blockRaw;

  // src/blocks/Separator/Separator.tsx
  var import_react34 = __toESM(require_react(), 1);

  // src/blocks/Separator/assets/separator.svg
  var React24 = __toESM(require_react(), 1);
  var SvgSeparator = (props) => /* @__PURE__ */ React24.createElement("svg", {
    width: 19,
    height: 21,
    viewBox: "0 0 19 21",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
    ...props
  }, /* @__PURE__ */ React24.createElement("path", {
    d: "M14.1924 13.45H4.09598C3.57853 13.45 3.06614 13.5519 2.58808 13.7499C2.11001 13.9479 1.67563 14.2382 1.30974 14.6041C0.570782 15.343 0.15564 16.3453 0.15564 17.3903V20.5884C0.189519 20.707 0.261113 20.8114 0.359585 20.8856C0.458057 20.9599 0.578047 21.0001 0.701394 21.0001C0.824741 21.0001 0.94473 20.9599 1.0432 20.8856C1.14167 20.8114 1.21327 20.707 1.24715 20.5884V17.3903C1.24708 17.0187 1.32112 16.6508 1.46495 16.3082C1.60877 15.9656 1.81949 15.6551 2.08477 15.3949C2.35005 15.1347 2.66456 14.93 3.0099 14.7929C3.35524 14.6557 3.72447 14.5888 4.09598 14.596H14.1924C14.9335 14.596 15.6442 14.8904 16.1683 15.4145C16.6923 15.9385 16.9867 16.6492 16.9867 17.3903V20.5884C17.0206 20.707 17.0922 20.8114 17.1906 20.8856C17.2891 20.9599 17.4091 21.0001 17.5324 21.0001C17.6558 21.0001 17.7758 20.9599 17.8743 20.8856C17.9727 20.8114 18.0443 20.707 18.0782 20.5884V17.3903C18.0783 16.3546 17.6707 15.3606 16.9435 14.6232C16.2163 13.8858 15.228 13.4643 14.1924 13.45Z",
    fill: "#333333"
  }), /* @__PURE__ */ React24.createElement("path", {
    d: "M0.723483 11.2237H2.4044C2.52301 11.1898 2.62735 11.1182 2.70163 11.0197C2.77591 10.9213 2.81609 10.8013 2.81609 10.6779C2.81609 10.5546 2.77591 10.4346 2.70163 10.3361C2.62735 10.2377 2.52301 10.1661 2.4044 10.1322H0.723483C0.639013 10.1081 0.550095 10.1039 0.463729 10.1199C0.377364 10.136 0.295908 10.1719 0.225776 10.2248C0.155643 10.2777 0.0987481 10.3462 0.0595699 10.4248C0.0203918 10.5034 0 10.5901 0 10.6779C0 10.7658 0.0203918 10.8524 0.0595699 10.9311C0.0987481 11.0097 0.155643 11.0782 0.225776 11.1311C0.295908 11.184 0.377364 11.2199 0.463729 11.2359C0.550095 11.252 0.639013 11.2478 0.723483 11.2237Z",
    fill: "#333333"
  }), /* @__PURE__ */ React24.createElement("path", {
    d: "M5.77597 10.0885C5.6915 10.0644 5.60259 10.0602 5.51622 10.0762C5.42985 10.0923 5.3484 10.1282 5.27827 10.1811C5.20813 10.234 5.15124 10.3025 5.11206 10.3811C5.07288 10.4597 5.05249 10.5464 5.05249 10.6342C5.05249 10.7221 5.07288 10.8087 5.11206 10.8874C5.15124 10.966 5.20813 11.0345 5.27827 11.0874C5.3484 11.1403 5.42985 11.1762 5.51622 11.1922C5.60259 11.2083 5.6915 11.2041 5.77597 11.18H7.47873C7.59733 11.1461 7.70167 11.0745 7.77595 10.976C7.85023 10.8776 7.89041 10.7576 7.89041 10.6342C7.89041 10.5109 7.85023 10.3909 7.77595 10.2924C7.70167 10.194 7.59733 10.1224 7.47873 10.0885H5.77597Z",
    fill: "#333333"
  }), /* @__PURE__ */ React24.createElement("path", {
    d: "M10.8199 10.0885C10.7354 10.0644 10.6465 10.0602 10.5602 10.0762C10.4738 10.0923 10.3923 10.1282 10.3222 10.1811C10.2521 10.234 10.1952 10.3025 10.156 10.3811C10.1168 10.4597 10.0964 10.5464 10.0964 10.6342C10.0964 10.7221 10.1168 10.8087 10.156 10.8874C10.1952 10.966 10.2521 11.0345 10.3222 11.0874C10.3923 11.1403 10.4738 11.1762 10.5602 11.1922C10.6465 11.2083 10.7354 11.2041 10.8199 11.18H12.5008C12.5853 11.2041 12.6742 11.2083 12.7606 11.1922C12.847 11.1762 12.9284 11.1403 12.9985 11.0874C13.0687 11.0345 13.1256 10.966 13.1648 10.8874C13.2039 10.8087 13.2243 10.7221 13.2243 10.6342C13.2243 10.5464 13.2039 10.4597 13.1648 10.3811C13.1256 10.3025 13.0687 10.234 12.9985 10.1811C12.9284 10.1282 12.847 10.0923 12.7606 10.0762C12.6742 10.0602 12.5853 10.0644 12.5008 10.0885H10.8199Z",
    fill: "#333333"
  }), /* @__PURE__ */ React24.createElement("path", {
    d: "M17.5533 10.0885H15.8724C15.7879 10.0644 15.699 10.0602 15.6127 10.0762C15.5263 10.0923 15.4448 10.1282 15.3747 10.1811C15.3046 10.234 15.2477 10.3025 15.2085 10.3811C15.1693 10.4597 15.1489 10.5464 15.1489 10.6342C15.1489 10.7221 15.1693 10.8087 15.2085 10.8874C15.2477 10.966 15.3046 11.0345 15.3747 11.0874C15.4448 11.1403 15.5263 11.1762 15.6127 11.1922C15.699 11.2083 15.7879 11.2041 15.8724 11.18H17.5533C17.6378 11.2041 17.7267 11.2083 17.8131 11.1922C17.8995 11.1762 17.9809 11.1403 18.051 11.0874C18.1212 11.0345 18.1781 10.966 18.2172 10.8874C18.2564 10.8087 18.2768 10.7221 18.2768 10.6342C18.2768 10.5464 18.2564 10.4597 18.2172 10.3811C18.1781 10.3025 18.1212 10.234 18.051 10.1811C17.9809 10.1282 17.8995 10.0923 17.8131 10.0762C17.7267 10.0602 17.6378 10.0644 17.5533 10.0885Z",
    fill: "#333333"
  }), /* @__PURE__ */ React24.createElement("path", {
    d: "M4.09493 7.86195H14.1914C15.2345 7.85906 16.234 7.44264 16.9706 6.70399C17.7072 5.96535 18.1208 4.96476 18.1208 3.9216V0.723483C18.1449 0.639013 18.1491 0.550095 18.1331 0.463729C18.117 0.377364 18.0811 0.295908 18.0282 0.225776C17.9753 0.155643 17.9068 0.0987481 17.8282 0.0595699C17.7495 0.0203918 17.6629 0 17.5751 0C17.4872 0 17.4006 0.0203918 17.3219 0.0595699C17.2433 0.0987481 17.1748 0.155643 17.1219 0.225776C17.069 0.295908 17.0331 0.377364 17.017 0.463729C17.001 0.550095 17.0052 0.639013 17.0293 0.723483V3.9216C17.0293 4.66369 16.7353 5.37555 16.2115 5.90131C15.6878 6.42707 14.9771 6.72389 14.235 6.72678H4.09493C3.35095 6.72678 2.63744 6.43123 2.11137 5.90516C1.58529 5.37909 1.28975 4.66558 1.28975 3.9216V0.723483C1.25587 0.60488 1.18428 0.500542 1.0858 0.42626C0.987333 0.351979 0.867343 0.311797 0.743996 0.311797C0.620649 0.311797 0.500659 0.351979 0.402188 0.42626C0.303716 0.500542 0.232122 0.60488 0.198242 0.723483V3.9216C0.198179 4.95912 0.607322 5.95481 1.33686 6.69252C2.0664 7.43024 3.05747 7.85045 4.09493 7.86195Z",
    fill: "#333333"
  }));

  // src/blocks/Separator/Separator.tsx
  var types2 = [
    { label: "Espace", value: "space" },
    { label: "Bordure", value: "hr" }
  ];
  var initialData6 = {
    type: "space",
    size: 1
  };
  var BlockSeparatorComponent = ({
    data,
    onUpdate
  }) => {
    const [type, setType] = (0, import_react34.useState)(initialData6.type);
    const [size, setSize] = (0, import_react34.useState)(initialData6.size);
    (0, import_react34.useEffect)(() => {
      if (data.type) {
        setType(data.type);
      }
      if (data.size) {
        setSize(data.size);
      }
    }, [data]);
    const onChangeType = (e2) => {
      setType(e2.target.value);
      onUpdate({ ...data, type: e2.target.value });
    };
    const onChangeSize = (e2) => {
      setSize(+e2.target.value);
    };
    const onBlurSize = (e2) => {
      if (e2.target.value) {
        onUpdate({ ...data, size: +e2.target.value });
      }
    };
    return /* @__PURE__ */ React.createElement("div", {
      className: "BlockSeparator",
      "data-type": type
    }, /* @__PURE__ */ React.createElement("div", {
      className: "BlockSeparator__Config"
    }, /* @__PURE__ */ React.createElement(Select_default, {
      id: "BlockSeparator-field-type",
      onChange: onChangeType,
      value: type.toString(),
      label: "Style du s\xE9parateur"
    }, types2.map(({ label, value }) => /* @__PURE__ */ React.createElement("option", {
      key: value,
      value
    }, label))), /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("label", {
      htmlFor: "separator-size"
    }, "Taille du s\xE9parateur"), /* @__PURE__ */ React.createElement("input", {
      type: "number",
      name: "separator-size",
      id: "separator-size",
      className: "Input__Number",
      value: size.toString(),
      onChange: onChangeSize,
      onBlur: onBlurSize
    }))), /* @__PURE__ */ React.createElement("div", {
      className: "BlockSeparator__Preview"
    }, type === "hr" ? /* @__PURE__ */ React.createElement("div", {
      className: "BlockSeparator__Preview--element"
    }) : null));
  };
  var moduleType8 = {
    id: "blockSeparator"
  };
  var BlockSeparator = {
    type: moduleType8,
    component: BlockSeparatorComponent,
    initialData: initialData6,
    title: {
      default: "Separator",
      fr_FR: "S\xE9parateur"
    },
    icon: SvgSeparator,
    description: {
      default: "Display a separator",
      fr_FR: "Affiche un s\xE9parateur"
    },
    image: {
      default: "https://source.unsplash.com/featured/300x250?nature&blockSeparator"
    }
  };
  var Separator_default = BlockSeparator;

  // src/blocks/Title/Title.tsx
  var import_react35 = __toESM(require_react(), 1);

  // src/blocks/Title/assets/title.svg
  var React25 = __toESM(require_react(), 1);
  var SvgTitle = (props) => /* @__PURE__ */ React25.createElement("svg", {
    width: 24,
    height: 24,
    viewBox: "0 0 24 24",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
    ...props
  }, /* @__PURE__ */ React25.createElement("path", {
    d: "M11.9 0C9.54598 8.31164e-07 7.24484 0.698177 5.28768 2.00621C3.33052 3.31424 1.80527 5.17336 0.904881 7.34838C0.004493 9.5234 -0.230582 11.9166 0.229393 14.2253C0.689368 16.5339 1.82373 18.6543 3.48897 20.3181C5.15422 21.982 7.27553 23.1145 9.58456 23.5726C11.8936 24.0306 14.2866 23.7935 16.4609 22.8913C18.6351 21.9891 20.493 20.4623 21.7994 18.504C23.1057 16.5457 23.802 14.244 23.8 11.89C23.7947 8.73647 22.5389 5.71376 20.3081 3.48481C18.0773 1.25587 15.0535 0.00264336 11.9 0V0ZM11.9 22.54C9.79363 22.54 7.73456 21.9154 5.98318 20.7452C4.23179 19.5749 2.86676 17.9116 2.06068 15.9656C1.25461 14.0195 1.04371 11.8782 1.45464 9.81229C1.86557 7.74639 2.87988 5.84874 4.36931 4.35931C5.85874 2.86988 7.75639 1.85557 9.82229 1.44464C11.8882 1.0337 14.0295 1.24461 15.9756 2.05068C17.9216 2.85676 19.5849 4.22179 20.7552 5.97318C21.9254 7.72456 22.55 9.78363 22.55 11.89C22.5474 14.7137 21.4245 17.4211 19.4278 19.4178C17.4311 21.4145 14.7237 22.5374 11.9 22.54Z",
    fill: "#333333"
  }), /* @__PURE__ */ React25.createElement("path", {
    d: "M16.4507 6.87996H7.5707C7.48103 6.87861 7.392 6.89528 7.30889 6.92897C7.22578 6.96267 7.15028 7.01271 7.08686 7.07612C7.02345 7.13954 6.97341 7.21504 6.93972 7.29815C6.90602 7.38126 6.88935 7.47029 6.8907 7.55996V9.21996C6.8907 9.40031 6.96234 9.57327 7.08987 9.70079C7.21739 9.82832 7.39035 9.89996 7.5707 9.89996C7.75105 9.89996 7.92401 9.82832 8.05153 9.70079C8.17906 9.57327 8.2507 9.40031 8.2507 9.21996V8.21996H11.3307V15.74H10.3307C10.1504 15.74 9.97739 15.8116 9.84987 15.9391C9.72234 16.0666 9.6507 16.2396 9.6507 16.42C9.6507 16.6003 9.72234 16.7733 9.84987 16.9008C9.97739 17.0283 10.1504 17.1 10.3307 17.1H13.6707C13.851 17.1 14.024 17.0283 14.1515 16.9008C14.2791 16.7733 14.3507 16.6003 14.3507 16.42C14.3507 16.2396 14.2791 16.0666 14.1515 15.9391C14.024 15.8116 13.851 15.74 13.6707 15.74H12.6707V8.23996H15.7507V9.23996C15.7507 9.42031 15.8223 9.59327 15.9499 9.72079C16.0774 9.84832 16.2504 9.91996 16.4307 9.91996C16.611 9.91996 16.784 9.84832 16.9115 9.72079C17.0391 9.59327 17.1107 9.42031 17.1107 9.23996V7.55996C17.112 7.47197 17.096 7.38458 17.0635 7.30279C17.0311 7.22099 16.9828 7.14639 16.9216 7.08325C16.8603 7.0201 16.7871 6.96965 16.7063 6.93477C16.6256 6.89989 16.5387 6.88126 16.4507 6.87996Z",
    fill: "#333333"
  }));

  // src/blocks/Title/Title.tsx
  var levels = [
    {
      label: "Neutre",
      value: 0
    },
    {
      label: "Niveau 1",
      value: 1
    },
    {
      label: "Niveau 2",
      value: 2
    },
    {
      label: "Niveau 3",
      value: 3
    },
    {
      label: "Niveau 4",
      value: 4
    },
    {
      label: "Niveau 5",
      value: 5
    },
    {
      label: "Niveau 6",
      value: 6
    }
  ];
  var BlockTitleComponent = ({
    data,
    onUpdate
  }) => {
    const [level, setLevel] = (0, import_react35.useState)(initialData7.level);
    const [text, setText] = (0, import_react35.useState)(initialData7.text);
    (0, import_react35.useEffect)(() => {
      if (data.level) {
        setLevel(data.level);
      }
      if (data.text) {
        setText(data.text);
      }
    }, [data]);
    const onChangeLevel = (e2) => {
      setLevel(parseInt(e2.target.value, 10));
      onUpdate({ ...data, level: parseInt(e2.target.value, 10) });
    };
    const onChangeText = (e2) => {
      setText(e2.target.value);
    };
    const onBlurText = (e2) => {
      if (e2.target.value) {
        onUpdate({ ...data, text: e2.target.value });
      }
    };
    return /* @__PURE__ */ React.createElement("div", {
      className: "BlockTitle"
    }, /* @__PURE__ */ React.createElement(Select_default, {
      id: "BlockTitle-field-level",
      onChange: onChangeLevel,
      value: level.toString(),
      label: "Niveau du titre"
    }, levels.map(({ label, value }) => /* @__PURE__ */ React.createElement("option", {
      key: value,
      value
    }, label))), /* @__PURE__ */ React.createElement(Text_default, {
      type: "text",
      id: "BlockTitle-field-text",
      value: text,
      onChange: onChangeText,
      onBlur: onBlurText,
      placeholder: "Votre titre ici"
    }));
  };
  var initialData7 = {
    level: 0,
    text: ""
  };
  var moduleType9 = {
    id: "blockTitle"
  };
  var BlockTitle = {
    type: moduleType9,
    component: BlockTitleComponent,
    initialData: initialData7,
    title: {
      default: "Title",
      fr_FR: "Titre"
    },
    icon: SvgTitle,
    description: {
      default: "Display a title",
      fr_FR: "Affiche un titre"
    },
    image: {
      default: "https://source.unsplash.com/featured/300x250?nature&blockTitle"
    }
  };
  var Title_default = BlockTitle;

  // src/blocks/Video/assets/video.svg
  var React26 = __toESM(require_react(), 1);
  var SvgVideo = (props) => /* @__PURE__ */ React26.createElement("svg", {
    width: 21,
    height: 24,
    viewBox: "0 0 21 24",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
    ...props
  }, /* @__PURE__ */ React26.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M19.9551 9.80845H5.13784L19.3717 5.67813C19.4267 5.66411 19.4782 5.63875 19.5229 5.60366C19.5675 5.56858 19.6044 5.52455 19.631 5.47439C19.6724 5.36712 19.6724 5.24828 19.631 5.141L18.8809 2.5665C18.7349 2.07042 18.4342 1.63396 18.0228 1.32077C17.6113 1.00758 17.1105 0.834041 16.5935 0.825469C16.3679 0.824339 16.1434 0.855525 15.9267 0.918077L2.56334 4.78909C1.95422 4.97756 1.44329 5.39737 1.14027 5.95838C0.837258 6.51939 0.766322 7.17686 0.9427 7.78959L1.6743 10.2993V20.6528C1.6743 21.2939 1.92896 21.9087 2.38225 22.362C2.60669 22.5864 2.87315 22.7645 3.1664 22.8859C3.45965 23.0074 3.77396 23.0699 4.09137 23.0699H17.9826C18.622 23.0675 19.2344 22.8117 19.6857 22.3587C20.137 21.9057 20.3904 21.2923 20.3904 20.6528V10.2344C20.388 10.1206 20.341 10.0123 20.2597 9.93264C20.1783 9.853 20.069 9.80842 19.9551 9.80845ZM16.5379 10.6697L14.6857 13.8739H12.2964L14.1486 10.6697H16.5379ZM13.1392 10.6697L11.287 13.8739H8.88847L10.7406 10.6697H13.1392ZM9.7312 10.6697L7.87904 13.8739H5.48975L7.34191 10.6697H9.7312ZM6.33249 10.6697L4.48033 13.8739H2.50778V10.6697H6.33249ZM16.1675 1.75155C16.3065 1.71493 16.4497 1.69626 16.5935 1.69598C16.9289 1.69448 17.2557 1.80206 17.5246 2.00251C17.7936 2.20296 17.99 2.48542 18.0844 2.80728L18.7142 4.96505L16.9731 5.47439L16.9083 5.40031L13.8245 2.43685L16.1675 1.75155ZM12.8706 2.67763C12.8835 2.70347 12.9026 2.72574 12.9262 2.74245L16.0193 5.70591L13.6948 6.38195C13.6848 6.35428 13.6651 6.33122 13.6393 6.31712L10.5554 3.38145L12.8706 2.67763ZM9.59229 3.60371L9.65711 3.66853L12.741 6.64125L10.4258 7.30803C10.4128 7.28219 10.3938 7.25992 10.3702 7.24321L7.27709 4.32605L9.59229 3.60371ZM6.32323 4.52979C6.33987 4.55585 6.36199 4.57797 6.38805 4.59462L9.4719 7.56733L7.1567 8.23411L7.10113 8.16928L4.00802 5.27991L6.32323 4.52979ZM1.74839 7.54881C1.68721 7.35492 1.66633 7.15057 1.68703 6.94831C1.70773 6.74605 1.76958 6.55016 1.86878 6.37269C1.96627 6.19293 2.09824 6.03415 2.25715 5.90544C2.41605 5.77673 2.59877 5.6806 2.79486 5.62256L3.0449 5.54848L3.10047 5.62256L6.19357 8.58602L2.3596 9.69732L1.74839 7.54881ZM19.5199 20.6528C19.5199 21.063 19.3569 21.4564 19.0669 21.7464C18.7769 22.0365 18.3835 22.1994 17.9733 22.1994H4.08211C3.67194 22.1994 3.27857 22.0365 2.98853 21.7464C2.6985 21.4564 2.53556 21.063 2.53556 20.6528V14.7352H19.5199V20.6528ZM19.5199 13.8739H15.7044L17.5566 10.6697H19.5291L19.5199 13.8739Z",
    fill: "#444444"
  }), /* @__PURE__ */ React26.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M13.7958 18.051L9.98032 15.8469C9.91519 15.8058 9.83973 15.7839 9.76269 15.7839C9.68565 15.7839 9.61019 15.8058 9.54506 15.8469C9.4807 15.8851 9.42729 15.9393 9.38998 16.0042C9.35267 16.0691 9.33272 16.1425 9.33207 16.2174V20.6255C9.33111 20.7019 9.35029 20.7772 9.38768 20.8439C9.42507 20.9105 9.47935 20.9662 9.54506 21.0052C9.61373 21.041 9.68989 21.06 9.76732 21.0608C9.84196 21.0612 9.91542 21.0421 9.98032 21.0052L13.7958 18.8011C13.8635 18.7646 13.9201 18.7105 13.9595 18.6445C13.999 18.5785 14.0198 18.503 14.0198 18.4261C14.0198 18.3491 13.999 18.2737 13.9595 18.2076C13.9201 18.1416 13.8635 18.0875 13.7958 18.051ZM10.2026 19.8754V17.0045L12.7123 18.4492L10.2026 19.8754Z",
    fill: "#444444"
  }));

  // src/utils/youtube.ts
  var getYouTubeID = (url) => url.match(/^((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube(-nocookie)?\.com|youtu.be))(\/(?:[\w\-]+\?v=|embed\/|v\/)?)([\w\-]+)(\S+)?$/)?.[6];

  // src/blocks/Video/Video.tsx
  var import_react36 = __toESM(require_react(), 1);
  var YouTubeFrame = ({
    url,
    className,
    ...props
  }) => /* @__PURE__ */ React.createElement("iframe", {
    ...props,
    className: `${className}`,
    src: `https://www.youtube.com/embed/${url}`,
    allow: "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",
    allowFullScreen: true
  });
  var BlockVideoComponent = ({ data, onUpdate }) => {
    const [url, setUrl] = (0, import_react36.useState)("");
    const [isUrlValid, setIsUrlValid] = (0, import_react36.useState)(false);
    (0, import_react36.useEffect)(() => {
      if (data.url) {
        setUrl(data.url);
      }
    }, [data]);
    (0, import_react36.useEffect)(() => {
      if (getYouTubeID(url)?.trim().length === 11) {
        setIsUrlValid(true);
      } else {
        setIsUrlValid(false);
      }
    }, [url]);
    return /* @__PURE__ */ React.createElement("div", {
      className: "BlockVideo"
    }, url.length > 0 && isUrlValid ? /* @__PURE__ */ React.createElement(YouTubeFrame, {
      url: getYouTubeID(url)?.trim(),
      className: "BlockVideo__Frame",
      style: { aspectRatio: "16/9" }
    }) : null, /* @__PURE__ */ React.createElement("div", {
      className: "BlockVideo__Content"
    }, /* @__PURE__ */ React.createElement("div", {
      className: "BlockVideo__Content__Title"
    }, "Ajouter une vid\xE9o depuis YouTube"), /* @__PURE__ */ React.createElement("div", {
      className: "BlockVideo__Content__Search"
    }, /* @__PURE__ */ React.createElement(Text_default, {
      id: "BlockVideo-field-url",
      type: "text",
      placeholder: "URL de la vid\xE9o",
      className: `${url.length > 2 && isUrlValid && "border-greenDark bg-greenLight"}`,
      onChange: (e2) => setUrl(e2.target.value),
      onBlur: (e2) => onUpdate({ ...data, url: e2.target.value }),
      value: url,
      icon: /* @__PURE__ */ React.createElement("i", {
        className: "fa fa-link"
      }),
      iconAlignment: "left",
      isValid: isUrlValid,
      label: "URL de la vid\xE9o"
    }))));
  };
  var initialData8 = {
    url: ""
  };
  var moduleType10 = {
    id: "blockVideo"
  };
  var blockVideo = {
    type: moduleType10,
    component: BlockVideoComponent,
    initialData: initialData8,
    title: {
      default: "Video",
      fr_FR: "Vid\xE9o"
    },
    icon: SvgVideo,
    description: {
      default: "Display a YouTube video",
      fr_FR: "Affiche une vid\xE9o YouTube"
    },
    image: {
      default: ""
    }
  };
  var Video_default = blockVideo;

  // src/blocks/index.ts
  var Columns = {
    TwoColumns,
    ThreeColumns,
    FourColumns,
    FiveColumns,
    SixColumns
  };

  // src/hooks/usePlugins.tsx
  var import_react37 = __toESM(require_react(), 1);
  var TB_DEFAULT_PLUGINS = [
    { id: nanoid(), ...Title_default },
    { id: nanoid(), ...Text_default2 },
    { id: nanoid(), ...Button_default },
    { id: nanoid(), ...Video_default },
    { id: nanoid(), ...Separator_default },
    { id: nanoid(), ...Accordion_default },
    { id: nanoid(), ...Product_default },
    { id: nanoid(), ...Raw_default },
    { id: nanoid(), ...List_default },
    ...Object.values(Columns).map((colType) => ({ id: nanoid(), ...colType }))
  ];
  window.eventTBPlugins = new CustomEvent("update-tb-plugins");
  function registerPlugin(plugin) {
    if (!window.TB__PLUGINS)
      window.TB__PLUGINS = [];
    window.TB__PLUGINS.push({ ...plugin, id: nanoid() });
    document.dispatchEvent(window.eventTBPlugins);
  }
  function usePlugins() {
    const [plugins, setPlugins] = (0, import_react37.useState)([
      ...TB_DEFAULT_PLUGINS,
      ...window.TB__PLUGINS || []
    ]);
    (0, import_react37.useEffect)(() => {
      const fn4 = () => {
        setPlugins([...TB_DEFAULT_PLUGINS, ...window.TB__PLUGINS]);
      };
      document.addEventListener("update-tb-plugins", fn4);
      () => {
        document.removeEventListener("update-tb-plugins", fn4);
      };
    }, []);
    return plugins;
  }

  // src/components/AddBlocks/AddBlocks.tsx
  var import_react39 = __toESM(require_react(), 1);
  var AddButton = ({
    plugin,
    setIsOpen,
    style: style2
  }) => {
    const { addBlock } = useBlocksContext();
    const Icon = plugin?.icon;
    return /* @__PURE__ */ React.createElement(tippy_react_esm_default, {
      content: /* @__PURE__ */ React.createElement(BlockTooltip_default, {
        title: plugin.title.fr_FR,
        description: plugin?.description?.fr_FR
      }),
      delay: [500, 0]
    }, /* @__PURE__ */ React.createElement("button", {
      style: style2,
      className: "AddBlocks__Modal__Add",
      onClick: () => {
        addBlock({
          id: nanoid(),
          data: plugin.initialData,
          parent: null,
          type: { id: plugin.type.id }
        });
        setIsOpen(false);
      },
      key: plugin.id
    }, plugin?.customIcon ? plugin?.customIcon : /* @__PURE__ */ React.createElement(Icon, null), plugin.title.fr_FR));
  };
  var AddBlockModal = ({
    children,
    title,
    isOpen,
    setIsOpen
  }) => {
    return /* @__PURE__ */ React.createElement(import_react_modal3.default, {
      isOpen,
      onRequestClose: () => setIsOpen(false),
      overlayClassName: "Overlay",
      className: "Modal-TheliaBlocks"
    }, /* @__PURE__ */ React.createElement("div", {
      className: "AddBlocks__Modal"
    }, /* @__PURE__ */ React.createElement("button", {
      onClick: () => setIsOpen(false),
      className: "AddBlocks__Modal__Close"
    }, /* @__PURE__ */ React.createElement("i", {
      className: "AddBlocks__Modal__Close__Icon fa fa-xmark"
    })), /* @__PURE__ */ React.createElement("div", {
      className: "AddBlocks__Modal__Content"
    }, /* @__PURE__ */ React.createElement("div", {
      className: "AddBlocks__Modal__Title"
    }, title), /* @__PURE__ */ React.createElement("div", {
      className: "AddBlocks__Modal__BlocksList__Wrapper"
    }, children))));
  };
  var ModalContent = ({
    excludeLayout,
    setIsOpen
  }) => {
    const [subModalOpen, setSubModalOpen] = (0, import_react39.useState)(false);
    const { width } = useWindowSize_default();
    const plugins = usePlugins();
    let availablePLugins = plugins;
    if (excludeLayout) {
      availablePLugins = plugins.filter((plugin) => !excludeLayout.includes(plugin.layout));
    }
    const [commonBlocks, layoutPlugins] = (0, import_partition.default)(availablePLugins, (i3) => !i3.layout);
    const layoutPluginsByType = (0, import_groupBy.default)(layoutPlugins, "layout");
    return /* @__PURE__ */ React.createElement("ol", {
      className: "AddBlocks__Modal__BlocksList"
    }, commonBlocks.map((plugin, index2) => {
      return /* @__PURE__ */ React.createElement(AddButton, {
        key: index2,
        plugin,
        setIsOpen
      });
    }), Object.entries(layoutPluginsByType).map(([layoutType, layoutPluginsByType2], index2) => {
      const LayoutIcon = layoutPluginsByType2[index2].icon;
      return /* @__PURE__ */ React.createElement(React.Fragment, null, layoutPluginsByType2.length === 1 ? /* @__PURE__ */ React.createElement(AddButton, {
        plugin: layoutPluginsByType2[index2],
        setIsOpen
      }) : /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement("button", {
        onClick: () => setSubModalOpen(true),
        className: "AddBlocks__Modal__Add"
      }, /* @__PURE__ */ React.createElement(LayoutIcon, null), layoutType), /* @__PURE__ */ React.createElement(AddBlockModal, {
        title: "Choisissez le nombre de colonnes",
        isOpen: subModalOpen,
        setIsOpen: setSubModalOpen
      }, /* @__PURE__ */ React.createElement("ol", {
        className: "AddBlocks__Modal__LayoutBlocksList"
      }, layoutPluginsByType2.map((plugin, index3) => /* @__PURE__ */ React.createElement(AddButton, {
        style: { flex: width > 768 ? "0 0 32%" : "0 0 100%" },
        key: index3,
        plugin,
        setIsOpen
      }))))));
    }));
  };
  var AddBlocks = ({ excludeLayout }) => {
    const [isOpen, setIsOpen] = (0, import_react39.useState)(false);
    return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement("div", {
      className: "AddBlocks"
    }, /* @__PURE__ */ React.createElement("div", {
      className: "AddBlocks__Icon"
    }, /* @__PURE__ */ React.createElement(SvgDrag, null)), /* @__PURE__ */ React.createElement("span", {
      className: "AddBlocks__Info"
    }, "Glissez-d\xE9posez le type de contenu souhait\xE9 depuis le menu de droite"), /* @__PURE__ */ React.createElement("button", {
      className: "AddBlocks__Button",
      onClick: () => setIsOpen(true)
    }, "Ajouter du contenu")), /* @__PURE__ */ React.createElement(AddBlockModal, {
      title: "Choisissez le contenu souhait\xE9",
      isOpen,
      setIsOpen
    }, /* @__PURE__ */ React.createElement(ModalContent, {
      excludeLayout,
      setIsOpen
    })));
  };
  var AddBlocks_default = AddBlocks;

  // assets/svg/empty-tb.svg
  var React27 = __toESM(require_react(), 1);
  var SvgEmptyTb = (props) => /* @__PURE__ */ React27.createElement("svg", {
    width: 238,
    height: 242,
    viewBox: "0 0 238 242",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
    ...props
  }, /* @__PURE__ */ React27.createElement("g", {
    clipPath: "url(#clip0_996_115666)"
  }, /* @__PURE__ */ React27.createElement("path", {
    d: "M146.265 0H31.3005C24.5352 0 19.0508 5.48441 19.0508 12.2498V87.985C19.0508 94.7504 24.5352 100.235 31.3005 100.235H146.265C153.03 100.235 158.514 94.7504 158.514 87.985V12.2498C158.514 5.48441 153.03 0 146.265 0Z",
    fill: "#EAEAEA"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M210.424 201.105L237.961 177.006L128.578 52.0139L101.04 76.1127L210.424 201.105Z",
    fill: "url(#paint0_linear_996_115666)"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M211.649 188.45C211.337 188.45 211.029 188.441 210.717 188.419C207.054 188.177 203.703 186.521 201.285 183.755C198.866 180.99 197.669 177.453 197.912 173.786C198.155 170.123 199.815 166.772 202.576 164.353C205.342 161.935 208.879 160.738 212.546 160.981C216.209 161.224 219.559 162.88 221.978 165.645C226.972 171.35 226.391 180.054 220.687 185.047C218.159 187.258 214.978 188.45 211.649 188.45ZM211.61 161.956C208.523 161.956 205.58 163.062 203.239 165.112C200.678 167.353 199.143 170.457 198.918 173.855C198.692 177.249 199.802 180.53 202.043 183.092C204.284 185.654 207.388 187.188 210.786 187.414C214.18 187.639 217.462 186.53 220.023 184.289C225.312 179.663 225.845 171.597 221.22 166.313C218.979 163.751 215.875 162.216 212.477 161.991C212.186 161.974 211.9 161.961 211.614 161.961L211.61 161.956Z",
    fill: "white"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M176.783 67.7805C178.262 58.6663 172.073 50.0784 162.959 48.599C153.844 47.1195 145.256 53.3087 143.777 62.423C142.297 71.5372 148.487 80.1251 157.601 81.6046C166.715 83.084 175.303 76.8948 176.783 67.7805Z",
    fill: "#14336A"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M158.826 81.9421C156.915 81.643 153.17 67.2953 153.17 67.2953C148.896 64.4517 150.352 58.2965 151.375 55.3273C151.574 54.7507 150.92 54.2566 150.417 54.599C149.203 55.4183 147.565 56.7794 146.46 58.6996C146.173 59.1981 143.646 63.6975 143.646 63.6975L141.912 63.2077C140.989 62.9476 140.135 63.7798 140.365 64.7075L140.863 66.6927C138.904 72.9433 136.511 76.7665 146.382 79.8268C147.439 80.1562 146.382 85.4705 146.121 86.5455L147.513 90.9625L166.343 92.0549L158.822 81.9378L158.826 81.9421Z",
    fill: "url(#paint1_linear_996_115666)"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M151.536 70.1605C152.441 71.3048 154.401 71.3872 155.914 70.3468C157.426 69.3065 157.921 67.538 157.015 66.398C156.109 65.2536 154.149 65.1713 152.637 66.2116C151.124 67.2519 150.63 69.0204 151.536 70.1605Z",
    fill: "url(#paint2_linear_996_115666)"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M142.056 84.2616C142.056 91.8386 148.198 97.9852 155.779 97.9852C163.361 97.9852 169.503 91.843 169.503 84.2616C169.503 76.6803 163.361 70.5381 155.779 70.5381C148.198 70.5381 142.056 76.6803 142.056 84.2616Z",
    fill: "#14336A"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M159.628 242L152.147 195.086C148.575 201.276 144.362 209.139 139.494 219.884C137.743 223.751 133.668 232.377 129.091 242H92.064L134.938 144.054L166.126 148.276L175.181 144.054C194.275 169.828 183.837 170.239 190.972 218.926C191.566 222.975 192.728 231.9 194.02 242H159.633H159.628Z",
    fill: "url(#paint3_linear_996_115666)"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M152.147 195.086C148.575 201.276 144.362 209.139 139.494 219.884C137.743 223.751 133.668 232.377 129.091 242H92.064L134.938 144.054L166.126 148.276L175.181 144.054C181.644 152.779 180.682 164.817 175.797 171.132C171.514 176.672 163.894 176.629 159.901 182.073C155.684 187.825 152.147 195.086 152.147 195.086Z",
    fill: "url(#paint4_linear_996_115666)"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M180.101 20.0086C180.101 22.0849 181.787 23.7711 183.864 23.7711C185.94 23.7711 187.626 22.0849 187.626 20.0086C187.626 17.9323 185.94 16.2461 183.864 16.2461C181.787 16.2461 180.101 17.9323 180.101 20.0086Z",
    fill: "#EAEAEA"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M92.0596 175.992C92.0596 178.068 93.7458 179.754 95.8221 179.754C97.8984 179.754 99.5845 178.068 99.5845 175.992C99.5845 173.916 97.8984 172.229 95.8221 172.229C93.7458 172.229 92.0596 173.916 92.0596 175.992Z",
    fill: "#EAEAEA"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M0 51.0496C0 53.1259 1.68618 54.8121 3.76249 54.8121C5.83879 54.8121 7.52498 53.1259 7.52498 51.0496C7.52498 48.9733 5.83879 47.2871 3.76249 47.2871C1.68618 47.2871 0 48.9733 0 51.0496Z",
    fill: "#EAEAEA"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M17.3904 141.73H40.3208V118.8H17.3904L17.3904 141.73Z",
    fill: "#EAEAEA"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M40.321 118.804H17.3906V141.734H40.321V118.804Z",
    fill: "#EAEAEA"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M114.977 77.1743C113.204 72.1418 109.888 73.2168 109.064 75.2367C108.462 76.7192 110.443 81.3269 111.253 83.88C111.483 84.6039 110.712 85.2411 110.044 84.8727C108.895 84.2398 107.378 83.2732 106.737 82.2805L102.593 77.9155C102.385 81.2879 101.761 86.3595 103.971 89.1683C102.441 91.405 104.682 94.2269 106.043 95.8654C109.012 99.4502 111.895 102.48 111.895 102.48L121.683 97.1181C121.683 97.1181 123.846 91.8905 122.324 88.0803C120.803 84.2702 116.745 82.1982 114.973 77.17L114.977 77.1743Z",
    fill: "url(#paint5_linear_996_115666)"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M102.354 130.422C103.642 110.495 104.24 100.508 104.24 100.508L122.805 94.8775L123.269 97.7557C123.269 97.7557 125.887 95.48 126.702 94.6607C131.891 89.4505 139.611 86.4856 157.747 86.9754C162.541 87.1054 166.412 87.2311 171.089 88.2671C180.166 90.2741 183.668 91.6915 203.248 108.181C209.113 113.118 219.187 126.104 212.68 133.842C209.36 137.791 206.23 140.756 206.23 140.756L197.379 130.643L183.85 123.148V153.538H127.816L128.332 149.789C128.332 149.789 123.828 152.06 118.583 152.529C107.274 153.538 101.574 142.346 102.341 130.413L102.354 130.422Z",
    fill: "url(#paint6_linear_996_115666)"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M157.747 86.9751C139.611 86.4853 131.886 89.4458 126.702 94.6604C125.887 95.4797 123.269 97.7554 123.269 97.7554L122.805 94.8772L104.235 100.508C104.235 100.508 103.637 110.495 102.35 130.421C101.578 142.35 107.283 153.547 118.592 152.537C123.837 152.069 128.341 149.797 128.341 149.797C128.341 149.797 155.372 114.327 169.19 97.4606C183.009 80.5945 157.751 86.9794 157.751 86.9794L157.747 86.9751Z",
    fill: "url(#paint7_linear_996_115666)"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M161.926 72.8568L176.352 69.7012C176.352 69.7012 172.026 79.2071 177.5 85.0155C184.999 92.974 188.229 105.861 177.747 113.122C173.031 116.39 165.324 117.066 160.14 114.53C152.091 110.594 151.453 100.872 150.612 93.039C149.941 86.7537 142.381 87.2392 142.381 87.2392L161.922 72.8525L161.926 72.8568Z",
    fill: "#14336A"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M68.5096 17.8115H34.2614C31.4748 17.8115 29.2158 20.0705 29.2158 22.8571V47.6774C29.2158 50.4639 31.4748 52.7229 34.2614 52.7229H68.5096C71.2961 52.7229 73.5551 50.4639 73.5551 47.6774V22.8571C73.5551 20.0705 71.2961 17.8115 68.5096 17.8115Z",
    fill: "#CED4DD"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M73.555 47.6772V36.5718C73.555 36.5718 66.793 45.7439 51.3832 36.6758C35.9778 27.6077 29.2114 36.342 29.2114 36.6758V47.6772C29.2114 50.4514 31.4828 52.7227 34.257 52.7227H68.5052C71.2793 52.7227 73.5507 50.4514 73.5507 47.6772H73.555Z",
    fill: "white"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M67.7029 26.298C67.7029 28.2269 66.1381 29.7874 64.2135 29.7874C62.2889 29.7874 60.7241 28.2226 60.7241 26.298C60.7241 24.3734 62.2889 22.8086 64.2135 22.8086C66.1381 22.8086 67.7029 24.3734 67.7029 26.298Z",
    fill: "white"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M50.3256 62.5495H33.0824C32.8049 62.5495 32.5752 62.3241 32.5752 62.0423C32.5752 61.7606 32.8006 61.5352 33.0824 61.5352H50.3256C50.6031 61.5352 50.8328 61.7606 50.8328 62.0423C50.8328 62.3241 50.6074 62.5495 50.3256 62.5495Z",
    fill: "#CED4DD"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M50.3256 67.9372H33.0824C32.8049 67.9372 32.5752 67.7118 32.5752 67.43C32.5752 67.1483 32.8006 66.9229 33.0824 66.9229H50.3256C50.6031 66.9229 50.8328 67.1483 50.8328 67.43C50.8328 67.7118 50.6074 67.9372 50.3256 67.9372Z",
    fill: "#CED4DD"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M50.3256 76.7458H33.0824C32.8049 76.7458 32.5752 76.5204 32.5752 76.2386C32.5752 75.9568 32.8006 75.7314 33.0824 75.7314H50.3256C50.6031 75.7314 50.8328 75.9568 50.8328 76.2386C50.8328 76.5204 50.6074 76.7458 50.3256 76.7458Z",
    fill: "#CED4DD"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M50.3256 82.1335H33.0824C32.8049 82.1335 32.5752 81.908 32.5752 81.6263C32.5752 81.3445 32.8006 81.1191 33.0824 81.1191H50.3256C50.6031 81.1191 50.8328 81.3445 50.8328 81.6263C50.8328 81.908 50.6074 82.1335 50.3256 82.1335Z",
    fill: "#CED4DD"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M98.6092 60.6417C98.3318 60.6417 98.1021 60.4163 98.1021 60.1345V17.8109C98.1021 17.5334 98.3275 17.3037 98.6092 17.3037C98.891 17.3037 99.1164 17.5291 99.1164 17.8109V60.1389C99.1164 60.4163 98.891 60.646 98.6092 60.646V60.6417Z",
    fill: "#CED4DD"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M143.2 10.0779C143.07 10.0779 142.94 10.0303 142.844 9.93056C142.645 9.73117 142.645 9.41474 142.844 9.21534L148.345 3.71465C148.544 3.51959 148.861 3.51959 149.06 3.71465C149.26 3.91405 149.26 4.23048 149.06 4.42987L143.56 9.93056C143.46 10.0303 143.33 10.0779 143.204 10.0779H143.2Z",
    fill: "#CED4DD"
  }), /* @__PURE__ */ React27.createElement("path", {
    d: "M148.7 10.0779C148.57 10.0779 148.44 10.0303 148.345 9.93056L142.844 4.42987C142.645 4.23048 142.645 3.91405 142.844 3.71465C143.044 3.51959 143.36 3.51959 143.56 3.71465L149.06 9.21534C149.26 9.41474 149.26 9.73117 149.06 9.93056C148.961 10.0303 148.831 10.0779 148.705 10.0779H148.7Z",
    fill: "#CED4DD"
  })), /* @__PURE__ */ React27.createElement("defs", null, /* @__PURE__ */ React27.createElement("linearGradient", {
    id: "paint0_linear_996_115666",
    x1: 101.045,
    y1: 126.557,
    x2: 237.969,
    y2: 126.557,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React27.createElement("stop", {
    stopColor: "#58CFAA"
  }), /* @__PURE__ */ React27.createElement("stop", {
    offset: 0.97,
    stopColor: "#45A184"
  })), /* @__PURE__ */ React27.createElement("linearGradient", {
    id: "paint1_linear_996_115666",
    x1: 139.104,
    y1: 73.2728,
    x2: 166.347,
    y2: 73.2728,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React27.createElement("stop", {
    stopColor: "#FFAA9D"
  }), /* @__PURE__ */ React27.createElement("stop", {
    offset: 0.97,
    stopColor: "#FF9F91"
  })), /* @__PURE__ */ React27.createElement("linearGradient", {
    id: "paint2_linear_996_115666",
    x1: 151.08,
    y1: 68.2792,
    x2: 157.47,
    y2: 68.2792,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React27.createElement("stop", {
    stopColor: "#FFAA9D"
  }), /* @__PURE__ */ React27.createElement("stop", {
    offset: 0.97,
    stopColor: "#FF9F91"
  })), /* @__PURE__ */ React27.createElement("linearGradient", {
    id: "paint3_linear_996_115666",
    x1: 92.0596,
    y1: 193.027,
    x2: 194.015,
    y2: 193.027,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React27.createElement("stop", {
    stopColor: "#14336D"
  }), /* @__PURE__ */ React27.createElement("stop", {
    offset: 0.97,
    stopColor: "#0E2253"
  })), /* @__PURE__ */ React27.createElement("linearGradient", {
    id: "paint4_linear_996_115666",
    x1: 124596e-10,
    y1: -203019e-9,
    x2: 179.741,
    y2: -203019e-9,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React27.createElement("stop", {
    stopColor: "#14336D"
  }), /* @__PURE__ */ React27.createElement("stop", {
    offset: 0.97,
    stopColor: "#0E2253"
  })), /* @__PURE__ */ React27.createElement("linearGradient", {
    id: "paint5_linear_996_115666",
    x1: 102.354,
    y1: 88.0153,
    x2: 122.875,
    y2: 88.0153,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React27.createElement("stop", {
    stopColor: "#FFAA9D"
  }), /* @__PURE__ */ React27.createElement("stop", {
    offset: 0.97,
    stopColor: "#FF9F91"
  })), /* @__PURE__ */ React27.createElement("linearGradient", {
    id: "paint6_linear_996_115666",
    x1: 102.285,
    y1: 120.24,
    x2: 214.8,
    y2: 120.24,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React27.createElement("stop", {
    stopColor: "#3162DF"
  }), /* @__PURE__ */ React27.createElement("stop", {
    offset: 0.96,
    stopColor: "#173DB8"
  })), /* @__PURE__ */ React27.createElement("linearGradient", {
    id: "paint7_linear_996_115666",
    x1: 100.291,
    y1: 141.145,
    x2: 163.278,
    y2: 78.1584,
    gradientUnits: "userSpaceOnUse"
  }, /* @__PURE__ */ React27.createElement("stop", {
    stopColor: "#3162DF"
  }), /* @__PURE__ */ React27.createElement("stop", {
    offset: 0.96,
    stopColor: "#173DB8"
  })), /* @__PURE__ */ React27.createElement("clipPath", {
    id: "clip0_996_115666"
  }, /* @__PURE__ */ React27.createElement("rect", {
    width: 237.964,
    height: 242,
    fill: "white"
  }))));

  // src/components/BlocksContent/BlocksContent.tsx
  var EmptyList = () => {
    return /* @__PURE__ */ React.createElement("div", {
      className: "EmptyList"
    }, /* @__PURE__ */ React.createElement(SvgEmptyTb, null), /* @__PURE__ */ React.createElement("p", {
      className: "EmptyList__Text"
    }, "Vous n'avez pas encore de contenu dans votre Thelia Blocks. Pour commencer, s\xE9lectionnez un type de contenu depuis le menu lat\xE9ral droit."));
  };
  function BlocksContent() {
    const { blockList, moveBlockTo } = useBlocksContext();
    const { DndWrapper: DndWrapper2, DndWrapElement: DndWrapElement2 } = useDragAndDrop_default();
    const onDragEnd3 = (e2) => {
      if (e2.destination) {
        moveBlockTo(e2.source.index, e2.destination.index);
      }
    };
    return /* @__PURE__ */ React.createElement("div", {
      className: "BlocksContent"
    }, blockList.length > 0 ? /* @__PURE__ */ React.createElement(DndWrapper2, {
      id: "main",
      onDragEnd: onDragEnd3
    }, blockList.map((block, index2) => /* @__PURE__ */ React.createElement(DndWrapElement2, {
      key: block.id,
      id: block.id,
      index: index2
    }, ({ DndDragHandle: DndDragHandle2 }) => /* @__PURE__ */ React.createElement(Block_default, {
      DndDragHandle: DndDragHandle2,
      key: index2,
      block
    })))) : /* @__PURE__ */ React.createElement(EmptyList, null));
  }

  // src/components/GroupLocale/GroupLocale.tsx
  var import_react40 = __toESM(require_react(), 1);
  function GroupLocale() {
    const { locales, currentLocale, setCurrentLocale } = (0, import_react40.useContext)(LocaleContext);
    return /* @__PURE__ */ React.createElement("form", {
      onSubmit: (e2) => {
        e2.preventDefault();
      },
      className: "GroupLocale__Wrapper"
    }, /* @__PURE__ */ React.createElement(Select_default, {
      placeholder: "S\xE9lectionnez",
      id: "GroupLocale-field-locale",
      onChange: (e2) => {
        setCurrentLocale(e2.target.value);
      },
      value: currentLocale,
      label: "Langue",
      info: "S\xE9lectionnez la langue de votre Thelia Blocks"
    }, /* @__PURE__ */ React.createElement("option", {
      value: "",
      disabled: true
    }, "S\xE9lectionnez"), locales.map((locale) => /* @__PURE__ */ React.createElement("option", {
      key: locale.id,
      value: locale.code
    }, locale.title))));
  }

  // src/components/GroupTitle/GroupTitle.tsx
  var import_react41 = __toESM(require_react(), 1);
  function GroupTitle() {
    const [title, setTitle] = (0, import_react41.useState)("");
    const { group, editGroup } = (0, import_react41.useContext)(BlocksGroupContext);
    (0, import_react41.useEffect)(() => {
      if (group?.title) {
        setTitle(group.title);
      }
    }, [group]);
    return /* @__PURE__ */ React.createElement("div", {
      className: "GroupTitle__Wrapper"
    }, /* @__PURE__ */ React.createElement(Text_default, {
      value: title,
      id: "GroupTitle-field-title",
      type: "text",
      label: "Nom de votre Thelia Blocks",
      placeholder: "Indiquez le nom de votre Thelia Blocks",
      info: "Ce nom sera utilis\xE9 dans le titre de votre Thelia Blocks",
      onChange: (e2) => setTitle(e2.target.value),
      onBlur: () => editGroup({ ...group, title })
    }));
  }

  // src/BlocksEditor.tsx
  var import_react_modal5 = __toESM(require_lib(), 1);

  // src/components/Sidebar/Sidebar.tsx
  var import_react42 = __toESM(require_react(), 1);

  // assets/svg/retract.svg
  var React28 = __toESM(require_react(), 1);
  var SvgRetract = (props) => /* @__PURE__ */ React28.createElement("svg", {
    width: 20,
    height: 11,
    viewBox: "0 0 20 11",
    xmlns: "http://www.w3.org/2000/svg",
    ...props
  }, /* @__PURE__ */ React28.createElement("path", {
    fillRule: "evenodd",
    fill: "currentColor",
    clipRule: "evenodd",
    d: "M15.0746 0.269592L19.7267 4.85285C19.9099 5.03045 20 5.26534 20 5.50023C20 5.73513 19.9091 5.96945 19.7274 6.14819L15.0754 10.7314C14.7119 11.0895 14.1231 11.0895 13.7597 10.7314C13.3962 10.3734 13.3962 9.79331 13.7597 9.43525L16.825 6.41689L0.904839 6.41688C0.390496 6.41688 0.000593416 6.00639 0.000593438 5.52601C0.00059346 5.04563 0.390496 4.58358 0.904839 4.58358L16.825 4.58358L13.7604 1.56436C13.397 1.20629 13.397 0.626228 13.7604 0.268158C14.1239 -0.0899086 14.7112 -0.0884742 15.0746 0.269592ZM10.7999 9.99983C10.7999 10.4416 10.4417 10.7998 9.99994 10.7998L1.0002 10.7998C0.558386 10.7998 0.200226 10.4416 0.200226 9.99983C0.200226 9.55801 0.558388 9.19985 1.0002 9.19985L9.99994 9.19985C10.4417 9.19985 10.7999 9.55801 10.7999 9.99983ZM9.99994 1.79999C10.4417 1.79999 10.7999 1.44183 10.7999 1.00001C10.7999 0.558196 10.4418 0.200034 9.99994 0.200034L1.0002 0.200033C0.558388 0.200033 0.200226 0.558195 0.200226 1.00001C0.200226 1.44182 0.558386 1.79999 1.0002 1.79999L9.99994 1.79999Z"
  }));

  // assets/svg/expand.svg
  var React29 = __toESM(require_react(), 1);
  var SvgExpand = (props) => /* @__PURE__ */ React29.createElement("svg", {
    width: 20,
    height: 11,
    viewBox: "0 0 20 11",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
    ...props
  }, /* @__PURE__ */ React29.createElement("path", {
    fillRule: "evenodd",
    fill: "currentColor",
    clipRule: "evenodd",
    d: "M4.92537 10.7304L0.27331 6.14715C0.0901356 5.96955 0 5.73466 0 5.49976C0 5.26487 0.0908623 5.03055 0.272583 4.85181L4.92465 0.26855C5.28809 -0.0895166 5.87687 -0.0895166 6.24031 0.26855C6.60375 0.626616 6.60375 1.20669 6.24031 1.56475L3.17504 4.58311H19.0952C19.6095 4.58311 19.9994 4.9936 19.9994 5.47398C19.9994 5.95437 19.6095 6.41642 19.0952 6.41642H3.17504L6.23958 9.43564C6.60303 9.7937 6.60303 10.3738 6.23958 10.7318C5.87614 11.0899 5.28882 11.0885 4.92537 10.7304ZM9.20009 1.00017C9.20009 0.558356 9.55825 0.200194 10.0001 0.200194H18.9998C19.4416 0.200194 19.7998 0.558356 19.7998 1.00017C19.7998 1.44199 19.4416 1.80015 18.9998 1.80015H10.0001C9.55825 1.80015 9.20009 1.44199 9.20009 1.00017ZM10.0001 9.20007C9.55825 9.20007 9.20009 9.55823 9.20009 10C9.20009 10.4419 9.55825 10.8 10.0001 10.8H18.9998C19.4416 10.8 19.7998 10.4419 19.7998 10C19.7998 9.55823 19.4416 9.20007 18.9998 9.20007H10.0001Z"
  }));

  // src/components/Sidebar/Sidebar.tsx
  var import_lodash = __toESM(require_lodash3(), 1);
  var AddButton2 = ({
    plugin,
    isSidebarOpen
  }) => {
    const { addBlock } = useBlocksContext();
    const Icon = plugin?.icon;
    return /* @__PURE__ */ React.createElement(tippy_react_esm_default, {
      content: /* @__PURE__ */ React.createElement(BlockTooltip_default, {
        title: plugin.title.fr_FR,
        description: plugin?.description?.fr_FR
      }),
      placement: "left",
      delay: [500, 0]
    }, /* @__PURE__ */ React.createElement("button", {
      className: `Sidebar__Add ${isSidebarOpen && plugin?.customIcon ? "Sidebar__Add--withCustomIcon" : ""} ${isSidebarOpen ? "Sidebar__Add--expanded" : "Sidebar__Add--collapsed"}`,
      onClick: () => addBlock({
        id: nanoid(),
        data: plugin.initialData,
        parent: null,
        type: { id: plugin.type.id }
      }),
      key: plugin.id
    }, isSidebarOpen && plugin?.customIcon ? plugin?.customIcon : /* @__PURE__ */ React.createElement(Icon, {
      className: "Sidebar__Add__Icon"
    }), isSidebarOpen ? /* @__PURE__ */ React.createElement(React.Fragment, null, plugin.title.fr_FR) : null));
  };
  var Sidebar = () => {
    const plugins = usePlugins();
    const [isSidebarOpen, setIsSidebarOpen] = (0, import_react42.useState)(true);
    const [isDisplayingSubMenu, setIsDisplayingSubMenu] = (0, import_react42.useState)(false);
    const [commonBlocks, layoutPlugins] = (0, import_lodash.partition)(plugins, (i3) => !i3.layout);
    const layoutPluginsByType = (0, import_lodash.groupBy)(layoutPlugins, "layout");
    const [pluginList, setPluginList] = (0, import_react42.useState)(commonBlocks || []);
    return /* @__PURE__ */ React.createElement("div", {
      className: "Sidebar"
    }, /* @__PURE__ */ React.createElement("div", {
      className: "Sidebar__Header"
    }, /* @__PURE__ */ React.createElement("button", {
      onClick: () => {
        setIsSidebarOpen(!isSidebarOpen);
        if (isDisplayingSubMenu) {
          setPluginList(commonBlocks);
          setIsDisplayingSubMenu(false);
        }
      },
      className: `${isSidebarOpen ? "Sidebar__Header__Toggle--open" : "Sidebar__Header__Toggle--closed"}`
    }, isSidebarOpen ? /* @__PURE__ */ React.createElement(SvgRetract, null) : /* @__PURE__ */ React.createElement(SvgExpand, null)), isSidebarOpen ? /* @__PURE__ */ React.createElement("span", {
      className: "Sidebar__Header__Title"
    }, "Contenus") : null), /* @__PURE__ */ React.createElement("div", {
      className: "Sidebar__Content__Wrapper"
    }, isDisplayingSubMenu && /* @__PURE__ */ React.createElement("button", {
      className: "Sidebar__Back",
      onClick: () => {
        setPluginList(commonBlocks);
        setIsDisplayingSubMenu(false);
      }
    }, /* @__PURE__ */ React.createElement("i", {
      className: "fa fa-chevron-left"
    }), /* @__PURE__ */ React.createElement("span", {
      className: "Sidebar__Back__Label"
    }, "Retour")), /* @__PURE__ */ React.createElement("ol", {
      className: "Sidebar__Content"
    }, pluginList.map((plugin) => /* @__PURE__ */ React.createElement(AddButton2, {
      plugin,
      isSidebarOpen,
      key: plugin.id
    })), !isDisplayingSubMenu && Object.entries(layoutPluginsByType).map(([layoutType, layoutPluginsByType2], index2) => {
      const LayoutIcon = layoutPluginsByType2[index2].icon;
      return /* @__PURE__ */ React.createElement(import_react42.Fragment, {
        key: index2
      }, layoutPluginsByType2.length === 1 ? /* @__PURE__ */ React.createElement(AddButton2, {
        plugin: layoutPluginsByType2[index2],
        isSidebarOpen
      }) : /* @__PURE__ */ React.createElement("button", {
        className: `Sidebar__Add ${isSidebarOpen ? "Sidebar__Add--expanded" : "Sidebar__Add--collapsed"}`,
        onClick: () => {
          setPluginList(layoutPluginsByType2);
          setIsDisplayingSubMenu(true);
          setIsSidebarOpen(true);
        }
      }, /* @__PURE__ */ React.createElement(LayoutIcon, null), isSidebarOpen ? layoutType : null));
    }))));
  };
  var Sidebar_default = Sidebar;

  // src/components/ToolBar/ToolBar.tsx
  var import_react47 = __toESM(require_react(), 1);

  // src/components/ErrorBoundary.tsx
  var import_react44 = __toESM(require_react(), 1);
  var ErrorBoundary2 = class extends import_react44.Component {
    constructor() {
      super(...arguments);
      __publicField(this, "state", {
        hasError: false
      });
    }
    static getDerivedStateFromError(_2) {
      return { hasError: true };
    }
    componentDidCatch(error2, errorInfo) {
    }
    render() {
      if (this.state.hasError) {
        console.log(this.state);
        return /* @__PURE__ */ React.createElement("h1", {
          className: "p-8 text-3xl text-red"
        }, "Une erreur est survenue");
      }
      return this.props.children;
    }
  };
  var ErrorBoundary_default = ErrorBoundary2;

  // src/components/Preview/Preview.tsx
  var import_react46 = __toESM(require_react(), 1);

  // src/components/Iframe/Iframe.tsx
  var import_react45 = __toESM(require_react(), 1);
  var Iframe = ({ content }) => {
    const ref2 = (0, import_react45.useRef)(null);
    (0, import_react45.useEffect)(() => {
      const node = ref2.current;
      if (!node)
        return;
      let doc = node.contentDocument;
      if (!doc)
        return;
      doc.open();
      doc.write(content);
      doc.close();
      node.style.width = "100%";
      if (node.contentWindow) {
        node.style.height = `70vh`;
      }
    }, [ref2, content]);
    return /* @__PURE__ */ React.createElement("iframe", {
      src: "about:blank",
      frameBorder: "0",
      ref: ref2,
      sandbox: "allow-same-origin"
    });
  };
  var Iframe_default = Iframe;

  // src/components/Preview/Preview.tsx
  var import_react_modal4 = __toESM(require_lib(), 1);
  function Preview({
    isOpen,
    setIsOpen,
    setIsPreviewLoading,
    timestamp,
    data
  }) {
    const { blockList } = useBlocksContext();
    const preview = usePreviewGroup(timestamp, JSON.stringify(data || blockList));
    (0, import_react46.useEffect)(() => {
      if (preview.isLoading) {
        return setIsPreviewLoading(true);
      }
      setIsPreviewLoading(false);
    }, [preview]);
    (0, import_react46.useEffect)(() => {
      if (timestamp) {
        setIsOpen(true);
      }
      return () => {
        setIsOpen(false);
      };
    }, [timestamp]);
    return /* @__PURE__ */ React.createElement(React.Fragment, null, !preview.isLoading ? /* @__PURE__ */ React.createElement(import_react_modal4.default, {
      onRequestClose: () => setIsOpen(false),
      isOpen,
      overlayClassName: "Overlay",
      className: "Modal-TheliaBlocks"
    }, /* @__PURE__ */ React.createElement("div", {
      className: "Preview__Modal"
    }, /* @__PURE__ */ React.createElement("button", {
      onClick: () => setIsOpen(false),
      className: "Preview__Modal__Close"
    }, /* @__PURE__ */ React.createElement("i", {
      className: "Preview__Modal__Close__Icon fa fa-xmark"
    })), /* @__PURE__ */ React.createElement("div", {
      className: "Preview__Modal__Content"
    }, /* @__PURE__ */ React.createElement("div", {
      className: "Preview__Modal__Title"
    }, "Pr\xE9visualisation de votre Thelia Blocks"), /* @__PURE__ */ React.createElement("div", {
      className: "Preview__Modal__BlocksList__Wrapper"
    }, preview.data ? /* @__PURE__ */ React.createElement(Iframe_default, {
      content: preview.data
    }) : null)))) : null);
  }

  // src/components/ToolBar/ToolBar.tsx
  var ToolBar = () => {
    const { group } = (0, import_react47.useContext)(BlocksGroupContext);
    const [showPreview, setShowPreview] = (0, import_react47.useState)(false);
    const [timestamp, setTimestamp] = (0, import_react47.useState)(0);
    const [isPreviewLoading, setIsPreviewLoading] = (0, import_react47.useState)(false);
    const { blockList } = useBlocksContext();
    const mutation = useCreateOrUpdateGroup();
    return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement("div", {
      className: "Toolbar"
    }, /* @__PURE__ */ React.createElement("button", {
      className: "Toolbar__View",
      onClick: () => {
        if (!blockList.length) {
          react_hot_toast_esm_default.error("Aucun block \xE0 afficher");
          return;
        }
        setTimestamp(Date.now());
        setShowPreview(true);
      },
      disabled: isPreviewLoading
    }, isPreviewLoading ? /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement("i", {
      className: "fa fa-circle-notch fa-spin Toolbar__View__Icon"
    }), "Chargement") : /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement("i", {
      className: "fas fa-eye Toolbar__View__Icon"
    }), "Pr\xE9visualiser")), /* @__PURE__ */ React.createElement("button", {
      className: "Toolbar__Save",
      onClick: () => {
        if (!group?.title) {
          react_hot_toast_esm_default.error("Titre manquant");
          return;
        }
        mutation.mutate({ blocks: blockList });
      }
    }, "Enregistrer")), /* @__PURE__ */ React.createElement(ErrorBoundary_default, null, /* @__PURE__ */ React.createElement(Preview, {
      isOpen: showPreview,
      setIsOpen: setShowPreview,
      setIsPreviewLoading,
      timestamp
    })));
  };
  var ToolBar_default = ToolBar;

  // src/BlocksEditor.tsx
  var BlocksEditorHeader = ({
    backlink
  }) => {
    return /* @__PURE__ */ React.createElement("div", {
      className: "BlocksEditor__Header"
    }, backlink ? /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("a", {
      href: "/admin/TheliaBlocks"
    }, "Back to BlocksList")) : null, /* @__PURE__ */ React.createElement("div", {
      className: "BlocksEditor__Header__Title"
    }, "Cr\xE9ation d'un nouveau Thelia Blocks"), /* @__PURE__ */ React.createElement("div", {
      className: "BlocksEditor__Header__Inputs__Wrapper"
    }, /* @__PURE__ */ React.createElement(GroupTitle, null), /* @__PURE__ */ React.createElement(GroupLocale, null)));
  };
  function BlocksEditor({
    apiUrl,
    containerId,
    groupId,
    itemId,
    itemType,
    locales,
    backlink = true,
    noRedirect = false
  }) {
    if (!apiUrl)
      return null;
    (0, import_react48.useLayoutEffect)(() => {
      if (containerId) {
        import_react_modal5.default.setAppElement("#" + containerId);
      }
    }, [containerId]);
    const { width } = useWindowSize_default();
    return /* @__PURE__ */ React.createElement(LocaleProvider, {
      locales
    }, /* @__PURE__ */ React.createElement(BlocksProvider, {
      api: apiUrl
    }, /* @__PURE__ */ React.createElement(import_react48.Suspense, {
      fallback: "loading"
    }, /* @__PURE__ */ React.createElement(BlocksGroupProvider, {
      groupId,
      itemType,
      itemId,
      noRedirect
    }, /* @__PURE__ */ React.createElement("div", {
      className: "BlocksEditor"
    }, /* @__PURE__ */ React.createElement(Toaster, null), /* @__PURE__ */ React.createElement("div", {
      className: "BlocksEditor__Wrapper"
    }, /* @__PURE__ */ React.createElement(BlockContextProvider, {
      root: true
    }, /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement("div", {
      className: "BlocksEditor__ContentWrapper"
    }, /* @__PURE__ */ React.createElement(BlocksEditorHeader, {
      backlink
    }), /* @__PURE__ */ React.createElement("div", {
      className: "BlocksEditor__Content"
    }, /* @__PURE__ */ React.createElement(BlocksContent, null), width < 1080 ? /* @__PURE__ */ React.createElement("div", {
      className: "BlocksEditor__AddBlocksWrapper"
    }, /* @__PURE__ */ React.createElement(AddBlocks_default, null)) : null, /* @__PURE__ */ React.createElement(ToolBar_default, null))), width > 1080 ? /* @__PURE__ */ React.createElement("div", {
      className: "Sidebar__Wrapper"
    }, /* @__PURE__ */ React.createElement(Sidebar_default, null)) : null))))))));
  }

  // src/BlocksList.tsx
  var import_react52 = __toESM(require_react(), 1);

  // src/utils/content-url.ts
  var getContentUrl = (type, id) => {
    const typeUrl = {
      folder: `/admin/folders/update/${id}`,
      content: `/admin/content/update/${id}`,
      category: `/admin/categories/update?category_id=${id}`,
      product: `/admin/products/update?product_id=${id}`
    };
    return typeUrl[type] ?? null;
  };

  // ../../node_modules/react-use/esm/useCopyToClipboard.js
  var import_copy_to_clipboard = __toESM(require_copy_to_clipboard());
  var import_react51 = __toESM(require_react());

  // ../../node_modules/react-use/esm/useMountedState.js
  var import_react49 = __toESM(require_react());
  function useMountedState() {
    var mountedRef = (0, import_react49.useRef)(false);
    var get2 = (0, import_react49.useCallback)(function() {
      return mountedRef.current;
    }, []);
    (0, import_react49.useEffect)(function() {
      mountedRef.current = true;
      return function() {
        mountedRef.current = false;
      };
    }, []);
    return get2;
  }

  // ../../node_modules/react-use/esm/useSetState.js
  var import_react50 = __toESM(require_react());
  var useSetState = function(initialState) {
    if (initialState === void 0) {
      initialState = {};
    }
    var _a = (0, import_react50.useState)(initialState), state = _a[0], set = _a[1];
    var setState = (0, import_react50.useCallback)(function(patch3) {
      set(function(prevState) {
        return Object.assign({}, prevState, patch3 instanceof Function ? patch3(prevState) : patch3);
      });
    }, []);
    return [state, setState];
  };
  var useSetState_default = useSetState;

  // ../../node_modules/react-use/esm/useCopyToClipboard.js
  var useCopyToClipboard = function() {
    var isMounted = useMountedState();
    var _a = useSetState_default({
      value: void 0,
      error: void 0,
      noUserInteraction: true
    }), state = _a[0], setState = _a[1];
    var copyToClipboard = (0, import_react51.useCallback)(function(value) {
      if (!isMounted()) {
        return;
      }
      var noUserInteraction;
      var normalizedValue;
      try {
        if (typeof value !== "string" && typeof value !== "number") {
          var error2 = new Error("Cannot copy typeof " + typeof value + " to clipboard, must be a string");
          if (true)
            console.error(error2);
          setState({
            value,
            error: error2,
            noUserInteraction: true
          });
          return;
        } else if (value === "") {
          var error2 = new Error("Cannot copy empty string to clipboard.");
          if (true)
            console.error(error2);
          setState({
            value,
            error: error2,
            noUserInteraction: true
          });
          return;
        }
        normalizedValue = value.toString();
        noUserInteraction = (0, import_copy_to_clipboard.default)(normalizedValue);
        setState({
          value: normalizedValue,
          error: void 0,
          noUserInteraction
        });
      } catch (error3) {
        setState({
          value: normalizedValue,
          error: error3,
          noUserInteraction
        });
      }
    }, []);
    return [state, copyToClipboard];
  };
  var useCopyToClipboard_default = useCopyToClipboard;

  // src/BlocksList.tsx
  var List = () => {
    const { data: groups = [] } = useGroups();
    const [copied, copyToClipboard] = useCopyToClipboard_default();
    const mutationDelete = useDeleteGroup();
    const mutationDuplicate = useDuplicateGroup();
    if (groups.length <= 0) {
      return /* @__PURE__ */ React.createElement("div", null, "No blocks to display");
    }
    return /* @__PURE__ */ React.createElement("table", {
      className: "w-full"
    }, /* @__PURE__ */ React.createElement("thead", null, /* @__PURE__ */ React.createElement("tr", null, /* @__PURE__ */ React.createElement("th", null, "ID"), /* @__PURE__ */ React.createElement("th", null, "Nom"), /* @__PURE__ */ React.createElement("th", null, "Contenus li\xE9s"), /* @__PURE__ */ React.createElement("th", null, "Langues disponibles"), /* @__PURE__ */ React.createElement("th", null, "Actions"))), /* @__PURE__ */ React.createElement("tbody", null, groups.map((group) => {
      return /* @__PURE__ */ React.createElement("tr", null, /* @__PURE__ */ React.createElement("td", null, group.id), /* @__PURE__ */ React.createElement("td", null, /* @__PURE__ */ React.createElement("a", {
        href: `/admin/TheliaBlocks/${group.id}`
      }, group.title || "No Title")), /* @__PURE__ */ React.createElement("td", {
        className: ""
      }, /* @__PURE__ */ React.createElement("div", {
        className: "flex gap-2 items-center"
      }, !!group.itemBlockGroups?.length && /* @__PURE__ */ React.createElement("span", {
        className: "text-sm font-normal text-gray-400"
      }, /* @__PURE__ */ React.createElement("i", {
        className: "fa fa-link ml-1"
      }), group.itemBlockGroups.map(({ itemId, itemType }) => {
        if (itemId && itemType) {
          return /* @__PURE__ */ React.createElement("a", {
            href: getContentUrl(itemType, itemId),
            key: `${itemType}-${itemId}`
          }, itemType, "-", itemId);
        } else {
          return /* @__PURE__ */ React.createElement("span", {
            key: `${itemType}-${itemId}`
          }, itemType, "-", itemId);
        }
      })))), /* @__PURE__ */ React.createElement("td", null, "TODO"), /* @__PURE__ */ React.createElement("td", null, /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("button", {
        onClick: () => {
          mutationDelete.mutate(group.id);
        }
      }, "delete"), /* @__PURE__ */ React.createElement("button", {
        onClick: () => {
          mutationDuplicate.mutate(group.id);
        }
      }, "duplicate"), /* @__PURE__ */ React.createElement("button", {
        type: "button",
        onClick: () => {
          const shortcode = `[block_group slug=${group.slug}]`;
          copyToClipboard(shortcode);
          react_hot_toast_esm_default(`${shortcode} copi\xE9 avec succ\xE8s`);
        }
      }, "shortcode"))));
    })));
  };
  var BlocksList = ({ apiUrl }) => {
    if (!apiUrl)
      return null;
    return /* @__PURE__ */ React.createElement(BlocksProvider, {
      api: apiUrl
    }, /* @__PURE__ */ React.createElement("div", {
      className: "BlocksList"
    }, /* @__PURE__ */ React.createElement(Toaster, null), /* @__PURE__ */ React.createElement("div", {
      className: "mb-8"
    }, /* @__PURE__ */ React.createElement("a", {
      href: "/admin/TheliaBlocks/new",
      className: "btn btn-danger "
    }, "Create new group")), /* @__PURE__ */ React.createElement(import_react52.Suspense, {
      fallback: "loading"
    }, /* @__PURE__ */ React.createElement(List, null))));
  };
  var BlocksList_default = BlocksList;
  return __toCommonJS(src_exports);
})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom-server.browser.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=index.global.js.map